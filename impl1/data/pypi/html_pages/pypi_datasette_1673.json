{
  "libtype": "pypi",
  "libname": "datasette",
  "url": "https://datasette.io/",
  "html": "<!DOCTYPE html><html lang=\"en\"><head>  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">  <title>Datasette: An open source multi-tool for exploring and publishing data</title>  <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/site.css\"><script defer data-domain=\"datasette.io\" src=\"https://plausible.io/js/plausible.js\"></script>  <link rel=\"stylesheet\" href=\"/static/lite-yt-embed.css\" />  <script src=\"/static/lite-yt-embed.js\"></script>  <meta name=\"twitter:card\" content=\"summary_large_image\">  <meta name=\"twitter:site\" content=\"@datasetteproj\">  <meta name=\"twitter:title\" content=\"Datasette\">  <meta name=\"twitter:description\" content=\"Datasette is a tool for exploring and publishing data. It helps people take data of any shape, analyze and explore it, and publish it as an interactive website and accompanying API.\">  <meta name=\"twitter:image\" content=\"https://datasette.io/static/datasette-card.png\">  <meta property=\"og:url\" content=\"https://datasette.io/\">  <meta property=\"og:type\" content=\"website\">  <meta property=\"og:title\" content=\"Datasette\">  <meta property=\"og:description\" content=\"Datasette is a tool for exploring and publishing data. It helps people take data of any shape, analyze and explore it, and publish it as an interactive website and accompanying API.\">  <meta property=\"og:image\" content=\"https://datasette.io/static/datasette-card.png\"></head><body class=\"homepage\">  <header>    <nav>      <ul>    <li><a href=\"/for\">Uses</a></li>    <li><a href=\"https://docs.datasette.io/en/stable/\"><span class=\"hide-on-narrow\">Documentation</span> <span class=\"show-on-narrow\">Docs</span></a></li>    <li><a href=\"/tutorials\"><span class=\"hide-on-narrow\">Tutorials</span></a></li>    <li><a href=\"/examples\">Examples</a></li>    <li><a href=\"/plugins\">Plugins</a></li>    <li><a href=\"/tools\">Tools</a></li>    <li><a href=\"/news\">News</a></li></ul>    </nav>    <h1>      <img class=\"datasette-logo\" src=\"/static/datasette-logo.svg\" alt=\"Datasette\">    </h1>    <p class=\"tagline\">Find stories in data</p>    <p>      <a href=\"https://pypi.org/project/datasette/\"><img alt=\"PyPI\" src=\"https://img.shields.io/pypi/v/datasette.svg\"></a>      <a href=\"https://docs.datasette.io/en/stable/changelog.html\"><img alt=\"Changelog\" src=\"https://img.shields.io/github/v/release/simonw/datasette?label=changelog\"></a>      <a href=\"https://pypi.org/project/datasette/\"><img alt=\"Python 3.x\" src=\"https://img.shields.io/pypi/pyversions/datasette.svg?logo=python&amp;logoColor=white\"></a>      <a href=\"https://github.com/simonw/datasette/blob/main/LICENSE\"><img alt=\"License\" src=\"https://img.shields.io/badge/license-Apache%202.0-blue.svg\"></a>      <a href=\"https://datasette.io/discord\"><img src=\"https://img.shields.io/discord/823971286308356157?label=discord\" alt=\"discord\"></a>      <a rel=\"me\" href=\"https://fosstodon.org/@datasette\"><img src=\"https://img.shields.io/badge/mastodon-@datasette-blueviolet\" alt=\"mastodon: @datasette\"></a>    </p>    <form action=\"/-/beta\" method=\"get\" class=\"beta-search\"><div>      <input type=\"text\" name=\"q\" placeholder=\"Search documentation, plugins, site news and releases\" style=\"min-width: 50%\">      <input type=\"submit\" value=\"Search\">    </div></form>  </header>  <main>    <div class=\"datasette-video\">      <lite-youtube videoid=\"7kDFBnXaw-c\" playlabel=\"Play: Introduction to Datasette and sqlite-utils\"></lite-youtube>      <p><a href=\"https://simonwillison.net/2021/Feb/7/video/\">Annotated version</a> of this introductory video</p>    </div>    <div class=\"about\">      <p>Datasette is a tool for exploring and publishing data. It helps people take data of any shape, analyze and explore it, and publish it as an interactive website and accompanying API.</p>      <p>Datasette is aimed at data journalists, museum curators, archivists, local governments, scientists, researchers and anyone else who has data that they wish to share with the world. It is part of a wider ecosystem of <a href=\"/tools\"><strong>46 tools</strong></a> and <a href=\"/plugins\"><strong>145 plugins</strong></a> dedicated to making working with structured data as productive as possible.</p>      <p><strong><a href=\"https://global-power-plants.datasettes.com/global-power-plants/global-power-plants\">Try a demo</a></strong> and explore 33,000 power plants around the world, then <a href=\"/tutorials/explore\">follow the tutorial</a> or take a look at <a href=\"/examples\">some other examples</a> of Datasette in action.</p>      <p>Then read how to <a href=\"https://docs.datasette.io/en/stable/getting_started.html\"><strong>get started with Datasette</strong></a>, subscribe to <a href=\"https://datasette.substack.com/\"><strong>the monthly-ish newsletter</strong></a> and consider <a href=\"https://calendly.com/swillison/datasette-office-hours\"><strong>signing up for office hours</strong></a> for an in-person conversation about the project.</p>      <p><strong>New: <a href=\"/desktop\">Datasette Desktop</a></strong> - a macOS desktop application for easily running Datasette on your own computer!</p>    </div>    <div class=\"use-cases\">      <div class=\"card\">        <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\">          <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"></line>          <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"></line>          <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"></line>        </svg>        <h2><a href=\"/for/exploratory-analysis\">Exploratory data analysis</a></h2>        <p>Import data from CSVs, JSON, database connections and more. Datasette will automatically show you patterns in your data and help you share your findings with your colleagues.</p>      </div>      <div class=\"card\">        <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\">          <polyline points=\"16 16 12 12 8 16\"></polyline>          <line x1=\"12\" y1=\"12\" x2=\"12\" y2=\"21\"></line>          <path d=\"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3\"></path>          <polyline points=\"16 16 12 12 8 16\"></polyline>        </svg>        <h2><a href=\"/for/publishing-data\">Instant data publishing</a></h2>        <p><code>datasette publish</code> lets you instantly publish your data to hosting providers like Google Cloud Run, Heroku or Vercel.</p>      </div>      <div class=\"card\">        <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-10 h-10\" viewBox=\"0 0 24 24\">          <polyline points=\"16 18 22 12 16 6\"></polyline>          <polyline points=\"8 6 2 12 8 18\"></polyline>        </svg>        <h2><a href=\"/for/rapid-prototyping\">Rapid prototyping</a></h2>        <p>Spin up a JSON API for any data in minutes. Use it to prototype and prove your ideas without building a custom backend.</p>      </div>    </div>    <div style=\"clear: both; padding-top: 2em;\" class=\"two-col-wrapper\">      <div class=\"two-col-column\">        <h2>Latest news <a style=\"text-decoration: none; padding: 0 0.3em\" href=\"/content/feed.atom\" title=\"Atom feed\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" viewBox=\"0 0 256 256\">          <defs>          <linearGradient id=\"a\" x1=\".1\" x2=\".9\" y1=\".1\" y2=\".9\">              <stop offset=\"0\" stop-color=\"#E3702D\" />              <stop offset=\".1\" stop-color=\"#EA7D31\" />              <stop offset=\".4\" stop-color=\"#F69537\" />              <stop offset=\".5\" stop-color=\"#FB9E3A\" />              <stop offset=\".7\" stop-color=\"#EA7C31\" />              <stop offset=\".9\" stop-color=\"#DE642B\" />              <stop offset=\"1\" stop-color=\"#D95B29\" />          </linearGradient>      </defs>      <rect width=\"256\" height=\"256\" fill=\"#CC5D15\" rx=\"55\" ry=\"55\" />      <rect width=\"246\" height=\"246\" x=\"5\" y=\"5\" fill=\"#F49C52\" rx=\"50\" ry=\"50\" />      <rect width=\"236\" height=\"236\" x=\"10\" y=\"10\" fill=\"url(#a)\" rx=\"47\" ry=\"47\" />      <circle cx=\"68\" cy=\"189\" r=\"24\" fill=\"#FFF\" />      <path fill=\"#FFF\" d=\"M160 213h-34a82 82 0 0 0-82-82V97a116 116 0 0 1 116 116z\" />      <path fill=\"#FFF\" d=\"M184 213A140 140 0 0 0 44 73V38a175 175 0 0 1 175 175z\" />          </svg></a></h2>                                      <h3>18th February 2024 <a href=\"/news/2024-02-18\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/latest/changelog.html#a10-2024-02-17\" rel=\"nofollow\">Datasette 1.0a10</a> is a focused alpha that changes some internal details about how Datasette handles transactions. The <code>datasette.execute_write_fn()</code> internal method now wraps the function in a database transaction unless you pass <code>transaction=False</code>.</p></div>                              <h3>16th February 2024 <a href=\"/news/2024-02-16\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/latest/changelog.html#a9-2024-02-16\" rel=\"nofollow\">Datasette 1.0a9</a> adds basic alter table support to the JSON API, tweaks how permissions works and introduces some new plugin debugging utilities.</p></div>                              <h3>7th February 2024 <a href=\"/news/2024-02-07\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/1.0a8/changelog.html#a8-2024-02-07\" rel=\"nofollow\">Datasette 1.0a8</a> introduces several new plugin hooks, a JavaScript plugin system and moves plugin configuration from <code>metadata.yaml</code> to <code>datasette.yaml</code>. Read more about the release in <a href=\"https://simonwillison.net/2024/Feb/7/datasette-1a8/\" rel=\"nofollow\">the annotated release notes for 1.0a8</a>.</p></div>                              <h3>1st December 2023 <a href=\"/news/2023-12-01\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://enrichments.datasette.io/\" rel=\"nofollow\">Datasette Enrichments</a> is a new feature for Datasette that supports enriching data by running custom code against every selected row in a table. Read <a href=\"https://simonwillison.net/2023/Dec/1/datasette-enrichments/\" rel=\"nofollow\">Datasette Enrichments: a new plugin framework for augmenting your data</a> for more details, plus a video demo of enrichments for geocoding addresses and processing text and images using GPT-4.</p></div>                              <h3>30th November 2023 <a href=\"/news/2023-11-30\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://datasette.io/plugins/datasette-comments\" rel=\"nofollow\">datasette-comments</a> is a new plugin by Alex Garcia which adds collaborative commenting to Datasette. Alex built the plugin for Datasette Cloud, but it's also available as an open source package for people who are hosting their own Datasette instances. See <a href=\"https://www.datasette.cloud/blog/2023/datasette-comments/\" rel=\"nofollow\">Annotate and explore your data with datasette-comments</a> on the Datasette Cloud blog for more details.</p></div>                              <h3>22nd August 2023 <a href=\"/news/2023-08-22\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/1.0a4/changelog.html#a4-2023-08-21\" rel=\"nofollow\">Datasette 1.0a4</a> has a fix for a security vulnerability in the Datasette 1.0 alpha series: the API explorer interface exposed the names of private databases and tables in public instances that were protected by a plugin such as <a href=\"https://datasette.io/plugins/datasette-auth-passwords\" rel=\"nofollow\">datasette-auth-passwords</a>, though not the actual content of those tables. See the <a href=\"https://github.com/simonw/datasette/security/advisories/GHSA-7ch3-7pp7-7cpq\" rel=\"nofollow\">security advisory</a> for more details and workarounds for if you can't upgrade immediately. The <a href=\"https://datasette.substack.com/p/datasette-cloud-and-the-datasette\" rel=\"nofollow\">latest edition of the Datasette Newsletter</a> also talks about this issue.</p></div>                              <h3>15th August 2023 <a href=\"/news/2023-08-15\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://www.datasette.cloud/blog/2023/datasette-write-ui/\" rel=\"nofollow\">datasette-write-ui: a Datasette plugin for editing, inserting, and deleting rows</a> introduces a new plugin adding add/edit/delete functionality to Datasette, developed by Alex Garcia. Alex built this for <a href=\"https://www.datasette.cloud/\" rel=\"nofollow\">Datasette Cloud</a>, and this post is the first announcement made on the new Datasette Cloud blog - see also <a href=\"https://www.datasette.cloud/blog/2023/welcome/\" rel=\"nofollow\">Welcome to Datasette Cloud</a>.</p></div>                              <h3>9th August 2023 <a href=\"/news/2023-08-09\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/latest/changelog.html#a3-2023-08-09\" rel=\"nofollow\">Datasette 1.0a3</a> is an alpha release of Datasette that previews the new default JSON API design that\u2019s coming in version 1.0 - the single most significant change planned for that 1.0 release.</p></div>                              <h3>1st July 2023 <a href=\"/news/2023-07-01\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p>New tutorial: <a href=\"https://datasette.io/tutorials/data-analysis\" rel=\"nofollow\">Data analysis with SQLite and Python</a>. This tutorial, originally presented at PyCon 2023, includes a 2h45m video and an extensive handout that should be useful with or without the video. Topics covered include Python's <code>sqlite3</code> module, <code>sqlite-utils</code>, Datasette, Datasette Lite, advanced SQL patterns and more.</p></div>                              <h3>24th March 2023 <a href=\"/news/2023-03-24\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://simonwillison.net/2023/Mar/24/datasette-chatgpt-plugin/\" rel=\"nofollow\">I built a ChatGPT plugin to answer questions about data hosted in Datasette</a> describes a new experimental Datasette plugin to enable people to query data hosted in a Datasette interface via ChatGPT, asking human language questions that are automatically converted to SQL and used to generate a readable response.</p></div>                              <h3>23rd February 2023 <a href=\"/news/2023-02-23\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://datasette.io/tutorials/codespaces\" rel=\"nofollow\">Using Datasette in GitHub Codespaces</a> is a new tutorial showing how Datasette can be run in GitHub's free Codespaces browser-based development environments, using the new <a href=\"https://datasette.io/plugins/datasette-codespaces\" rel=\"nofollow\">datasette-codespaces plugin</a>.</p></div>                              <h3>28th January 2023 <a href=\"/news/2023-01-28\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://datasette.io/examples\" rel=\"nofollow\">Examples of sites built using Datasette</a> now includes screenshots of Datasette deployments that illustrate a variety of problems that can be addressed using Datasette and its plugins.</p></div>                              <h3>13th January 2023 <a href=\"/news/2023-01-13\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://simonwillison.net/2023/Jan/13/semantic-search-answers/\" rel=\"nofollow\">Semantic search answers: Q&amp;A against documentation with GPT3 + OpenAI embeddings</a> shows how Datasette can be used to implement semantic search and build a system for answering questions against an existing corpus of text, using two new plugins: <a href=\"https://datasette.io/plugins/datasette-openai\" rel=\"nofollow\">datasette-openai</a> and <a href=\"https://datasette.io/plugins/datasette-faiss\" rel=\"nofollow\">datasette-faiss</a>, and a new tool: <a href=\"https://datasette.io/tools/openai-to-sqlite\" rel=\"nofollow\">openai-to-sqlite</a>.</p></div>                              <h3>9th January 2023 <a href=\"/news/2023-01-09\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://docs.datasette.io/en/stable/changelog.html#v0-64\" rel=\"nofollow\">Datasette 0.64</a> is out, and includes <a href=\"https://docs.datasette.io/en/stable/spatialite.html#warning\" rel=\"nofollow\">a strong warning</a> against running SpatiaLite in production without disabling arbitrary SQL queries, plus a new <a href=\"https://docs.datasette.io/en/stable/settings.html#setting-default-allow-sql\" rel=\"nofollow\">--setting default_allow_sql off</a> setting to make it easier to do that. See <a href=\"https://simonwillison.net/2023/Jan/9/datasette-064/\" rel=\"nofollow\">Datasette 0.64, with a warning about SpatiaLite</a> for more about this release. A new tutorial, <a href=\"https://datasette.io/tutorials/spatialite\" rel=\"nofollow\">Building a location to time zone API with SpatiaLite</a>, describes how to safely use SpatiaLite and Datasette to build and deploy an API for looking up time zones for a latitude/longitude location.</p></div>                              <h3>15th December 2022 <a href=\"/news/2022-12-15\" style=\"font-size: 0.8em; opacity: 0.4\">#</a></h3>                                <div style=\"white-space: normal\"><p><a href=\"https://simonwillison.net/2022/Dec/15/datasette-1a2/\" rel=\"nofollow\">Datasette 1.0a2: Upserts and finely grained permissions</a> describes the new upsert API and much improved permissions capabilities introduced in the latest <a href=\"https://docs.datasette.io/en/latest/changelog.html#a2-2022-12-14\" rel=\"nofollow\">Datasette 1.0a2 alpha</a> release.</p></div>                <p><a href=\"/news\">All news</a></p>      </div>      <div class=\"two-col-column\">        <h2>Latest releases</h2>                                      <h3>25th February 2024</h3>                                <h4><a href=\"https://pypi.org/project/dclient/\">dclient 0.3</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - A client CLI utility for Datasette instances</span>                          </h4>                                          <h3>20th February 2024</h3>                                <h4><a href=\"https://github.com/datasette/datasette-events-forward/releases/tag/0.1a1\">datasette-events-forward 0.1a1</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Forward Datasette events to another instance</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Silently ignore events if <code>api_url</code> has not been configured, rather than accumulating them in the <code>datasette_events_to_forward</code> table. <a href=\"https://github.com/datasette/datasette-events-forward/issues/2\" rel=\"nofollow\">#2</a></li><li>Events are now deleted from <code>datasette_events_to_forward</code> as soon as they have been delivired. <a href=\"https://github.com/datasette/datasette-events-forward/issues/3\" rel=\"nofollow\">#3</a></li></ul></div>                                        <h4><a href=\"https://github.com/datasette/datasette-events-forward/releases/tag/0.1a0\">datasette-events-forward 0.1a0</a>            </h4>                          <div style=\"white-space: normal\"><ul><li>Initial implementation. Forwards tracked events to another Datasette instance via the JSON Write API. <a href=\"https://github.com/datasette/datasette-events-forward/issues/1\" rel=\"nofollow\">#1</a></li></ul></div>                                        <h4><a href=\"https://github.com/simonw/datasette-auth-tokens/releases/tag/0.4a9\">datasette-auth-tokens 0.4a9</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Datasette plugin for authenticating access using API tokens</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Fixed a bug where the heading \"Specific tables in specific databases\" showed even for databases with no tables. <a href=\"https://github.com/simonw/datasette-auth-tokens/issues/32\" rel=\"nofollow\">#32</a></li></ul></div>                                          <h3>19th February 2024</h3>                                <h4><a href=\"https://github.com/simonw/datasette/releases/tag/1.0a11\">datasette 1.0a11</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - An open source multi-tool for exploring and publishing data</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>The <code>\"replace\": true</code> argument to the <code>/db/table/-/insert</code> API now requires the actor to have the <code>update-row</code> permission. (<a href=\"https://github.com/simonw/datasette/issues/2279\" rel=\"nofollow\">#2279</a>)</li><li>Fixed some UI bugs in the interactive permissions debugging tool. (<a href=\"https://github.com/simonw/datasette/issues/2278\" rel=\"nofollow\">#2278</a>)</li><li>The column action menu now aligns better with the cog icon, and positions itself taking into account the width of the browser window. (<a href=\"https://github.com/simonw/datasette/issues/2263\" rel=\"nofollow\">#2263</a>)</li></ul></div>                                          <h3>18th February 2024</h3>                                <h4><a href=\"https://github.com/simonw/datasette-edit-schema/releases/tag/0.8a0\">datasette-edit-schema 0.8a0</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Datasette plugin for modifying table schemas</span>                          </h4>                          <div style=\"white-space: normal\"><p>This release introduces support for finely grained per-database and per-table permissions, plus integration with the new <a href=\"https://docs.datasette.io/en/latest/events.html\" rel=\"nofollow\">Datasette Events</a> mechanism added in Datasette 1.0a8.</p><ul><li>This release requires Datasette 1.0a9 or higher.</li><li>Finely grained permissions: the <code>edit-schema</code> permission is still supported, but you can also control access to this plugin using the <code>create-table</code>, <code>drop-table</code> and <code>alter-table</code> permissions from Datasette core. These can be used to control access on a per-table and per-database level. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/22\" rel=\"nofollow\">#22</a>, <a href=\"https://github.com/simonw/datasette-edit-schema/issues/55\" rel=\"nofollow\">#55</a></li><li>Now tracks <code>create-table</code>, <code>alter-table</code> and <code>drop-table</code> events using the new <a href=\"https://docs.datasette.io/en/latest/events.html\" rel=\"nofollow\">Datasette Events</a> system introduced in Datasette 1.0a8. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/50\" rel=\"nofollow\">#50</a></li><li>Primary keys can now also be set as foreign keys, useful for many-to-many relationship tables. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/52\" rel=\"nofollow\">#52</a></li><li>Now runs <code>VACUUM</code> using <code>db.execute_isolated_fn()</code> to avoid being caught out by any connection permission handlers. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/47\" rel=\"nofollow\">#47</a></li><li>Tightened up display on mobile screens. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/45\" rel=\"nofollow\">#45</a></li><li>Fixed a bug where the SQL schema for a table was not shown correctly on the edit schema page. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/49\" rel=\"nofollow\">#49</a></li><li>Fixed a 500 error if a table only consists of primary keys. <a href=\"https://github.com/simonw/datasette-edit-schema/issues/51\" rel=\"nofollow\">#51</a></li></ul></div>                                        <h4><a href=\"https://github.com/datasette/datasette-unsafe-actor-debug/releases/tag/0.2\">datasette-unsafe-actor-debug 0.2</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Debug plugin that lets you imitate any actor</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Plugin is now disabled unless you explicitly configure it. <a href=\"https://github.com/datasette/datasette-unsafe-actor-debug/issues/3\" rel=\"nofollow\">#2</a></li></ul><p>Use this in your settings:  <code>yaml  plugins:    datasette-unsafe-actor-debug:      enabled: true</code>  Or with Datasette 1.0 alpha start <code>datasette</code> with the following:  <code>bash   datasette -s plugins.datasette-unsafe-actor-debug.enabled 1</code>- If enabled, the plugin now adds a link to the debug tool in the Datasette navigation menu. <a href=\"https://github.com/datasette/datasette-unsafe-actor-debug/issues/3\" rel=\"nofollow\">#3</a></p></div>                                        <h4><a href=\"https://github.com/datasette/datasette-unsafe-actor-debug/releases/tag/0.1\">datasette-unsafe-actor-debug 0.1</a>            </h4>                          <div style=\"white-space: normal\"><ul><li>Initial plugin. Adds a <code>/-/unsafe-actor</code> debug page for imitating any actor. <a href=\"https://github.com/datasette/datasette-unsafe-actor-debug/issues/1\" rel=\"nofollow\">#1</a></li></ul></div>                                        <h4><a href=\"https://github.com/simonw/datasette/releases/tag/1.0a10\">datasette 1.0a10</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - An open source multi-tool for exploring and publishing data</span>                          </h4>                          <div style=\"white-space: normal\"><p>The only changes in this alpha correspond to the way Datasette handles database transactions. (<a href=\"https://github.com/simonw/datasette/issues/2277\" rel=\"nofollow\">#2277</a>)</p><ul><li>The <a href=\"https://docs.datasette.io/en/latest/internals.html#database-execute-write-fn\" rel=\"nofollow\">database.execute_write_fn()</a> method has a new <code>transaction=True</code> parameter. This defaults to <code>True</code> which means all functions executed using this method are now automatically wrapped in a transaction - previously the functions needed to roll transaction handling on their own, and many did not.</li><li>Pass <code>transaction=False</code> to <code>execute_write_fn()</code> if you want to manually handle transactions in your function.</li><li>Several internal Datasette features, including parts of the <a href=\"https://docs.datasette.io/en/latest/json_api.html#json-api-write\" rel=\"nofollow\">JSON write API</a>, had been failing to wrap their operations in a transaction. This has been fixed by the new <code>transaction=True</code> default.</li></ul></div>                                          <h3>16th February 2024</h3>                                <h4><a href=\"https://github.com/simonw/datasette/releases/tag/1.0a9\">datasette 1.0a9</a>            </h4>                          <div style=\"white-space: normal\"><p>This alpha release adds basic alter table support to the Datasette Write API and fixes a permissions bug relating to the <code>/upsert</code> API endpoint.</p><h5>Alter table support for create, insert, upsert and update</h5><p>The <a href=\"https://docs.datasette.io/en/latest/json_api.html#json-api-write\" rel=\"nofollow\">JSON write API</a> can now be used to apply simple alter table schema changes, provided the acting actor has the new <a href=\"https://docs.datasette.io/en/latest/authentication.html#permissions-alter-table\" rel=\"nofollow\">alter-table</a> permission. (<a href=\"https://github.com/simonw/datasette/issues/2101\" rel=\"nofollow\">#2101</a>)</p><p>The only alter operation supported so far is adding new columns to an existing table.</p><ul><li>The <a href=\"https://docs.datasette.io/en/latest/json_api.html#tablecreateview\" rel=\"nofollow\">/db/-/create</a> API now adds new columns during large operations to create a table based on incoming example <code>\"rows\"</code>, in the case where one of the later rows includes columns that were not present in the earlier batches. This requires the <code>create-table</code> but not the <code>alter-table</code> permission.</li><li>When <code>/db/-/create</code> is called with rows in a situation where the table may have been already created, an <code>\"alter\": true</code> key can be included to indicate that any missing columns from the new rows should be added to the table. This requires the <code>alter-table</code> permission.</li><li><a href=\"https://docs.datasette.io/en/latest/json_api.html#tableinsertview\" rel=\"nofollow\">/db/table/-/insert</a> and <a href=\"https://docs.datasette.io/en/latest/json_api.html#tableupsertview\" rel=\"nofollow\">/db/table/-/upsert</a> and <a href=\"https://docs.datasette.io/en/latest/json_api.html#rowupdateview\" rel=\"nofollow\">/db/table/row-pks/-/update</a> all now also accept <code>\"alter\": true</code>, depending on the <code>alter-table</code> permission.</li></ul><p>Operations that alter a table now fire the new <a href=\"https://docs.datasette.io/en/latest/events.html#events\" rel=\"nofollow\">alter-table event</a>.</p><h5>Permissions fix for the upsert API</h5><p>The <a href=\"https://docs.datasette.io/en/latest/json_api.html#tableupsertview\" rel=\"nofollow\">/database/table/-/upsert API</a> had a minor permissions bug, only affecting Datasette instances that had configured the <code>insert-row</code> and <code>update-row</code> permissions to apply to a specific table rather than the database or instance as a whole. Full details in issue <a href=\"https://github.com/simonw/datasette/issues/2262\" rel=\"nofollow\">#2262</a>.</p><p>To avoid similar mistakes in the future the <a href=\"https://docs.datasette.io/en/latest/internals.html#datasette-permission-allowed\" rel=\"nofollow\">datasette.permission_allowed()</a> method now specifies <code>default=</code> as a keyword-only argument.</p><h5>Permission checks now consider opinions from every plugin</h5><p>The <a href=\"https://docs.datasette.io/en/latest/internals.html#datasette-permission-allowed\" rel=\"nofollow\">datasette.permission_allowed()</a> method previously consulted every plugin that implemented the <a href=\"https://docs.datasette.io/en/latest/plugin_hooks.html#plugin-hook-permission-allowed\" rel=\"nofollow\">permission_allowed()</a> plugin hook and obeyed the opinion of the last plugin to return a value. (<a href=\"https://github.com/simonw/datasette/issues/2275\" rel=\"nofollow\">#2275</a>)</p><p>Datasette now consults every plugin and checks to see if any of them returned <code>False</code> (the veto rule), and if none of them did, it then checks to see if any of them returned <code>True</code>.</p><p>This is explained at length in the new documentation covering <a href=\"https://docs.datasette.io/en/latest/authentication.html#authentication-permissions-explained\" rel=\"nofollow\">How permissions are resolved</a>.</p><h5>Other changes</h5><ul><li>The new <a href=\"https://docs.datasette.io/en/latest/writing_plugins.html#writing-plugins-tracing\" rel=\"nofollow\">DATASETTE_TRACE_PLUGINS=1 environment variable</a> turns on detailed trace output for every executed plugin hook, useful for debugging and understanding how the plugin system works at a low level. (<a href=\"https://github.com/simonw/datasette/issues/2274\" rel=\"nofollow\">#2274</a>)</li><li>Datasette on Python 3.9 or above marks its non-cryptographic uses of the MD5 hash function as <code>usedforsecurity=False</code>, for compatibility with FIPS systems. (<a href=\"https://github.com/simonw/datasette/issues/2270\" rel=\"nofollow\">#2270</a>)</li><li>SQL relating to <a href=\"https://docs.datasette.io/en/latest/internals.html#internals-internal\" rel=\"nofollow\">Datasette's internal database</a> now executes inside a transaction, avoiding a potential database locked error. (<a href=\"https://github.com/simonw/datasette/issues/2273\" rel=\"nofollow\">#2273</a>)</li><li>The <code>/-/threads</code> debug page now identifies the database in the name associated with each dedicated write thread. (<a href=\"https://github.com/simonw/datasette/issues/2265\" rel=\"nofollow\">#2265</a>)</li><li>The <code>/db/-/create</code> API now fires a <code>insert-rows</code> event if rows were inserted after the table was created. (<a href=\"https://github.com/simonw/datasette/issues/2260\" rel=\"nofollow\">#2260</a>)</li></ul></div>                                        <h4><a href=\"https://github.com/datasette/datasette-enrichments-opencage/releases/tag/0.1.1\">datasette-enrichments-opencage 0.1.1</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Geocoding enrichment using OpenCage</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Run insert SQL queries inside a transaction. <a href=\"https://github.com/datasette/datasette-enrichments-opencage/issues/5\" rel=\"nofollow\">#5</a></li></ul></div>                                          <h3>14th February 2024</h3>                                <h4><a href=\"https://github.com/simonw/datasette-auth-tokens/releases/tag/0.4a8\">datasette-auth-tokens 0.4a8</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Datasette plugin for authenticating access using API tokens</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Fix for intermittent <code>database is locked</code> bug in managed tokens mode. <a href=\"https://github.com/simonw/datasette-auth-tokens/issues/30\" rel=\"nofollow\">#30</a></li></ul></div>                                          <h3>9th February 2024</h3>                                <h4><a href=\"https://github.com/datasette/datasette-enrichments-quickjs/releases/tag/0.1a0\">datasette-enrichments-quickjs 0.1a0</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Enrich data with a custom JavaScript function</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Initial release. Enrich data using a custom JavaScript function. <a href=\"https://github.com/datasette/datasette-enrichments-quickjs/issues/1\" rel=\"nofollow\">#1</a></li></ul></div>                                          <h3>8th February 2024</h3>                                <h4><a href=\"https://github.com/datasette/datasette-events-db/releases/tag/0.1a0\">datasette-events-db 0.1a0</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - Log Datasette events to a database table</span>                          </h4>                          <div style=\"white-space: normal\"><ul><li>Initial plugin. Logs all events to a <code>datasette_events</code> table. <a href=\"https://github.com/datasette/datasette-events-db/issues/1\" rel=\"nofollow\">#1</a></li></ul></div>                                          <h3>7th February 2024</h3>                                <h4><a href=\"https://github.com/simonw/datasette/releases/tag/1.0a8\">datasette 1.0a8</a>                          <span style=\"font-weight: normal; color: #666; font-size: 0.9em;\"> - An open source multi-tool for exploring and publishing data</span>                          </h4>                          <div style=\"white-space: normal\"><p>This alpha release continues the migration of Datasette's configuration from <code>metadata.yaml</code> to the new <code>datasette.yaml</code> configuration file, introduces a new system for JavaScript plugins and adds several new plugin hooks.</p><p>See <a href=\"https://simonwillison.net/2024/Feb/7/datasette-1a8/\" rel=\"nofollow\">Datasette 1.0a8: JavaScript plugins, new plugin hooks and plugin configuration in datasette.yaml</a> for an annotated version of these release notes.</p><h5>Configuration</h5><ul><li>Plugin configuration now lives in the <a href=\"https://docs.datasette.io/en/1.0a8/configuration.html#configuration\" rel=\"nofollow\">datasette.yaml configuration file</a>, passed to Datasette using the <code>-c/--config</code> option. Thanks, Alex Garcia. (<a href=\"https://github.com/simonw/datasette/issues/2093\" rel=\"nofollow\">#2093</a>)    <code>bash    datasette  -c  datasette.yaml</code>    Where <code>datasette.yaml</code> contains configuration that looks like this:    <code>yaml    plugins:      datasette-cluster-map:        latitude_column: xlat        longitude_column: xlon</code></li><li><p>Previously plugins were configured in <code>metadata.yaml</code>, which was confusing as plugin settings were unrelated to database and table metadata.</p></li><li><p>The <code>-s/--setting</code> option can now be used to set plugin configuration as well. See <a href=\"https://docs.datasette.io/en/1.0a8/configuration.html#configuration-cli\" rel=\"nofollow\">Configuration via the command-line</a> for details. (<a href=\"https://github.com/simonw/datasette/issues/2252\" rel=\"nofollow\">#2252</a>)</p><p>The above YAML configuration example using <code>-s/--setting</code> looks like this:<code>bashdatasette  mydatabase.db\\  -s  plugins.datasette-cluster-map.latitude_column  xlat\\  -s  plugins.datasette-cluster-map.longitude_column  xlon</code>-   The new <code>/-/config</code> page shows the current instance configuration, after redacting keys that could contain sensitive data such as API keys or passwords. (<a href=\"https://github.com/simonw/datasette/issues/2254\" rel=\"nofollow\">#2254</a>)</p></li><li><p>Existing Datasette installations may already have configuration set in <code>metadata.yaml</code> that should be migrated to <code>datasette.yaml</code>. To avoid breaking these installations, Datasette will silently treat table configuration, plugin configuration and allow blocks in metadata as if they had been specified in configuration instead. (<a href=\"https://github.com/simonw/datasette/issues/2247\" rel=\"nofollow\">#2247</a>) (<a href=\"https://github.com/simonw/datasette/issues/2248\" rel=\"nofollow\">#2248</a>) (<a href=\"https://github.com/simonw/datasette/issues/2249\" rel=\"nofollow\">#2249</a>)</p></li></ul><p>Note that the <code>datasette publish</code> command has not yet been updated to accept a <code>datasette.yaml</code> configuration file. This will be addressed in <a href=\"https://github.com/simonw/datasette/issues/2195\" rel=\"nofollow\">#2195</a> but for the moment you can include those settings in <code>metadata.yaml</code> instead.</p><h5>JavaScript plugins</h5><p>Datasette now includes a <a href=\"https://docs.datasette.io/en/1.0a8/javascript_plugins.html#javascript-plugins\" rel=\"nofollow\">JavaScript plugins mechanism</a>, allowing JavaScript to customize Datasette in a way that can collaborate with other plugins.</p><p>This provides two initial hooks, with more to come in the future:</p><ul><li><p><a href=\"https://docs.datasette.io/en/1.0a8/javascript_plugins.html#javascript-plugins-makeabovetablepanelconfigs\" rel=\"nofollow\">makeAboveTablePanelConfigs()</a> can add additional panels to the top of the table page.</p></li><li><p><a href=\"https://docs.datasette.io/en/1.0a8/javascript_plugins.html#javascript-plugins-makecolumnactions\" rel=\"nofollow\">makeColumnActions()</a> can add additional actions to the column menu.</p></li></ul><p>Thanks <a href=\"https://github.com/hydrosquall\" rel=\"nofollow\">Cameron Yick</a> for contributing this feature. (<a href=\"https://github.com/simonw/datasette/pull/2052\" rel=\"nofollow\">#2052</a>)</p><h5>Plugin hooks</h5><ul><li><p>New <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-hook-jinja2-environment-from-request\" rel=\"nofollow\">jinja2_environment_from_request(datasette, request, env)</a> plugin hook, which can be used to customize the current Jinja environment based on the incoming request. This can be used to modify the template lookup path based on the incoming request hostname, among other things. (<a href=\"https://github.com/simonw/datasette/issues/2225\" rel=\"nofollow\">#2225</a>)</p></li><li><p>New <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-hook-slots\" rel=\"nofollow\">family of template slot plugin hooks</a>: <code>top_homepage</code>, <code>top_database</code>, <code>top_table</code>, <code>top_row</code>, <code>top_query</code>, <code>top_canned_query</code>. Plugins can use these to provide additional HTML to be injected at the top of the corresponding pages. (<a href=\"https://github.com/simonw/datasette/issues/1191\" rel=\"nofollow\">#1191</a>)</p></li><li><p>New <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-event-tracking\" rel=\"nofollow\">track_event() mechanism</a> for plugins to emit and receive events when certain events occur within Datasette. (<a href=\"https://github.com/simonw/datasette/issues/2240\" rel=\"nofollow\">#2240</a>)</p><ul><li><p>Plugins can register additional event classes using <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-hook-register-events\" rel=\"nofollow\">register_events(datasette)</a>.</p></li><li><p>They can then trigger those events with the <a href=\"https://docs.datasette.io/en/1.0a8/internals.html#datasette-track-event\" rel=\"nofollow\">datasette.track_event(event)</a> internal method.</p></li><li><p>Plugins can subscribe to notifications of events using the <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-hook-track-event\" rel=\"nofollow\">track_event(datasette, event)</a> plugin hook.</p></li><li><p>Datasette core now emits <code>login</code>, <code>logout</code>, <code>create-token</code>, <code>create-table</code>, <code>drop-table</code>, <code>insert-rows</code>, <code>upsert-rows</code>, <code>update-row</code>, <code>delete-row</code> events, <a href=\"https://docs.datasette.io/en/1.0a8/events.html#events\" rel=\"nofollow\">documented here</a>.</p></li></ul></li><li><p>New internal function for plugin authors: <a href=\"https://docs.datasette.io/en/1.0a8/internals.html#database-execute-isolated-fn\" rel=\"nofollow\">await db.execute_isolated_fn(fn)</a>, for creating a new SQLite connection, executing code and then closing that connection, all while preventing other code from writing to that particular database. This connection will not have the <a href=\"https://docs.datasette.io/en/1.0a8/plugin_hooks.html#plugin-hook-prepare-connection\" rel=\"nofollow\">prepare_connection()</a> plugin hook executed against it, allowing plugins to perform actions that might otherwise be blocked by existing connection configuration. (<a href=\"https://github.com/simonw/datasette/issues/2218\" rel=\"nofollow\">#2218</a>)</p></li></ul><h5>Documentation</h5><ul><li><p>Documentation describing <a href=\"https://docs.datasette.io/en/1.0a8/testing_plugins.html#testing-datasette-client\" rel=\"nofollow\">how to write tests that use signed actor cookies</a> using <code>datasette.client.actor_cookie()</code>. (<a href=\"https://github.com/simonw/datasette/issues/1830\" rel=\"nofollow\">#1830</a>)</p></li><li><p>Documentation on how to <a href=\"https://docs.datasette.io/en/1.0a8/testing_plugins.html#testing-plugins-register-in-test\" rel=\"nofollow\">register a plugin for the duration of a test</a>. (<a href=\"https://github.com/simonw/datasette/issues/2234\" rel=\"nofollow\">#2234</a>)</p></li><li><p>The <a href=\"https://docs.datasette.io/en/1.0a8/configuration.html#configuration\" rel=\"nofollow\">configuration documentation</a> now shows examples of both YAML and JSON for each setting.</p></li></ul><h5>Minor fixes</h5><ul><li><p>Datasette no longer attempts to run SQL queries in parallel when rendering a table page, as this was leading to some rare crashing bugs. (<a href=\"https://github.com/simonw/datasette/issues/2189\" rel=\"nofollow\">#2189</a>)</p></li><li><p>Fixed warning: <code>DeprecationWarning: pkg_resources is deprecated as an API</code> (<a href=\"https://github.com/simonw/datasette/issues/2057\" rel=\"nofollow\">#2057</a>)</p></li><li><p>Fixed bug where <code>?_extra=columns</code> parameter returned an incorrectly shaped response. (<a href=\"https://github.com/simonw/datasette/issues/2230\" rel=\"nofollow\">#2230</a>)</p></li></ul></div>                            <p><a href=\"/content/recent_releases\">All releases</a></p>      </div>    </div>  </main>  <footer>Powered by <a href=\"https://datasette.io/\" title=\"Datasette v1.0a2\">Datasette</a>  &middot; <a href=\"https://github.com/simonw/datasette.io\">How this site works</a>  &middot; <a href=\"https://github.com/simonw/datasette/blob/main/CODE_OF_CONDUCT.md\">Code of conduct</a></footer>  <a href=\"https://github.com/simonw/datasette\" class=\"github-corner\" aria-label=\"datasette on GitHub\">    <svg width=\"80\" height=\"80\"      viewBox=\"0 0 250 250\"      style=\"fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;\" aria-hidden=\"true\"  ><path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>  <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"></path>  <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"></path>  </svg></a></body></html>",
  "embeddings": []
}