{
  "libtype": "pypi",
  "libname": "c7n-mailer",
  "url": "https://pypi.org/project/c7n-mailer/",
  "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\">  <head>    <meta charset=\"utf-8\">    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">    <meta name=\"defaultLanguage\" content=\"en\">    <meta name=\"availableLanguages\" content=\"en, es, fr, ja, pt_BR, uk, el, de, zh_Hans, zh_Hant, ru, he, eo\">    <title>c7n-mailer \u00b7 PyPI</title>    <meta name=\"description\" content=\"Cloud Custodian - Reference Mailer\">    <link rel=\"stylesheet\" href=\"/static/css/warehouse-ltr.99b3104d.css\">    <link rel=\"stylesheet\" href=\"/static/css/fontawesome.b50b476c.css\">    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Source+Sans+3:400,400italic,600,600italic,700,700italic%7CSource+Code+Pro:500\">    <noscript>      <link rel=\"stylesheet\" href=\"/static/css/noscript.0673c9ea.css\">    </noscript>    <link rel=\"icon\" href=\"/static/images/favicon.35549fe8.ico\" type=\"image/x-icon\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 latest updates\" href=\"/rss/updates.xml\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 newest packages\" href=\"/rss/packages.xml\"><link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: latest releases for c7n-mailer\" href=\"/rss/project/c7n-mailer/releases.xml\">    <link rel=\"canonical\" href=\"https://pypi.org/project/c7n-mailer/\">    <meta property=\"og:url\" content=\"https://pypi.org/project/c7n-mailer/\">    <meta property=\"og:site_name\" content=\"PyPI\">    <meta property=\"og:type\" content=\"website\">    <meta property=\"og:image\" content=\"https://pypi.org/static/images/twitter.abaf4b19.webp\">    <meta property=\"og:title\" content=\"c7n-mailer\">    <meta property=\"og:description\" content=\"Cloud Custodian - Reference Mailer\">    <link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"PyPI\" href=\"/opensearch.xml\">    <script asyncdata-ga-id=\"UA-55961911-1\"data-ga4-id=\"G-RW7D75DF8V\"            src=\"/static/js/warehouse.dd4295c4.js\">    </script><script>MathJax = {  tex: {    inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]  },};</script><script async  src=\"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-svg.js\"  integrity=\"sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=\"  crossorigin=\"anonymous\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-55961911-1\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=G-RW7D75DF8V\"></script><script defer src=\"https://www.fastly-insights.com/insights.js?k=6a52360a-f306-421e-8ed5-7417d0d4a4e9&dnt=true\"></script>    <script async        src=\"https://media.ethicalads.io/media/client/v1.4.0/ethicalads.min.js\"        integrity=\"sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0= sha384-UcmsCqcNRSLW/dV3Lo1oCi2/VaurXbib6p4HyUEOeIa/4OpsrnucrugAefzVZJfI sha512-q4t1L4xEjGV2R4hzqCa41P8jrgFUS8xTb8rdNv4FGvw7FpydVj/kkxBJHOiaoxHa8olCcx1Slk9K+3sNbsM4ug==\"        crossorigin=\"anonymous\"    ></script>  </head>  <body data-controller=\"viewport-toggle\">    <!-- Accessibility: this link should always be the first piece of content inside the body-->    <a href=\"#content\" class=\"skip-to-content\">Skip to main content</a>    <button type=\"button\" class=\"button button--primary button--switch-to-mobile hidden\" data-viewport-toggle-target=\"switchToMobile\" data-action=\"viewport-toggle#switchToMobile\">Switch to mobile version    </button>    <div id=\"sticky-notifications\" class=\"stick-to-top js-stick-to-top\">      <!-- Add browser warning. Will show for ie9 and below -->      <!--[if IE]>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">You are using an unsupported browser, upgrade to a newer version.</span>      </div>      <![endif]-->      <noscript>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">Some features may not work without JavaScript. Please try enabling it if you encounter problems.</span>      </div>      </noscript><div data-html-include=\"/_includes/notification-banners/\"></div>    </div><div data-html-include=\"/_includes/flash-messages/\"></div><div data-html-include=\"/_includes/session-notifications/\"></div>    <header class=\"site-header \">      <div class=\"site-container\">        <div class=\"split-layout\">          <div class=\"split-layout\">            <div>              <a class=\"site-header__logo\" href=\"/\">                <img alt=\"PyPI\" src=\"/static/images/logo-small.2a411bc6.svg\">              </a>            </div>            <form class=\"search-form search-form--primary\" action=\"/search/\" role=\"search\">              <label for=\"search\" class=\"sr-only\">Search PyPI</label>              <input id=\"search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-controller=\"search-focus\" data-action=\"keydown@window->search-focus#focusSearchField\" data-search-focus-target=\"searchField\">              <button type=\"submit\" class=\"search-form__button\">                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>                <span class=\"sr-only\">Search</span>              </button>            </form>          </div><div data-html-include=\"/_includes/current-user-indicator/\">            <div id=\"user-indicator\" class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall\">  <nav class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall hide-on-tablet\" aria-label=\"Main navigation\">    <ul>      <li class=\"horizontal-menu__item\"><a href=\"/help/\" class=\"horizontal-menu__link\">Help</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/sponsors/\" class=\"horizontal-menu__link\">Sponsors</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/login/\" class=\"horizontal-menu__link\">Log in</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/register/\" class=\"horizontal-menu__link\">Register</a></li>    </ul>  </nav>  <nav class=\"dropdown dropdown--on-menu hidden show-on-tablet\" aria-label=\"Main navigation\">    <button type=\"button\" class=\"horizontal-menu__link dropdown__trigger\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-label=\"View menu\">Menu      <span class=\"dropdown__trigger-caret\">        <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>      </span>    </button>    <ul class=\"dropdown__content\" aria-hidden=\"true\" aria-label=\"Main menu\">      <li><a class=\"dropdown__link\" href=\"/help/\">Help</a></li>      <li><a class=\"dropdown__link\" href=\"/sponsors/\">Sponsors</a></li>      <li><a class=\"dropdown__link\" href=\"/account/login/\">Log in</a></li>      <li><a class=\"dropdown__link\" href=\"/account/register/\">Register</a></li>    </ul>  </nav></div></div>        </div>      </div>    </header>    <div class=\"mobile-search\">      <form class=\"search-form search-form--fullwidth\" action=\"/search/\" role=\"search\">        <label for=\"mobile-search\" class=\"sr-only\">Search PyPI</label>        <input id=\"mobile-search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\">                <button type=\"submit\" class=\"search-form__button\">          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Search</span>        </button>      </form>    </div>    <main id=\"content\"><div class=\"hidden\"  data-controller=\"github-repo-stats\"  data-github-repo-stats-github-repo-info-outlet=\".github-repo-info\"  data-github-repo-stats-url-value=\"https://api.github.com/repos/cloud-custodian/cloud-custodian\"  data-github-repo-stats-issue-url-value=\"https://api.github.com/search/issues?q=repo:cloud-custodian/cloud-custodian+type:issue+state:open&amp;per_page=1\"></div><div class=\"banner\">  <div class=\"package-header\">    <div class=\"package-header__left\">      <h1 class=\"package-header__name\">        c7n-mailer 0.6.33      </h1>      <div data-controller=\"clipboard\">        <p class=\"package-header__pip-instructions\">          <span id=\"pip-command\" data-clipboard-target=\"source\">pip install c7n-mailer</span>          <button type=\"button\" class=\"copy-tooltip copy-tooltip-s\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">            <i class=\"fa fa-copy\" aria-hidden=\"true\"></i>            <span class=\"sr-only\">Copy PIP instructions</span>          </button>        </p>      </div>    </div>    <div class=\"package-header__right\">      <a class=\"status-badge status-badge--good\" href=\"/project/c7n-mailer/\">        <span>Latest version</span>      </a>      <p class=\"package-header__date\">Released: <time datetime=\"2024-01-18T18:30:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 18, 2024</time>      </p>    </div>  </div></div><div class=\"horizontal-section horizontal-section--grey horizontal-section--thin\">  <div class=\"site-container\"><div data-html-include=\"/_includes/administer-project-include/c7n-mailer\"></div>    <div class=\"split-layout split-layout--middle package-description\">      <p class=\"package-description__summary\">Cloud Custodian - Reference Mailer</p><div data-html-include=\"/_includes/edit-project-button/c7n-mailer\"></div>    </div>  </div></div><div data-controller=\"project-tabs\">  <div class=\"tabs-container\">    <div class=\"vertical-tabs\">      <div class=\"vertical-tabs__tabs\">        <div class=\"sidebar-section\">          <h3 class=\"sidebar-section__title\">Navigation</h3>          <nav aria-label=\"Navigation for c7n-mailer\">            <ul class=\"vertical-tabs__list\" role=\"tablist\">              <li role=\"tab\">                <a id=\"description-tab\" href=\"#description\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                  <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description                </a>              </li>              <li role=\"tab\">                <a id=\"history-tab\" href=\"#history\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Release history. Focus will be moved to the history panel.\">                  <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history                </a>              </li>              <li role=\"tab\">                <a id=\"files-tab\" href=\"#files\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Download files. Focus will be moved to the project files.\">                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files                </a>              </li>            </ul>          </nav>        </div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://cloudcustodian.io\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://cloudcustodian.io/docs/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Documentation      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/cloud-custodian/cloud-custodian\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>Repository      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/c7n-mailer\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> Apache Software License (Apache-2.0)</p>    <p><strong>Author:</strong> Cloud Custodian Project</p>  <p>    <strong>Requires:</strong> Python &gt;=3.8, &lt;4.0  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Owner</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/org/c7n/\" aria-label=\"c7n\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"/static/images/blue-sitemap.028cde9a.webp\" height=\"43\" alt=\"organization icon\" title=\"organization icon\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            cloud-custodian          </span>        </a>      </span>    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/ajkerrigan/\" aria-label=\"ajkerrigan\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/110a42d8537e4bb2b371f2d7067769af413de0cb/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f63656432313761393631316662343636636333386334316130396639623666323f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for ajkerrigan from gravatar.com\" title=\"Avatar for ajkerrigan from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            ajkerrigan          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/sonnyshi/\" aria-label=\"sonnyshi\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/8ec6cb3fda53fd763b6a289145bfb8fe86495c95/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f65663034356466653139363535666464636331306433323865666461343636333f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for sonnyshi from gravatar.com\" title=\"Avatar for sonnyshi from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            sonnyshi          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/stefangordon/\" aria-label=\"stefangordon\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/828bf856ad3c50743517d2eeb3584d751f367dc2/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f34316461663831363336323935656263646662633063333639323136643565613f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for stefangordon from gravatar.com\" title=\"Avatar for stefangordon from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            stefangordon          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+Apache+Software+License\">            OSI Approved :: Apache Software License          </a>        </li>      </ul>    </li>    <li>      <strong>Programming Language</strong>      <ul>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3\">            Python :: 3          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.8\">            Python :: 3.8          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.9\">            Python :: 3.9          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.10\">            Python :: 3.10          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.11\">            Python :: 3.11          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Distributed+Computing\">            System :: Distributed Computing          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Systems+Administration\">            System :: Systems Administration          </a>        </li>      </ul>    </li>  </ul></div><div class=\"sidebar-section\" data-ea-publisher=\"psf\" data-ea-type=\"psf\" data-ea-keywords=\"pypi-sidebar\"></div>      </div>      <div class=\"vertical-tabs__panel\">        <!-- mobile menu -->        <nav aria-label=\"Navigation for c7n-mailer\">          <ul class=\"vertical-tabs__list\" role=\"tablist\">            <li role=\"tab\">              <a id=\"mobile-description-tab\" href=\"#description\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile vertical-tabs__tab--no-top-border vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-data-tab\" href=\"#data\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Project details. Focus will be moved to the project details.\">                <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>Project details              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-history-tab\" href=\"#history\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Release history. Focus will be moved to the history panel.\">              <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history            </a>            </li>            <li role=\"tab\">              <a id=\"mobile-files-tab\" href=\"#files\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Download files. Focus will be moved to the project files.\">                <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files              </a>            </li>          </ul>        </nav>        <div id=\"description\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"description-tab mobile-description-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project description</h2>          <div class=\"project-description\">            <h1>c7n-mailer: Custodian Mailer</h1><p>% [comment]: # (         !!! IMPORTANT !!!                    )% [comment]: # (This file is moved during document generation.)% [comment]: # (Only edit the original document at ./tools/c7n_mailer/README.md)</p><p>A mailer implementation for Custodian. Outbound mail delivery is still somewhatorganization-specific, so this at the moment serves primarily as an exampleimplementation.</p><blockquote><p>The Cloud Custodian Mailer can now be easily run in a Docker container. Click <a href=\"https://hub.docker.com/r/cloudcustodian/mailer\" rel=nofollow>here</a> for details.</p></blockquote><h2>Message Relay</h2><p>Custodian Mailer subscribes to an SQS queue, looks up users, and sends emailsvia SES, Slack messages, and/or notifications to DataDog or Splunk. Custodian Lambda and instance policies can send messages to the SQS queue. SQS queuesshould be cross-account enabled for sending between accounts.</p><h2>Tutorial</h2><p>Our goal in starting out with the Custodian mailer is to install the mailer,and run a policy that triggers an email to your inbox.</p><ol><li><a href=#developer-install-os-x-el-capitan rel=nofollow>Install</a> the mailer on your laptop (if you are not running as a <a href=\"https://hub.docker.com/r/cloudcustodian/mailer\" rel=nofollow>Docker container</a><ul><li>or use <code>pip install c7n-mailer</code></li></ul></li><li>In your text editor, create a <code>mailer.yml</code> file to hold your mailer config.</li><li>In the AWS console, create a new standard SQS queue (quick create is fine).Copy the queue URL to <code>queue_url</code> in <code>mailer.yml</code>.</li><li>In AWS, locate or create a role that has read access to the queue. Grab therole ARN and set it as <code>role</code> in <code>mailer.yml</code>.</li></ol><p>There are different notification endpoints options, you can combine both.</p><h3>Email:</h3><p>Make sure your email address is verified in SES, and set it as<code>from_address</code> in <code>mailer.yml</code>. By default SES is in sandbox mode where youmust<a href=\"http://docs.aws.amazon.com/ses/latest/DeveloperGuide/verify-email-addresses.html\" rel=nofollow>verify</a>every individual recipient of emails. If need be, make an AWS support ticket tobe taken out of SES sandbox mode.</p><p>Your <code>mailer.yml</code> should now look something like this:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">arn:aws:iam::123456790:role/c7n-mailer-test</span><span class=nt>from_address</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@example.com</span></pre><p>You can also set <code>region</code> if you are in a region other than <code>us-east-1</code> as well as <code>lambda_tags</code> to give the mailer tags.</p><pre lang=yaml><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">us-east-2</span><span class=nt>lambda_tags</span><span class=p>:</span><span class=w>  </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">ops</span></pre><p>Now let's make a Custodian policy to populate your mailer queue. Create a<code>test-policy.yml</code> file with this content (update <code>to</code> and <code>queue</code> to match yourenvironment)</p><pre lang=yaml><span class=w>  </span><span class=nt>policies</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">c7n-mailer-test</span><span class=w>    </span><span class=nt>resource</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">sqs</span><span class=w>    </span><span class=nt>filters</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=s>\"tag:MailerTest\"</span><span class=\"p p-Indicator\">:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">absent</span><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">notify</span><span class=w>        </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">default</span><span class=w>        </span><span class=nt>priority_header</span><span class=p>:</span><span class=w> </span><span class=s>'2'</span><span class=w>        </span><span class=nt>subject</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">testing the c7n mailer</span><span class=w>        </span><span class=nt>to</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@example.com</span><span class=w>        </span><span class=nt>transport</span><span class=p>:</span><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">sqs</span><span class=w>          </span><span class=nt>queue</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span></pre><h3>DataDog:</h3><p>The standard way to do a DataDog integration is use thec7n integration with AWS CloudWatch and use the<a href=\"https://docs.datadoghq.com/integrations/amazon_web_services/\" rel=nofollow>DataDog integration with AWS</a>to collect CloudWatch metrics. The mailer/messenger integration is onlyfor the case you don't want or you can't use AWS CloudWatch, e.g. in Azure or GCP.</p><p>Note this integration requires the additional dependency of Datadog Python bindings:</p><pre><code>pip install datadog</code></pre><p>Your <code>mailer.yml</code> should now look something like this:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">arn:aws:iam::123456790:role/c7n-mailer-test</span><span class=nt>datadog_api_key</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">XXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><span class=nt>datadog_application_key</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</span></pre><p>(Also set <code>region</code> if you are in a region other than <code>us-east-1</code>.)</p><p>Now, let's make a Custodian policy to populate your mailer queue. Create a<code>test-policy.yml</code>:</p><pre lang=yaml><span class=nt>policies</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">c7n-mailer-test</span><span class=w>    </span><span class=nt>resource</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">ebs</span><span class=w>    </span><span class=nt>filters</span><span class=p>:</span><span class=w>     </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>Attachments</span><span class=p>:</span><span class=w> </span><span class=\"p p-Indicator\">[]</span><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">notify</span><span class=w>        </span><span class=nt>to</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">datadog://?metric_name=datadog.metric.name&amp;metric_value_tag=Size</span><span class=w>        </span><span class=nt>transport</span><span class=p>:</span><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">sqs</span><span class=w>          </span><span class=nt>queue</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span></pre><p>There is a special <code>to</code> format that specifies Datadog delivery and it includes the Datadog configuration via URL parameters:</p><ul><li><code>metric_name</code>: is the name of the metrics send to DataDog.</li><li><code>metric_value_tag</code>: by default the metric value to send to DataDog is <code>1</code>, but if you want to use one of the tags returned in the policy, you can set it with the attribute <code>metric_value_tag</code>. For example, in the <code>test-policy.yml</code> policy, the value used is the size of the EBS volume. The value must be a number and it will be transformed to a float value.</li></ul><h3>Slack:</h3><p>The Custodian mailer supports Slack messaging as a separate notification mechanism for the SQS transport method. To enable Slack integration, you must specify a Slack token in the <code>slack_token</code> field in your <code>mailer.yml</code> file. For example:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">arn:aws:iam::123456790:role/c7n-mailer-test</span><span class=nt>slack_token</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">xoxo-token123</span></pre><p>To enable Slack messaging, several unique fields are evaluated in the policy, as shown in the below example:</p><pre><code>policies:  - name: c7n-mailer-test    resource: ebs    filters:     - Attachments: []    actions:      - type: notify        slack_template: slack        slack_msg_color: danger        to:          - slack://owners          - slack://foo@bar.com          - slack://#custodian-test          - slack://webhook/#c7n-webhook-test          - slack://tag/resource_tag          - https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX        transport:          type: sqs          queue: https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</code></pre><p>Slack messages support the use of a unique template field specified in <code>slack_template</code>. This field is unique and usage will not breakexisting functionality for messages also specifying an email template in the <code>template</code> field. This field is optional, however,and if not specified, the mailer will use the default value <code>slack_default</code>.</p><p>The unique template field <code>slack_msg_color</code> can be used to specify a colorborder for the Slack message. This accepts the Slack presets of <code>danger</code> (red),<code>warning</code> (yellow) and <code>good</code> (green). It can also accept an HTML hex code. Seethe <a href=\"https://api.slack.com/reference/messaging/attachments#fields\" rel=nofollow>Slack documentation</a>for details.</p><p><strong>Note:</strong> if you are using a hex color code, it will need to be wrapped in quoteslike so: <code>slack_msg_color: '#4287f51'</code>. Otherwise, the YAML interpreter will consider it a<a href=\"https://yaml.org/spec/1.2/spec.html#id2780069\" rel=nofollow>comment</a>.</p><p>The Slack integration for c7n-mailer supports several flavors of messaging, listed below. These are not mutually exclusive and any combination of the types can be used, but the preferred method is <a href=\"https://api.slack.com/incoming-webhooks\" rel=nofollow>incoming webhooks</a>.</p><table><thead><tr><th align=center>Requires\u00a0<code>slack_token</code></th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center>No</td><td align=left><code>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX</code></td><td align=left>string</td><td align=left><strong>(PREFERRED)</strong> Send to an <a href=\"https://api.slack.com/incoming-webhooks\" rel=nofollow>incoming webhook</a> (the channel is defined in the webhook)</td></tr><tr><td align=center>Yes</td><td align=left><code>slack://owners</code></td><td align=left>string</td><td align=left>Send to the recipient list generated within email delivery logic</td></tr><tr><td align=center>Yes</td><td align=left><code>slack://foo@bar.com</code></td><td align=left>string</td><td align=left>Send to the recipient specified by email address <a href=mailto:foo@bar.com rel=nofollow>foo@bar.com</a></td></tr><tr><td align=center>Yes</td><td align=left><code>slack://#custodian-test</code></td><td align=left>string</td><td align=left>Send to the Slack channel indicated in string, i.e. #custodian-test</td></tr><tr><td align=center>No</td><td align=left><code>slack://webhook/#c7n-webhook-test</code></td><td align=left>string</td><td align=left><strong>(DEPRECATED)</strong> Send to a Slack webhook; appended with the target channel. <strong>IMPORTANT</strong>: <em>This requires a <code>slack_webhook</code> value defined in the <code>mailer.yml</code>.</em></td></tr><tr><td align=center>Yes</td><td align=left><code>slack://tag/resource-tag</code></td><td align=left>string</td><td align=left>Send to target found in resource tag. Example of value in tag: <a href=\"https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX\" rel=nofollow>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX</a></td></tr></tbody></table><p>Slack delivery can also be set via a resource's tag name. For example, using <code>slack://tag/slack_channel</code> will look for a tag name of <code>slack_channel</code>, and if matched on a resource will deliver the message to the value of that resource's tag:</p><p><code>slack_channel:https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX</code><code>slack_channel:custodian-test</code><code>owner:foo@bar</code></p><p>Delivery via tag has been tested with webhooks, but it should support all delivery methods.</p><h3>Splunk HTTP Event Collector (HEC)</h3><p>The Custodian mailer supports delivery to the HTTP Event Collector (HEC) endpoint of a Splunk instance as a separate notification mechanism for the SES transport method. To enable Splunk HEC integration, you must specify the URL to the HEC endpoint as well as a valid username and token:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">arn:aws:iam::123456790:role/c7n-mailer-test</span><span class=nt>splunk_hec_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://http-inputs-foo.splunkcloud.com/services/collector/event</span><span class=nt>splunk_hec_token</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">268b3cc2-f32e-4a19-a1e8-aee08d86ca7f</span></pre><p>To send events for a policy to the Splunk HEC endpoint, add a <code>to</code> address notify action specifying the name of the Splunk index to send events to in the form <code>splunkhec://indexName</code>:</p><pre><code>policies:  - name: c7n-mailer-test    resource: ebs    filters:     - Attachments: []    actions:      - type: notify        to:          - splunkhec://myIndexName        transport:          type: sqs          queue: https://sqs.us-east-1.amazonaws.com/1234567890/c7n-mailer-test</code></pre><p>The <code>splunkhec://indexName</code> address type can be combined in the same notify action with other destination types (e.g. email, Slack, DataDog, etc).</p><h3>Now run:</h3><pre><code>c7n-mailer --config mailer.yml --update-lambda &amp;&amp; custodian run -c test-policy.yml -s .</code></pre><p>Note: You can set the profile via environment variable e.g. <code>export AWS_DEFAULT_PROFILE=foo</code></p><p>You should see output similar to the following:</p><pre><code>(env) $ c7n-mailer --config mailer.yml --update-lambda &amp;&amp; custodian run -c test-policy.yml -s .DEBUG:custodian.lambda:Created custodian lambda archive size: 3.01mb2017-01-12 07:55:16,227: custodian.policy:INFO Running policy c7n-mailer-test resource: sqs region:default c7n:0.8.22.02017-01-12 07:55:16,229: custodian.policy:INFO policy: c7n-mailer-test resource:sqs has count:1 time:0.002017-01-12 07:55:18,017: custodian.actions:INFO sent message:dead-beef policy:c7n-mailer-test template:default count:12017-01-12 07:55:18,017: custodian.policy:INFO policy: c7n-mailer-test action: notify resources: 1 execution_time: 1.79(env) $</code></pre><p>Check the AWS console for a new Lambda named <code>cloud-custodian-mailer</code>. Themailer runs every five minutes, so wait a bit and then look for an email inyour inbox. If it doesn't appear, look in the lambda's logs for debugginginformation. If it does, congratulations! You are off and running with theCustodian mailer.</p><h2>Usage &amp; Configuration</h2><p>Once <a href=#developer-install-os-x-el-capitan rel=nofollow>installed</a> you should have a<code>c7n-mailer</code> executable on your path:</p><pre><code>(env) $ c7n-mailerusage: c7n-mailer [-h] -c CONFIGc7n-mailer: error: argument -c/--config is required(env) $</code></pre><p>Fundamentally, what <code>c7n-mailer</code> does is it deploys a Lambda function (using<a href=\"http://cloudcustodian.io/docs/policy/mu.html\" rel=nofollow>Mu</a>) based onthe configuration you specify in a YAML file.  Here is <a href=\"https://github.com/cloud-custodian/cloud-custodian/blob/18d4247e913d54f36a078ed61386695362a3b10d/tools/c7n_mailer/c7n_mailer/cli.py#L43\" rel=nofollow>theschema</a> to which the file must conformand here is a description of the options:</p><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center>\u2705</td><td align=left><code>queue_url</code></td><td align=left>string</td><td align=left>the queue to listen to for messages</td></tr><tr><td align=center></td><td align=left><code>from_address</code></td><td align=left>string</td><td align=left>default from address</td></tr><tr><td align=center></td><td align=left><code>endpoint_url</code></td><td align=left>string</td><td align=left>SQS API URL (for use with VPC Endpoints)</td></tr><tr><td align=center></td><td align=left><code>contact_tags</code></td><td align=left>array of strings</td><td align=left>tags that we should look at for address information</td></tr><tr><td align=center></td><td align=left><code>email_base_url</code></td><td align=left>string</td><td align=left>Base URL to construct a valid email address from a resource owner</td></tr><tr><td align=center></td><td align=left><code>additional_email_headers</code></td><td align=left>object</td><td align=left>Additional email headers.</td></tr><tr><td align=center></td><td align=left><code>org_domain</code></td><td align=left>string</td><td align=left>Domain to add to AWS usernames to construct email addresses.</td></tr></tbody></table><h3>Standard Lambda Function Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th></tr></thead><tbody><tr><td align=center>\u2705</td><td align=left><code>role</code></td><td align=left>string</td></tr><tr><td align=center></td><td align=left><code>dead_letter_config</code></td><td align=left>object</td></tr><tr><td align=center></td><td align=left><code>memory</code></td><td align=left>integer</td></tr><tr><td align=center></td><td align=left><code>region</code></td><td align=left>string</td></tr><tr><td align=center></td><td align=left><code>runtime</code></td><td align=left>string</td></tr><tr><td align=center></td><td align=left><code>security_groups</code></td><td align=left>array of strings</td></tr><tr><td align=center></td><td align=left><code>subnets</code></td><td align=left>array of strings</td></tr><tr><td align=center></td><td align=left><code>timeout</code></td><td align=left>integer</td></tr><tr><td align=center></td><td align=left><code>lambda_name</code></td><td align=left>string</td></tr><tr><td align=center></td><td align=left><code>lambda_description</code></td><td align=left>string</td></tr><tr><td align=center></td><td align=left><code>lambda_tags</code></td><td align=left>object</td></tr><tr><td align=center></td><td align=left><code>lambda_schedule</code></td><td align=left>string</td></tr></tbody></table><h3>Standard Azure Functions Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>function_properties</code></td><td align=left>object</td><td align=left>Contains <code>appInsights</code>, <code>storageAccount</code> and <code>servicePlan</code> objects</td></tr><tr><td align=center></td><td align=left><code>appInsights</code></td><td align=left>object</td><td align=left>Contains <code>name</code>, <code>location</code> and <code>resourceGroupName</code> properties</td></tr><tr><td align=center></td><td align=left><code>storageAccount</code></td><td align=left>object</td><td align=left>Contains <code>name</code>, <code>location</code> and <code>resourceGroupName</code> properties</td></tr><tr><td align=center></td><td align=left><code>servicePlan</code></td><td align=left>object</td><td align=left>Contains <code>name</code>, <code>location</code>, <code>resourceGroupName</code>, <code>skuTier</code> and <code>skuName</code> properties</td></tr><tr><td align=center></td><td align=left><code>name</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>location</code></td><td align=left>string</td><td align=left>Default: <code>west us 2</code></td></tr><tr><td align=center></td><td align=left><code>resourceGroupName</code></td><td align=left>string</td><td align=left>Default <code>cloud-custodian</code></td></tr><tr><td align=center></td><td align=left><code>skuTier</code></td><td align=left>string</td><td align=left>Default: <code>Basic</code></td></tr><tr><td align=center></td><td align=left><code>skuName</code></td><td align=left>string</td><td align=left>Default: <code>B1</code></td></tr></tbody></table><h3>Mailer Infrastructure Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>cache_engine</code></td><td align=left>string</td><td align=left>cache engine; either sqlite or redis</td></tr><tr><td align=center></td><td align=left><code>cross_accounts</code></td><td align=left>object</td><td align=left>account to assume back into for sending to SNS topics</td></tr><tr><td align=center></td><td align=left><code>debug</code></td><td align=left>boolean</td><td align=left>debug on/off</td></tr><tr><td align=center></td><td align=left><code>ldap_bind_dn</code></td><td align=left>string</td><td align=left>eg: ou=people,dc=example,dc=com</td></tr><tr><td align=center></td><td align=left><code>ldap_bind_user</code></td><td align=left>string</td><td align=left>eg: FOO\\BAR</td></tr><tr><td align=center></td><td align=left><code>ldap_bind_password</code></td><td align=left>secured string</td><td align=left>ldap bind password</td></tr><tr><td align=center></td><td align=left><code>ldap_bind_password_in_kms</code></td><td align=left>boolean</td><td align=left>defaults to true, most people (except capone) want to set this to false. If set to true, make sure <code>ldap_bind_password</code> contains your KMS encrypted ldap bind password as a base64-encoded string.</td></tr><tr><td align=center></td><td align=left><code>ldap_email_attribute</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>ldap_email_key</code></td><td align=left>string</td><td align=left>eg 'mail'</td></tr><tr><td align=center></td><td align=left><code>ldap_manager_attribute</code></td><td align=left>string</td><td align=left>eg 'manager'</td></tr><tr><td align=center></td><td align=left><code>ldap_uid_attribute</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>ldap_uid_regex</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>ldap_uid_tags</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>ldap_uri</code></td><td align=left>string</td><td align=left>eg 'ldaps://example.com:636'</td></tr><tr><td align=center></td><td align=left><code>redis_host</code></td><td align=left>string</td><td align=left>redis host if cache_engine == redis</td></tr><tr><td align=center></td><td align=left><code>redis_port</code></td><td align=left>integer</td><td align=left>redis port, default: 6369</td></tr><tr><td align=center></td><td align=left><code>ses_region</code></td><td align=left>string</td><td align=left>AWS region that handles SES API calls</td></tr><tr><td align=center></td><td align=left><code>ses_role</code></td><td align=left>string</td><td align=left>ARN of the role to assume to send email with SES</td></tr></tbody></table><h3>SMTP Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>smtp_server</code></td><td align=left>string</td><td align=left>to configure your lambda role to talk to smtpd in your private vpc, see <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/vpc.html\" rel=nofollow>here</a></td></tr><tr><td align=center></td><td align=left><code>smtp_port</code></td><td align=left>integer</td><td align=left>smtp port (default is 25)</td></tr><tr><td align=center></td><td align=left><code>smtp_ssl</code></td><td align=left>boolean</td><td align=left>this defaults to True</td></tr><tr><td align=center></td><td align=left><code>smtp_username</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>smtp_password</code></td><td align=left>secured string</td><td align=left></td></tr></tbody></table><p>If <code>smtp_server</code> is unset, <code>c7n_mailer</code> will use AWS SES or Azure SendGrid.</p><h4>DataDog Config</h4><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>datadog_api_key</code></td><td align=left>string</td><td align=left>DataDog API key.</td></tr><tr><td align=center></td><td align=left><code>datadog_application_key</code></td><td align=left>string</td><td align=left>Datadog application key.</td></tr></tbody></table><p>These fields are not necessary if c7n_mailer is run in a instance/lambda/etc with the DataDog agent.</p><h3>Slack Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>slack_token</code></td><td align=left>string</td><td align=left>Slack API token</td></tr></tbody></table><h3>SendGrid Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>sendgrid_api_key</code></td><td align=left>secured string</td><td align=left>SendGrid API token</td></tr></tbody></table><h3>Microsoft Graph Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>graph_token_endpoint</code></td><td align=left>string</td><td align=left>Graph token endpoint</td></tr><tr><td align=center></td><td align=left><code>graph_sendmail_endpoint</code></td><td align=left>string</td><td align=left>Graph sendmail endpoint</td></tr><tr><td align=center></td><td align=left><code>graph_client_id</code></td><td align=left>string</td><td align=left>Client ID</td></tr><tr><td align=center></td><td align=left><code>graph_client_secret</code></td><td align=left>secured string</td><td align=left>Client secret</td></tr></tbody></table><h3>Splunk HEC Config</h3><p>The following configuration items are <em>all</em> optional. The ones marked \"Required for Splunk\" are only required if you're sending notifications to <code>splunkhec://</code> destinations.</p><table><thead><tr><th align=center>Required for Splunk?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center>\u2705</td><td align=left><code>splunk_hec_url</code></td><td align=left>string</td><td align=left>URL to your Splunk HTTP Event Collector endpoint</td></tr><tr><td align=center>\u2705</td><td align=left><code>splunk_hec_token</code></td><td align=left>string</td><td align=left>Splunk HEC authentication token for specified username</td></tr><tr><td align=center></td><td align=left><code>splunk_remove_paths</code></td><td align=left>array of strings</td><td align=left>List of <a href=\"http://tools.ietf.org/html/rfc6901\" rel=nofollow>RFC6901</a> JSON Pointers to remove from the event, if present, before sending to Splunk</td></tr><tr><td align=center></td><td align=left><code>splunk_actions_list</code></td><td align=left>boolean</td><td align=left>If true, add an <code>actions</code> list to the top-level message sent to Splunk, containing the names of all non-notify actions taken</td></tr><tr><td align=center></td><td align=left><code>splunk_max_attempts</code></td><td align=left>integer</td><td align=left>Maximum number of times to try POSTing data to Splunk HEC (default 4)</td></tr><tr><td align=center></td><td align=left><code>splunk_hec_max_length</code></td><td align=left>integer</td><td align=left>Maximum data length that Splunk HEC accepts; an error will be logged for any message sent over this length</td></tr><tr><td align=center></td><td align=left><code>splunk_hec_sourcetype</code></td><td align=left>string</td><td align=left>Configure sourcetype of the payload sent to Splunk HEC. (default is '_json')</td></tr></tbody></table><h3>SDK Config</h3><table><thead><tr><th align=center>Required?</th><th align=left>Key</th><th align=left>Type</th><th align=left>Notes</th></tr></thead><tbody><tr><td align=center></td><td align=left><code>http_proxy</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>https_proxy</code></td><td align=left>string</td><td align=left></td></tr><tr><td align=center></td><td align=left><code>profile</code></td><td align=left>string</td><td align=left></td></tr></tbody></table><h3>Secured String</h3><p>In order to ensure sensitive data is not stored plaintext in a policy, <code>c7n-mailer</code> supports securedstrings. You can treat it as a regular <code>string</code> or use <code>secured string</code> features.</p><h4>AWS</h4><p>You can use KMS to encrypt your secrets and use encrypted secret in mailer policy.Custodian tries to decrypt the string using KMS, if it fails c7n treats it as a plaintext secret.</p><pre lang=yaml><span class=w> </span><span class=nt>plaintext_secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;raw_secret&gt;</span><span class=w> </span><span class=nt>secured_string</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;encrypted_secret&gt;</span></pre><h4>Azure</h4><p>You can store your secrets in Azure Key Vault secrets and reference them from the policy.</p><pre lang=yaml><span class=w>  </span><span class=nt>plaintext_secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;raw_secret&gt;</span><span class=w>  </span><span class=nt>secured_string</span><span class=p>:</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">azure.keyvault</span><span class=w>    </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://your-vault.vault.azure.net/secrets/your-secret</span></pre><p>Note: <code>secrets.get</code> permission on the KeyVault for the Service Principal is required.</p><h4>GCP</h4><p>You can store your secrets as GCP Secret Manager secrets and reference them from the policy.</p><pre lang=yaml><span class=w>  </span><span class=nt>plaintext_secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;raw_secret&gt;</span><span class=w>  </span><span class=nt>secured_string</span><span class=p>:</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">gcp.secretmanager</span><span class=w>    </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">projects/12345678912/secrets/your-secret</span></pre><p>An example of an SMTP password set as a secured string:</p><pre lang=yaml><span class=w>  </span><span class=nt>smtp_password</span><span class=p>:</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">gcp.secretmanager</span><span class=w>    </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">projects/59808015552/secrets/smtp_pw</span></pre><p>Note: If you do not specify a version, <code>/versions/latest</code> will be appended to your secret location.</p><h2>Configuring a policy to send email</h2><p>Outbound email can be added to any policy by including the <code>notify</code> action.</p><pre lang=yaml><span class=nt>policies</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">bad-apples</span><span class=w>    </span><span class=nt>resource</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">asg</span><span class=w>    </span><span class=nt>filters</span><span class=p>:</span><span class=w>     </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=s>\"tag:ASV\"</span><span class=\"p p-Indicator\">:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">absent</span><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">notify</span><span class=w>        </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">default</span><span class=w>        </span><span class=nt>template_format</span><span class=p>:</span><span class=w> </span><span class=s>'html'</span><span class=w>        </span><span class=nt>priority_header</span><span class=p>:</span><span class=w> </span><span class=s>'1'</span><span class=w>        </span><span class=nt>subject</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">fix your tags</span><span class=w>        </span><span class=nt>to</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">resource-owner</span><span class=w>        </span><span class=nt>owner_absent_contact</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">foo@example.com</span><span class=w>        </span><span class=nt>transport</span><span class=p>:</span><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">sqs</span><span class=w>          </span><span class=nt>queue</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://sqs.us-east-1.amazonaws.com/80101010101/cloud-custodian-message-relay</span></pre><p>So breaking it down, you add an action of type <code>notify</code>. You can specify atemplate that's used to format the email; customizing templates is described<a href=#writing-an-email-template rel=nofollow>below</a>.</p><p>The <code>to</code> list specifies the intended recipient for the email. You can specifyeither an email address, an SNS topic, a Datadog Metric, or a special value. The special valuesare either</p><ul><li><code>resource-owner</code>, in which case the email will be sent to the listed<code>OwnerContact</code> tag on the resource that matched the policy, or</li><li><code>event-owner</code> for push-based/realtime policies that will send to the userthat was responsible for the underlying event.</li><li><code>priority_header</code> to indicate the importance of an email with <a href=\"https://www.chilkatsoft.com/p/p_471.asp\" rel=nofollow>headers</a>. Different emails clients will display stars, exclamation points or flags depending on the value. Should be an string from 1 to 5.</li></ul><p>Both of these special values are best effort, i.e., if no <code>OwnerContact</code> tag isspecified then <code>resource-owner</code> email will not be delivered, and in the case of<code>event-owner</code> an instance role or system account will not result in an email.</p><p>The optional <code>owner_absent_contact</code> list specifies email addresses to notify only ifthe <code>resource-owner</code> special option was unable to find any matching owner contacttags.</p><p>In addition, you may choose to use a custom tag instead of the default <code>OwnerContact</code>.  In order to configure this, the mailer.yaml must be modified to include the contact_tags and the custom tag.  The <code>resource-owner</code> will now email the custom tag instead of <code>OwnerContact</code>.</p><pre lang=yaml><span class=nt>contact_tags</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=s>\"custom_tag\"</span></pre><p>For reference purposes, the JSON Schema of the <code>notify</code> action:</p><pre lang=json><span class=p>{</span><span class=w>  </span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"object\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"required\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>\"type\"</span><span class=p>,</span><span class=w> </span><span class=s2>\"transport\"</span><span class=p>,</span><span class=w> </span><span class=s2>\"to\"</span><span class=p>],</span><span class=w>  </span><span class=nt>\"properties\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>    </span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"enum\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>\"notify\"</span><span class=p>]},</span><span class=w>    </span><span class=nt>\"to\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"array\"</span><span class=p>,</span><span class=w> </span><span class=nt>\"items\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>}},</span><span class=w>    </span><span class=nt>\"owner_absent_contact\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"array\"</span><span class=p>,</span><span class=w> </span><span class=nt>\"items\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>}},</span><span class=w>    </span><span class=nt>\"subject\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>},</span><span class=w>    </span><span class=nt>\"priority_header\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>},</span><span class=w>    </span><span class=nt>\"template\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>},</span><span class=w>    </span><span class=nt>\"transport\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>      </span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"object\"</span><span class=p>,</span><span class=w>      </span><span class=nt>\"required\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>\"type\"</span><span class=p>,</span><span class=w> </span><span class=s2>\"queue\"</span><span class=p>],</span><span class=w>      </span><span class=nt>\"properties\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>        </span><span class=nt>\"queue\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>},</span><span class=w>        </span><span class=nt>\"region\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"string\"</span><span class=p>},</span><span class=w>        </span><span class=nt>\"type\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>\"enum\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>\"sqs\"</span><span class=p>]}</span><span class=w>      </span><span class=p>}</span><span class=w>    </span><span class=p>}</span><span class=w>  </span><span class=p>}</span><span class=p>}</span></pre><h2>Using on Azure</h2><p>Requires:</p><ul><li><code>c7n_azure</code> package.  See <a href=\"https://cloudcustodian.io/docs/azure/gettingstarted.html#azure-install-cc\" rel=nofollow>Installing Azure Plugin</a></li><li>SendGrid account. See <a href=\"https://docs.microsoft.com/en-us/azure/sendgrid-dotnet-how-to-send-email\" rel=nofollow>Using SendGrid with Azure</a></li><li><a href=\"https://azure.microsoft.com/en-us/services/storage/queues/\" rel=nofollow>Azure Storage Queue</a></li></ul><p>The mailer supports an Azure Storage Queue transport and SendGrid delivery on Azure.Configuration for this scenario requires only minor changes from AWS deployments.</p><p>You will need to grant <code>Storage Queue Data Contributor</code> role on the Queue for the identitymailer is running under.</p><p>The notify action in your policy will reflect transport type <code>asq</code> with the URLto an Azure Storage Queue.  For example:</p><pre lang=yaml><span class=nt>policies</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">azure-notify</span><span class=w>    </span><span class=nt>resource</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">azure.resourcegroup</span><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">send a message to a mailer instance</span><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">notify</span><span class=w>        </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">default</span><span class=w>        </span><span class=nt>priority_header</span><span class=p>:</span><span class=w> </span><span class=s>'2'</span><span class=w>        </span><span class=nt>subject</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">Hello from C7N Mailer</span><span class=w>        </span><span class=nt>to</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@youremail.com</span><span class=w>        </span><span class=nt>transport</span><span class=p>:</span><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">asq</span><span class=w>          </span><span class=nt>queue</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">https://storageaccount.queue.core.windows.net/queuename</span></pre><p>In your mailer configuration, you'll need to provide your SendGrid API key as well asprefix your queue URL with <code>asq://</code> to let mailer know what type of queue it is:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">asq://storageaccount.queue.core.windows.net/queuename</span><span class=nt>from_address</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@youremail.com</span><span class=nt>sendgrid_api_key</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">SENDGRID_API_KEY</span></pre><p>The mailer will transmit all messages found on the queue on each execution, and will retrysending 3 times in the event of a failure calling SendGrid.  After the retries the queuemessage will be discarded.</p><p>In addition, SendGrid delivery on Azure supports using resource tags to send emails. For example, in the <code>to</code> field:</p><pre lang=yaml><span class=nt>to</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">tag:OwnerEmail</span></pre><p>This will find the email address associated with the resource's <code>OwnerEmail</code> tag, and send an email to the specified address.If no tag is found, or the associated email address is invalid, no email will be sent.</p><h3>Deploying Azure Functions</h3><p>The <code>--update-lambda</code> CLI option will also deploy Azure Functions if you have an Azuremailer configuration.</p><p><code>c7n-mailer --config mailer.yml --update-lambda</code></p><p>where a simple <code>mailer.yml</code> using Consumption functions may look like:</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">asq://storage.queue.core.windows.net/custodian</span><span class=nt>from_address</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">foo@mail.com</span><span class=nt>sendgrid_api_key</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">&lt;key&gt;</span><span class=nt>function_properties</span><span class=p>:</span><span class=w>  </span><span class=nt>servicePlan</span><span class=p>:</span><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>'testmailer1'</span></pre><h3>Configuring Function Identity</h3><p>You can configure the service principal used for api calls made by themailer azure function by specifying an identity configuration underfunction properties. Mailer supports User Assigned Identities, SystemManaged Identities, defaulting to an embedding of the cli user'sservice principals credentials.</p><p>When specifying a user assigned identity, unlike in a custodianfunction policy where simply providing an name is sufficient, theuuid/id and client id of the identity must be provided. You canretrieve this information on the cli using the <code>az identity list</code>.</p><pre lang=yaml><span class=nt>function_properties</span><span class=p>:</span><span class=w>  </span><span class=nt>identity</span><span class=p>:</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">UserAssigned</span><span class=w>    </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=s>\"/subscriptions/333fd504-7f11-2270-88c8-7325a27f7222/resourcegroups/c7n/providers/Microsoft.ManagedIdentity/userAssignedIdentities/mailer\"</span><span class=w>    </span><span class=nt>client_id</span><span class=p>:</span><span class=w> </span><span class=s>\"b9cb06fa-dfb8-4342-add3-aab5acb2abbc\"</span></pre><p>A system managed identity can also be used, and the Azure platform willcreate an identity when the function is provisoned, however the function's identitythen needs to be retrieved and mapped to rbac permissions post provisioning, thisuser management activity must be performed manually.</p><pre lang=yaml><span class=nt>function_properties</span><span class=p>:</span><span class=w>  </span><span class=nt>identity</span><span class=p>:</span><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">SystemAssigned</span></pre><h2>Using on GCP</h2><p>Requires:</p><ul><li><code>c7n_gcp</code> package.  See <a href=\"https://cloudcustodian.io/docs/gcp/gettingstarted.html\" rel=nofollow>GCP Getting Started</a></li><li><code>google-cloud-secret-manager</code> package, for pulling in secured string values.</li><li>A working SMTP Account.</li><li><a href=\"https://cloud.google.com/pubsub/docs/\" rel=nofollow>GCP Pubsub Subscription</a></li></ul><p>The mailer supports GCP Pubsub transports and SMTP/Email delivery, as well as Datadog and Splunk.Configuration for this scenario requires only minor changes from AWS deployments.</p><p>The notify action in your policy will reflect transport type <code>projects</code> with the URLto a GCP Pub/Sub Topic.  For example:</p><pre lang=yaml><span class=nt>policies</span><span class=p>:</span><span class=w>  </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">gcp-notify</span><span class=w>    </span><span class=nt>resource</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">gcp.compute</span><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">example policy</span><span class=w>    </span><span class=nt>actions</span><span class=p>:</span><span class=w>      </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">notify</span><span class=w>        </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">default</span><span class=w>        </span><span class=nt>priority_header</span><span class=p>:</span><span class=w> </span><span class=s>'2'</span><span class=w>        </span><span class=nt>subject</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">Hello from C7N Mailer</span><span class=w>        </span><span class=nt>to</span><span class=p>:</span><span class=w>          </span><span class=\"p p-Indicator\">-</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@youremail.com</span><span class=w>        </span><span class=nt>transport</span><span class=p>:</span><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">pubsub</span><span class=w>          </span><span class=nt>topic</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">projects/myproject/topics/mytopic</span></pre><p>In your mailer configuration, you'll need to provide your SMTP account informationas well as your topic subscription path in the queue_url variable. Please note that thesubscription you specify should be subscribed to the topic you assign in your policies'notify action for GCP resources.</p><pre lang=yaml><span class=nt>queue_url</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">projects/myproject/subscriptions/mysubscription</span><span class=nt>from_address</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">you@youremail.com</span><span class=c1># c7n-mailer currently requires a role be present, even if it's empty</span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=s>\"\"</span><span class=nt>smtp_server</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">my.smtp.add.ress</span><span class=nt>smtp_port</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">25</span><span class=nt>smtp_ssl</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">true</span><span class=nt>smtp_username</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">smtpuser</span><span class=nt>smtp_password</span><span class=p>:</span><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">gcp.secretmanager</span><span class=w>  </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=\"l l-Scalar l-Scalar-Plain\">projects/12345678912/secrets/smtppassword</span></pre><p>The mailer will transmit all messages found on the queue on each execution using SMTP/Email delivery.</p><h3>Deploying GCP Functions</h3><p>GCP Cloud Functions for c7n-mailer are currently not supported.</p><h2>Writing an email template</h2><p>Templates are authored in <a href=\"http://jinja.pocoo.org/docs/dev/templates/\" rel=nofollow>jinja2</a>.Drop a file with the <code>.j2</code> extension into the a templates directory, and send a pull request to thisrepo. You can then reference it in the <code>notify</code> action as the <code>template</code>variable by file name minus extension. Templates ending with <code>.html.j2</code> aresent as HTML-formatted emails, all others are sent as plain text.</p><p>You can use <code>-t</code> or <code>--templates</code> cli argument to pass custom folder with your templates.</p><p>The following variables are available when rendering templates:</p><table><thead><tr><th align=left>variable</th><th align=left>value</th></tr></thead><tbody><tr><td align=left><code>recipient</code></td><td align=left>email address</td></tr><tr><td align=left><code>resources</code></td><td align=left>list of resources that matched the policy filters</td></tr><tr><td align=left><code>event</code></td><td align=left>for CWE-push-based lambda policies, the event that triggered</td></tr><tr><td align=left><code>action</code></td><td align=left><code>notify</code> action that generated this SQS message</td></tr><tr><td align=left><code>policy</code></td><td align=left>policy that triggered this notify action</td></tr><tr><td align=left><code>account</code></td><td align=left>short name of the aws account</td></tr><tr><td align=left><code>region</code></td><td align=left>region the policy was executing in</td></tr><tr><td align=left><code>execution_start</code></td><td align=left>The time policy started executing</td></tr></tbody></table><p>The following extra global functions are available:</p><table><thead><tr><th align=left>signature</th><th align=left>behavior</th></tr></thead><tbody><tr><td align=left><code>format_struct(struct)</code></td><td align=left>pretty print a json structure</td></tr><tr><td align=left><code>resource_tag(resource, key)</code></td><td align=left>retrieve a tag value from a resource or return an empty string, aliased as get_resource_tag_value</td></tr><tr><td align=left><code>format_resource(resource, resource_type)</code></td><td align=left>renders a one line summary of a resource</td></tr><tr><td align=left><code>date_time_format(utc_str, tz_str='US/Eastern', format='%Y %b %d %H:%M %Z')</code></td><td align=left>customize rendering of an utc datetime string</td></tr><tr><td align=left><code>search(expression, value)</code></td><td align=left>jmespath search value using expression</td></tr><tr><td align=left><code>yaml_safe(value)</code></td><td align=left>yaml dumper</td></tr></tbody></table><p>The following extra jinja filters are available:</p><table><thead><tr><th align=left>filter</th><th align=left>behavior</th></tr></thead><tbody><tr><td align=left><code>utc_string|date_time_format(tz_str='US/Pacific', format='%Y %b %d %H:%M %Z')</code></td><td align=left>pretty <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=nofollow>format</a> the date / time</td></tr><tr><td align=left><code>30|get_date_time_delta</code></td><td align=left>Convert a time <a href=\"https://docs.python.org/2/library/datetime.html#datetime.timedelta\" rel=nofollow>delta</a> like '30' days in the future, to a datetime string. You can also use negative values for the past.</td></tr></tbody></table><h2>Developer Install (OS X El Capitan)</h2><p>Clone the repository:</p><pre><code>$ git clone https://github.com/cloud-custodian/cloud-custodian</code></pre><p>Install dependencies (with virtualenv):</p><pre><code>$ virtualenv c7n_mailer$ source c7n_mailer/bin/activate$ cd tools/c7n_mailer$ pip install -r requirements.txt</code></pre><p>Install the extensions:</p><pre><code>python setup.py develop</code></pre><h2>Testing Templates and Recipients</h2><p>A <code>c7n-mailer-replay</code> entrypoint is provided to assist in testing email notificationsand templates. This script operates on an actual SQS message from cloud-custodian itself,which you can either retrieve from the SQS queue or replicate locally. By default it expectsthe message file to be base64-encoded, gzipped JSON, just like c7n sends to SQS. With the<code>-p</code> | <code>--plain</code> argument, it will expect the message file to contain plain JSON.</p><p><code>c7n-mailer-replay</code> has three main modes of operation:</p><ul><li>With no additional arguments, it will render the template specified by the policy themessage is for, and actually send mail from the local machine as <code>c7n-mailer</code> would.This only works with SES, not SMTP.</li><li>With the <code>-T</code> | <code>--template-print</code> argument, it will log the email addresses that wouldreceive mail, and print the rendered message body template to STDOUT.</li><li>With the <code>-d</code> | <code>--dry-run</code> argument, it will print the actual email body (including headers)that would be sent, for each message that would be sent, to STDOUT.</li></ul><h3>Testing Templates for Azure</h3><p>The <code>c7n-mailer-replay</code> entrypoint can be used to test templates for Azure with either of the arguments:</p><ul><li><code>-T</code> | <code>--template-print</code></li><li><code>-d</code> | <code>--dry-run</code></li></ul><p>Running <code>c7n-mailer-replay</code> without either of these arguments will throw an error as it will attemptto authorize with AWS.</p><p>The following is an example for retrieving a sample message to test against templates:</p><ul><li><p>Run a policy with the notify action, providing the name of the template to test, to populate the queue.</p></li><li><p>Using the azure cli, save the message locally:</p></li></ul><pre><code>$ az storage message get --queue-name &lt;queuename&gt; --account-name &lt;storageaccountname&gt; --query '[].content' &gt; test_message.gz</code></pre><ul><li>The example message can be provided to <code>c7n-mailer-replay</code> by running:</li></ul><pre><code>$ c7n-mailer-replay test_message.gz -T --config mailer.yml</code></pre>          </div>        </div>        <div id=\"data\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"mobile-data-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project details</h2><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://cloudcustodian.io\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://cloudcustodian.io/docs/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Documentation      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/cloud-custodian/cloud-custodian\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>Repository      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/c7n-mailer\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> Apache Software License (Apache-2.0)</p>    <p><strong>Author:</strong> Cloud Custodian Project</p>  <p>    <strong>Requires:</strong> Python &gt;=3.8, &lt;4.0  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Owner</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/org/c7n/\" aria-label=\"c7n\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"/static/images/blue-sitemap.028cde9a.webp\" height=\"43\" alt=\"organization icon\" title=\"organization icon\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            cloud-custodian          </span>        </a>      </span>    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/ajkerrigan/\" aria-label=\"ajkerrigan\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/110a42d8537e4bb2b371f2d7067769af413de0cb/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f63656432313761393631316662343636636333386334316130396639623666323f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for ajkerrigan from gravatar.com\" title=\"Avatar for ajkerrigan from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            ajkerrigan          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/sonnyshi/\" aria-label=\"sonnyshi\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/8ec6cb3fda53fd763b6a289145bfb8fe86495c95/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f65663034356466653139363535666464636331306433323865666461343636333f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for sonnyshi from gravatar.com\" title=\"Avatar for sonnyshi from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            sonnyshi          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/stefangordon/\" aria-label=\"stefangordon\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/828bf856ad3c50743517d2eeb3584d751f367dc2/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f34316461663831363336323935656263646662633063333639323136643565613f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for stefangordon from gravatar.com\" title=\"Avatar for stefangordon from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            stefangordon          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+Apache+Software+License\">            OSI Approved :: Apache Software License          </a>        </li>      </ul>    </li>    <li>      <strong>Programming Language</strong>      <ul>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3\">            Python :: 3          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.8\">            Python :: 3.8          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.9\">            Python :: 3.9          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.10\">            Python :: 3.10          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.11\">            Python :: 3.11          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Distributed+Computing\">            System :: Distributed Computing          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Systems+Administration\">            System :: Systems Administration          </a>        </li>      </ul>    </li>  </ul></div>          <br>        </div>        <div id=\"history\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"history-tab mobile-history-tab\" tabindex=\"-1\">          <h2 class=\"page-title split-layout\">            <span>Release history</span>            <span class=\"reset-text margin-top\">              <a href=\"/help/#project-release-notifications\">Release notifications</a> |              <a href=\"/rss/project/c7n-mailer/releases.xml\">RSS feed <i class=\"fa fa-rss\" aria-hidden=\"true\"></i></a>            </span>          </h2>          <div class=\"release-timeline\">            <div class=\"release release--latest release--current\">              <div class=\"release__meta\">                <span class=\"badge\">This version</span>              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/blue-cube.572a5bfb.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.33/\">                <p class=\"release__version\">                  0.6.33                </p>                <p class=\"release__version-date\">                  <time datetime=\"2024-01-18T18:30:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 18, 2024</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.32/\">                <p class=\"release__version\">                  0.6.32                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-11-29T17:08:02+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 29, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.31/\">                <p class=\"release__version\">                  0.6.31                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-10-03T15:43:05+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 3, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.30/\">                <p class=\"release__version\">                  0.6.30                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-09-06T14:30:59+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 6, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.29/\">                <p class=\"release__version\">                  0.6.29                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-08-15T16:15:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 15, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.28/\">                <p class=\"release__version\">                  0.6.28                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-07-20T18:12:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jul 20, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.27/\">                <p class=\"release__version\">                  0.6.27                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-06-28T16:43:36+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 28, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.26/\">                <p class=\"release__version\">                  0.6.26                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-05-25T15:41:54+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 25, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.25/\">                <p class=\"release__version\">                  0.6.25                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-04-12T15:12:27+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 12, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.24/\">                <p class=\"release__version\">                  0.6.24                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-04-11T14:21:13+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 11, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.23/\">                <p class=\"release__version\">                  0.6.23                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-03-16T09:24:29+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 16, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.22/\">                <p class=\"release__version\">                  0.6.22                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-02-16T00:41:46+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 16, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.21/\">                <p class=\"release__version\">                  0.6.21                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-01-18T22:50:22+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 18, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.20/\">                <p class=\"release__version\">                  0.6.20                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-12-15T00:45:59+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 15, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.19/\">                <p class=\"release__version\">                  0.6.19                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-10-26T19:13:27+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 26, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.18/\">                <p class=\"release__version\">                  0.6.18                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-10-05T22:45:44+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 5, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.17/\">                <p class=\"release__version\">                  0.6.17                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-08-11T21:14:46+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 11, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.16/\">                <p class=\"release__version\">                  0.6.16                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-06-21T19:22:05+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 21, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.15/\">                <p class=\"release__version\">                  0.6.15                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-05-10T22:48:54+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 10, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.14/\">                <p class=\"release__version\">                  0.6.14                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-02-24T11:54:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 24, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.13/\">                <p class=\"release__version\">                  0.6.13                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-11-16T00:39:18+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 16, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.12/\">                <p class=\"release__version\">                  0.6.12                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-08-10T18:33:34+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 10, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.11/\">                <p class=\"release__version\">                  0.6.11                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-06-28T17:48:29+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 28, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.10/\">                <p class=\"release__version\">                  0.6.10                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-03-22T20:49:58+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 22, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.9/\">                <p class=\"release__version\">                  0.6.9                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-01-11T16:56:14+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 11, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.8/\">                <p class=\"release__version\">                  0.6.8                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-12-14T16:37:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 14, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.7/\">                <p class=\"release__version\">                  0.6.7                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-11-17T16:54:40+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 17, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.6/\">                <p class=\"release__version\">                  0.6.6                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-10-15T17:53:27+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 15, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.5/\">                <p class=\"release__version\">                  0.6.5                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-09-08T20:10:33+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 8, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.4/\">                <p class=\"release__version\">                  0.6.4                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-08-25T15:37:22+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 25, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.3/\">                <p class=\"release__version\">                  0.6.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-07-07T20:19:05+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jul 7, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.2/\">                <p class=\"release__version\">                  0.6.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-06-09T15:48:08+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 9, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.1/\">                <p class=\"release__version\">                  0.6.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-05-21T20:14:04+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 21, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.6.0/\">                <p class=\"release__version\">                  0.6.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-04-28T16:22:10+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 28, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.8/\">                <p class=\"release__version\">                  0.5.8                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-01-27T12:49:28+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 27, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.7/\">                <p class=\"release__version\">                  0.5.7                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-01-09T02:24:00+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 9, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.6/\">                <p class=\"release__version\">                  0.5.6                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-11-11T14:15:55+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 11, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.5/\">                <p class=\"release__version\">                  0.5.5                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-10-11T02:13:06+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 11, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.4/\">                <p class=\"release__version\">                  0.5.4                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-09-23T22:44:17+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 23, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.3/\">                <p class=\"release__version\">                  0.5.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-06-28T20:32:04+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 28, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.2/\">                <p class=\"release__version\">                  0.5.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-06-19T19:40:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 19, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.1/\">                <p class=\"release__version\">                  0.5.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-06-18T16:31:50+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 18, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.5.0/\">                <p class=\"release__version\">                  0.5.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-04-13T10:09:00+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 13, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.4.2/\">                <p class=\"release__version\">                  0.4.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-03-04T14:49:26+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 4, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.4.1/\">                <p class=\"release__version\">                  0.4.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-01-31T20:47:55+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 31, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.3.3/\">                <p class=\"release__version\">                  0.3.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-11-14T09:29:20+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 14, 2018</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.3.2/\">                <p class=\"release__version\">                  0.3.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-08-12T18:20:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 12, 2018</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.3.1/\">                <p class=\"release__version\">                  0.3.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-03-15T13:04:09+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 15, 2018</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.3/\">                <p class=\"release__version\">                  0.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-02-14T13:05:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 14, 2018</time>                </p>              </a>            </div>            <div class=\"release release--oldest\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/c7n-mailer/0.1/\">                <p class=\"release__version\">                  0.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2017-05-16T07:48:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 16, 2017</time>                </p>              </a>            </div>          </div>        </div>          <div id=\"files\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"files-tab mobile-files-tab\" tabindex=\"-1\">            <h2 class=\"page-title\">Download files</h2>            <p>Download the file for your platform. If you're not sure which to choose, learn more about <a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">installing packages</a>.</p>            <h3>Source Distributions            </h3>              <div class=\"file\">                <div class=\"file__graphic\">                  <i class=\"fas fa-exclamation-circle\" aria-hidden=\"true\"></i>                </div>                <div class=\"card\">No source distribution files available for this release.See tutorial on <a href=\"https://packaging.python.org/tutorials/packaging-projects/#generating-distribution-archives\" title=\"External link\" target=\"_blank\" rel=\"noopener\">generating distribution archives</a>.                </div>              </div>            <h3>Built Distribution            </h3>                <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/60/b2/8b8135bc3db21c29fc57cfd69ed807a6c779724c4aeb87b008ddb513721d/c7n_mailer-0.6.33-py3-none-any.whl\">          c7n_mailer-0.6.33-py3-none-any.whl        </a>        (62.6 kB        <a href=\"#copy-hash-modal-05818c54-7906-47f6-a489-292682bda28c\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2024-01-18T18:30:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 18, 2024</time>          <code>py3</code>        </p>      </div>    </div>          </div><div id=\"copy-hash-modal-05818c54-7906-47f6-a489-292682bda28c\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for c7n_mailer-0.6.33-py3-none-any.whl      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for c7n_mailer-0.6.33-py3-none-any.whl</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">5cb946a2131d68459519dc1fcd2af94cafd8e115d3c6e27b83e2d372e0ed733b</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">227078f7e6c26922d3fa2629c696546d</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">60b28b8135bc3db21c29fc57cfd69ed807a6c779724c4aeb87b008ddb513721d</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div>      </div>    </div>  </div></div>    </main>    <footer class=\"footer\">      <div class=\"footer__logo\">        <img src=\"/static/images/white-cube.2351a86c.svg\" alt=\"\" class=\"-js-white-cube\">      </div>      <div class=\"footer__menus\">        <div class=\"footer__menu\">          <h2>Help</h2>          <nav aria-label=\"Help navigation\">            <ul>              <li><a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Installing packages</a></li>              <li><a href=\"https://packaging.python.org/tutorials/packaging-projects/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Uploading packages</a></li>              <li><a href=\"https://packaging.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">User guide</a></li>              <li><a href=\"https://www.python.org/dev/peps/pep-0541/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Project name retention</a></li>              <li><a href=\"/help/\">FAQs</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>About PyPI</h2>          <nav aria-label=\"About PyPI navigation\">            <ul>              <li><a href=\"https://twitter.com/PyPI\" title=\"External link\" target=\"_blank\" rel=\"noopener\">PyPI on Twitter</a></li>              <li><a href=\"https://dtdg.co/pypi\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Infrastructure dashboard</a></li>              <li><a href=\"/stats/\">Statistics</a></li>              <li><a href=\"/trademarks/\">Logos & trademarks</a></li>              <li><a href=\"/sponsors/\">Our sponsors</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Contributing to PyPI</h2>          <nav aria-label=\"How to contribute navigation\">            <ul>              <li><a href=\"/help/#feedback\">Bugs and feedback</a></li>              <li><a href=\"https://github.com/pypi/warehouse\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Contribute on GitHub</a></li>              <li><a href=\"https://hosted.weblate.org/projects/pypa/warehouse/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Translate PyPI</a></li>              <li><a href=\"/sponsors/\">Sponsor PyPI</a></li>              <li><a href=\"https://github.com/pypi/warehouse/graphs/contributors\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Development credits</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Using PyPI</h2>          <nav aria-label=\"Using PyPI navigation\">            <ul>              <li><a href=\"https://github.com/pypa/.github/blob/main/CODE_OF_CONDUCT.md\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Code of conduct</a></li>              <li><a href=\"/security/\">Report security issue</a></li>              <li><a href=\"https://www.python.org/privacy/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Privacy policy</a></li>              <li><a href=\"/policy/terms-of-use/\">Terms of use</a></li>              <li><a href=\"/policy/acceptable-use-policy/\">Acceptable Use Policy</a></li>            </ul>          </nav>        </div>      </div>      <hr class=\"footer__divider\">      <div class=\"footer__text\">        <p>Status:<a href=\"https://status.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">          <span data-statuspage-domain=\"https://2p66nmmycsj3.statuspage.io\">all systems operational</span></a>        </p>        <p>Developed and maintained by the Python community, for the Python community.          <br>          <a href=\"https://donate.pypi.org\">Donate today!</a>        </p>        <p>          \"PyPI\", \"Python Package Index\", and the blocks logos are registered <a href=\"/trademarks/\">trademarks</a> of the <a href=\"https://python.org/psf-landing\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a>.<br>        </p>        <p>          \u00a9 2024 <a href=\"https://www.python.org/psf-landing/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a><br>          <a href=\"/sitemap/\">Site map</a>        </p>      </div>      <div class=\"centered hide-on-desktop\">        <button type=\"button\" class=\"button button--switch-to-desktop hidden\" data-viewport-toggle-target=\"switchToDesktop\" data-action=\"viewport-toggle#switchToDesktop\">Switch to desktop version        </button>      </div>    </footer>    <div class=\"language-switcher\">      <form action=\"/locale/\">        <ul>          <li>            <button              class=\"language-switcher__selected\"              name=\"locale_id\" value=\"en\" type=\"submit\"            >              English            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"es\" type=\"submit\"            >              espa\u00f1ol            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"fr\" type=\"submit\"            >              fran\u00e7ais            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ja\" type=\"submit\"            >              \u65e5\u672c\u8a9e            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"pt_BR\" type=\"submit\"            >              portugu\u00eas (Brasil)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"uk\" type=\"submit\"            >              \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"el\" type=\"submit\"            >              \u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"de\" type=\"submit\"            >              Deutsch            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hans\" type=\"submit\"            >              \u4e2d\u6587 (\u7b80\u4f53)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hant\" type=\"submit\"            >              \u4e2d\u6587 (\u7e41\u9ad4)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ru\" type=\"submit\"            >              \u0440\u0443\u0441\u0441\u043a\u0438\u0439            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"he\" type=\"submit\"            >              \u05e2\u05d1\u05e8\u05d9\u05ea            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"eo\" type=\"submit\"            >              esperanto            </button>          </li>        </ul>      </form>    </div><div class=\"sponsors\">  <p class=\"sponsors__title\">Supported by</p>  <div class=\"sponsors__divider\"></div>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://aws.amazon.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/ed7074cadad1a06f56bc520ad9bd3e00d0704c5b/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6177732d77686974652d6c6f676f2d7443615473387a432e706e67\" alt=AWS loading=lazy>          <span class=\"sponsors__name\">AWS</span>          <span class=\"sponsors__service\">            Cloud computing and Security Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.datadoghq.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/8855f7c063a3bdb5b0ce8d91bfc50cf851cc5c51/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f64617461646f672d77686974652d6c6f676f2d6668644c4e666c6f2e706e67\" alt=Datadog loading=lazy>          <span class=\"sponsors__name\">Datadog</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.fastly.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/df6fe8829cbff2d7f668d98571df1fd011f36192/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f666173746c792d77686974652d6c6f676f2d65684d3077735f6f2e706e67\" alt=Fastly loading=lazy>          <span class=\"sponsors__name\">Fastly</span>          <span class=\"sponsors__service\">            CDN          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://careers.google.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/420cc8cf360bac879e24c923b2f50ba7d1314fb0/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f676f6f676c652d77686974652d6c6f676f2d616734424e3774332e706e67\" alt=Google loading=lazy>          <span class=\"sponsors__name\">Google</span>          <span class=\"sponsors__service\">            Download Analytics          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.python.org/psf/sponsors/#microsoft\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/524d1ce72f7772294ca4c1fe05d21dec8fa3f8ea/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6d6963726f736f66742d77686974652d6c6f676f2d5a443172685444462e706e67\" alt=Microsoft loading=lazy>          <span class=\"sponsors__name\">Microsoft</span>          <span class=\"sponsors__service\">            PSF Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.pingdom.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/d01053c02f3a626b73ffcb06b96367fdbbf9e230/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f70696e67646f6d2d77686974652d6c6f676f2d67355831547546362e706e67\" alt=Pingdom loading=lazy>          <span class=\"sponsors__name\">Pingdom</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://getsentry.com/for/python\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/67af7117035e2345bacb5a82e9aa8b5b3e70701d/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f73656e7472792d77686974652d6c6f676f2d4a2d6b64742d706e2e706e67\" alt=Sentry loading=lazy>          <span class=\"sponsors__name\">Sentry</span>          <span class=\"sponsors__service\">            Error logging          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://statuspage.io\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/b611884ff90435a0575dbab7d9b0d3e60f136466/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f737461747573706167652d77686974652d6c6f676f2d5467476c6a4a2d502e706e67\" alt=StatusPage loading=lazy>          <span class=\"sponsors__name\">StatusPage</span>          <span class=\"sponsors__service\">            Status page          </span>        </a></div>  </body></html>",
  "embeddings": []
}