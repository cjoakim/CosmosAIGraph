{
  "libtype": "pypi",
  "libname": "sops",
  "url": "https://pypi.org/project/sops/",
  "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\">  <head>    <meta charset=\"utf-8\">    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">    <meta name=\"defaultLanguage\" content=\"en\">    <meta name=\"availableLanguages\" content=\"en, es, fr, ja, pt_BR, uk, el, de, zh_Hans, zh_Hant, ru, he, eo\">    <title>sops \u00b7 PyPI</title>    <meta name=\"description\" content=\"Secrets OPerationS (sops) is an editor of encrypted files\">    <link rel=\"stylesheet\" href=\"/static/css/warehouse-ltr.99b3104d.css\">    <link rel=\"stylesheet\" href=\"/static/css/fontawesome.b50b476c.css\">    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Source+Sans+3:400,400italic,600,600italic,700,700italic%7CSource+Code+Pro:500\">    <noscript>      <link rel=\"stylesheet\" href=\"/static/css/noscript.0673c9ea.css\">    </noscript>    <link rel=\"icon\" href=\"/static/images/favicon.35549fe8.ico\" type=\"image/x-icon\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 latest updates\" href=\"/rss/updates.xml\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 newest packages\" href=\"/rss/packages.xml\"><link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: latest releases for sops\" href=\"/rss/project/sops/releases.xml\">    <link rel=\"canonical\" href=\"https://pypi.org/project/sops/\">    <meta property=\"og:url\" content=\"https://pypi.org/project/sops/\">    <meta property=\"og:site_name\" content=\"PyPI\">    <meta property=\"og:type\" content=\"website\">    <meta property=\"og:image\" content=\"https://pypi.org/static/images/twitter.abaf4b19.webp\">    <meta property=\"og:title\" content=\"sops\">    <meta property=\"og:description\" content=\"Secrets OPerationS (sops) is an editor of encrypted files\">    <link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"PyPI\" href=\"/opensearch.xml\">    <script asyncdata-ga-id=\"UA-55961911-1\"data-ga4-id=\"G-RW7D75DF8V\"            src=\"/static/js/warehouse.dd4295c4.js\">    </script><script>MathJax = {  tex: {    inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]  },};</script><script async  src=\"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-svg.js\"  integrity=\"sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=\"  crossorigin=\"anonymous\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-55961911-1\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=G-RW7D75DF8V\"></script><script defer src=\"https://www.fastly-insights.com/insights.js?k=6a52360a-f306-421e-8ed5-7417d0d4a4e9&dnt=true\"></script>    <script async        src=\"https://media.ethicalads.io/media/client/v1.4.0/ethicalads.min.js\"        integrity=\"sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0= sha384-UcmsCqcNRSLW/dV3Lo1oCi2/VaurXbib6p4HyUEOeIa/4OpsrnucrugAefzVZJfI sha512-q4t1L4xEjGV2R4hzqCa41P8jrgFUS8xTb8rdNv4FGvw7FpydVj/kkxBJHOiaoxHa8olCcx1Slk9K+3sNbsM4ug==\"        crossorigin=\"anonymous\"    ></script>  </head>  <body data-controller=\"viewport-toggle\">    <!-- Accessibility: this link should always be the first piece of content inside the body-->    <a href=\"#content\" class=\"skip-to-content\">Skip to main content</a>    <button type=\"button\" class=\"button button--primary button--switch-to-mobile hidden\" data-viewport-toggle-target=\"switchToMobile\" data-action=\"viewport-toggle#switchToMobile\">Switch to mobile version    </button>    <div id=\"sticky-notifications\" class=\"stick-to-top js-stick-to-top\">      <!-- Add browser warning. Will show for ie9 and below -->      <!--[if IE]>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">You are using an unsupported browser, upgrade to a newer version.</span>      </div>      <![endif]-->      <noscript>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">Some features may not work without JavaScript. Please try enabling it if you encounter problems.</span>      </div>      </noscript><div data-html-include=\"/_includes/notification-banners/\"></div>    </div><div data-html-include=\"/_includes/flash-messages/\"></div><div data-html-include=\"/_includes/session-notifications/\"></div>    <header class=\"site-header \">      <div class=\"site-container\">        <div class=\"split-layout\">          <div class=\"split-layout\">            <div>              <a class=\"site-header__logo\" href=\"/\">                <img alt=\"PyPI\" src=\"/static/images/logo-small.2a411bc6.svg\">              </a>            </div>            <form class=\"search-form search-form--primary\" action=\"/search/\" role=\"search\">              <label for=\"search\" class=\"sr-only\">Search PyPI</label>              <input id=\"search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-controller=\"search-focus\" data-action=\"keydown@window->search-focus#focusSearchField\" data-search-focus-target=\"searchField\">              <button type=\"submit\" class=\"search-form__button\">                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>                <span class=\"sr-only\">Search</span>              </button>            </form>          </div><div data-html-include=\"/_includes/current-user-indicator/\">            <div id=\"user-indicator\" class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall\">  <nav class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall hide-on-tablet\" aria-label=\"Main navigation\">    <ul>      <li class=\"horizontal-menu__item\"><a href=\"/help/\" class=\"horizontal-menu__link\">Help</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/sponsors/\" class=\"horizontal-menu__link\">Sponsors</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/login/\" class=\"horizontal-menu__link\">Log in</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/register/\" class=\"horizontal-menu__link\">Register</a></li>    </ul>  </nav>  <nav class=\"dropdown dropdown--on-menu hidden show-on-tablet\" aria-label=\"Main navigation\">    <button type=\"button\" class=\"horizontal-menu__link dropdown__trigger\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-label=\"View menu\">Menu      <span class=\"dropdown__trigger-caret\">        <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>      </span>    </button>    <ul class=\"dropdown__content\" aria-hidden=\"true\" aria-label=\"Main menu\">      <li><a class=\"dropdown__link\" href=\"/help/\">Help</a></li>      <li><a class=\"dropdown__link\" href=\"/sponsors/\">Sponsors</a></li>      <li><a class=\"dropdown__link\" href=\"/account/login/\">Log in</a></li>      <li><a class=\"dropdown__link\" href=\"/account/register/\">Register</a></li>    </ul>  </nav></div></div>        </div>      </div>    </header>    <div class=\"mobile-search\">      <form class=\"search-form search-form--fullwidth\" action=\"/search/\" role=\"search\">        <label for=\"mobile-search\" class=\"sr-only\">Search PyPI</label>        <input id=\"mobile-search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\">                <button type=\"submit\" class=\"search-form__button\">          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Search</span>        </button>      </form>    </div>    <main id=\"content\"><div class=\"hidden\"  data-controller=\"github-repo-stats\"  data-github-repo-stats-github-repo-info-outlet=\".github-repo-info\"  data-github-repo-stats-url-value=\"https://api.github.com/repos/mozilla/sops\"  data-github-repo-stats-issue-url-value=\"https://api.github.com/search/issues?q=repo:mozilla/sops+type:issue+state:open&amp;per_page=1\"></div><div class=\"banner\">  <div class=\"package-header\">    <div class=\"package-header__left\">      <h1 class=\"package-header__name\">        sops 1.18      </h1>      <div data-controller=\"clipboard\">        <p class=\"package-header__pip-instructions\">          <span id=\"pip-command\" data-clipboard-target=\"source\">pip install sops</span>          <button type=\"button\" class=\"copy-tooltip copy-tooltip-s\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">            <i class=\"fa fa-copy\" aria-hidden=\"true\"></i>            <span class=\"sr-only\">Copy PIP instructions</span>          </button>        </p>      </div>    </div>    <div class=\"package-header__right\">      <a class=\"status-badge status-badge--good\" href=\"/project/sops/\">        <span>Latest version</span>      </a>      <p class=\"package-header__date\">Released: <time datetime=\"2018-11-28T03:04:43+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2018</time>      </p>    </div>  </div></div><div class=\"horizontal-section horizontal-section--grey horizontal-section--thin\">  <div class=\"site-container\"><div data-html-include=\"/_includes/administer-project-include/sops\"></div>    <div class=\"split-layout split-layout--middle package-description\">      <p class=\"package-description__summary\">Secrets OPerationS (sops) is an editor of encrypted files</p><div data-html-include=\"/_includes/edit-project-button/sops\"></div>    </div>  </div></div><div data-controller=\"project-tabs\">  <div class=\"tabs-container\">    <div class=\"vertical-tabs\">      <div class=\"vertical-tabs__tabs\">        <div class=\"sidebar-section\">          <h3 class=\"sidebar-section__title\">Navigation</h3>          <nav aria-label=\"Navigation for sops\">            <ul class=\"vertical-tabs__list\" role=\"tablist\">              <li role=\"tab\">                <a id=\"description-tab\" href=\"#description\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                  <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description                </a>              </li>              <li role=\"tab\">                <a id=\"history-tab\" href=\"#history\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Release history. Focus will be moved to the history panel.\">                  <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history                </a>              </li>              <li role=\"tab\">                <a id=\"files-tab\" href=\"#files\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Download files. Focus will be moved to the project files.\">                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files                </a>              </li>            </ul>          </nav>        </div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/mozilla/sops\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/sops\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> Mozilla Public License 2.0 (MPL 2.0) (MPL)</p>    <p><strong>Author:</strong> <a href=\"mailto:jvehent@mozilla.com\">Julien Vehent</a></p>  <p class=\"tags\">    <i class=\"fa fa-tags\" aria-hidden=\"true\"></i>    <span class=\"sr-only\">Tags</span>    <span class=\"package-keyword\">      mozilla,    </span>    <span class=\"package-keyword\">      secret,    </span>    <span class=\"package-keyword\">      credential,    </span>    <span class=\"package-keyword\">      encryption,    </span>    <span class=\"package-keyword\">      aws,    </span>    <span class=\"package-keyword\">      kms    </span>  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/mozfoxsec/\" aria-label=\"mozfoxsec\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/cd039dba40d91d10e01adb70570fc7c7935dbfa0/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f35353862336534313637396236316131333965623531346337363230636433353f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for mozfoxsec from gravatar.com\" title=\"Avatar for mozfoxsec from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            mozfoxsec          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Development Status</strong>      <ul>        <li>          <a href=\"/search/?c=Development+Status+%3A%3A+5+-+Production%2FStable\">            5 - Production/Stable          </a>        </li>      </ul>    </li>    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+Mozilla+Public+License+2.0+%28MPL+2.0%29\">            OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Libraries+%3A%3A+Python+Modules\">            Software Development :: Libraries :: Python Modules          </a>        </li>      </ul>    </li>  </ul></div><div class=\"sidebar-section\" data-ea-publisher=\"psf\" data-ea-type=\"psf\" data-ea-keywords=\"pypi-sidebar\"></div>      </div>      <div class=\"vertical-tabs__panel\">        <!-- mobile menu -->        <nav aria-label=\"Navigation for sops\">          <ul class=\"vertical-tabs__list\" role=\"tablist\">            <li role=\"tab\">              <a id=\"mobile-description-tab\" href=\"#description\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile vertical-tabs__tab--no-top-border vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-data-tab\" href=\"#data\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Project details. Focus will be moved to the project details.\">                <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>Project details              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-history-tab\" href=\"#history\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Release history. Focus will be moved to the history panel.\">              <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history            </a>            </li>            <li role=\"tab\">              <a id=\"mobile-files-tab\" href=\"#files\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Download files. Focus will be moved to the project files.\">                <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files              </a>            </li>          </ul>        </nav>        <div id=\"description\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"description-tab mobile-description-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project description</h2>          <div class=\"project-description\">            <a href=\"http://unmaintained.tech/\" rel=nofollow><img alt=\"No Maintenance Intended\" src=\"https://pypi-camo.freetls.fastly.net/bb3a17bdc41b666773c9619abb7d163bc33fedb5/687474703a2f2f756e6d61696e7461696e65642e746563682f62616467652e737667\"></a><p>This is the Python version of SOPS that is no longer maintained. We fix the occasional bug, but all improvements happen in the Go version of SOPS, over in the Master branch. You have been warned!</p><p><strong>sop</strong> is an editor of encrypted files that supports YAML, JSON and BINARY formats and encrypts with AWS KMS and PGP (via GnuPG). Watch <a href=\"https://www.youtube.com/watch?v=YTEVyLXFiq0\" rel=nofollow>the demo</a>.</p><img alt=\"http://i.imgur.com/IL6dlhm.gif\" src=\"https://pypi-camo.freetls.fastly.net/138db6b84bcbdafc8a49af44cc10ebfbb682b3ee/687474703a2f2f692e696d6775722e636f6d2f494c36646c686d2e676966\"><a href=\"https://travis-ci.org/mozilla/sops\" rel=nofollow><img alt=\"https://travis-ci.org/mozilla/sops.svg?branch=master\" src=\"https://pypi-camo.freetls.fastly.net/f3ed0f2f5a25bebe2043a9491520736faef6ba78/68747470733a2f2f7472617669732d63692e6f72672f6d6f7a696c6c612f736f70732e7376673f6272616e63683d6d6173746572\"></a><p><strong>Questions?</strong> ping \u201culfr\u201d in <cite>#security</cite> on <a href=\"https://wiki.mozilla.org/IRC\" rel=nofollow>irc.mozilla.org</a>(use a web client like <a href=\"https://chat.mibbit.com\" rel=nofollow>mibbit</a> ).</p><nav class=contents id=table-of-contents><p class=topic-title>Table of Contents</p><ul class=\"auto-toc simple\"><li><p><a href=#installation id=toc-entry-1 rel=nofollow><span class=sectnum>1 </span>Installation</a></p><ul class=auto-toc><li><p><a href=#in-a-virtualenv id=toc-entry-2 rel=nofollow><span class=sectnum>1.1 </span>In a virtualenv</a></li><li><p><a href=#test-with-the-dev-pgp-key id=toc-entry-3 rel=nofollow><span class=sectnum>1.2 </span>Test with the dev PGP key</a></li></ul></li><li><p><a href=#usage id=toc-entry-4 rel=nofollow><span class=sectnum>2 </span>Usage</a></p><ul class=auto-toc><li><p><a href=#adding-and-removing-keys id=toc-entry-5 rel=nofollow><span class=sectnum>2.1 </span>Adding and removing keys</a></li><li><p><a href=#assuming-roles-and-using-kms-in-various-aws-accounts id=toc-entry-6 rel=nofollow><span class=sectnum>2.2 </span>Assuming roles and using KMS in various AWS accounts</a></li><li><p><a href=#aws-kms-encryption-context id=toc-entry-7 rel=nofollow><span class=sectnum>2.3 </span>AWS KMS Encryption Context</a></li><li><p><a href=#key-rotation id=toc-entry-8 rel=nofollow><span class=sectnum>2.4 </span>Key Rotation</a></li><li><p><a href=#using-sops-yaml-conf-to-select-kms-pgp-for-new-files id=toc-entry-9 rel=nofollow><span class=sectnum>2.5 </span>Using .sops.yaml conf to select KMS/PGP for new files</a></li><li><p><a href=#specify-a-different-gpg-executable id=toc-entry-10 rel=nofollow><span class=sectnum>2.6 </span>Specify a different GPG executable</a></li></ul></li><li><p><a href=#important-information-on-types id=toc-entry-11 rel=nofollow><span class=sectnum>3 </span>Important information on types</a></p><ul class=auto-toc><li><p><a href=#yaml-and-json-type-extensions id=toc-entry-12 rel=nofollow><span class=sectnum>3.1 </span>YAML and JSON type extensions</a></li><li><p><a href=#yaml-anchors id=toc-entry-13 rel=nofollow><span class=sectnum>3.2 </span>YAML anchors</a></li><li><p><a href=#top-level-arrays id=toc-entry-14 rel=nofollow><span class=sectnum>3.3 </span>Top-level arrays</a></li></ul></li><li><p><a href=#examples id=toc-entry-15 rel=nofollow><span class=sectnum>4 </span>Examples</a></p><ul class=auto-toc><li><p><a href=#creating-a-new-file id=toc-entry-16 rel=nofollow><span class=sectnum>4.1 </span>Creating a new file</a></li><li><p><a href=#encrypting-an-existing-file id=toc-entry-17 rel=nofollow><span class=sectnum>4.2 </span>Encrypting an existing file</a></li><li><p><a href=#encrypt-or-decrypt-a-file-in-place id=toc-entry-18 rel=nofollow><span class=sectnum>4.3 </span>Encrypt or decrypt a file in place</a></li><li><p><a href=#encrypting-binary-files id=toc-entry-19 rel=nofollow><span class=sectnum>4.4 </span>Encrypting binary files</a></li><li><p><a href=#extract-a-sub-part-of-a-document-tree id=toc-entry-20 rel=nofollow><span class=sectnum>4.5 </span>Extract a sub-part of a document tree</a></li><li><p><a href=#set-a-sub-part-in-a-document-tree id=toc-entry-21 rel=nofollow><span class=sectnum>4.6 </span>Set a sub-part in a document tree</a></li><li><p><a href=#using-sops-as-a-library-in-a-python-script id=toc-entry-22 rel=nofollow><span class=sectnum>4.7 </span>Using sops as a library in a python script</a></li><li><p><a href=#showing-diffs-in-cleartext-in-git id=toc-entry-23 rel=nofollow><span class=sectnum>4.8 </span>Showing diffs in cleartext in git</a></li><li><p><a href=#encrypting-only-parts-of-a-file id=toc-entry-24 rel=nofollow><span class=sectnum>4.9 </span>Encrypting only parts of a file</a></li></ul></li><li><p><a href=#encryption-protocol id=toc-entry-25 rel=nofollow><span class=sectnum>5 </span>Encryption Protocol</a></p><ul class=auto-toc><li><p><a href=#message-authentication-code id=toc-entry-26 rel=nofollow><span class=sectnum>5.1 </span>Message Authentication Code</a></li></ul></li><li><p><a href=#motivation id=toc-entry-27 rel=nofollow><span class=sectnum>6 </span>Motivation</a></p><ul class=auto-toc><li><p><a href=#the-initial-trust id=toc-entry-28 rel=nofollow><span class=sectnum>6.1 </span>The initial trust</a></li><li><p><a href=#kms-trust-and-secrets-distribution id=toc-entry-29 rel=nofollow><span class=sectnum>6.2 </span>KMS, Trust and secrets distribution</a></li><li><p><a href=#operational-requirements id=toc-entry-30 rel=nofollow><span class=sectnum>6.3 </span>Operational requirements</a></li><li><p><a href=#openpgp-integration id=toc-entry-31 rel=nofollow><span class=sectnum>6.4 </span>OpenPGP integration</a></li></ul></li><li><p><a href=#threat-model id=toc-entry-32 rel=nofollow><span class=sectnum>7 </span>Threat Model</a></p><ul class=auto-toc><li><p><a href=#compromised-aws-credentials-grant-access-to-kms-master-key id=toc-entry-33 rel=nofollow><span class=sectnum>7.1 </span>Compromised AWS credentials grant access to KMS master key</a></li><li><p><a href=#compromised-pgp-key id=toc-entry-34 rel=nofollow><span class=sectnum>7.2 </span>Compromised PGP key</a></li><li><p><a href=#factorized-rsa-key id=toc-entry-35 rel=nofollow><span class=sectnum>7.3 </span>Factorized RSA key</a></li><li><p><a href=#weak-aes-cryptography id=toc-entry-36 rel=nofollow><span class=sectnum>7.4 </span>Weak AES cryptography</a></li></ul></li><li><p><a href=#backward-compatibility id=toc-entry-37 rel=nofollow><span class=sectnum>8 </span>Backward compatibility</a></li><li><p><a href=#license id=toc-entry-38 rel=nofollow><span class=sectnum>9 </span>License</a></li><li><p><a href=#authors id=toc-entry-39 rel=nofollow><span class=sectnum>10 </span>Authors</a></li><li><p><a href=#credits id=toc-entry-40 rel=nofollow><span class=sectnum>11 </span>Credits</a></li></ul></nav><section id=installation><h2><a href=#toc-entry-1 rel=nofollow><span class=sectnum>1 </span>Installation</a></h2><ul><li><p>RHEL family:</p><pre>sudo yum install gcc git libffi-devel libyaml-devel make openssl openssl-devel python-devel python-pipsudo pip install --upgrade sops</pre></li><li><p>Debian family:</p><pre>sudo apt-get install gcc git libffi-dev libssl-dev libyaml-dev make openssl python-dev python-pipsudo pip install --upgrade sops</pre></li><li><p>MacOS Brew Install:</p><pre>brew install sops</pre></li><li><p>MacOS Manual Install:</p><pre>brew install libffi libyaml python [1]pip install sops</pre></li></ul><ol><li><p><a href=\"http://docs.python-guide.org/en/latest/starting/install/osx/#doing-it-right\" rel=nofollow>http://docs.python-guide.org/en/latest/starting/install/osx/#doing-it-right</a></li></ol><section id=in-a-virtualenv><h3><a href=#toc-entry-2 rel=nofollow><span class=sectnum>1.1 </span>In a virtualenv</a></h3><p>Assuming you already have libffi and libyaml installed, the following commands will install sops in a virtualenv:</p><pre><code>$<span class=w> </span>sudo<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>virtualenv<span class=w> </span>--upgrade<span class=w></span>$<span class=w> </span>virtualenv<span class=w> </span>~/sopsvenv<span class=w></span>$<span class=w> </span><span class=nb>source</span><span class=w> </span>~/sopsvenv/bin/activate<span class=w></span>$<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>-U<span class=w> </span>sops<span class=w></span>$<span class=w> </span>sops<span class=w> </span>-v<span class=w></span>sops<span class=w> </span><span class=m>1</span>.9</code></pre></section><section id=test-with-the-dev-pgp-key><h3><a href=#toc-entry-3 rel=nofollow><span class=sectnum>1.2 </span>Test with the dev PGP key</a></h3><p>Clone the repository, load the test PGP key and open the test files:</p><pre>$ git clone https://github.com/mozilla/sops.git$ cd sops$ gpg --import tests/sops_functional_tests_key.asc$ sops example.yaml</pre><p>This last step will decrypt <cite>example.yaml</cite> using the test private key. To createyour own secrets files using keys under your control, keep reading.</p></section></section><section id=usage><h2><a href=#toc-entry-4 rel=nofollow><span class=sectnum>2 </span>Usage</a></h2><p>If you\u2019re using AWS KMS, create one or multiple master keys in the IAM consoleand export them, comma separated, in the <strong>SOPS_KMS_ARN</strong> env variable. It isrecommended to use at least two master keys in different regions.</p><pre><code><span class=nb>export</span><span class=w> </span><span class=nv>SOPS_KMS_ARN</span><span class=o>=</span><span class=s2>\"arn:aws:kms:us-east-1:656532927350:key/920aff2e-c5f1-4040-943a-047fa387b27e,arn:aws:kms:ap-southeast-1:656532927350:key/9006a8aa-0fa6-4c14-930e-a2dfb916de1d\"</span></code></pre><p>Your AWS credentials must be present in <cite>~/.aws/credentials</cite>. sops uses boto3.</p><pre><code>$ cat ~/.aws/credentials[default]aws_access_key_id = AKI.....aws_secret_access_key = mw......</code></pre><p>If you want to use PGP, export the fingerprints of the public keys, commaseparated, in the <strong>SOPS_PGP_FP</strong> env variable.</p><pre><code><span class=nb>export</span><span class=w> </span><span class=nv>SOPS_PGP_FP</span><span class=o>=</span><span class=s2>\"85D77543B3D624B63CEA9E6DBC17301B491B3F21,E60892BB9BD89A69F759A1A0A3D652173B763E8F\"</span></code></pre><p>Note: you can use both PGP and KMS simultaneously.</p><p>Then simply call <cite>sops</cite> with a file path as argument. It will handle theencryption/decryption transparently and open the cleartext file in an editor</p><pre><code>$<span class=w> </span>sops<span class=w> </span>mynewtestfile.yaml<span class=w></span>mynewtestfile.yaml<span class=w> </span>doesn<span class=err>'</span>t<span class=w> </span>exist,<span class=w> </span>creating<span class=w> </span>it.<span class=w></span>please<span class=w> </span><span class=nb>wait</span><span class=w> </span><span class=k>while</span><span class=w> </span>an<span class=w> </span>encryption<span class=w> </span>key<span class=w> </span>is<span class=w> </span>being<span class=w> </span>generated<span class=w> </span>and<span class=w> </span>stored<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>secure<span class=w> </span>fashion<span class=w></span>file<span class=w> </span>written<span class=w> </span>to<span class=w> </span>mynewtestfile.yaml</code></pre><p>.Editing will happen in whatever $EDITOR is set to, or, if it\u2019s not set, in vim.Keep in mind that sops will wait for the editor to exit, and then try to reencryptthe file. Some GUI editors (atom, sublime) spawn a child process and then exitimmediately. They usually have an option to wait for the main editor window to beclosed before exiting. See [#127](<a href=\"https://github.com/mozilla/sops/issues/127\" rel=nofollow>https://github.com/mozilla/sops/issues/127</a>) formore information.</p><p>The resulting encrypted file looks like this:</p><pre><code><span class=nt>myapp1</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:Tr7o=,iv:1=,aad:No=,tag:k=]</span><span class=w></span><span class=nt>app2</span><span class=p>:</span><span class=w>    </span><span class=nt>db</span><span class=p>:</span><span class=w>        </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:CwE4O1s=,iv:2k=,aad:o=,tag:w==]</span><span class=w>        </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:p673w==,iv:YY=,aad:UQ=,tag:A=]</span><span class=w>    </span><span class=c1># private key for secret operations in app2</span><span class=w>    </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=p-Indicator>|-</span><span class=w>        </span><span class=no>ENC[AES256_GCM,data:Ea3kL5O5U8=,iv:DM=,aad:FKA=,tag:EA==]</span><span class=w></span><span class=nt>an_array</span><span class=p>:</span><span class=w></span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:v8jQ=,iv:HBE=,aad:21c=,tag:gA==]</span><span class=w></span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:X10=,iv:o8=,aad:CQ=,tag:Hw==]</span><span class=w></span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>ENC[AES256_GCM,data:KN=,iv:160=,aad:fI4=,tag:tNw==]</span><span class=w></span><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>kms</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>created_at</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>1441570389.775376</span><span class=w>        </span><span class=nt>enc</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>CiC....Pm1Hm</span><span class=w>        </span><span class=nt>arn</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:kms:us-east-1:656532927350:key/920aff2e-c5f1-4040-943a-047fa387b27e</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>created_at</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>1441570391.925734</span><span class=w>        </span><span class=nt>enc</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>Ci...awNx</span><span class=w>        </span><span class=nt>arn</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:kms:ap-southeast-1:656532927350:key/9006a8aa-0fa6-4c14-930e-a2dfb916de1d</span><span class=w>    </span><span class=nt>pgp</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>fp</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>85D77543B3D624B63CEA9E6DBC17301B491B3F21</span><span class=w>        </span><span class=nt>created_at</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>1441570391.930042</span><span class=w>        </span><span class=nt>enc</span><span class=p>:</span><span class=w> </span><span class=p-Indicator>|</span><span class=w>            </span><span class=no>-----BEGIN PGP MESSAGE-----</span><span class=w>            </span><span class=no>hQIMA0t4uZHfl9qgAQ//UvGAwGePyHuf2/zayWcloGaDs0MzI+zw6CmXvMRNPUsA</span><span class=w>                            </span><span class=no>...=oJgS</span><span class=w>            </span><span class=no>-----END PGP MESSAGE-----</span></code></pre><p>A copy of the encryption/decryption key is stored securely in each KMS and PGPblock. As long as one of the KMS or PGP method is still usable, you will be ableto access your data.</p><p>To decrypt a file in a <cite>cat</cite> fashion, use the <cite>-d</cite> flag:</p><pre><code>$<span class=w> </span>sops<span class=w> </span>-d<span class=w> </span>mynewtestfile.yaml</code></pre><p><cite>sops</cite> encrypted files contain the necessary information to decrypt their content.All a user of <cite>sops</cite> needs is valid AWS credentials and the necessarypermissions on KMS keys.</p><p>Given that, the only command a <cite>sops</cite> user needs is:</p><pre><code>$<span class=w> </span>sops<span class=w> </span>&lt;file&gt;</code></pre><p><cite>&lt;file&gt;</cite> will be opened, decrypted, passed to a text editor (vim by default),encrypted if modified, and saved back to its original location. All of thesesteps, apart from the actual editing, are transparent to the user.</p><section id=adding-and-removing-keys><h3><a href=#toc-entry-5 rel=nofollow><span class=sectnum>2.1 </span>Adding and removing keys</a></h3><p>When creating new files, <cite>sops</cite> uses the PGP and KMS defined in the commandline arguments <cite>\u2013kms</cite> and <cite>\u2013pgp</cite>, or from the environment variables<cite>SOPS_KMS_ARN</cite> and <cite>SOPS_PGP_FP</cite>. That information is stored in the file underthe <cite>sops</cite> section, such that decrypting files does not require providing thoseparameters again.</p><p>Master PGP and KMS keys can be added and removed from a <cite>sops</cite> file in one oftwo ways: by using command line flag, or by editing the file directly.</p><p>Command line flag <cite>\u2013add-kms</cite>, <cite>\u2013add-pgp</cite>, <cite>\u2013rm-kms</cite> and <cite>\u2013rm-pgp</cite> can beused to add and remove keys from a file. These flags use the comma separatedsyntax as the <cite>\u2013kms</cite> and <cite>\u2013pgp</cite> arguments when creating new files.</p><pre><code><span class=c1># add a new pgp key to the file and rotate the data key</span>$<span class=w> </span>sops<span class=w> </span>-r<span class=w> </span>--add-pgp<span class=w> </span>85D77543B3D624B63CEA9E6DBC17301B491B3F21<span class=w> </span>example.yaml<span class=w></span><span class=c1># remove a pgp key from the file and rotate the data key</span>$<span class=w> </span>sops<span class=w> </span>-r<span class=w> </span>--rm-pgp<span class=w> </span>85D77543B3D624B63CEA9E6DBC17301B491B3F21<span class=w> </span>example.yaml</code></pre><p>Alternatively, invoking <cite>sops</cite> with the flag <strong>-s</strong> will display the master keyswhile editing. This method can be used to add or remove kms or pgp keys under thesops section.</p><p>For example, to add a KMS master key to a file, add the following entry whileediting:</p><pre><code><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>kms</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w> </span><span class=nt>arn</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:kms:us-east-1:656532927350:key/920aff2e-c5f1-4040-943a-047fa387b27e</span></code></pre><p>And, similarly, to add a PGP master key, we add its fingerprint:</p><pre><code><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>pgp</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w> </span><span class=nt>fp</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>85D77543B3D624B63CEA9E6DBC17301B491B3F21</span></code></pre><p>When the file is saved, <cite>sops</cite> will update its metadata and encrypt the data keywith the freshly added master keys. The removed entries are simply deleted fromthe file.</p><p>When removing keys, it is recommended to rotate the data key using <cite>-r</cite>,otherwise owners of the removed key may have add access to the data key in thepast.</p></section><section id=assuming-roles-and-using-kms-in-various-aws-accounts><h3><a href=#toc-entry-6 rel=nofollow><span class=sectnum>2.2 </span>Assuming roles and using KMS in various AWS accounts</a></h3><p>SOPS has the ability to use KMS in multiple AWS accounts by assuming roles ineach account. Being able to assume roles is a nice feature of AWS that allowsadministrators to establish trust relationships between accounts, typically fromthe most secure account to the least secure one. In our use-case, we use rolesto indicate that a user of the Master AWS account is allowed to make use of KMSmaster keys in development and staging AWS accounts. Using roles, a single filecan be encrypted with KMS keys in multiple accounts, thus increasing reliabilityand ease of use.</p><p>You can use keys in various accounts by tying each KMS master key to a role thatthe user is allowed to assume in each account. The <a href=\"http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html\" rel=nofollow>IAM roles</a>documentation has full details on how this needs to be configured on AWS\u2019s side.</p><p>From the point of view of <cite>sops</cite>, you only need to specify the role a KMS keymust assume alongside its ARN, as follows:</p><pre><code><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>kms</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>arn</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:kms:us-east-1:656532927350:key/920aff2e-c5f1-4040-943a-047fa387b27e</span><span class=w>        </span><span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:iam::927034868273:role/sops-dev-xyz</span></code></pre><p>The role must have permission to call Encrypt and Decrypt using KMS. An examplepolicy is shown below.</p><pre><code><span class=p>{</span><span class=w>  </span><span class=nt>\"Sid\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"Allow use of the key\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Effect\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"Allow\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Action\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>        </span><span class=s2>\"kms:Encrypt\"</span><span class=p>,</span><span class=w>        </span><span class=s2>\"kms:Decrypt\"</span><span class=p>,</span><span class=w>        </span><span class=s2>\"kms:ReEncrypt*\"</span><span class=p>,</span><span class=w>        </span><span class=s2>\"kms:GenerateDataKey*\"</span><span class=p>,</span><span class=w>        </span><span class=s2>\"kms:DescribeKey\"</span><span class=w>  </span><span class=p>],</span><span class=w>  </span><span class=nt>\"Resource\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"*\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Principal\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>        </span><span class=nt>\"AWS\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>          </span><span class=s2>\"arn:aws:iam::927034868273:role/sops-dev-xyz\"</span><span class=w>        </span><span class=p>]</span><span class=w>  </span><span class=p>}</span><span class=w></span><span class=p>}</span></code></pre><p>You can specify a role in the <cite>\u2013kms</cite> flag and <cite>SOPS_KMS_ARN</cite> variable byappending it to the ARN of the master key, separated by a <strong>+</strong> sign:</p><pre>&lt;KMS ARN&gt;+&lt;ROLE ARN&gt;arn:aws:kms:us-west-2:927034868273:key/fe86dd69-4132-404c-ab86-4269956b4500+arn:aws:iam::927034868273:role/sops-dev-xyz</pre></section><section id=aws-kms-encryption-context><h3><a href=#toc-entry-7 rel=nofollow><span class=sectnum>2.3 </span>AWS KMS Encryption Context</a></h3><p>SOPS has the ability to use AWS KMS key policy and encryption context&lt;<a href=\"http://docs.aws.amazon.com/kms/latest/developerguide/encryption-context.html\" rel=nofollow>http://docs.aws.amazon.com/kms/latest/developerguide/encryption-context.html</a>&gt;to refine the access control of a given KMS master key.</p><p>When creating a new file, you can specify encryption context in the<cite>\u2013encryption-context</cite> flag by comma separated list of key-value pairs:</p><p>When creating a new file, you can specify encryption context in the<cite>\u2013encryption-context</cite> flag by comma separated list of key-value pairs:</p><pre><code>$<span class=w> </span>sops<span class=w> </span>--encryption-context<span class=w> </span>Environment:production,Role:web-server<span class=w> </span>test.dev.yaml</code></pre><p>The format of the Encrypt Context string is <cite>&lt;EncryptionContext Key&gt;:&lt;EncryptionContext Value&gt;,&lt;EncryptionContext Key&gt;:&lt;EncryptionContext Value&gt;,\u2026</cite></p><p>The encryption context will be stored in the file metadata and doesnot need to be provided at decryption.</p><p>Encryption contexts can be used in conjunction with KMS Key Policies to defineroles that can only access a given context. An example policy is shown below:</p><pre><code><span class=p>{</span><span class=w>  </span><span class=nt>\"Effect\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"Allow\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Principal\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>    </span><span class=nt>\"AWS\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"arn:aws:iam::111122223333:role/RoleForExampleApp\"</span><span class=w>  </span><span class=p>},</span><span class=w>  </span><span class=nt>\"Action\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"kms:Decrypt\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Resource\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"*\"</span><span class=p>,</span><span class=w>  </span><span class=nt>\"Condition\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>    </span><span class=nt>\"StringEquals\"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>      </span><span class=nt>\"kms:EncryptionContext:AppName\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"ExampleApp\"</span><span class=p>,</span><span class=w>      </span><span class=nt>\"kms:EncryptionContext:FilePath\"</span><span class=p>:</span><span class=w> </span><span class=s2>\"/var/opt/secrets/\"</span><span class=w>    </span><span class=p>}</span><span class=w>  </span><span class=p>}</span><span class=w></span><span class=p>}</span></code></pre></section><section id=key-rotation><h3><a href=#toc-entry-8 rel=nofollow><span class=sectnum>2.4 </span>Key Rotation</a></h3><p>It is recommended to renew the data key on a regular basis. <cite>sops</cite> supports keyrotation via the <cite>-r</cite> flag. Invoking it on an existing file causes sops toreencrypt the file with a new data key, which is then encrypted with the variousKMS and PGP master keys defined in the file.</p><pre><code>sops<span class=w> </span>-r<span class=w> </span>example.yaml</code></pre></section><section id=using-sops-yaml-conf-to-select-kms-pgp-for-new-files><h3><a href=#toc-entry-9 rel=nofollow><span class=sectnum>2.5 </span>Using .sops.yaml conf to select KMS/PGP for new files</a></h3><p>It is often tedious to specify the <cite>\u2013kms</cite> and <cite>\u2013pgp</cite> parameters for creationof all new files. If your secrets are stored under a specific directory, like a<cite>git</cite> repository, you can create a <cite>.sops.yaml</cite> configuration file at the rootdirectory to define which keys are used for which filename.</p><p>Let\u2019s take an example:</p><ul class=simple><li><p>file named <strong>something.dev.yaml</strong> should use one set of KMS A</li><li><p>file named <strong>something.prod.yaml</strong> should use another set of KMS B</li><li><p>other files use a third set of KMS C</li><li><p>all live under <strong>mysecretrepo/something.{dev,prod}.yaml</strong></li></ul><p>Under those circumstances, a file placed at <strong>mysecretrepo/.sops.yaml</strong>can manage the three sets of configurations for the three types of files:</p><pre><code><span class=c1># creation rules are evaluated sequentially, the first match wins</span><span class=w></span><span class=nt>creation_rules</span><span class=p>:</span><span class=w>        </span><span class=c1># upon creation of a file that matches the pattern *.dev.yaml,</span><span class=w>        </span><span class=c1># KMS set A is used</span><span class=w>        </span><span class=p-Indicator>-</span><span class=w> </span><span class=nt>filename_regex</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>\\.dev\\.yaml$</span><span class=w>          </span><span class=nt>kms</span><span class=p>:</span><span class=w> </span><s>'arn:aws:kms:us-west-2:927034868273:key/fe86dd69-4132-404c-ab86-4269956b4500,arn:aws:kms:us-west-2:361527076523:key/5052f06a-5d3f-489e-b86c-57201e06f31e+arn:aws:iam::361527076523:role/hiera-sops-prod'</s><span class=w>          </span><span class=nt>pgp</span><span class=p>:</span><span class=w> </span><s>'1022470DE3F0BC54BC6AB62DE05550BC07FB1A0A'</s><span class=w>        </span><span class=c1># prod files use KMS set B in the PROD IAM</span><span class=w>        </span><span class=p-Indicator>-</span><span class=w> </span><span class=nt>filename_regex</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>\\.prod\\.yaml$</span><span class=w>          </span><span class=nt>kms</span><span class=p>:</span><span class=w> </span><s>'arn:aws:kms:us-west-2:361527076523:key/5052f06a-5d3f-489e-b86c-57201e06f31e+arn:aws:iam::361527076523:role/hiera-sops-prod,arn:aws:kms:eu-central-1:361527076523:key/cb1fab90-8d17-42a1-a9d8-334968904f94+arn:aws:iam::361527076523:role/hiera-sops-prod'</s><span class=w>          </span><span class=nt>pgp</span><span class=p>:</span><span class=w> </span><s>'1022470DE3F0BC54BC6AB62DE05550BC07FB1A0A'</s><span class=w>        </span><span class=c1># Finally, if the rules above have not matched, this one is a</span><span class=w>        </span><span class=c1># catchall that will encrypt the file using KMS set C</span><span class=w>        </span><span class=c1># The absence of a filename_regex means it will match everything</span><span class=w>        </span><span class=p-Indicator>-</span><span class=w> </span><span class=nt>kms</span><span class=p>:</span><span class=w> </span><s>'arn:aws:kms:us-west-2:927034868273:key/fe86dd69-4132-404c-ab86-4269956b4500,arn:aws:kms:us-west-2:142069644989:key/846cfb17-373d-49b9-8baf-f36b04512e47,arn:aws:kms:us-west-2:361527076523:key/5052f06a-5d3f-489e-b86c-57201e06f31e'</s><span class=w>          </span><span class=nt>pgp</span><span class=p>:</span><span class=w> </span><s>'1022470DE3F0BC54BC6AB62DE05550BC07FB1A0A'</s></code></pre><p>When creating any file under <strong>mysecretrepo</strong>, whether at the root or undera subdirectory, sops will recursively look for a <cite>.sops.yaml</cite> file. If one isfound, the filename of the file being created is compared with the filenameregexes of the configuration file. The first regex that matches is selected,and its KMS and PGP keys are used to encrypt the file.</p><p>Creating a new file with the right keys is now as simple as</p><pre><code>$<span class=w> </span>sops<span class=w> </span>&lt;newfile&gt;.prod.yaml</code></pre><p>Note that the configuration file is ignored when KMS or PGP parameters arepassed on the sops command line or in environment variables.</p></section><section id=specify-a-different-gpg-executable><h3><a href=#toc-entry-10 rel=nofollow><span class=sectnum>2.6 </span>Specify a different GPG executable</a></h3><p><cite>sops</cite> checks for the <cite>SOPS_GPG_EXEC</cite> environment variable. If specified,it will attempt to use the executable set there instead of the defaultof <cite>gpg</cite>.</p><p>Example: place the following in your <cite>~/.bashrc</cite></p><pre><code><span class=nv>SOPS_GPG_EXEC</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>'your_gpg_client_wrapper'</span></code></pre></section></section><section id=important-information-on-types><h2><a href=#toc-entry-11 rel=nofollow><span class=sectnum>3 </span>Important information on types</a></h2><section id=yaml-and-json-type-extensions><h3><a href=#toc-entry-12 rel=nofollow><span class=sectnum>3.1 </span>YAML and JSON type extensions</a></h3><p><cite>sops</cite> uses the file extension to decide which encryption method to use on the filecontent. <cite>YAML</cite> and <cite>JSON</cite> files are treated as trees of data, and key/values areextracted from the files to only encrypt the leaf values. The tree structure is alsoused to check the integrity of the file.</p><p>Therefore, if a file is encrypted using a specific format, it need to be decryptedin the same format. The easiest way to achieve this is to conserve the original fileextension after encrypting a file. For example:</p><pre>$ sops -e -i myfile.json$ sops -d myfile.json</pre><p>If you want to change the extension of the file once encrypted, you need to providesops with the <cite>\u2013input-type</cite> flag upon decryption. For example:</p><pre>$ sops -e myfile.json &gt; myfile.json.enc$ sops -d --input-type json myfile.json.enc</pre></section><section id=yaml-anchors><h3><a href=#toc-entry-13 rel=nofollow><span class=sectnum>3.2 </span>YAML anchors</a></h3><p><cite>sops</cite> only supports a subset of <cite>YAML</cite>\u2019s many types. Encrypting YAML files thatcontain strings, numbers and booleans will work fine, but files that contain anchorswill not work, because the anchors redefine the structure of the file at load time.</p><p>This file will not work in <cite>sops</cite>:</p><pre><code><span class=nt>bill-to</span><span class=p>:</span><span class=w>  </span><span class=nl>&amp;id001</span><span class=w>    </span><span class=nt>street</span><span class=p>:</span><span class=w> </span><span class=p-Indicator>|</span><span class=w>        </span><span class=no>123 Tornado Alley</span><span class=w>        </span><span class=no>Suite 16</span><span class=w>    </span><span class=nt>city</span><span class=p>:</span><span class=w>   </span><span class=l-Scalar-Plain>East Centerville</span><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w>  </span><span class=l-Scalar-Plain>KS</span><span class=w></span><span class=nt>ship-to</span><span class=p>:</span><span class=w>  </span><span class=nv>*id001</span></code></pre><p><cite>sops</cite> uses the path to a value as additional data in the AEAD encryption, and thusdynamic paths generated by anchors break the authentication step.</p><p>JSON and TEXT file types do not support anchors and thus have no such limitation.</p></section><section id=top-level-arrays><h3><a href=#toc-entry-14 rel=nofollow><span class=sectnum>3.3 </span>Top-level arrays</a></h3><p><cite>YAML</cite> and <cite>JSON</cite> top-level arrays are not supported, because <cite>sops</cite> needs a top-level<cite>sops</cite> key to store its metadata.This file will not work in sops:</p><pre><code><span class=nn>---</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>some</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>array</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>elements</span></code></pre><p>But this one will because because the <cite>sops</cite> key can be added at the same level as the<cite>data</cite> key.</p><pre><code><span class=nt>data</span><span class=p>:</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>some</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>array</span><span class=w>  </span><span class=p-Indicator>-</span><span class=w> </span><span class=l-Scalar-Plain>elements</span></code></pre><p>Similarly, with <cite>JSON</cite> arrays, this document will not work:</p><pre><code><span class=p>[</span><span class=w>  </span><span class=s2>\"some\"</span><span class=p>,</span><span class=w>  </span><span class=s2>\"array\"</span><span class=p>,</span><span class=w>  </span><span class=s2>\"elements\"</span><span class=w></span><span class=p>]</span></code></pre><p>But this one will work just fine:</p><pre><code><span class=p>{</span><span class=w>  </span><span class=nt>\"data\"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>    </span><span class=s2>\"some\"</span><span class=p>,</span><span class=w>    </span><span class=s2>\"array\"</span><span class=p>,</span><span class=w>    </span><span class=s2>\"elements\"</span><span class=w>  </span><span class=p>]</span><span class=w></span><span class=p>}</span></code></pre></section></section><section id=examples><h2><a href=#toc-entry-15 rel=nofollow><span class=sectnum>4 </span>Examples</a></h2><p>Take a look into the <a href=\"https://github.com/mozilla/sops/tree/master/examples\" rel=nofollow>examples</a> folder for detailed use cases of sops in a CI environment. The section below describes specific tips for common use cases.</p><section id=creating-a-new-file><h3><a href=#toc-entry-16 rel=nofollow><span class=sectnum>4.1 </span>Creating a new file</a></h3><p>The command below creates a new file with a data key encrypted by KMS and PGP.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>--kms<span class=w> </span><span class=s2>\"arn:aws:kms:us-west-2:927034868273:key/fe86dd69-4132-404c-ab86-4269956b4500\"</span><span class=w> </span>--pgp<span class=w> </span>C9CAB0AF1165060DB58D6D6B2653B624D620786D<span class=w> </span>/path/to/new/file.yaml</code></pre></section><section id=encrypting-an-existing-file><h3><a href=#toc-entry-17 rel=nofollow><span class=sectnum>4.2 </span>Encrypting an existing file</a></h3><p>Similar to the previous command, we tell sops to use one KMS and one PGP key.The path points to an existing cleartext file, so we give sops flag <cite>-e</cite> toencrypt the file, and redirect the output to a destination file.</p><pre><code>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>SOPS_KMS_ARN</span><span class=o>=</span><span class=s2>\"arn:aws:kms:us-west-2:927034868273:key/fe86dd69-4132-404c-ab86-4269956b4500\"</span><span class=w></span>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>SOPS_PGP_FP</span><span class=o>=</span><span class=s2>\"C9CAB0AF1165060DB58D6D6B2653B624D620786D\"</span><span class=w></span>$<span class=w> </span>sops<span class=w> </span>-e<span class=w> </span>/path/to/existing/file.yaml<span class=w> </span>&gt;<span class=w> </span>/path/to/new/encrypted/file.yaml</code></pre><p>Decrypt the file with <cite>-d</cite>.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>-d<span class=w> </span>/path/to/new/encrypted/file.yaml</code></pre></section><section id=encrypt-or-decrypt-a-file-in-place><h3><a href=#toc-entry-18 rel=nofollow><span class=sectnum>4.3 </span>Encrypt or decrypt a file in place</a></h3><p>Rather than redirecting the output of <cite>-e</cite> or <cite>-d</cite>, sops can replace theoriginal file after encrypting or decrypting it.</p><pre><code><span class=c1># file.yaml is in cleartext</span>$<span class=w> </span>sops<span class=w> </span>-e<span class=w> </span>-i<span class=w> </span>/path/to/existing/file.yaml<span class=w></span><span class=c1># file.yaml is now encrypted</span>$<span class=w> </span>sops<span class=w> </span>-d<span class=w> </span>-i<span class=w> </span>/path/to/existing/file.yaml<span class=w></span><span class=c1># file.yaml is back in cleartext</span></code></pre></section><section id=encrypting-binary-files><h3><a href=#toc-entry-19 rel=nofollow><span class=sectnum>4.4 </span>Encrypting binary files</a></h3><p><cite>sops</cite> primary use case is encrypting YAML and JSON configuration files, but italso has the ability to manage binary files. When encrypting a binary, sops willread the data as bytes, encrypt it, store the encrypted base64 under<cite>tree[\u2018data\u2019]</cite> and write the result as JSON.</p><p>Note that the base64 encoding of encrypted data can actually make the encryptedfile larger than the cleartext one.</p><p>In-place encryption/decryption also works on binary files.</p><pre><code>$ dd if=/dev/urandom of=/tmp/somerandom bs=1024count=512512+0 records in512+0 records out524288 bytes (524 kB) copied, 0.0466158 s, 11.2 MB/s$ sha512sum /tmp/somerandom9589bb20280e9d381f7a192000498c994e921b3cdb11d2ef5a986578dc2239a340b25ef30691bac72bdb14028270828dad7e8bd31e274af9828c40d216e60cbe /tmp/somerandom$ sops -e -i /tmp/somerandomplease wait while a data encryption key is being generated and stored securely$ sops -d -i /tmp/somerandom$ sha512sum /tmp/somerandom9589bb20280e9d381f7a192000498c994e921b3cdb11d2ef5a986578dc2239a340b25ef30691bac72bdb14028270828dad7e8bd31e274af9828c40d216e60cbe /tmp/somerandom</code></pre></section><section id=extract-a-sub-part-of-a-document-tree><h3><a href=#toc-entry-20 rel=nofollow><span class=sectnum>4.5 </span>Extract a sub-part of a document tree</a></h3><p><cite>sops</cite> can extract a specific part of a YAML or JSON document, by provided thepath in the <cite>\u2013extract</cite> command line flag. This is useful to extract specificvalues, like keys, without needing an extra parser.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>-d<span class=w> </span>~/git/svc/sops/example.yaml<span class=w> </span>--extract<span class=w> </span><span class=s1>'[\"app2\"][\"key\"]'</span><span class=w></span>-----BEGIN<span class=w> </span>RSA<span class=w> </span>PRIVATE<span class=w> </span>KEY-----<span class=w></span>MIIBPAIBAAJBAPTMNIyHuZtpLYc7VsHQtwOkWYobkUblmHWRmbXzlAX6K8tMf3Wf<span class=w></span>ImcbNkqAKnELzFAPSBeEMhrBN0PyOC9lYlMCAwEAAQJBALXD4sjuBn1E7Y9aGiMz<span class=w></span>bJEBuZJ4wbhYxomVoQKfaCu+kH80uLFZKoSz85/ySauWE8LgZcMLIBoiXNhDKfQL<span class=w></span>vHECIQD6tCG9NMFWor69kgbX8vK5Y+QL+kRq+9HK6yZ9a+hsLQIhAPn4Ie6HGTjw<span class=w></span>fHSTXWZpGSan7NwTkIu4U5q2SlLjcZh/AiEA78NYRRBwGwAYNUqzutGBqyXKUl4u<span class=w></span>Erb0xAEyVV7e8J0CIQC8VBY8f8yg+Y7Kxbw4zDYGyb3KkXL10YorpeuZR4LuQQIg<span class=w></span>bKGPkMM4w5blyE1tqGN0T7sJwEx+EUOgacRNqM2ljVA<span class=o>=</span><span class=w></span>-----END<span class=w> </span>RSA<span class=w> </span>PRIVATE<span class=w> </span>KEY-----</code></pre><p>The tree path syntax uses regular python dictionary syntax, without thevariable name. Extract keys by naming them, and array elements by numberingthem.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>-d<span class=w> </span>~/git/svc/sops/example.yaml<span class=w> </span>--extract<span class=w> </span><span class=s1>'[\"an_array\"][1]'</span><span class=w></span>secretuser2</code></pre></section><section id=set-a-sub-part-in-a-document-tree><h3><a href=#toc-entry-21 rel=nofollow><span class=sectnum>4.6 </span>Set a sub-part in a document tree</a></h3><p><cite>sops</cite> can set a specific part of a YAML or JSON document, by providingthe path and value in the <cite>\u2013set</cite> command line flag. This is useful toset specific values, like keys, without needing an editor.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>~/git/svc/sops/example.yaml<span class=w> </span>--set<span class=w> </span><span class=s1>'[\"app2\"][\"key\"]'</span><span class=w> </span><span class=s1>'\"app2keystringvalue\"'</span></code></pre><p>The tree path syntax uses regular python dictionary syntax, without thevariable name. Set to keys by naming them, and array elements bynumbering them.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>~/git/svc/sops/example.yaml<span class=w> </span>--set<span class=w> </span><span class=s1>'[\"an_array\"][1]'</span><span class=w> </span><span class=s1>'\"secretuser2\"'</span></code></pre><p>The value must be formatted as json.</p><pre><code>$<span class=w> </span>sops<span class=w> </span>~/git/svc/sops/example.yaml<span class=w> </span>--set<span class=w> </span><span class=s1>'[\"an_array\"][1]'</span><span class=w> </span><span class=s1>'{\"uid1\":null,\"uid2\":1000,\"uid3\":[\"bob\"]}'</span></code></pre></section><section id=using-sops-as-a-library-in-a-python-script><h3><a href=#toc-entry-22 rel=nofollow><span class=sectnum>4.7 </span>Using sops as a library in a python script</a></h3><p>You can import sops as a module and use it in your python program.</p><pre><code><span class=kn>import</span> <span class=nn>sops</span><span class=w></span><span class=n>pathtype</span> <span class=o>=</span> <span class=n>sops</span><span class=o>.</span><span class=n>detect_filetype</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=w></span><span class=n>tree</span> <span class=o>=</span> <span class=n>sops</span><span class=o>.</span><span class=n>load_file_into_tree</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=n>pathtype</span><span class=p>)</span><span class=w></span><span class=n>sops_key</span><span class=p>,</span> <span class=n>tree</span> <span class=o>=</span> <span class=n>sops</span><span class=o>.</span><span class=n>get_key</span><span class=p>(</span><span class=n>tree</span><span class=p>)</span><span class=w></span><span class=n>tree</span> <span class=o>=</span> <span class=n>sops</span><span class=o>.</span><span class=n>walk_and_decrypt</span><span class=p>(</span><span class=n>tree</span><span class=p>,</span> <span class=n>sops_key</span><span class=p>)</span><span class=w></span><span class=n>sops</span><span class=o>.</span><span class=n>write_file</span><span class=p>(</span><span class=n>tree</span><span class=p>,</span> <span class=n>path</span><span class=o>=</span><span class=n>path</span><span class=p>,</span> <span class=n>filetype</span><span class=o>=</span><span class=n>pathtype</span><span class=p>)</span></code></pre></section><section id=showing-diffs-in-cleartext-in-git><h3><a href=#toc-entry-23 rel=nofollow><span class=sectnum>4.8 </span>Showing diffs in cleartext in git</a></h3><p>You most likely want to store encrypted files in a version controlled repository.Sops can be used with git to decrypt files when showing diffs between versions.This is very handy for reviewing changes or visualizing history.</p><p>To configure sops to decrypt files during diff, create a <cite>.gitattributes</cite> fileat the root of your repository that contains a filter and a command.</p><p>\u2026 code:</p><pre>*.yaml diff=sopsdiffer</pre><p>Here we only care about YAML files. <cite>sopsdiffer</cite> is an arbitrary name that we mapto a sops command in the git configuration file of the repository.</p><pre><code>$<span class=w> </span>git<span class=w> </span>config<span class=w> </span>diff.sopsdiffer.textconv<span class=w> </span><span class=s2>\"sops -d\"</span><span class=w></span>$<span class=w> </span>grep<span class=w> </span>-A<span class=w> </span><span class=m>1</span><span class=w> </span>sopsdiffer<span class=w> </span>.git/config<span class=w></span><span class=o>[</span>diff<span class=w> </span><span class=s2>\"sopsdiffer\"</span><span class=o>]</span><span class=w>        </span><span class=nv>textconv</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>\"sops -d\"</span></code></pre><p>With this in place, calls to <cite>git diff</cite> will decrypt both previous and currentversions of the target file prior to displaying the diff. And it even works withgit client interfaces, because they call git diff under the hood!</p></section><section id=encrypting-only-parts-of-a-file><h3><a href=#toc-entry-24 rel=nofollow><span class=sectnum>4.9 </span>Encrypting only parts of a file</a></h3><p>Note: this only works on YAML and JSON files, not on BINARY files.</p><p>By default, <cite>sops</cite> encrypts all the values of a YAML or JSON file and leaves thekeys in cleartext. In some instances, you may want to exclude some values frombeing encrypted. This can be accomplished by adding the suffix <strong>_unencrypted</strong>to any key of a file. When set, all values underneath the key that set the<strong>_unencrypted</strong> prefix will be left in cleartext.</p><p>Note that, while in cleartext, unencrypted content is still added to thechecksum of the file, and thus cannot be modified outside of sops withoutbreaking the file integrity check.</p><p>The unencrypted suffix can be set to a different value using the<cite>\u2013unencrypted-suffix</cite> option.</p></section></section><section id=encryption-protocol><h2><a href=#toc-entry-25 rel=nofollow><span class=sectnum>5 </span>Encryption Protocol</a></h2><p>When sops creates a file, it generates a random 256 bit data key and asks eachKMS and PGP master key to encrypt the data key. The encrypted version of the datakey is stored in the <cite>sops</cite> metadata under <cite>sops.kms</cite> and <cite>sops.pgp</cite>.</p><p>For KMS:</p><pre><code><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>kms</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>enc</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>CiC6yCOtzsnFhkfdIslYZ0bAf//gYLYCmIu87B3sy/5yYxKnAQEBAQB4usgjrc7JxYZH3SLJWGdGwH//4GC2ApiLvOwd7Mv+cmMAAAB+MHwGCSqGSIb3DQEHBqBvMG0CAQAwaAYJKoZIhvcNAQcBMB4GCWCGSAFlAwQBLjARBAyGdRODuYMHbA8Ozj8CARCAO7opMolPJUmBXd39Zlp0L2H9fzMKidHm1vvaF6nNFq0ClRY7FlIZmTm4JfnOebPseffiXFn9tG8cq7oi</span><span class=w>        </span><span class=nt>enc_ts</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>1439568549.245995</span><span class=w>        </span><span class=nt>arn</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>arn:aws:kms:us-east-1:656532927350:key/920aff2e-c5f1-4040-943a-047fa387b27e</span></code></pre><p>For PGP:</p><pre><code><span class=nt>sops</span><span class=p>:</span><span class=w>    </span><span class=nt>pgp</span><span class=p>:</span><span class=w>    </span><span class=p-Indicator>-</span><span class=w>   </span><span class=nt>fp</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>85D77543B3D624B63CEA9E6DBC17301B491B3F21</span><span class=w>        </span><span class=nt>created_at</span><span class=p>:</span><span class=w> </span><span class=l-Scalar-Plain>1441570391.930042</span><span class=w>        </span><span class=nt>enc</span><span class=p>:</span><span class=w> </span><span class=p-Indicator>|</span><span class=w>            </span><span class=no>-----BEGIN PGP MESSAGE-----</span><span class=w>            </span><span class=no>Version: GnuPG v1</span><span class=w>            </span><span class=no>hQIMA0t4uZHfl9qgAQ//UvGAwGePyHuf2/zayWcloGaDs0MzI+zw6CmXvMRNPUsA</span><span class=w>            </span><span class=no>pAgRKczJmDu4+XzN+cxX5Iq9xEWIbny9B5rOjwTXT3qcUYZ4Gkzbq4MWkjuPp/Iv</span><span class=w>            </span><span class=no>qO4MJaYzoH5YxC4YORQ2LvzhA2YGsCzYnljmatGEUNg01yJ6r5mwFwDxl4Nc80Cn</span><span class=w>            </span><span class=no>RwnHuGExK8j1jYJZu/juK1qRbuBOAuruIPPWVdFB845PA7waacG1IdUW3ZtBkOy3</span><span class=w>            </span><span class=no>O0BIfG2ekRg0Nik6sTOhDUA+l2bewCcECI8FYCEjwHm9Sg5cxmP2V5m1mby+uKAm</span><span class=w>            </span><span class=no>kewaoOyjbmV1Mh3iI1b/AQMr+/6ZE9MT2KnsoWosYamFyjxV5r1ZZM7cWKnOT+tu</span><span class=w>            </span><span class=no>KOvGhTV1TeOfVpajNTNwtV/Oyh3mMLQ0F0HgCTqomQVqw5+sj7OWAASuD3CU/dyo</span><span class=w>            </span><span class=no>pcmY5Qe0TNL1JsMNEH8LJDqSh+E0hsUxdY1ouVsg3ysf6mdM8ciWb3WRGxih1Vmf</span><span class=w>            </span><span class=no>unfLy8Ly3V7ZIC8EHV8aLJqh32jIZV4i2zXIoO4ZBKrudKcECY1C2+zb/TziVAL8</span><span class=w>            </span><span class=no>qyPe47q8gi1rIyEv5uirLZjgpP+JkDUgoMnzlX334FZ9pWtQMYW4Y67urAI4xUq6</span><span class=w>            </span><span class=no>/q1zBAeHoeeeQK+YKDB7Ak/Y22YsiqQbNp2n4CKSKAE4erZLWVtDvSp+49SWmS/S</span><span class=w>            </span><span class=no>XgGi+13MaXIp0ecPKyNTBjF+NOw/I3muyKr8EbDHrd2XgIT06QXqjYLsCb1TZ0zm</span><span class=w>            </span><span class=no>xgXsOTY3b+ONQ2zjhcovanDp7/k77B+gFitLYKg4BLZsl7gJB12T8MQnpfSmRT4=</span><span class=w>            </span><span class=no>=oJgS</span><span class=w>            </span><span class=no>-----END PGP MESSAGE-----</span></code></pre><p>sops then opens a text editor on the newly created file. The user adds data to thefile and saves it when done.</p><p>Upon save, sops browses the entire file as a key/value tree. Every time sopsencounters a leaf value (a value that does not have children), it encrypts thevalue with AES256_GCM using the data key and a 256 bit random initializationvector.</p><p>Each file uses a single data key to encrypt all values of a document, but eachvalue receives a unique initialization vector and has unique authentication data.</p><p>Additional data is used to guarantee the integrity of the encrypted dataand of the tree structure: when encrypting the tree, key names are concatenatedinto a byte string that is used as AEAD additional data (aad) when encryptingvalues. We expect that keys do not carry sensitive information, andkeeping them in cleartext allows for better diff and overall readability.</p><p>Any valid KMS or PGP master key can later decrypt the data key and access thedata.</p><p>Multiple master keys allow for sharing encrypted files without sharing masterkeys, and provide a disaster recovery solution. The recommended way to use sopsis to have two KMS master keys in different regions and one PGP public key withthe private key stored offline. If, by any chance, both KMS master keys arelost, you can always recover the encrypted data using the PGP private key.</p><section id=message-authentication-code><h3><a href=#toc-entry-26 rel=nofollow><span class=sectnum>5.1 </span>Message Authentication Code</a></h3><p>In addition to authenticating branches of the tree using keys as additionaldata, sops computes a MAC on all the values to ensure that no value has beenadded or removed fraudulently. The MAC is stored encrypted with AES_GCM andthe data key under tree-&gt;`sops`-&gt;`mac`.</p></section></section><section id=motivation><h2><a href=#toc-entry-27 rel=nofollow><span class=sectnum>6 </span>Motivation</a></h2><p>Automating the distribution of secrets and credentials to components of aninfrastructure is a hard problem. We know how to encrypt secrets and share thembetween humans, but extending that trust to systems is difficult. Particularlywhen these systems follow devops principles and are created and destroyedwithout human intervention. The issue boils down to establishing the initialtrust of a system that just joined the infrastructure, and providing it accessto the secrets it needs to configure itself.</p><section id=the-initial-trust><h3><a href=#toc-entry-28 rel=nofollow><span class=sectnum>6.1 </span>The initial trust</a></h3><p>In many infrastructures, even highly dynamic ones, the initial trust isestablished by a human. An example is seen in Puppet by the way certificates areissued: when a new system attempts to join a Puppetmaster, an administratormust, by default, manually approve the issuance of the certificate the systemneeds. This is cumbersome, and many puppetmasters are configured to auto-signnew certificates to work around that issue. This is obviously not recommendedand far from ideal.</p><p>AWS provides a more flexible approach to trusting new systems. It uses apowerful mechanism of roles and identities. In AWS, it is possible to verifythat a new system has been granted a specific role at creation, and it ispossible to map that role to specific resources. Instead of trusting new systemsdirectly, the administrator trusts the AWS permission model and its automationinfrastructure. As long as AWS keys are safe, and the AWS API is secure, we canassume that trust is maintained and systems are who they say they are.</p></section><section id=kms-trust-and-secrets-distribution><h3><a href=#toc-entry-29 rel=nofollow><span class=sectnum>6.2 </span>KMS, Trust and secrets distribution</a></h3><p>Using the AWS trust model, we can create fine grained access controls toAmazon\u2019s Key Management Service (KMS). KMS is a service that encrypts anddecrypts data with AES_GCM, using keys that are never visible to users of theservice. Each KMS master key has a set of role-based access controls, andindividual roles are permitted to encrypt or decrypt using the master key. KMShelps solve the problem of distributing keys, by shifting it into an accesscontrol problem that can be solved using AWS\u2019s trust model.</p></section><section id=operational-requirements><h3><a href=#toc-entry-30 rel=nofollow><span class=sectnum>6.3 </span>Operational requirements</a></h3><p>When Mozilla\u2019s Services Operations team started revisiting the issue ofdistributing secrets to EC2 instances, we set a goal to store these secretsencrypted until the very last moment, when they need to be decrypted on targetsystems. Not unlike many other organizations that operate sufficiently complexautomation, we found this to be a hard problem with a number of prerequisites:</p><ol><li><p>Secrets must be stored in YAML files for easy integration into hiera</li><li><p>Secrets must be stored in GIT, and when a new CloudFormation stack isbuilt, the current HEAD is pinned to the stack. (This allows secrets tobe changed in GIT without impacting the current stack that mayautoscale).</li><li><p>Entries must be encrypted separately. Encrypting entire files as blobs makesgit conflict resolution almost impossible. Encrypting each entryseparately is much easier to manage.</li><li><p>Secrets must always be encrypted on disk (admin laptop, upstreamgit repo, jenkins and S3) and only be decrypted on the targetsystems</li></ol><p>SOPS can be used to encrypt YAML, JSON and BINARY files. In BINARY mode, thecontent of the file is treated as a blob, the same way PGP would encrypt anentire file. In YAML and JSON modes, however, the content of the file ismanipulated as a tree where keys are stored in cleartext, and values areencrypted. hiera-eyaml does something similar, and over the years we learnedto appreciate its benefits, namely:</p><ul class=simple><li><p>diffs are meaningful. If a single value of a file is modified, only thatvalue will show up in the diff. The diff is still limited to only showingencrypted data, but that information is already more granular thatindicating that an entire file has changed.</li><li><p>conflicts are easier to resolve. If multiple users are working on thesame encrypted files, as long as they don\u2019t modify the same values,changes are easy to merge. This is an improvement over the PGPencryption approach where unsolvable conflicts often happen whenmultiple users work on the same file.</li></ul></section><section id=openpgp-integration><h3><a href=#toc-entry-31 rel=nofollow><span class=sectnum>6.4 </span>OpenPGP integration</a></h3><p>OpenPGP gets a lot of bad press for being an outdated crypto protocol, and whiletrue, what really made us look for alternatives is the difficulty of managing anddistributing keys to systems. With KMS, we manage permissions to an API, not keys,and that\u2019s a lot easier to do.</p><p>But PGP is not dead yet, and we still rely on it heavily as a backup solution:all our files are encrypted with KMS and with one PGP public key, with itsprivate key stored securely for emergency decryption in the event that we loseall our KMS master keys.</p><p>SOPS can be used without KMS entirely, the same way you would use an encryptedPGP file: by referencing the pubkeys of each individual who has access to the file.It can easily be done by providing sops with a comma-separated list of public keyswhen creating a new file:</p><pre><code>$<span class=w> </span>sops<span class=w> </span>--pgp<span class=w> </span><span class=s2>\"E60892BB9BD89A69F759A1A0A3D652173B763E8F,84050F1D61AF7C230A12217687DF65059EF093D3,85D77543B3D624B63CEA9E6DBC17301B491B3F21\"</span><span class=w> </span>mynewfile.yaml</code></pre></section></section><section id=threat-model><h2><a href=#toc-entry-32 rel=nofollow><span class=sectnum>7 </span>Threat Model</a></h2><p>The security of the data stored using sops is as strong as the weakestcryptographic mechanism. Values are encrypted using AES256_GCM which is thestrongest symetric encryption algorithm known today. Data keys are encryptedin either KMS, which also uses AES256_GCM, or PGP which uses either RSA orECDSA keys.</p><p>Going from the most likely to the least likely, the threats are as follows:</p><section id=compromised-aws-credentials-grant-access-to-kms-master-key><h3><a href=#toc-entry-33 rel=nofollow><span class=sectnum>7.1 </span>Compromised AWS credentials grant access to KMS master key</a></h3><p>An attacker with access to an AWS console can grant itself access to one ofthe KMS master keys used to encrypt a sops data key. This threat should bemitigated by protecting AWS accesses with strong controls, such as multi-factorauthentication, and also by performing regular audits of permissions grantedto AWS users.</p></section><section id=compromised-pgp-key><h3><a href=#toc-entry-34 rel=nofollow><span class=sectnum>7.2 </span>Compromised PGP key</a></h3><p>PGP keys are routinely mishandled, either because owners copy them frommachine to machine, or because the key is left forgotten on an unused machinean attacker gains access to. When using PGP encryption, sops users should takespecial care of PGP private keys, and store them on smart cards or offlineas often as possible.</p></section><section id=factorized-rsa-key><h3><a href=#toc-entry-35 rel=nofollow><span class=sectnum>7.3 </span>Factorized RSA key</a></h3><p>sops doesn\u2019t apply any restriction on the size or type of PGP keys. A weak PGPkeys, for example 512 bits RSA, could be factorized by an attacker to gainaccess to the private key and decrypt the data key. Users of sops should relyon strong keys, such as 2048+ bits RSA keys, or 256+ bits ECDSA keys.</p></section><section id=weak-aes-cryptography><h3><a href=#toc-entry-36 rel=nofollow><span class=sectnum>7.4 </span>Weak AES cryptography</a></h3><p>A vulnerability in AES256_GCM could potentially leak the data key or the KMSmaster key used by a sops encrypted file. While no such vulnerability existstoday, we recommend that users keep their encrypted files reasonably private.</p></section></section><section id=backward-compatibility><h2><a href=#toc-entry-37 rel=nofollow><span class=sectnum>8 </span>Backward compatibility</a></h2><p><cite>sops</cite> will remain backward compatible on the major version, meaning that allimprovements brought to the 1.X branch (current) will maintain the file formatintroduced in <strong>1.0</strong>.</p></section><section id=license><h2><a href=#toc-entry-38 rel=nofollow><span class=sectnum>9 </span>License</a></h2><p>Mozilla Public License Version 2.0</p></section><section id=authors><h2><a href=#toc-entry-39 rel=nofollow><span class=sectnum>10 </span>Authors</a></h2><ul class=simple><li><p>Julien Vehent &lt;<a href=mailto:jvehent%40mozilla.com rel=nofollow>jvehent<span>@</span>mozilla<span>.</span>com</a>&gt; (lead &amp; maintainer)</li><li><p>Daniel Thornton &lt;<a href=mailto:dthornton%40mozilla.com rel=nofollow>dthornton<span>@</span>mozilla<span>.</span>com</a>&gt;</li><li><p>Alexis Metaireau &lt;<a href=mailto:alexis%40mozilla.com rel=nofollow>alexis<span>@</span>mozilla<span>.</span>com</a>&gt;</li><li><p>R\u00e9my Hubscher &lt;<a href=mailto:natim%40mozilla.com rel=nofollow>natim<span>@</span>mozilla<span>.</span>com</a>&gt;</li><li><p>Todd Wolfson &lt;<a href=mailto:todd%40twolfson.com rel=nofollow>todd<span>@</span>twolfson<span>.</span>com</a>&gt;</li><li><p>Brian Hourigan &lt;<a href=mailto:bhourigan%40mozilla.com rel=nofollow>bhourigan<span>@</span>mozilla<span>.</span>com</a>&gt;</li></ul></section><section id=credits><h2><a href=#toc-entry-40 rel=nofollow><span class=sectnum>11 </span>Credits</a></h2><p><cite>sops</cite> is inspired by <a href=\"https://github.com/TomPoulton/hiera-eyaml\" rel=nofollow>hiera-eyaml</a>,<a href=\"https://github.com/LuminalOSS/credstash\" rel=nofollow>credstash</a> ,<a href=\"https://github.com/codahale/sneaker\" rel=nofollow>sneaker</a>,<a href=\"http://www.passwordstore.org/\" rel=nofollow>password store</a> and too many years managingPGP encrypted files by hand\u2026</p></section>          </div>        </div>        <div id=\"data\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"mobile-data-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project details</h2><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/mozilla/sops\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/sops\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> Mozilla Public License 2.0 (MPL 2.0) (MPL)</p>    <p><strong>Author:</strong> <a href=\"mailto:jvehent@mozilla.com\">Julien Vehent</a></p>  <p class=\"tags\">    <i class=\"fa fa-tags\" aria-hidden=\"true\"></i>    <span class=\"sr-only\">Tags</span>    <span class=\"package-keyword\">      mozilla,    </span>    <span class=\"package-keyword\">      secret,    </span>    <span class=\"package-keyword\">      credential,    </span>    <span class=\"package-keyword\">      encryption,    </span>    <span class=\"package-keyword\">      aws,    </span>    <span class=\"package-keyword\">      kms    </span>  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/mozfoxsec/\" aria-label=\"mozfoxsec\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/cd039dba40d91d10e01adb70570fc7c7935dbfa0/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f35353862336534313637396236316131333965623531346337363230636433353f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for mozfoxsec from gravatar.com\" title=\"Avatar for mozfoxsec from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            mozfoxsec          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Development Status</strong>      <ul>        <li>          <a href=\"/search/?c=Development+Status+%3A%3A+5+-+Production%2FStable\">            5 - Production/Stable          </a>        </li>      </ul>    </li>    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+Mozilla+Public+License+2.0+%28MPL+2.0%29\">            OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Libraries+%3A%3A+Python+Modules\">            Software Development :: Libraries :: Python Modules          </a>        </li>      </ul>    </li>  </ul></div>          <br>        </div>        <div id=\"history\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"history-tab mobile-history-tab\" tabindex=\"-1\">          <h2 class=\"page-title split-layout\">            <span>Release history</span>            <span class=\"reset-text margin-top\">              <a href=\"/help/#project-release-notifications\">Release notifications</a> |              <a href=\"/rss/project/sops/releases.xml\">RSS feed <i class=\"fa fa-rss\" aria-hidden=\"true\"></i></a>            </span>          </h2>          <div class=\"release-timeline\">            <div class=\"release release--latest release--current\">              <div class=\"release__meta\">                <span class=\"badge\">This version</span>              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/blue-cube.572a5bfb.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.18/\">                <p class=\"release__version\">                  1.18                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-11-28T03:04:43+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2018</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.17/\">                <p class=\"release__version\">                  1.17                </p>                <p class=\"release__version-date\">                  <time datetime=\"2018-04-19T21:39:22+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 19, 2018</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.16/\">                <p class=\"release__version\">                  1.16                </p>                <p class=\"release__version-date\">                  <time datetime=\"2017-01-09T14:14:59+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 9, 2017</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.15/\">                <p class=\"release__version\">                  1.15                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-11-03T01:05:07+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 3, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.14/\">                <p class=\"release__version\">                  1.14                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-09-08T14:44:03+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 8, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.13/\">                <p class=\"release__version\">                  1.13                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-05-13T18:01:36+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 13, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.12/\">                <p class=\"release__version\">                  1.12                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-04-26T14:12:49+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 26, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.11/\">                <p class=\"release__version\">                  1.11                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-04-15T21:19:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 15, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.10/\">                <p class=\"release__version\">                  1.10                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-03-30T15:03:14+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 30, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.9/\">                <p class=\"release__version\">                  1.9                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-03-24T21:57:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 24, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.8/\">                <p class=\"release__version\">                  1.8                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-03-16T23:54:10+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 16, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.7/\">                <p class=\"release__version\">                  1.7                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-02-24T20:13:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 24, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.6/\">                <p class=\"release__version\">                  1.6                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-02-03T18:55:53+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 3, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.5/\">                <p class=\"release__version\">                  1.5                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-02-03T17:47:13+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 3, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.4/\">                <p class=\"release__version\">                  1.4                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-02-02T22:21:07+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 2, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.3/\">                <p class=\"release__version\">                  1.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2016-01-06T00:25:49+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 6, 2016</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.2/\">                <p class=\"release__version\">                  1.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-12-10T20:58:45+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 10, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.1/\">                <p class=\"release__version\">                  1.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-11-30T14:28:23+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 30, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/1.0/\">                <p class=\"release__version\">                  1.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-11-28T13:19:27+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.9/\">                <p class=\"release__version\">                  0.9                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-28T19:32:13+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 28, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.8.3/\">                <p class=\"release__version\">                  0.8.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-11T13:11:29+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 11, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.8.2/\">                <p class=\"release__version\">                  0.8.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-11T12:32:53+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 11, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.8.1/\">                <p class=\"release__version\">                  0.8.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-09T13:47:46+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 9, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.8/\">                <p class=\"release__version\">                  0.8                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-08T20:38:50+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 8, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.7/\">                <p class=\"release__version\">                  0.7                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-05T15:47:35+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 5, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.6.2/\">                <p class=\"release__version\">                  0.6.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-10-01T13:32:57+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 1, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.6.1/\">                <p class=\"release__version\">                  0.6.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-30T22:14:29+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 30, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.6/\">                <p class=\"release__version\">                  0.6                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-30T19:46:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 30, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.5.3/\">                <p class=\"release__version\">                  0.5.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-27T13:04:19+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 27, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.5.2/\">                <p class=\"release__version\">                  0.5.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-25T19:49:02+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 25, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.5.1/\">                <p class=\"release__version\">                  0.5.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-25T18:33:45+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 25, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.5/\">                <p class=\"release__version\">                  0.5                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-25T16:21:29+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 25, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.4/\">                <p class=\"release__version\">                  0.4                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-16T18:07:20+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 16, 2015</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.3/\">                <p class=\"release__version\">                  0.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-15T21:31:58+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 15, 2015</time>                </p>              </a>            </div>            <div class=\"release release--oldest\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sops/0.2/\">                <p class=\"release__version\">                  0.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-09-07T01:50:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 7, 2015</time>                </p>              </a>            </div>          </div>        </div>          <div id=\"files\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"files-tab mobile-files-tab\" tabindex=\"-1\">            <h2 class=\"page-title\">Download files</h2>            <p>Download the file for your platform. If you're not sure which to choose, learn more about <a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">installing packages</a>.</p>            <h3>Source Distribution            </h3>                  <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/c7/43/c4f1db33a40cf2f960df2a2b7f07149244808ff74badb2d2c3b556ef11a0/sops-1.18.tar.gz\">          sops-1.18.tar.gz        </a>        (59.9 kB        <a href=\"#copy-hash-modal-71a81806-497a-4828-a504-98f153d22e66\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2018-11-28T03:04:43+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2018</time>          <code>source</code>        </p>      </div>    </div>          </div><div id=\"copy-hash-modal-71a81806-497a-4828-a504-98f153d22e66\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for sops-1.18.tar.gz      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for sops-1.18.tar.gz</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">0107cc0c39839799b7fec0f2c80acbf938e52fdcddd3775743c6666265a9e0fd</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">9f217e78f0f114d38ee8265bbff4724f</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">c743c4f1db33a40cf2f960df2a2b7f07149244808ff74badb2d2c3b556ef11a0</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div>      </div>    </div>  </div></div>    </main>    <footer class=\"footer\">      <div class=\"footer__logo\">        <img src=\"/static/images/white-cube.2351a86c.svg\" alt=\"\" class=\"-js-white-cube\">      </div>      <div class=\"footer__menus\">        <div class=\"footer__menu\">          <h2>Help</h2>          <nav aria-label=\"Help navigation\">            <ul>              <li><a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Installing packages</a></li>              <li><a href=\"https://packaging.python.org/tutorials/packaging-projects/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Uploading packages</a></li>              <li><a href=\"https://packaging.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">User guide</a></li>              <li><a href=\"https://www.python.org/dev/peps/pep-0541/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Project name retention</a></li>              <li><a href=\"/help/\">FAQs</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>About PyPI</h2>          <nav aria-label=\"About PyPI navigation\">            <ul>              <li><a href=\"https://twitter.com/PyPI\" title=\"External link\" target=\"_blank\" rel=\"noopener\">PyPI on Twitter</a></li>              <li><a href=\"https://dtdg.co/pypi\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Infrastructure dashboard</a></li>              <li><a href=\"/stats/\">Statistics</a></li>              <li><a href=\"/trademarks/\">Logos & trademarks</a></li>              <li><a href=\"/sponsors/\">Our sponsors</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Contributing to PyPI</h2>          <nav aria-label=\"How to contribute navigation\">            <ul>              <li><a href=\"/help/#feedback\">Bugs and feedback</a></li>              <li><a href=\"https://github.com/pypi/warehouse\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Contribute on GitHub</a></li>              <li><a href=\"https://hosted.weblate.org/projects/pypa/warehouse/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Translate PyPI</a></li>              <li><a href=\"/sponsors/\">Sponsor PyPI</a></li>              <li><a href=\"https://github.com/pypi/warehouse/graphs/contributors\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Development credits</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Using PyPI</h2>          <nav aria-label=\"Using PyPI navigation\">            <ul>              <li><a href=\"https://github.com/pypa/.github/blob/main/CODE_OF_CONDUCT.md\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Code of conduct</a></li>              <li><a href=\"/security/\">Report security issue</a></li>              <li><a href=\"https://www.python.org/privacy/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Privacy policy</a></li>              <li><a href=\"/policy/terms-of-use/\">Terms of use</a></li>              <li><a href=\"/policy/acceptable-use-policy/\">Acceptable Use Policy</a></li>            </ul>          </nav>        </div>      </div>      <hr class=\"footer__divider\">      <div class=\"footer__text\">        <p>Status:<a href=\"https://status.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">          <span data-statuspage-domain=\"https://2p66nmmycsj3.statuspage.io\">all systems operational</span></a>        </p>        <p>Developed and maintained by the Python community, for the Python community.          <br>          <a href=\"https://donate.pypi.org\">Donate today!</a>        </p>        <p>          \"PyPI\", \"Python Package Index\", and the blocks logos are registered <a href=\"/trademarks/\">trademarks</a> of the <a href=\"https://python.org/psf-landing\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a>.<br>        </p>        <p>          \u00a9 2024 <a href=\"https://www.python.org/psf-landing/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a><br>          <a href=\"/sitemap/\">Site map</a>        </p>      </div>      <div class=\"centered hide-on-desktop\">        <button type=\"button\" class=\"button button--switch-to-desktop hidden\" data-viewport-toggle-target=\"switchToDesktop\" data-action=\"viewport-toggle#switchToDesktop\">Switch to desktop version        </button>      </div>    </footer>    <div class=\"language-switcher\">      <form action=\"/locale/\">        <ul>          <li>            <button              class=\"language-switcher__selected\"              name=\"locale_id\" value=\"en\" type=\"submit\"            >              English            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"es\" type=\"submit\"            >              espa\u00f1ol            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"fr\" type=\"submit\"            >              fran\u00e7ais            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ja\" type=\"submit\"            >              \u65e5\u672c\u8a9e            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"pt_BR\" type=\"submit\"            >              portugu\u00eas (Brasil)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"uk\" type=\"submit\"            >              \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"el\" type=\"submit\"            >              \u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"de\" type=\"submit\"            >              Deutsch            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hans\" type=\"submit\"            >              \u4e2d\u6587 (\u7b80\u4f53)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hant\" type=\"submit\"            >              \u4e2d\u6587 (\u7e41\u9ad4)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ru\" type=\"submit\"            >              \u0440\u0443\u0441\u0441\u043a\u0438\u0439            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"he\" type=\"submit\"            >              \u05e2\u05d1\u05e8\u05d9\u05ea            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"eo\" type=\"submit\"            >              esperanto            </button>          </li>        </ul>      </form>    </div><div class=\"sponsors\">  <p class=\"sponsors__title\">Supported by</p>  <div class=\"sponsors__divider\"></div>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://aws.amazon.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/ed7074cadad1a06f56bc520ad9bd3e00d0704c5b/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6177732d77686974652d6c6f676f2d7443615473387a432e706e67\" alt=AWS loading=lazy>          <span class=\"sponsors__name\">AWS</span>          <span class=\"sponsors__service\">            Cloud computing and Security Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.datadoghq.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/8855f7c063a3bdb5b0ce8d91bfc50cf851cc5c51/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f64617461646f672d77686974652d6c6f676f2d6668644c4e666c6f2e706e67\" alt=Datadog loading=lazy>          <span class=\"sponsors__name\">Datadog</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.fastly.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/df6fe8829cbff2d7f668d98571df1fd011f36192/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f666173746c792d77686974652d6c6f676f2d65684d3077735f6f2e706e67\" alt=Fastly loading=lazy>          <span class=\"sponsors__name\">Fastly</span>          <span class=\"sponsors__service\">            CDN          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://careers.google.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/420cc8cf360bac879e24c923b2f50ba7d1314fb0/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f676f6f676c652d77686974652d6c6f676f2d616734424e3774332e706e67\" alt=Google loading=lazy>          <span class=\"sponsors__name\">Google</span>          <span class=\"sponsors__service\">            Download Analytics          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.python.org/psf/sponsors/#microsoft\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/524d1ce72f7772294ca4c1fe05d21dec8fa3f8ea/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6d6963726f736f66742d77686974652d6c6f676f2d5a443172685444462e706e67\" alt=Microsoft loading=lazy>          <span class=\"sponsors__name\">Microsoft</span>          <span class=\"sponsors__service\">            PSF Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.pingdom.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/d01053c02f3a626b73ffcb06b96367fdbbf9e230/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f70696e67646f6d2d77686974652d6c6f676f2d67355831547546362e706e67\" alt=Pingdom loading=lazy>          <span class=\"sponsors__name\">Pingdom</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://getsentry.com/for/python\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/67af7117035e2345bacb5a82e9aa8b5b3e70701d/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f73656e7472792d77686974652d6c6f676f2d4a2d6b64742d706e2e706e67\" alt=Sentry loading=lazy>          <span class=\"sponsors__name\">Sentry</span>          <span class=\"sponsors__service\">            Error logging          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://statuspage.io\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/b611884ff90435a0575dbab7d9b0d3e60f136466/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f737461747573706167652d77686974652d6c6f676f2d5467476c6a4a2d502e706e67\" alt=StatusPage loading=lazy>          <span class=\"sponsors__name\">StatusPage</span>          <span class=\"sponsors__service\">            Status page          </span>        </a></div>  </body></html>",
  "embeddings": []
}