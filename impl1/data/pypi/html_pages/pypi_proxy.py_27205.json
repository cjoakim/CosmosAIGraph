{
  "libtype": "pypi",
  "libname": "proxy.py",
  "url": "https://pypi.org/project/proxy.py/",
  "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\">  <head>    <meta charset=\"utf-8\">    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">    <meta name=\"defaultLanguage\" content=\"en\">    <meta name=\"availableLanguages\" content=\"en, es, fr, ja, pt_BR, uk, el, de, zh_Hans, zh_Hant, ru, he, eo\">    <title>proxy.py \u00b7 PyPI</title>    <meta name=\"description\" content=\"\u26a1 Fast \u2022 \ud83e\udeb6 Lightweight \u2022 0\ufe0f\u20e3 Dependency \u2022 \ud83d\udd0c Pluggable \u2022 \ud83d\ude08 TLS interception \u2022 \ud83d\udd12 DNS-over-HTTPS \u2022 \ud83d\udd25 Poor Mans VPN \u2022 \u23ea Reverse &amp; \u23e9 Forward \u2022 \ud83d\udc6e\ud83c\udfff Proxy Server framework \u2022 \ud83c\udf10 Web Server framework \u2022 \u27b5 \u27b6 \u27b7 \u27a0 PubSub framework \u2022 \ud83d\udc77 Work acceptor &amp; executor framework.\">    <link rel=\"stylesheet\" href=\"/static/css/warehouse-ltr.99b3104d.css\">    <link rel=\"stylesheet\" href=\"/static/css/fontawesome.b50b476c.css\">    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Source+Sans+3:400,400italic,600,600italic,700,700italic%7CSource+Code+Pro:500\">    <noscript>      <link rel=\"stylesheet\" href=\"/static/css/noscript.0673c9ea.css\">    </noscript>    <link rel=\"icon\" href=\"/static/images/favicon.35549fe8.ico\" type=\"image/x-icon\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 latest updates\" href=\"/rss/updates.xml\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 newest packages\" href=\"/rss/packages.xml\"><link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: latest releases for proxy.py\" href=\"/rss/project/proxy-py/releases.xml\">    <link rel=\"canonical\" href=\"https://pypi.org/project/proxy.py/\">    <meta property=\"og:url\" content=\"https://pypi.org/project/proxy.py/\">    <meta property=\"og:site_name\" content=\"PyPI\">    <meta property=\"og:type\" content=\"website\">    <meta property=\"og:image\" content=\"https://pypi.org/static/images/twitter.abaf4b19.webp\">    <meta property=\"og:title\" content=\"proxy.py\">    <meta property=\"og:description\" content=\"\u26a1 Fast \u2022 \ud83e\udeb6 Lightweight \u2022 0\ufe0f\u20e3 Dependency \u2022 \ud83d\udd0c Pluggable \u2022 \ud83d\ude08 TLS interception \u2022 \ud83d\udd12 DNS-over-HTTPS \u2022 \ud83d\udd25 Poor Mans VPN \u2022 \u23ea Reverse &amp; \u23e9 Forward \u2022 \ud83d\udc6e\ud83c\udfff Proxy Server framework \u2022 \ud83c\udf10 Web Server framework \u2022 \u27b5 \u27b6 \u27b7 \u27a0 PubSub framework \u2022 \ud83d\udc77 Work acceptor &amp; executor framework.\">    <link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"PyPI\" href=\"/opensearch.xml\">    <script asyncdata-ga-id=\"UA-55961911-1\"data-ga4-id=\"G-RW7D75DF8V\"            src=\"/static/js/warehouse.dd4295c4.js\">    </script><script>MathJax = {  tex: {    inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]  },};</script><script async  src=\"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-svg.js\"  integrity=\"sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=\"  crossorigin=\"anonymous\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-55961911-1\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=G-RW7D75DF8V\"></script><script defer src=\"https://www.fastly-insights.com/insights.js?k=6a52360a-f306-421e-8ed5-7417d0d4a4e9&dnt=true\"></script>    <script async        src=\"https://media.ethicalads.io/media/client/v1.4.0/ethicalads.min.js\"        integrity=\"sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0= sha384-UcmsCqcNRSLW/dV3Lo1oCi2/VaurXbib6p4HyUEOeIa/4OpsrnucrugAefzVZJfI sha512-q4t1L4xEjGV2R4hzqCa41P8jrgFUS8xTb8rdNv4FGvw7FpydVj/kkxBJHOiaoxHa8olCcx1Slk9K+3sNbsM4ug==\"        crossorigin=\"anonymous\"    ></script>  </head>  <body data-controller=\"viewport-toggle\">    <!-- Accessibility: this link should always be the first piece of content inside the body-->    <a href=\"#content\" class=\"skip-to-content\">Skip to main content</a>    <button type=\"button\" class=\"button button--primary button--switch-to-mobile hidden\" data-viewport-toggle-target=\"switchToMobile\" data-action=\"viewport-toggle#switchToMobile\">Switch to mobile version    </button>    <div id=\"sticky-notifications\" class=\"stick-to-top js-stick-to-top\">      <!-- Add browser warning. Will show for ie9 and below -->      <!--[if IE]>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">You are using an unsupported browser, upgrade to a newer version.</span>      </div>      <![endif]-->      <noscript>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">Some features may not work without JavaScript. Please try enabling it if you encounter problems.</span>      </div>      </noscript><div data-html-include=\"/_includes/notification-banners/\"></div>    </div><div data-html-include=\"/_includes/flash-messages/\"></div><div data-html-include=\"/_includes/session-notifications/\"></div>    <header class=\"site-header \">      <div class=\"site-container\">        <div class=\"split-layout\">          <div class=\"split-layout\">            <div>              <a class=\"site-header__logo\" href=\"/\">                <img alt=\"PyPI\" src=\"/static/images/logo-small.2a411bc6.svg\">              </a>            </div>            <form class=\"search-form search-form--primary\" action=\"/search/\" role=\"search\">              <label for=\"search\" class=\"sr-only\">Search PyPI</label>              <input id=\"search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-controller=\"search-focus\" data-action=\"keydown@window->search-focus#focusSearchField\" data-search-focus-target=\"searchField\">              <button type=\"submit\" class=\"search-form__button\">                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>                <span class=\"sr-only\">Search</span>              </button>            </form>          </div><div data-html-include=\"/_includes/current-user-indicator/\">            <div id=\"user-indicator\" class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall\">  <nav class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall hide-on-tablet\" aria-label=\"Main navigation\">    <ul>      <li class=\"horizontal-menu__item\"><a href=\"/help/\" class=\"horizontal-menu__link\">Help</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/sponsors/\" class=\"horizontal-menu__link\">Sponsors</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/login/\" class=\"horizontal-menu__link\">Log in</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/register/\" class=\"horizontal-menu__link\">Register</a></li>    </ul>  </nav>  <nav class=\"dropdown dropdown--on-menu hidden show-on-tablet\" aria-label=\"Main navigation\">    <button type=\"button\" class=\"horizontal-menu__link dropdown__trigger\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-label=\"View menu\">Menu      <span class=\"dropdown__trigger-caret\">        <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>      </span>    </button>    <ul class=\"dropdown__content\" aria-hidden=\"true\" aria-label=\"Main menu\">      <li><a class=\"dropdown__link\" href=\"/help/\">Help</a></li>      <li><a class=\"dropdown__link\" href=\"/sponsors/\">Sponsors</a></li>      <li><a class=\"dropdown__link\" href=\"/account/login/\">Log in</a></li>      <li><a class=\"dropdown__link\" href=\"/account/register/\">Register</a></li>    </ul>  </nav></div></div>        </div>      </div>    </header>    <div class=\"mobile-search\">      <form class=\"search-form search-form--fullwidth\" action=\"/search/\" role=\"search\">        <label for=\"mobile-search\" class=\"sr-only\">Search PyPI</label>        <input id=\"mobile-search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\">                <button type=\"submit\" class=\"search-form__button\">          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Search</span>        </button>      </form>    </div>    <main id=\"content\"><div class=\"hidden\"  data-controller=\"github-repo-stats\"  data-github-repo-stats-github-repo-info-outlet=\".github-repo-info\"  data-github-repo-stats-url-value=\"https://api.github.com/repos/abhinavsingh/proxy.py\"  data-github-repo-stats-issue-url-value=\"https://api.github.com/search/issues?q=repo:abhinavsingh/proxy.py+type:issue+state:open&amp;per_page=1\"></div><div class=\"banner\">  <div class=\"package-header\">    <div class=\"package-header__left\">      <h1 class=\"package-header__name\">        proxy.py 2.4.3      </h1>      <div data-controller=\"clipboard\">        <p class=\"package-header__pip-instructions\">          <span id=\"pip-command\" data-clipboard-target=\"source\">pip install proxy.py</span>          <button type=\"button\" class=\"copy-tooltip copy-tooltip-s\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">            <i class=\"fa fa-copy\" aria-hidden=\"true\"></i>            <span class=\"sr-only\">Copy PIP instructions</span>          </button>        </p>      </div>    </div>    <div class=\"package-header__right\">      <a class=\"status-badge status-badge--good\" href=\"/project/proxy.py/\">        <span>Latest version</span>      </a>      <p class=\"package-header__date\">Released: <time datetime=\"2022-06-12T05:08:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 12, 2022</time>      </p>    </div>  </div></div><div class=\"horizontal-section horizontal-section--grey horizontal-section--thin\">  <div class=\"site-container\"><div data-html-include=\"/_includes/administer-project-include/proxy-py\"></div>    <div class=\"split-layout split-layout--middle package-description\">      <p class=\"package-description__summary\">\u26a1 Fast \u2022 \ud83e\udeb6 Lightweight \u2022 0\ufe0f\u20e3 Dependency \u2022 \ud83d\udd0c Pluggable \u2022 \ud83d\ude08 TLS interception \u2022 \ud83d\udd12 DNS-over-HTTPS \u2022 \ud83d\udd25 Poor Mans VPN \u2022 \u23ea Reverse &amp; \u23e9 Forward \u2022 \ud83d\udc6e\ud83c\udfff Proxy Server framework \u2022 \ud83c\udf10 Web Server framework \u2022 \u27b5 \u27b6 \u27b7 \u27a0 PubSub framework \u2022 \ud83d\udc77 Work acceptor &amp; executor framework.</p><div data-html-include=\"/_includes/edit-project-button/proxy-py\"></div>    </div>  </div></div><div data-controller=\"project-tabs\">  <div class=\"tabs-container\">    <div class=\"vertical-tabs\">      <div class=\"vertical-tabs__tabs\">        <div class=\"sidebar-section\">          <h3 class=\"sidebar-section__title\">Navigation</h3>          <nav aria-label=\"Navigation for proxy.py\">            <ul class=\"vertical-tabs__list\" role=\"tablist\">              <li role=\"tab\">                <a id=\"description-tab\" href=\"#description\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                  <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description                </a>              </li>              <li role=\"tab\">                <a id=\"history-tab\" href=\"#history\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Release history. Focus will be moved to the history panel.\">                  <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history                </a>              </li>              <li role=\"tab\">                <a id=\"files-tab\" href=\"#files\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Download files. Focus will be moved to the project files.\">                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files                </a>              </li>            </ul>          </nav>        </div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/archive/master.zip\" rel=\"nofollow\">        <i class=\"fas fa-cloud-download-alt\" aria-hidden=\"true\"></i>Download      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://gitter.im/proxy.py/community\" rel=\"nofollow\">        <i class=\"fab fa-gitter\" aria-hidden=\"true\"></i>Chat: Gitter      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/actions\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>CI: GitHub      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://hub.docker.com/r/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-external-link-square-alt\" aria-hidden=\"true\"></i>Container Image: DockerHub      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://codecov.io/github/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-tasks\" aria-hidden=\"true\"></i>Coverage: Codecov      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://proxypy.rtfd.io/en/latest/#changelog\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: Changelog      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://abhinavsingh.com/proxy-py-a-lightweight-single-file-http-proxy-server-in-python/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: Intro      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://proxypy.rtfd.io/en/latest/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: RTD      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/discussions\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: discussions      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/issues\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: issues      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: repo      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/proxy.py\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> BSD License (&#39;BSD&#39;)</p>    <p><strong>Author:</strong> <a href=\"mailto:mailsforabhinav+proxy@gmail.com\">Abhinav Singh</a></p>  <p class=\"tags\">    <i class=\"fa fa-tags\" aria-hidden=\"true\"></i>    <span class=\"sr-only\">Tags</span>    <span class=\"package-keyword\">      http,    </span>    <span class=\"package-keyword\">      proxy,    </span>    <span class=\"package-keyword\">      http proxy server,    </span>    <span class=\"package-keyword\">      proxy server,    </span>    <span class=\"package-keyword\">      http server,    </span>    <span class=\"package-keyword\">      http web server,    </span>    <span class=\"package-keyword\">      proxy framework,    </span>    <span class=\"package-keyword\">      web framework,    </span>    <span class=\"package-keyword\">      Python3    </span>  </p>  <p>    <strong>Requires:</strong> Python &gt;=3.6  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/abhinavsingh/\" aria-label=\"abhinavsingh\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/078bffa2aefece0c09ff0552a554b856eceac7c7/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f61633765353463323436623663326134346538383531623932616137303066623f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for abhinavsingh from gravatar.com\" title=\"Avatar for abhinavsingh from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            abhinavsingh          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Development Status</strong>      <ul>        <li>          <a href=\"/search/?c=Development+Status+%3A%3A+5+-+Production%2FStable\">            5 - Production/Stable          </a>        </li>      </ul>    </li>    <li>      <strong>Environment</strong>      <ul>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Console\">            Console          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+MacOS+X\">            MacOS X          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+No+Input%2FOutput+%28Daemon%29\">            No Input/Output (Daemon)          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Plugins\">            Plugins          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Web+Environment\">            Web Environment          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Win32+%28MS+Windows%29\">            Win32 (MS Windows)          </a>        </li>      </ul>    </li>    <li>      <strong>Framework</strong>      <ul>        <li>          <a href=\"/search/?c=Framework+%3A%3A+Robot+Framework\">            Robot Framework          </a>        </li>        <li>          <a href=\"/search/?c=Framework+%3A%3A+Robot+Framework+%3A%3A+Library\">            Robot Framework :: Library          </a>        </li>      </ul>    </li>    <li>      <strong>Intended Audience</strong>      <ul>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Developers\">            Developers          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Education\">            Education          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+End+Users%2FDesktop\">            End Users/Desktop          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Science%2FResearch\">            Science/Research          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+System+Administrators\">            System Administrators          </a>        </li>      </ul>    </li>    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+BSD+License\">            OSI Approved :: BSD License          </a>        </li>      </ul>    </li>    <li>      <strong>Natural Language</strong>      <ul>        <li>          <a href=\"/search/?c=Natural+Language+%3A%3A+English\">            English          </a>        </li>      </ul>    </li>    <li>      <strong>Operating System</strong>      <ul>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Android\">            Android          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS\">            MacOS          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS+%3A%3A+MacOS+9\">            MacOS :: MacOS 9          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS+%3A%3A+MacOS+X\">            MacOS :: MacOS X          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft\">            Microsoft          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft+%3A%3A+Windows\">            Microsoft :: Windows          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft+%3A%3A+Windows+%3A%3A+Windows+10\">            Microsoft :: Windows :: Windows 10          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+OS+Independent\">            OS Independent          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+POSIX\">            POSIX          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+POSIX+%3A%3A+Linux\">            POSIX :: Linux          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Unix\">            Unix          </a>        </li>      </ul>    </li>    <li>      <strong>Programming Language</strong>      <ul>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3\">            Python :: 3          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3+%3A%3A+Only\">            Python :: 3 :: Only          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.6\">            Python :: 3.6          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.7\">            Python :: 3.7          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.8\">            Python :: 3.8          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.9\">            Python :: 3.9          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.10\">            Python :: 3.10          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+Implementation\">            Python :: Implementation          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet\">            Internet          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+Proxy+Servers\">            Internet :: Proxy Servers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP\">            Internet :: WWW/HTTP          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Browsers\">            Internet :: WWW/HTTP :: Browsers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Dynamic+Content\">            Internet :: WWW/HTTP :: Dynamic Content          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Dynamic+Content+%3A%3A+CGI+Tools%2FLibraries\">            Internet :: WWW/HTTP :: Dynamic Content :: CGI Tools/Libraries          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+HTTP+Servers\">            Internet :: WWW/HTTP :: HTTP Servers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Scientific%2FEngineering+%3A%3A+Information+Analysis\">            Scientific/Engineering :: Information Analysis          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Debuggers\">            Software Development :: Debuggers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Libraries+%3A%3A+Python+Modules\">            Software Development :: Libraries :: Python Modules          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Monitoring\">            System :: Monitoring          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking\">            System :: Networking          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking+%3A%3A+Firewalls\">            System :: Networking :: Firewalls          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking+%3A%3A+Monitoring\">            System :: Networking :: Monitoring          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Utilities\">            Utilities          </a>        </li>      </ul>    </li>    <li>      <strong>Typing</strong>      <ul>        <li>          <a href=\"/search/?c=Typing+%3A%3A+Typed\">            Typed          </a>        </li>      </ul>    </li>  </ul></div><div class=\"sidebar-section\" data-ea-publisher=\"psf\" data-ea-type=\"psf\" data-ea-keywords=\"pypi-sidebar\"></div>      </div>      <div class=\"vertical-tabs__panel\">        <!-- mobile menu -->        <nav aria-label=\"Navigation for proxy.py\">          <ul class=\"vertical-tabs__list\" role=\"tablist\">            <li role=\"tab\">              <a id=\"mobile-description-tab\" href=\"#description\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile vertical-tabs__tab--no-top-border vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-data-tab\" href=\"#data\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Project details. Focus will be moved to the project details.\">                <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>Project details              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-history-tab\" href=\"#history\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Release history. Focus will be moved to the history panel.\">              <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history            </a>            </li>            <li role=\"tab\">              <a id=\"mobile-files-tab\" href=\"#files\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Download files. Focus will be moved to the project files.\">                <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files              </a>            </li>          </ul>        </nav>        <div id=\"description\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"description-tab mobile-description-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project description</h2>          <div class=\"project-description\">            <p><a href=\"https://github.com/abhinavsingh/proxy.py\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/1d4c1ab7cee2a73d05bbb616fc6cdf4cf8ed6301/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f616268696e617673696e67682f70726f78792e70792f646576656c6f702f50726f787950792e706e67\" alt=Proxy.Py></a></p><p><a href=\"https://pypi.org/project/proxy.py/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/c4665e5627755ba66807e034d5d86e2786e6ea08/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f70726f78792e70793f7374796c653d666f722d7468652d626164676526636f6c6f723d6461726b677265656e\" alt=\"PyPi Monthly\"></a><a href=\"https://hub.docker.com/r/abhinavsingh/proxy.py\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/a6e8a191e90873bac86ec825ff6be3e41fefc207/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f70756c6c732f616268696e617673696e67682f70726f78792e70793f7374796c653d666f722d7468652d626164676526636f6c6f723d6461726b677265656e\" alt=\"Docker Pulls\"></a><a href=\"https://github.com/abhinavsingh/proxy.py\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/68d0cb59cca69f132272b2f0816999d5e684cb75/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d646570656e64656e63696573266d6573736167653d30267374796c653d666f722d7468652d626164676526636f6c6f723d6461726b677265656e\" alt=\"No Dependencies\"></a><a href=\"https://gitter.im/proxy-py/community\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/190a251935609c8a426e1d1062285797274d6f17/68747470733a2f2f696d672e736869656c64732e696f2f6769747465722f726f6f6d2f616268696e617673696e67682f70726f78792e70793f7374796c653d666f722d7468652d626164676526636f6c6f723d6461726b677265656e\" alt=Gitter></a><a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/LICENSE\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/9c36e975670bfeb82e768c058a5a8d7fd445f1e8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f616268696e617673696e67682f70726f78792e70793f7374796c653d666f722d7468652d626164676526636f6c6f723d6461726b677265656e\" alt=License></a></p><p><a href=\"https://abhinavsingh.com/proxy-py-a-lightweight-single-file-http-proxy-server-in-python/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/6b1acc9231bc066bd88d2d5cbca852a5e27d0ae8/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d74657374656425323077697468266d6573736167653d6d61632532304f532532302546302539462539322542422532302537432532305562756e747525323025463025394625393625413525323025374325323057696e646f777325323025463025394625393225424226636f6c6f723d6461726b677265656e267374796c653d666f722d7468652d6261646765\" alt=\"Tested With MacOS, Ubuntu, Windows, Android, Android Emulator, iOS, iOS Simulator\"></a><a href=\"https://abhinavsingh.com/proxy-py-a-lightweight-single-file-http-proxy-server-in-python/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/f8677fa43e8929ecb38c0c8a38174a9c7047831c/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d74657374656425323077697468266d6573736167653d416e64726f6964253230254630253946253933254231253230253743253230416e64726f6964253230456d756c61746f7225323025463025394625393325423126636f6c6f723d6461726b677265656e267374796c653d666f722d7468652d6261646765\" alt=\"Android, Android Emulator\"></a><a href=\"https://abhinavsingh.com/proxy-py-a-lightweight-single-file-http-proxy-server-in-python/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/60e4090dfed65822f68b3148cc9cbd66eb057a24/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d74657374656425323077697468266d6573736167653d694f53253230254630253946253933254231253230253743253230694f5325323053696d756c61746f7225323025463025394625393325423126636f6c6f723d6461726b677265656e267374796c653d666f722d7468652d6261646765\" alt=\"iOS, iOS Simulator\"></a></p><p><a href=\"https://pypi.org/project/proxy.py/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/5b0b8f0d3c0ceacd00b21949c450d1a1c312bb1a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f70726f78792e70793f7374796c653d666c61742d737175617265\" alt=\"pypi version\"></a><a href=\"https://www.python.org/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/4bbc149058e5583130405df4a116d3fb676edf56/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d507974686f6e266d6573736167653d332e36253230253743253230332e37253230253743253230332e38253230253743253230332e39253230253743253230332e313026636f6c6f723d626c7565267374796c653d666c61742d737175617265\" alt=\"Python 3.x\"></a><a href=\"http://mypy-lang.org/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/6ee732fbeee7c09cef2117f71d4497ed1d65bc55/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4d795079266d6573736167653d636865636b656426636f6c6f723d626c7565267374796c653d666c61742d737175617265\" alt=\"Checked with mypy\"></a></p><p><a href=\"https://proxypy.readthedocs.io/\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/07878713409bfe5d46f9f149193929c6f130aebe/68747470733a2f2f696d672e736869656c64732e696f2f72656164746865646f63732f70726f787970792f6c61746573743f7374796c653d666c61742d73717561726526636f6c6f723d6461726b677265656e\" alt=doc></a><a href=\"https://codecov.io/gh/abhinavsingh/proxy.py\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/d9812df1bf57013f75fc7e219613f25f69b9396c/68747470733a2f2f636f6465636f762e696f2f67682f616268696e617673696e67682f70726f78792e70792f6272616e63682f646576656c6f702f67726170682f62616467652e7376673f746f6b656e3d5a68394a3762346c6132\" alt=codecov></a><a href=\"https://github.com/abhinavsingh/proxy.py/actions/workflows/test-library.yml\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/75dafe2b4ecfa654f3b703a3ff2f697821d29339/68747470733a2f2f6769746875622e636f6d2f616268696e617673696e67682f70726f78792e70792f616374696f6e732f776f726b666c6f77732f746573742d6c6962726172792e796d6c2f62616467652e7376673f6272616e63683d646576656c6f70266576656e743d70757368\" alt=lib></a></p><p><a href=\"https://github.com/abhinavsingh/proxy.py/issues\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/27e4c215792f52a70c86599fd3fedc4bc82a5233/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d436f6e747269627574696f6e73266d6573736167653d57656c636f6d6525323025463025394625393125384426636f6c6f723d6461726b677265656e267374796c653d666c61742d737175617265\" alt=\"Contributions Welcome\"></a><a href=\"https://twitter.com/imoracle\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/65e6aba44a496a3d553973773cd16955f54d7c82/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4e65656425323048656c70253346266d6573736167653d41736b26636f6c6f723d6461726b677265656e267374796c653d666c61742d737175617265\" alt=\"Need Help\"></a><a href=\"https://github.com/jaxl-innovations-private-limited\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/fc8deca8229316f3482a80607d31b4e7dbb673b2/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d53706f6e736f7265642532304279266d6573736167653d4a61786c253230496e6e6f766174696f6e73253230507269766174652532304c696d6974656426636f6c6f723d6461726b677265656e267374796c653d666c61742d737175617265\" alt=\"Sponsored by Jaxl Innovations Private Limited\"></a></p><h1>Table of Contents</h1><ul><li><a href=#features rel=nofollow>Features</a></li><li><a href=#install rel=nofollow>Install</a><ul><li><a href=#using-pip rel=nofollow>Using PIP</a><ul><li><a href=#stable-version-with-pip rel=nofollow>Stable version</a></li><li><a href=#development-version-with-pip rel=nofollow>Development version</a></li></ul></li><li><a href=#using-docker rel=nofollow>Using Docker</a><ul><li><a href=#stable-version-from-docker-hub rel=nofollow>Stable version from Docker Hub</a></li><li><a href=#development-version-from-ghcr rel=nofollow>Development Version from GHCR</a></li><li><a href=#build-development-version-locally rel=nofollow>Build container locally</a></li></ul></li><li><a href=#using-homebrew rel=nofollow>Using HomeBrew</a><ul><li><a href=#stable-version-with-homebrew rel=nofollow>Stable version</a></li><li><a href=#development-version-with-homebrew rel=nofollow>Development version</a></li></ul></li></ul></li><li><a href=#start-proxypy rel=nofollow>Start proxy.py</a><ul><li><a href=#from-command-line-when-installed-using-pip rel=nofollow>From command line when installed using PIP</a><ul><li><a href=#run-it rel=nofollow>Run it</a></li><li><a href=#understanding-logs rel=nofollow>Understanding logs</a></li><li><a href=#enable-debug-logging rel=nofollow>Enable DEBUG logging</a></li></ul></li><li><a href=#from-command-line-using-repo-source rel=nofollow>From command line using repo source</a></li><li><a href=#docker-image rel=nofollow>Docker Image</a><ul><li><a href=#customize-startup-flags rel=nofollow>Customize Startup Flags</a></li></ul></li></ul></li><li><a href=#plugin-examples rel=nofollow>Plugin Examples</a><ul><li><a href=#http-proxy-plugins rel=nofollow>HTTP Proxy Plugins</a><ul><li><a href=#shortlinkplugin rel=nofollow>ShortLink Plugin</a></li><li><a href=#modifypostdataplugin rel=nofollow>Modify Post Data Plugin</a></li><li><a href=#mockrestapiplugin rel=nofollow>Mock Api Plugin</a></li><li><a href=#redirecttocustomserverplugin rel=nofollow>Redirect To Custom Server Plugin</a></li><li><a href=#filterbyupstreamhostplugin rel=nofollow>Filter By Upstream Host Plugin</a></li><li><a href=#cacheresponsesplugin rel=nofollow>Cache Responses Plugin</a></li><li><a href=#maninthemiddleplugin rel=nofollow>Man-In-The-Middle Plugin</a></li><li><a href=#proxypoolplugin rel=nofollow>Proxy Pool Plugin</a></li><li><a href=#filterbyclientipplugin rel=nofollow>Filter By Client IP Plugin</a></li><li><a href=#modifychunkresponseplugin rel=nofollow>Modify Chunk Response Plugin</a></li><li><a href=#cloudflarednsresolverplugin rel=nofollow>Cloudflare DNS Resolver Plugin</a></li><li><a href=#customdnsresolverplugin rel=nofollow>Custom DNS Resolver Plugin</a></li><li><a href=#customnetworkinterface rel=nofollow>Custom Network Interface</a></li><li><a href=#programnameplugin rel=nofollow>Program Name Plugin</a></li></ul></li><li><a href=#http-web-server-plugins rel=nofollow>HTTP Web Server Plugins</a><ul><li><a href=#web-server-route rel=nofollow>Web Server Route</a></li></ul></li><li><a href=#reverse-proxy-plugins rel=nofollow>Reverse Proxy Plugins</a><ul><li><a href=#reverse-proxy rel=nofollow>Reverse Proxy</a></li></ul></li><li><a href=#plugin-ordering rel=nofollow>Plugin Ordering</a></li></ul></li><li><a href=#end-to-end-encryption rel=nofollow>End-to-End Encryption</a></li><li><a href=#tls-interception rel=nofollow>TLS Interception</a><ul><li><a href=#tls-interception-with-docker rel=nofollow>TLS Interception With Docker</a></li></ul></li><li><a href=#proxy-over-ssh-tunnel rel=nofollow>Proxy Over SSH Tunnel</a><ul><li><a href=#proxy-remote-requests-locally rel=nofollow>Proxy Remote Requests Locally</a></li><li><a href=#proxy-local-requests-remotely rel=nofollow>Proxy Local Requests Remotely</a></li></ul></li><li><a href=#embed-proxypy rel=nofollow>Embed proxy.py</a><ul><li><a href=#blocking-mode rel=nofollow>Blocking Mode</a></li><li><a href=#non-blocking-mode rel=nofollow>Non-blocking Mode</a></li><li><a href=#ephemeral-port rel=nofollow>Ephemeral Port</a></li><li><a href=#loading-plugins rel=nofollow>Loading Plugins</a></li></ul></li><li><a href=#unit-testing-with-proxypy rel=nofollow>Unit testing with proxy.py</a><ul><li><a href=#proxytestcase rel=nofollow><code>proxy.TestCase</code></a></li><li><a href=#override-startup-flags rel=nofollow>Override Startup Flags</a></li><li><a href=#with-unittesttestcase rel=nofollow>With <code>unittest.TestCase</code></a></li></ul></li><li><a href=#utilities rel=nofollow>Utilities</a><ul><li><a href=#tcp-sockets rel=nofollow>TCP</a><ul><li><a href=#new_socket_connection rel=nofollow>new_socket_connection</a></li><li><a href=#socket_connection rel=nofollow>socket_connection</a></li></ul></li><li><a href=#http-client rel=nofollow>Http</a><ul><li><a href=#build_http_request rel=nofollow>build_http_request</a></li><li><a href=#build_http_response rel=nofollow>build_http_response</a></li></ul></li><li><a href=#pki rel=nofollow>Public Key Infrastructure</a><ul><li><a href=#api-usage rel=nofollow>API Usage</a></li><li><a href=#cli-usage rel=nofollow>CLI Usage</a></li></ul></li></ul></li><li><a href=#run-dashboard rel=nofollow>Run Dashboard</a><ul><li><a href=#inspect-traffic rel=nofollow>Inspect Traffic</a></li></ul></li><li><a href=#chrome-devtools-protocol rel=nofollow>Chrome DevTools Protocol</a></li><li><a href=#frequently-asked-questions rel=nofollow>Frequently Asked Questions</a><ul><li><a href=#deploying-proxypy-in-production rel=nofollow>Deploying proxy.py in production</a><ul><li><a href=#what-not-to-do rel=nofollow>What not to do?</a></li><li><a href=#via-requirements rel=nofollow>Via Requirements</a></li><li><a href=#via-docker-container rel=nofollow>Via Docker Container</a></li><li><a href=#integrate-your-cicd-with-proxypy rel=nofollow>Integrate your CI/CD with proxy.py</a></li></ul></li><li><a href=#stable-vs-develop rel=nofollow>Stable vs Develop</a><ul><li><a href=#release-schedule rel=nofollow>Release Schedule</a></li></ul></li><li><a href=#threads-vs-threadless rel=nofollow>Threads vs Threadless</a></li><li><a href=#threadless-remote-vs-local-execution-mode rel=nofollow>Threadless Remote vs Local Execution Mode</a></li><li><a href=#syntaxerror-invalid-syntax rel=nofollow>SyntaxError: invalid syntax</a></li><li><a href=#unable-to-load-plugins rel=nofollow>Unable to load plugins</a></li><li><a href=#unable-to-connect-with-proxypy-from-remote-host rel=nofollow>Unable to connect with proxy.py from remote host</a></li><li><a href=#basic-auth-not-working-with-a-browser rel=nofollow>Basic auth not working with a browser</a></li><li><a href=#docker-image-not-working-on-macos rel=nofollow>Docker image not working on MacOS</a></li><li><a href=#valueerror-filedescriptor-out-of-range-in-select rel=nofollow><code>ValueError: filedescriptor out of range in select</code></a></li><li><a href=#nonenone-in-access-logs rel=nofollow>None:None in access logs</a></li><li><a href=#oserror-when-wrapping-client-for-tls-interception rel=nofollow>OSError when wrapping client for TLS Interception</a></li></ul></li><li><a href=#plugin-developer-and-contributor-guide rel=nofollow>Plugin Developer and Contributor Guide</a><ul><li><a href=#high-level-architecture rel=nofollow>High level architecture</a></li><li><a href=#everything-is-a-plugin rel=nofollow>Everything is a plugin</a></li><li><a href=#internal-documentation rel=nofollow>Internal Documentation</a><ul><li><a href=#read-the-doc rel=nofollow>Read The Doc</a></li><li><a href=#pydoc rel=nofollow>pydoc</a></li><li><a href=#pyreverse rel=nofollow>pyreverse</a></li></ul></li><li><a href=#development-guide rel=nofollow>Development Guide</a><ul><li><a href=#setup-local-environment rel=nofollow>Setup Local Environment</a></li><li><a href=#setup-git-hooks rel=nofollow>Setup Git Hooks</a></li><li><a href=#sending-a-pull-request rel=nofollow>Sending a Pull Request</a></li></ul></li></ul></li><li><a href=#projects-using-proxypy rel=nofollow>Projects Using Proxy.Py</a></li><li><a href=#benchmarks rel=nofollow>Benchmarks</a></li><li><a href=#flags rel=nofollow>Flags</a></li><li><a href=\"https://proxypy.rtfd.io/en/latest/changelog\" rel=nofollow>Changelog</a><ul><li><a href=\"https://proxypy.rtfd.io/en/latest/changelog#v2x\" rel=nofollow>v2.x</a></li><li><a href=\"https://proxypy.rtfd.io/en/latest/changelog#v1x\" rel=nofollow>v1.x</a></li><li><a href=\"https://proxypy.rtfd.io/en/latest/changelog#v0x\" rel=nofollow>v0.x</a></li></ul></li></ul><h1>Features</h1><ul><li><p>Fast &amp; Scalable</p><ul><li><p>Scale up by using all available cores on the system</p></li><li><p>Threadless executions using asyncio</p></li><li><p>Made to handle <code>tens-of-thousands</code> connections / sec</p><pre lang=console><span class=gp># </span>On<span class=w> </span>Macbook<span class=w> </span>Pro<span class=w> </span><span class=m>2019</span><span class=w> </span>/<span class=w> </span><span class=m>2</span>.4<span class=w> </span>GHz<span class=w> </span><span class=m>8</span>-Core<span class=w> </span>Intel<span class=w> </span>Core<span class=w> </span>i9<span class=w> </span>/<span class=w> </span><span class=m>32</span><span class=w> </span>GB<span class=w> </span>RAM<span class=go>\u276f ./helper/benchmark.sh</span><span class=go>  CONCURRENCY: 100 workers, TOTAL REQUESTS: 100000 req</span><span class=go>  Summary:</span><span class=go>    Success rate:1.0000</span><span class=go>    Total:2.5489 secs</span><span class=go>    Slowest:0.0443 secs</span><span class=go>    Fastest:0.0006 secs</span><span class=go>    Average:0.0025 secs</span><span class=go>    Requests/sec:39232.6572</span><span class=go>    Total data:1.81 MiB</span><span class=go>    Size/request:19 B</span><span class=go>    Size/sec:727.95 KiB</span><span class=go>  Response time histogram:</span><span class=go>    0.001 [5006]  |\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.001 [19740] |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.002 [29701] |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.002 [21278] |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.003 [15376] |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.004 [6644]  |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0</span><span class=go>    0.004 [1609]  |\u25a0</span><span class=go>    0.005 [434]   |</span><span class=go>    0.006 [83]    |</span><span class=go>    0.006 [29]    |</span><span class=go>    0.007 [100]   |</span><span class=go>  Latency distribution:</span><span class=go>    10% in 0.0014 secs</span><span class=go>    25% in 0.0018 secs</span><span class=go>    50% in 0.0023 secs</span><span class=go>    75% in 0.0030 secs</span><span class=go>    90% in 0.0036 secs</span><span class=go>    95% in 0.0040 secs</span><span class=go>    99% in 0.0047 secs</span><span class=go>  Details (average, fastest, slowest):</span><span class=go>    DNS+dialup:0.0025 secs, 0.0015 secs, 0.0030 secs</span><span class=go>    DNS-lookup:0.0000 secs, 0.0000 secs, 0.0001 secs</span><span class=go>  Status code distribution:</span><span class=go>    [200] 100000 responses</span></pre><p>Consult <a href=#threads-vs-threadless rel=nofollow>Threads vs Threadless</a> and <a href=#threadless-remote-vs-local-execution-mode rel=nofollow>Threadless Remote vs Local Execution Mode</a> to control number of CPU cores utilized.</p><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/benchmark#readme\" rel=nofollow>Benchmark</a> for more details and for how to run benchmarks locally.</p></li></ul></li><li><p>Lightweight</p><ul><li>Uses only <code>~5-20 MB</code> RAM<ul><li>No memory leaks</li><li>Start once and forget, no restarts required</li></ul></li><li>Compressed containers size is only <code>~25 MB</code></li><li>No external dependency other than standard Python library</li></ul></li><li><p>Programmable</p><ul><li>Customize proxy behavior using <a href=#http-proxy-plugins rel=nofollow>Proxy Server Plugins</a>. Example:<ul><li><code>--plugins proxy.plugin.ProxyPoolPlugin</code></li></ul></li><li>Enable builtin <a href=#http-web-server-plugins rel=nofollow>Web Server</a>. Example:<ul><li><code>--enable-web-server --plugins proxy.plugin.WebServerPlugin</code></li></ul></li><li>Enable builtin <a href=#reverse-proxy-plugins rel=nofollow>Reverse Proxy Server</a>. Example:<ul><li><code>--enable-reverse-proxy --plugins proxy.plugin.ReverseProxyPlugin</code></li></ul></li><li>Plugin API is currently in <em>development phase</em>. Expect breaking changes. See <a href=#deploying-proxypy-in-production rel=nofollow>Deploying proxy.py in production</a> on how to ensure reliability across code changes.</li></ul></li><li><p>Can listen on multiple ports</p><ul><li>Use <code>--ports</code> flag to provide additional ports</li><li>Optionally, use <code>--port</code> flag to override default port <code>8899</code></li><li>Capable of serving multiple protocols over the same port</li></ul></li><li><p>Real-time Dashboard</p><ul><li>Optionally, enable <a href=#run-dashboard rel=nofollow>proxy.py dashboard</a>.<ul><li>Use <code>--enable-dashboard</code></li><li>Then, visit <code>http://localhost:8899/dashboard</code></li></ul></li><li><a href=#inspect-traffic rel=nofollow>Inspect, Monitor, Control and Configure</a> <code>proxy.py</code> at runtime</li><li><a href=#chrome-devtools-protocol rel=nofollow>Chrome DevTools Protocol</a> support</li><li>Extend dashboard frontend using <code>typescript</code> based <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/dashboard/src/plugins\" rel=nofollow>plugins</a></li><li>Dashboard is currently in <em>development phase</em>  Expect breaking changes.</li></ul></li><li><p>Secure</p><ul><li>Enable end-to-end encryption between clients and <code>proxy.py</code></li><li>See <a href=#end-to-end-encryption rel=nofollow>End-to-End Encryption</a></li></ul></li><li><p>Private</p><ul><li>Protection against DNS based traffic blockers</li><li>Browse with malware and adult content protection enabled</li><li>See <a href=#cloudflarednsresolverplugin rel=nofollow>DNS-over-HTTPS</a></li></ul></li><li><p>Man-In-The-Middle</p><ul><li>Can decrypt TLS traffic between clients and upstream servers</li><li>See <a href=#tls-interception rel=nofollow>TLS Interception</a></li></ul></li><li><p>Supported http protocols for proxy requests</p><ul><li><code>http(s)</code><ul><li><code>http1</code></li><li><code>http1.1</code> with pipeline</li></ul></li><li><code>http2</code></li><li><code>websockets</code></li></ul></li><li><p>Support for <code>HAProxy Protocol</code></p><ul><li>See <code>--enable-proxy-protocol</code> flag</li></ul></li><li><p>Static file server support</p><ul><li>See <code>--enable-static-server</code> and <code>--static-server-dir</code> flags</li></ul></li><li><p>Optimized for large file uploads and downloads</p><ul><li>See <code>--client-recvbuf-size</code>, <code>--server-recvbuf-size</code>, <code>--max-sendbuf-size</code> flags</li></ul></li><li><p><code>IPv4</code> and <code>IPv6</code> support</p><ul><li>See <code>--hostname</code> flag</li></ul></li><li><p>Unix domain socket support</p><ul><li>See <code>--unix-socket-path</code> flag</li></ul></li><li><p>Basic authentication support</p><ul><li>See <code>--basic-auth</code> flag</li></ul></li><li><p>PAC (Proxy Auto-configuration) support</p><ul><li>See <code>--pac-file</code> and <code>--pac-file-url-path</code> flags</li></ul></li></ul><h1>Install</h1><p>Consult <a href=#deploying-proxypy-in-production rel=nofollow>Deploying proxy.py in production</a> when deploying production grade applications using <code>proxy.py</code>.</p><h2>Using PIP</h2><h3>Stable Version with PIP</h3><p>Install from <code>PyPi</code></p><pre lang=console><span class=go>\u276f pip install --upgrade proxy.py</span></pre><p>or from GitHub <code>master</code> branch</p><pre lang=console><span class=go>\u276f pip install git+https://github.com/abhinavsingh/proxy.py.git@master</span></pre><h3>Development Version with PIP</h3><pre lang=console><span class=go>\u276f pip install git+https://github.com/abhinavsingh/proxy.py.git@develop</span></pre><h2>Using Docker</h2><p>Multi-platform containers are available via:</p><ul><li>Docker Hub<ul><li><code>latest</code> tag points to last <code>stable</code> release</li><li><code>docker pull abhinavsingh/proxy.py:latest</code></li></ul></li><li>GitHub container registry (GHCR)<ul><li><code>latest</code> tag points to last <code>develop</code> release</li><li><code>docker pull ghcr.io/abhinavsingh/proxy.py:latest</code></li></ul></li></ul><p>Stable version container releases are available for following platforms:</p><ul><li><code>linux/386</code></li><li><code>linux/amd64</code></li><li><code>linux/arm/v6</code></li><li><code>linux/arm/v7</code></li><li><code>linux/arm64/v8</code></li><li><code>linux/ppc64le</code></li><li><code>linux/s390x</code></li></ul><h3>Stable Version from Docker Hub</h3><p>Run <code>proxy.py</code> latest container:</p><pre lang=console><span class=go>\u276f docker run -it -p 8899:8899 --rm abhinavsingh/proxy.py:latest</span></pre><p>Docker daemon will automatically pull the matching platform image.To run specific target platform container on multi-platform supported servers:</p><pre lang=console><span class=go>\u276f docker run -it -p 8899:8899 --rm --platform linux/arm64/v8 abhinavsingh/proxy.py:latest</span></pre><h3>Development Version from GHCR</h3><p>Run <code>proxy.py</code> container from cutting edge code in the develop branch:</p><pre lang=console><span class=go>\u276f docker run -it -p 8899:8899 --rm ghcr.io/abhinavsingh/proxy.py:latest</span></pre><h3>Build Development Version Locally</h3><pre lang=console><span class=go>\u276f git clone https://github.com/abhinavsingh/proxy.py.git</span><span class=go>\u276f cd proxy.py &amp;&amp; make container</span><span class=go>\u276f docker run -it -p 8899:8899 --rm abhinavsingh/proxy.py:latest</span></pre><p><a href=\"https://github.com/moby/vpnkit/issues/469\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/ff9d8978d96f052fcf5a46de3fad826d41ce0a21/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4d61634f53266d6573736167653d7761726e696e6726636f6c6f723d726564\" alt=WARNING></a><code>docker</code> image is currently broken on <code>macOS</code> due to incompatibility with <a href=\"https://github.com/moby/vpnkit/issues/469\" rel=nofollow>vpnkit</a>.</p><h2>Using HomeBrew</h2><p>Updated formulae for <code>HomeBrew</code> are maintained in <code>develop</code> branch under the <code>helper/homebrew</code> directory.</p><ul><li><code>stable</code> formulae installs the package from <code>master</code> branch.</li><li><code>develop</code> formulae installs the package from <code>develop</code> branch.</li></ul><h3>Stable Version with HomeBrew</h3><pre lang=console><span class=go>\u276f brew install https://raw.githubusercontent.com/abhinavsingh/proxy.py/develop/helper/homebrew/stable/proxy.rb</span></pre><h3>Development Version with HomeBrew</h3><pre lang=console><span class=go>\u276f brew install https://raw.githubusercontent.com/abhinavsingh/proxy.py/develop/helper/homebrew/develop/proxy.rb</span></pre><h1>Start proxy.py</h1><h2>From command line when installed using PIP</h2><p>When <code>proxy.py</code> is installed using <code>pip</code>,an executable named <code>proxy</code> is placed under your <code>$PATH</code>.</p><h3>Run it</h3><p>Simply type <code>proxy</code> on command line to start with default configuration.</p><pre lang=console><span class=go>\u276f proxy</span><span class=go>...[redacted]... - Loaded plugin proxy.http.proxy.HttpProxyPlugin</span><span class=go>...[redacted]... - Started 8 threadless workers</span><span class=go>...[redacted]... - Started 8 acceptors</span><span class=go>...[redacted]... - Listening on 127.0.0.1:8899</span></pre><h3>Understanding logs</h3><p>Things to notice from above logs:</p><ul><li><p><code>Loaded plugin</code></p><ul><li><code>proxy.py</code> will load <code>proxy.http.proxy.HttpProxyPlugin</code> by default</li><li>As name suggests, this core plugin adds <code>http(s)</code> proxy server capabilities to <code>proxy.py</code> instance</li></ul></li><li><p><code>Started N threadless workers</code></p><ul><li>By default, <code>proxy.py</code> will start as many worker processes as there are CPU cores on the machine</li><li>Use <code>--num-workers</code> flag to customize number of worker processes</li><li>See <a href=#threads-vs-threadless rel=nofollow>Threads vs Threadless</a> to understand how to control execution mode</li></ul></li><li><p><code>Started N acceptors</code></p><ul><li>By default, <code>proxy.py</code> will start as many acceptor processes as there are CPU cores on the machine</li><li>Use <code>--num-acceptors</code> flag to customize number of acceptor processes</li><li>See <a href=#high-level-architecture rel=nofollow>High Level Architecture</a> to understand relationship between acceptors and workers</li></ul></li><li><p><code>Started server on ::1:8899</code></p><ul><li>By default, <code>proxy.py</code> listens on IPv6 <code>::1</code>, which is equivalent of IPv4 <code>127.0.0.1</code></li><li>If you want to access <code>proxy.py</code> from external host, use <code>--hostname ::</code> or <code>--hostname 0.0.0.0</code> or bind to any other interface available on your machine.</li><li>See <a href=#customnetworkinterface rel=nofollow>CustomNetworkInterface</a> for how to customize <code>proxy.py</code> <em>public IP seen by upstream servers</em>.</li></ul></li><li><p><code>Port 8899</code></p><ul><li>Use <code>--port</code> flag to customize default TCP port.</li></ul></li></ul><h3>Enable DEBUG logging</h3><p>All the logs above are <code>INFO</code> level logs, default <code>--log-level</code> for <code>proxy.py</code></p><p>Lets start <code>proxy.py</code> with <code>DEBUG</code> level logging:</p><pre lang=console><span class=go>\u276f proxy --log-level d</span><span class=go>...[redacted]... - Open file descriptor soft limit set to 1024</span><span class=go>...[redacted]... - Loaded plugin proxy.http_proxy.HttpProxyPlugin</span><span class=go>...[redacted]... - Started 8 workers</span><span class=go>...[redacted]... - Started server on ::1:8899</span></pre><p>You can use single letter to customize log level.  Example:</p><ul><li><code>d = DEBUG</code></li><li><code>i = INFO</code></li><li><code>w = WARNING</code></li><li><code>e = ERROR</code></li><li><code>c = CRITICAL</code></li></ul><p>As we can see from the above logs, before starting up:</p><ul><li><code>proxy.py</code> tried to set open file limit <code>ulimit</code> on the system</li><li>Default value for <code>--open-file-limit</code> used is <code>1024</code></li><li><code>--open-file-limit</code> flag is a no-op on <code>Windows</code> operating systems</li></ul><p>See <a href=#flags rel=nofollow>flags</a> for full list of available configuration options.</p><h2>From command line using repo source</h2><p>If you are trying to run <code>proxy.py</code> from source code,there is no binary file named <code>proxy</code> in the source code.</p><p>To start <code>proxy.py</code> from source code follow these instructions:</p><ul><li><p>Clone repo</p><pre lang=console><span class=go>\u276f git clone https://github.com/abhinavsingh/proxy.py.git</span><span class=go>\u276f cd proxy.py</span></pre></li><li><p>Create a Python 3 virtual env</p><pre lang=console><span class=go>\u276f python3 -m venv venv</span><span class=go>\u276f source venv/bin/activate</span></pre></li><li><p>Install deps</p><pre lang=console><span class=go>\u276f make lib-dep</span></pre></li><li><p>Generate <code>proxy/common/_scm_version.py</code></p><p>NOTE: <em>Following step is not necessary for editable installs.</em></p><p>This file writes SCM detected version to <code>proxy/common/_scm_version.py</code> file.</p><pre lang=console><span class=go>\u276f ./write-scm-version.sh</span></pre></li><li><p>Optionally, run tests</p><pre lang=console><span class=go>\u276f make</span></pre></li><li><p>Run <code>proxy.py</code></p><pre lang=console><span class=go>\u276f python -m proxy</span></pre></li></ul><p>See <a href=#plugin-developer-and-contributor-guide rel=nofollow>Plugin Developer and Contributor Guide</a>if you plan to work with <code>proxy.py</code> source code.</p><h2>Docker image</h2><h3>Customize startup flags</h3><p>By default <code>docker</code> binary is started with IPv4 networking flags:</p><pre><code>--hostname 0.0.0.0 --port 8899</code></pre><p>You can override flag from command line when starting the docker container. For example, to check <code>proxy.py</code> version within the docker container, run:</p><pre><code>\u276f docker run -it \\    -p 8899:8899 \\    --rm abhinavsingh/proxy.py:latest \\    -v</code></pre><h1>Plugin Examples</h1><ul><li>See <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/proxy/plugin\" rel=nofollow>plugin</a> module for full code.</li><li>All the bundled plugin examples also works with <code>https</code> traffic<ul><li>Require additional flags and certificate generation</li><li>See <a href=#tls-interception rel=nofollow>TLS Interception</a>.</li></ul></li><li>Plugin examples are also bundled with Docker image.<ul><li>See <a href=#customize-startup-flags rel=nofollow>Customize startup flags</a> to try plugins with Docker image.</li></ul></li></ul><h2>HTTP Proxy Plugins</h2><h3>ShortLinkPlugin</h3><p>Add support for short links in your favorite browsers / applications.</p><p><a href=\"https://github.com/abhinavsingh/proxy.py#user-content-shortlinkplugin\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/245385376025031278ea3a3eb7880939ff8c4255/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f616268696e617673696e67682f70726f78792e70792f646576656c6f702f73686f72746c696e6b2e676966\" alt=\"Shortlink Plugin\"></a></p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ShortLinkPlugin</span></pre><p>Now you can speed up your daily browsing experience by visiting yourfavorite website using single character domain names :). This worksacross all browsers.</p><p>Following short links are enabled by default:</p><table><thead><tr><th align=center>Short Link</th><th align=center>Destination URL</th></tr></thead><tbody><tr><td align=center>a/</td><td align=center><code>amazon.com</code></td></tr><tr><td align=center>i/</td><td align=center><code>instagram.com</code></td></tr><tr><td align=center>l/</td><td align=center><code>linkedin.com</code></td></tr><tr><td align=center>f/</td><td align=center><code>facebook.com</code></td></tr><tr><td align=center>g/</td><td align=center><code>google.com</code></td></tr><tr><td align=center>t/</td><td align=center><code>twitter.com</code></td></tr><tr><td align=center>w/</td><td align=center><code>web.whatsapp.com</code></td></tr><tr><td align=center>y/</td><td align=center><code>youtube.com</code></td></tr><tr><td align=center>proxy/</td><td align=center><code>localhost:8899</code></td></tr></tbody></table><h3>ModifyPostDataPlugin</h3><p>Modifies POST request body before sending request to upstream server.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ModifyPostDataPlugin</span></pre><p>By default plugin replaces POST body content with hard-coded <code>b'{\"key\": \"modified\"}'</code>and enforced <code>Content-Type: application/json</code>.</p><p>Verify the same using <code>curl -x localhost:8899 -d '{\"key\": \"value\"}' http://httpbin.org/post</code></p><pre lang=console><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"data\": \"{\\\"key\\\": \\\"modified\\\"}\",</span><span class=go>  \"files\": {},</span><span class=go>  \"form\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Content-Length\": \"19\",</span><span class=go>    \"Content-Type\": \"application/json\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"json\": {</span><span class=go>    \"key\": \"modified\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/post\"</span><span class=go>}</span></pre><p>Note following from the response above:</p><ol><li>POST data was modified <code>\"data\": \"{\\\"key\\\": \\\"modified\\\"}\"</code>.Original <code>curl</code> command data was <code>{\"key\": \"value\"}</code>.</li><li>Our <code>curl</code> command did not add any <code>Content-Type</code> header,but our plugin did add one <code>\"Content-Type\": \"application/json\"</code>.Same can also be verified by looking at <code>json</code> field in the output above:<pre><code>\"json\": { \"key\": \"modified\"},</code></pre></li><li>Our plugin also added a <code>Content-Length</code> header to match lengthof modified body.</li></ol><h3>MockRestApiPlugin</h3><p>Mock responses for your server REST API.Use to test and develop client side applicationswithout need of an actual upstream REST API server.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ProposedRestApiPlugin</span></pre><p>Verify mock API response using <code>curl -x localhost:8899 http://api.example.com/v1/users/</code></p><pre lang=console><span class=go>{\"count\": 2, \"next\": null, \"previous\": null, \"results\": [{\"email\": \"you@example.com\", \"groups\": [], \"url\": \"api.example.com/v1/users/1/\", \"username\": \"admin\"}, {\"email\": \"someone@example.com\", \"groups\": [], \"url\": \"api.example.com/v1/users/2/\", \"username\": \"admin\"}]}</span></pre><p>Verify the same by inspecting <code>proxy.py</code> logs:</p><pre lang=console><span class=go>... [redacted] ... - access_log:1210 - ::1:64792 - GET None:None/v1/users/ - None None - 0 byte</span></pre><p>Access log shows <code>None:None</code> as server <code>ip:port</code>. <code>None</code> simply means thatthe server connection was never made, since response was returned by our plugin.</p><p>Now modify <code>ProposedRestApiPlugin</code> to returns REST API mockresponses as expected by your clients.</p><h3>RedirectToCustomServerPlugin</h3><p>Redirects all incoming <code>http</code> requests to custom web server.By default, it redirects client requests to inbuilt web server,also running on <code>8899</code> port.</p><p>Start <code>proxy.py</code> and enable inbuilt web server:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --enable-web-server \\</span><span class=go>    --plugins proxy.plugin.RedirectToCustomServerPlugin</span></pre><p>Verify using <code>curl -v -x localhost:8899 http://google.com</code></p><pre><code>... [redacted] ...&lt; HTTP/1.1 404 NOT FOUND&lt; Server: proxy.py v1.0.0&lt; Connection: Close&lt;* Closing connection 0</code></pre><p>Above <code>404</code> response was returned from <code>proxy.py</code> web server.</p><p>Verify the same by inspecting the logs for <code>proxy.py</code>.Along with the proxy request log, you must also see a http web server request log.</p><pre><code>... [redacted] ... - access_log:1241 - ::1:49525 - GET /... [redacted] ... - access_log:1157 - ::1:49524 - GET localhost:8899/ - 404 NOT FOUND - 70 bytes</code></pre><h3>FilterByUpstreamHostPlugin</h3><p>Drops traffic by inspecting upstream host.By default, plugin drops traffic for <code>facebook.com</code> and <code>www.facebok.com</code>.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.FilterByUpstreamHostPlugin</span></pre><p>Verify using <code>curl -v -x localhost:8899 http://facebook.com</code>:</p><pre lang=console><span class=go>... [redacted] ...</span><span class=go>&lt; HTTP/1.1 418 I'm a tea pot</span><span class=go>&lt; Proxy-agent: proxy.py v1.0.0</span><span class=go>* no chunk, no close, no size. Assume close to signal end</span><span class=go>&lt;</span><span class=go>* Closing connection 0</span></pre><p>Above <code>418 I'm a tea pot</code> is sent by our plugin.</p><p>Verify the same by inspecting logs for <code>proxy.py</code>:</p><pre lang=console><span class=go>... [redacted] ... - handle_readables:1347 - HttpProtocolException type raised</span><span class=go>Traceback (most recent call last):</span><span class=go>... [redacted] ...</span><span class=go>... [redacted] ... - access_log:1157 - ::1:49911 - GET None:None/ - None None - 0 bytes</span></pre><h3>CacheResponsesPlugin</h3><p>Caches Upstream Server Responses.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.CacheResponsesPlugin</span></pre><p>You may also use the <code>--cache-requests</code> flag to enable request packet caching for inspection.</p><p>Verify using <code>curl -v -x localhost:8899 http://httpbin.org/get</code>:</p><pre lang=console><span class=go>... [redacted] ...</span><span class=go>&lt; HTTP/1.1 200 OK</span><span class=go>&lt; Access-Control-Allow-Credentials: true</span><span class=go>&lt; Access-Control-Allow-Origin: *</span><span class=go>&lt; Content-Type: application/json</span><span class=go>&lt; Date: Wed, 25 Sep 2019 02:24:25 GMT</span><span class=go>&lt; Referrer-Policy: no-referrer-when-downgrade</span><span class=go>&lt; Server: nginx</span><span class=go>&lt; X-Content-Type-Options: nosniff</span><span class=go>&lt; X-Frame-Options: DENY</span><span class=go>&lt; X-XSS-Protection: 1; mode=block</span><span class=go>&lt; Content-Length: 202</span><span class=go>&lt; Connection: keep-alive</span><span class=go>&lt;</span><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span><span class=go>* Connection #0 to host localhost left intact</span></pre><p>Get path to the cache file from <code>proxy.py</code> logs:</p><pre lang=console><span class=go>... [redacted] ... - GET httpbin.org:80/get - 200 OK - 556 bytes</span><span class=go>... [redacted] ... - Cached response at /var/folders/k9/x93q0_xn1ls9zy76m2mf2k_00000gn/T/httpbin.org-1569378301.407512.txt</span></pre><p>Verify contents of the cache file <code>cat /path/to/your/cache/httpbin.org.txt</code></p><pre lang=console><span class=go>HTTP/1.1 200 OK</span><span class=go>Access-Control-Allow-Credentials: true</span><span class=go>Access-Control-Allow-Origin: *</span><span class=go>Content-Type: application/json</span><span class=go>Date: Wed, 25 Sep 2019 02:24:25 GMT</span><span class=go>Referrer-Policy: no-referrer-when-downgrade</span><span class=go>Server: nginx</span><span class=go>X-Content-Type-Options: nosniff</span><span class=go>X-Frame-Options: DENY</span><span class=go>X-XSS-Protection: 1; mode=block</span><span class=go>Content-Length: 202</span><span class=go>Connection: keep-alive</span><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span></pre><h3>ManInTheMiddlePlugin</h3><p>Modifies upstream server responses.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ManInTheMiddlePlugin</span></pre><p>Verify using <code>curl -v -x localhost:8899 http://google.com</code>:</p><pre lang=console><span class=go>... [redacted] ...</span><span class=go>&lt; HTTP/1.1 200 OK</span><span class=go>&lt; Content-Length: 28</span><span class=go>&lt;</span><span class=go>* Connection #0 to host localhost left intact</span><span class=go>Hello from man in the middle</span></pre><p>Response body <code>Hello from man in the middle</code> is sent by our plugin.</p><h3>ProxyPoolPlugin</h3><p>Forward incoming proxy requests to a set of upstream proxy servers.</p><p>Let's start 2 upstream proxies first.  To simulate upstream proxies,start <code>proxy.py</code> on port <code>9000</code> and <code>9001</code></p><pre lang=console><span class=go>\u276f proxy --port 9000</span></pre><pre lang=console><span class=go>\u276f proxy --port 9001</span></pre><p>Now, start <code>proxy.py</code> with <code>ProxyPoolPlugin</code> (on default <code>8899</code> port),pointing to our upstream proxies at <code>9000</code> and <code>9001</code> port.</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ProxyPoolPlugin \\</span><span class=go>    --proxy-pool localhost:9000 \\</span><span class=go>    --proxy-pool localhost:9001</span></pre><p>Make a curl request via <code>8899</code> proxy:</p><p><code>curl -v -x localhost:8899 http://httpbin.org/get</code></p><p>Verify that <code>8899</code> proxy forwards requests to upstream proxiesby checking respective logs.</p><p>If an upstream proxy require credentials, pass them as arguments. Example:</p><p><code>--proxy-pool user:pass@upstream.proxy:port</code></p><h3>FilterByClientIpPlugin</h3><p>Reject traffic from specific IP addresses. By default thisplugin blocks traffic from <code>127.0.0.1</code> and <code>::1</code>.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.FilterByClientIpPlugin</span></pre><p>Send a request using <code>curl -v -x localhost:8899 http://google.com</code>:</p><pre lang=console><span class=go>... [redacted] ...</span><span class=go>&gt; Proxy-Connection: Keep-Alive</span><span class=go>&gt;</span><span class=go>&lt; HTTP/1.1 418 I'm a tea pot</span><span class=go>&lt; Connection: close</span><span class=go>&lt;</span><span class=go>* Closing connection 0</span></pre><p>Modify plugin to your taste e.g. Allow specific IP addresses only.</p><h3>ModifyChunkResponsePlugin</h3><p>This plugin demonstrate how to modify chunked encoded responses. In able to do so, this plugin uses <code>proxy.py</code> core to parse the chunked encoded response. Then we reconstruct the response using custom hard-coded chunks, ignoring original chunks received from upstream server.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ModifyChunkResponsePlugin</span></pre><p>Verify using <code>curl -v -x localhost:8899 http://httpbin.org/stream/5</code>:</p><pre lang=console><span class=go>... [redacted] ...</span><span class=go>modify</span><span class=go>chunk</span><span class=go>response</span><span class=go>plugin</span><span class=go>* Connection #0 to host localhost left intact</span><span class=go>* Closing connection 0</span></pre><p>Modify <code>ModifyChunkResponsePlugin</code> to your taste. Example, instead of sending hard-coded chunks, parse and modify the original <code>JSON</code> chunks received from the upstream server.</p><h3>CloudflareDnsResolverPlugin</h3><p>This plugin uses <code>Cloudflare</code> hosted <code>DNS-over-HTTPS</code> <a href=\"https://developers.cloudflare.com/1.1.1.1/encrypted-dns/dns-over-https/make-api-requests/dns-json\" rel=nofollow>API</a> (json).</p><p><code>DoH</code> mandates a HTTP2 compliant client. Unfortunately <code>proxy.py</code>does not provide that yet, so we use a dependency. Install it:</p><pre lang=console><span class=go>\u276f pip install \"httpx[http2]\"</span></pre><p>Now start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.CloudflareDnsResolverPlugin</span></pre><p>By default, <code>CloudflareDnsResolverPlugin</code> runs in <code>security</code> mode and provides malware protection.Use <code>--cloudflare-dns-mode family</code> to also enable adult content protection too.</p><h3>CustomDnsResolverPlugin</h3><p>This plugin demonstrate how to use a custom DNS resolution implementation with <code>proxy.py</code>.This example plugin currently uses Python's in-built resolution mechanism.  Customize codeto your taste.  Example, query your custom DNS server, implement <code>DoH</code> or other mechanisms.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.CustomDnsResolverPlugin</span></pre><h3>CustomNetworkInterface</h3><p><code>HttpProxyBasePlugin.resolve_dns</code> callback can also be used to configure <code>network interface</code> which must be used as the <code>source_address</code> for connection to the upstream server.</p><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/issues/535#issuecomment-961510862\" rel=nofollow>this thread</a>for more details.</p><p>PS: There is no plugin named, but <a href=#customdnsresolverplugin rel=nofollow>CustomDnsResolverPlugin</a>can be easily customized according to your needs.</p><h3>ProgramNamePlugin</h3><p>Attempts to resolve program <code>(application)</code> name for proxy requests originating from the local machine.If identified, client IP in the access logs is replaced with program name.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.ProgramNamePlugin</span></pre><p>Make a request using <code>curl</code>:</p><pre lang=console><span class=go>\u276f curl -v -x localhost:8899 https://httpbin.org/get</span></pre><p>You must see log lines like this:</p><pre lang=console><span class=go>... [redacted] ... - [I] server.access_log:419 - curl:58096 - CONNECT httpbin.org:443 - 6010 bytes - 1824.62ms</span></pre><p>Notice <code>curl</code> in-place of <code>::1</code> or <code>127.0.0.1</code> as client IP.</p><p><a href=#programnameplugin rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/b8767ff125b12cf36671796233c7a6fb3b85ecf6/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d436f6d7061746962696c697479266d6573736167653d7761726e696e6726636f6c6f723d726564\" alt=WARNING></a> If <code>ProgramNamePlugin</code> does not work reliably on your operating system, kindly contribute by sending a pull request and/or open an issue.  Thank you!!!</p><h2>HTTP Web Server Plugins</h2><h3>Web Server Route</h3><p>Demonstrates inbuilt web server routing using plugin.</p><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy --enable-web-server \\</span><span class=go>    --plugins proxy.plugin.WebServerPlugin</span></pre><p>Verify using <code>curl -v localhost:8899/http-route-example</code>, should return:</p><pre lang=console><span class=go>HTTP route response</span></pre><h2>Reverse Proxy Plugins</h2><p>Extends in-built Web Server to add Reverse Proxy capabilities.</p><h3>Reverse Proxy</h3><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy --enable-reverse-proxy \\</span><span class=go>    --plugins proxy.plugin.ReverseProxyPlugin</span></pre><p>With default configuration, <code>ReverseProxyPlugin</code> plugin is equivalent tofollowing <code>Nginx</code> config:</p><pre lang=console><span class=go>location /get {</span><span class=go>    proxy_pass http://httpbin.org/get</span><span class=go>}</span></pre><p>Verify using <code>curl -v localhost:8899/get</code>:</p><pre lang=console><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"localhost\",</span><span class=go>    \"User-Agent\": \"curl/7.64.1\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://localhost/get\"</span><span class=go>}</span></pre><h2>Plugin Ordering</h2><p>When using multiple plugins, depending upon plugin functionality,it might be worth considering the order in which plugins are passedon the command line.</p><p>Plugins are called in the same order as they are passed. Example,say we are using both <code>FilterByUpstreamHostPlugin</code> and<code>RedirectToCustomServerPlugin</code>. Idea is to drop all incoming <code>http</code>requests for <code>facebook.com</code> and <code>www.facebook.com</code> and redirect other<code>http</code> requests to our inbuilt web server.</p><p>Hence, in this scenario it is important to use<code>FilterByUpstreamHostPlugin</code> before <code>RedirectToCustomServerPlugin</code>.If we enable <code>RedirectToCustomServerPlugin</code> before <code>FilterByUpstreamHostPlugin</code>,<code>facebook</code> requests will also get redirected to inbuilt web server,instead of being dropped.</p><h1>End-to-End Encryption</h1><p>By default, <code>proxy.py</code> uses <code>http</code> protocol for communication with clients e.g. <code>curl</code>, <code>browser</code>. For enabling end-to-end encrypting using <code>tls</code> / <code>https</code> first generate certificates. <strong>Checkout</strong> the repository and run:</p><pre lang=console><span class=go>make https-certificates</span></pre><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --cert-file https-cert.pem \\</span><span class=go>    --key-file https-key.pem</span></pre><p>Verify using <code>curl -x https://localhost:8899 --proxy-cacert https-cert.pem https://httpbin.org/get</code>:</p><pre lang=console><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span></pre><p>If you want to avoid passing <code>--proxy-cacert</code> flag, also consider signing generated SSL certificates. Example:</p><p>First, generate CA certificates:</p><pre lang=console><span class=go>make ca-certificates</span></pre><p>Then, sign SSL certificate:</p><pre lang=console><span class=go>make sign-https-certificates</span></pre><p>Now restart the server with <code>--cert-file https-signed-cert.pem</code> flag. Note that you must also trust generated <code>ca-cert.pem</code> in your system keychain.</p><h1>TLS Interception</h1><p>By default, <code>proxy.py</code> will not decrypt <code>https</code> traffic between client and server.To enable TLS interception first generate root CA certificates:</p><pre lang=console><span class=go>\u276f make ca-certificates</span></pre><p>Lets also enable <code>CacheResponsePlugin</code> so that we can verify decryptedresponse from the server. Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy \\</span><span class=go>    --plugins proxy.plugin.CacheResponsesPlugin \\</span><span class=go>    --ca-key-file ca-key.pem \\</span><span class=go>    --ca-cert-file ca-cert.pem \\</span><span class=go>    --ca-signing-key-file ca-signing-key.pem</span></pre><p><a href=\"https://github.com/abhinavsingh/proxy.py#user-content-flags\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/37e117cef16ea20e11d3ff5f22bf84d2ebb8aea6/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4d61634f53266d6573736167653d6e6f746526636f6c6f723d79656c6c6f77\" alt=NOTE></a> Also provide explicit CA bundle path needed for validation of peer certificates. See <code>--ca-file</code> flag.</p><p>Verify TLS interception using <code>curl</code></p><pre lang=console><span class=go>\u276f curl -v -x localhost:8899 --cacert ca-cert.pem https://httpbin.org/get</span></pre><pre lang=console><span class=go>*  issuer: C=US; ST=CA; L=SanFrancisco; O=proxy.py; OU=CA; CN=Proxy PY CA; emailAddress=proxyca@mailserver.com</span><span class=go>*  SSL certificate verify ok.</span><span class=go>&gt; GET /get HTTP/1.1</span><span class=go>... [redacted] ...</span><span class=go>&lt; Connection: keep-alive</span><span class=go>&lt;</span><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span></pre><p>The <code>issuer</code> line confirms that response was intercepted.</p><p>Also verify the contents of cached response file. Get path to the cachefile from <code>proxy.py</code> logs.</p><p><code>\u276f cat /path/to/your/tmp/directory/httpbin.org-1569452863.924174.txt</code></p><pre lang=console><span class=go>HTTP/1.1 200 OK</span><span class=go>Access-Control-Allow-Credentials: true</span><span class=go>Access-Control-Allow-Origin: *</span><span class=go>Content-Type: application/json</span><span class=go>Date: Wed, 25 Sep 2019 23:07:05 GMT</span><span class=go>Referrer-Policy: no-referrer-when-downgrade</span><span class=go>Server: nginx</span><span class=go>X-Content-Type-Options: nosniff</span><span class=go>X-Frame-Options: DENY</span><span class=go>X-XSS-Protection: 1; mode=block</span><span class=go>Content-Length: 202</span><span class=go>Connection: keep-alive</span><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"1.2.3.4, 5.6.7.8\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span></pre><p>Viola!!! If you remove CA flags, encrypted data will be found in thecached file instead of plain text.</p><p>Now use CA flags with other<a href=#plugin-examples rel=nofollow>plugin examples</a> to see them work with <code>https</code> traffic.</p><h2>TLS Interception With Docker</h2><p>Important notes about TLS Interception with Docker container:</p><ul><li><p>Since <code>v2.2.0</code>, <code>proxy.py</code> docker container also ships with <code>openssl</code>. This allows <code>proxy.py</code>to generate certificates on the fly for TLS Interception.</p></li><li><p>For security reasons, <code>proxy.py</code> docker container does not ship withCA certificates.</p></li></ul><p>Here is how to start a <code>proxy.py</code> docker containerwith TLS Interception:</p><ol><li><p>Generate CA certificates on host computer</p><pre lang=console><span class=go>\u276f make ca-certificates</span></pre></li><li><p>Copy all generated certificates into a separate directory. We'll later mount this directory into our docker container</p><pre lang=console><span class=go>\u276f mkdir /tmp/ca-certificates</span><span class=go>\u276f cp ca-cert.pem ca-key.pem ca-signing-key.pem /tmp/ca-certificates</span></pre></li><li><p>Start docker container</p><pre lang=console><span class=go>\u276f docker run -it --rm \\</span><span class=go>    -v /tmp/ca-certificates:/tmp/ca-certificates \\</span><span class=go>    -p 8899:8899 \\</span><span class=go>    abhinavsingh/proxy.py:latest \\</span><span class=go>    --hostname 0.0.0.0 \\</span><span class=go>    --plugins proxy.plugin.CacheResponsesPlugin \\</span><span class=go>    --ca-key-file /tmp/ca-certificates/ca-key.pem \\</span><span class=go>    --ca-cert-file /tmp/ca-certificates/ca-cert.pem \\</span><span class=go>    --ca-signing-key /tmp/ca-certificates/ca-signing-key.pem</span></pre><ul><li><code>-v /tmp/ca-certificates:/tmp/ca-certificates</code> flag mounts our CA certificate directory in container environment</li><li><code>--plugins proxy.plugin.CacheResponsesPlugin</code> enables <code>CacheResponsesPlugin</code> so that we can inspect intercepted traffic</li><li><code>--ca-*</code> flags enable TLS Interception.</li></ul></li><li><p>From another terminal, try TLS Interception using <code>curl</code>. You can omit <code>--cacert</code> flag if CA certificate is already trusted by the system.</p><pre lang=console><span class=go>\u276f curl -v \\</span><span class=go>    --cacert ca-cert.pem \\</span><span class=go>    -x 127.0.0.1:8899 \\</span><span class=go>    https://httpbin.org/get</span></pre></li><li><p>Verify <code>issuer</code> field from response headers.</p><pre lang=console><span class=go>* Server certificate:</span><span class=go>*  subject: CN=httpbin.org; C=NA; ST=Unavailable; L=Unavailable; O=Unavailable; OU=Unavailable</span><span class=go>*  start date: Jun 17 09:26:57 2020 GMT</span><span class=go>*  expire date: Jun 17 09:26:57 2022 GMT</span><span class=go>*  subjectAltName: host \"httpbin.org\" matched cert's \"httpbin.org\"</span><span class=go>*  issuer: CN=example.com</span><span class=go>*  SSL certificate verify ok.</span></pre></li><li><p>Back on docker terminal, copy response dump path logs.</p><pre lang=console><span class=go>...[redacted]... [I] access_log:338 - 172.17.0.1:56498 - CONNECT httpbin.org:443 - 1031 bytes - 1216.70 ms</span><span class=go>...[redacted]... [I] close:49 - Cached response at /tmp/httpbin.org-ae1a927d064e4ab386ea319eb38fe251.txt</span></pre></li><li><p>In another terminal, <code>cat</code> the response dump:</p><pre lang=console><span class=go>\u276f docker exec -it $(docker ps | grep proxy.py | awk '{ print $1 }') cat /tmp/httpbin.org-ae1a927d064e4ab386ea319eb38fe251.txt</span><span class=go>HTTP/1.1 200 OK</span><span class=go>...[redacted]...</span><span class=go>{</span><span class=go>  ...[redacted]...,</span><span class=go>  \"url\": \"http://httpbin.org/get\"</span><span class=go>}</span></pre></li></ol><h1>Proxy Over SSH Tunnel</h1><p><strong>This is a WIP and may not work as documented</strong></p><p>Requires <code>paramiko</code> to work.</p><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/requirements-tunnel.txt\" rel=nofollow>requirements-tunnel.txt</a></p><h2>Proxy Remote Requests Locally</h2><pre><code>                        |+------------+          |            +----------+|   LOCAL    |          |            |  REMOTE  ||   HOST     | &lt;== SSH ==== :8900 == |  SERVER  |+------------+          |            +----------+:8899 proxy.py          |                        |                     FIREWALL                  (allow tcp/22)</code></pre><h2>What</h2><p>Proxy HTTP(s) requests made on a <code>remote</code> server through <code>proxy.py</code> serverrunning on <code>localhost</code>.</p><h3>How</h3><ul><li>Requested <code>remote</code> port is forwarded over the SSH connection.</li><li><code>proxy.py</code> running on the <code>localhost</code> handles and responds to<code>remote</code> proxy requests.</li></ul><h3>Requirements</h3><ol><li><code>localhost</code> MUST have SSH access to the <code>remote</code> server</li><li><code>remote</code> server MUST be configured to proxy HTTP(s) requeststhrough the forwarded port number e.g. <code>:8900</code>.<ul><li><code>remote</code> and <code>localhost</code> ports CAN be same e.g. <code>:8899</code>.</li><li><code>:8900</code> is chosen in ascii art for differentiation purposes.</li></ul></li></ol><h3>Try it</h3><p>Start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f # On localhost</span><span class=go>\u276f proxy --enable-tunnel \\</span><span class=go>    --tunnel-username username \\</span><span class=go>    --tunnel-hostname ip.address.or.domain.name \\</span><span class=go>    --tunnel-port 22 \\</span><span class=go>    --tunnel-remote-port 8899 \\</span><span class=go>    --tunnel-ssh-key /path/to/ssh/private.key \\</span><span class=go>    --tunnel-ssh-key-passphrase XXXXX</span><span class=go>...[redacted]... [I] listener.setup:97 - Listening on 127.0.0.1:8899</span><span class=go>...[redacted]... [I] pool.setup:106 - Started 16 acceptors in threadless (local) mode</span><span class=go>...[redacted]... [I] transport._log:1873 - Connected (version 2.0, client OpenSSH_7.6p1)</span><span class=go>...[redacted]... [I] transport._log:1873 - Authentication (publickey) successful!</span><span class=go>...[redacted]... [I] listener.setup:116 - SSH connection established to ip.address.or.domain.name:22...</span><span class=go>...[redacted]... [I] listener.start_port_forward:91 - :8899 forwarding successful...</span></pre><p>Make a HTTP proxy request on <code>remote</code> server andverify that response contains public IP address of <code>localhost</code> as origin:</p><pre lang=console><span class=go>\u276f # On remote</span><span class=go>\u276f curl -x 127.0.0.1:8899 http://httpbin.org/get</span><span class=go>{</span><span class=go>  \"args\": {},</span><span class=go>  \"headers\": {</span><span class=go>    \"Accept\": \"*/*\",</span><span class=go>    \"Host\": \"httpbin.org\",</span><span class=go>    \"User-Agent\": \"curl/7.54.0\"</span><span class=go>  },</span><span class=go>  \"origin\": \"x.x.x.x, y.y.y.y\",</span><span class=go>  \"url\": \"https://httpbin.org/get\"</span><span class=go>}</span></pre><p>Also, verify that <code>proxy.py</code> logs on <code>localhost</code> contains <code>remote</code> IP as client IP.</p><pre lang=console><span class=go>access_log:328 - remote:52067 - GET httpbin.org:80</span></pre><h2>Proxy Local Requests Remotely</h2><pre><code>                        |+------------+          |     +----------+|   LOCAL    |          |     |  REMOTE  ||   HOST     | === SSH =====&gt; |  SERVER  |+------------+          |     +----------+                        |     :8899 proxy.py                        |                    FIREWALL                 (allow tcp/22)</code></pre><p>Not planned.</p><p>If you have a valid use case, kindly open an issue.  You are always welcome to sendcontributions via pull-requests to add this functionality :)</p><blockquote><p>To proxy local requests remotely, make use of <a href=#proxypoolplugin rel=nofollow>Proxy Pool Plugin</a>.</p></blockquote><h1>Embed proxy.py</h1><h2>Blocking Mode</h2><p>Start <code>proxy.py</code> in embedded mode with default configurationby using <code>proxy.main</code> method. Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=n>proxy</span><span class=o>.</span><span class=n>main</span><span class=p>()</span></pre><p>Customize startup flags by passing them as kwargs:</p><pre lang=python3><span class=kn>import</span> <span class=nn>ipaddress</span><span class=kn>import</span> <span class=nn>proxy</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=n>proxy</span><span class=o>.</span><span class=n>main</span><span class=p>(</span>    <span class=n>hostname</span><span class=o>=</span><span class=n>ipaddress</span><span class=o>.</span><span class=n>IPv6Address</span><span class=p>(</span><span class=s1>'::1'</span><span class=p>),</span>    <span class=n>port</span><span class=o>=</span><span class=mi>8899</span>  <span class=p>)</span></pre><p>Note that:</p><ol><li><code>main</code> is equivalent to starting <code>proxy.py</code> from command line.</li><li><code>main</code> does not accept any <code>args</code> (only <code>kwargs</code>).</li><li><code>main</code> will automatically consume any available <code>sys.argv</code> as <code>args</code>.</li><li><code>main</code> will block until <code>proxy.py</code> shuts down.</li></ol><h2>Non-blocking Mode</h2><p>Start <code>proxy.py</code> in non-blocking embedded mode with default configurationby using <code>Proxy</code> context manager: Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=k>with</span> <span class=n>proxy</span><span class=o>.</span><span class=n>Proxy</span><span class=p>()</span> <span class=k>as</span> <span class=n>p</span><span class=p>:</span>    <span class=c1># Uncomment the line below and</span>    <span class=c1># implement your app your logic here</span>    <span class=n>proxy</span><span class=o>.</span><span class=n>sleep_loop</span><span class=p>()</span></pre><p>Note that:</p><ol><li><code>Proxy</code> is similar to <code>main</code>, except <code>Proxy</code> will not block.</li><li>Internally, <code>Proxy</code> is a context manager which will start<code>proxy.py</code> when called and will shut it down once the scope ends.</li><li>Unlike <code>main</code>, startup flags with <code>Proxy</code> can also be customizedby using <code>args</code> and <code>kwargs</code>. e.g. <code>Proxy(['--port', '8899'])</code> orby using passing flags as kwargs e.g. <code>Proxy(port=8899)</code>.</li><li>Unlike <code>main</code>, <code>Proxy</code> will not inspect <code>sys.argv</code>.</li></ol><h2>Ephemeral Port</h2><p>Use <code>--port=0</code> to bind <code>proxy.py</code> on a random port allocated by the kernel.</p><p>In embedded mode, you can access this port.  Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=k>with</span> <span class=n>proxy</span><span class=o>.</span><span class=n>Proxy</span><span class=p>()</span> <span class=k>as</span> <span class=n>p</span><span class=p>:</span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=o>.</span><span class=n>flags</span><span class=o>.</span><span class=n>port</span><span class=p>)</span>    <span class=n>proxy</span><span class=o>.</span><span class=n>sleep_loop</span><span class=p>()</span></pre><p><code>flags.port</code> will give you access to the random port allocated by the kernel.</p><h2>Loading Plugins</h2><p>Users can use <code>--plugins</code> flag multiple times to load multiple plugins.See <a href=#unable-to-load-plugins rel=nofollow>Unable to load plugins</a> if you are running into issues.</p><p>When using in embedded mode, you have a few more options.  Example:</p><ol><li>Provide a fully-qualified name of the plugin class as <code>bytes</code> to the <code>proxy.main</code> method or <code>proxy.Proxy</code> context manager.</li><li>Provide <code>type</code> instance of the plugin class. This is especially useful if you plan to define plugins at runtime.</li></ol><p>Example, load a single plugin using <code>--plugins</code> flag:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=n>proxy</span><span class=o>.</span><span class=n>main</span><span class=p>(</span><span class=n>plugins</span><span class=o>=</span><span class=p>[</span><span class=s1>'proxy.plugin.CacheResponsesPlugin'</span><span class=p>])</span></pre><p>For simplicity, you can also pass the list of plugins as a keyword argument to <code>proxy.main</code> or the <code>Proxy</code> constructor.</p><p>Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=kn>from</span> <span class=nn>proxy.plugin</span> <span class=kn>import</span> <span class=n>FilterByUpstreamHostPlugin</span><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>'__main__'</span><span class=p>:</span>  <span class=n>proxy</span><span class=o>.</span><span class=n>main</span><span class=p>(</span><span class=n>plugins</span><span class=o>=</span><span class=p>[</span>    <span class=sa>b</span><span class=s1>'proxy.plugin.CacheResponsesPlugin'</span><span class=p>,</span>    <span class=n>FilterByUpstreamHostPlugin</span><span class=p>,</span>  <span class=p>])</span></pre><h1>Unit testing with proxy.py</h1><h2><code>proxy.TestCase</code></h2><p>To setup and tear down <code>proxy.py</code> for your Python <code>unittest</code> classes, simply use <code>proxy.TestCase</code> instead of <code>unittest.TestCase</code>.Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>proxy</span><span class=k>class</span> <span class=nc>TestProxyPyEmbedded</span><span class=p>(</span><span class=n>proxy</span><span class=o>.</span><span class=n>TestCase</span><span class=p>):</span>    <span class=k>def</span> <span class=nf>test_my_application_with_proxy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>        <span class=bp>self</span><span class=o>.</span><span class=n>assertTrue</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span></pre><p>Note that:</p><ol><li><code>proxy.TestCase</code> overrides <code>unittest.TestCase.run()</code> method to setup and tear down <code>proxy.py</code>.</li><li><code>proxy.py</code> server will listen on a random available port on the system.This random port is available as <code>self.PROXY.flags.port</code> within your test cases.</li><li>Only a single acceptor and worker is started by default (<code>--num-workers 1 --num-acceptors 1</code>) for faster setup and tear down.</li><li>Most importantly, <code>proxy.TestCase</code> also ensures <code>proxy.py</code> serveris up and running before proceeding with execution of tests. By default,<code>proxy.TestCase</code> will wait for <code>10 seconds</code> for <code>proxy.py</code> server to start,upon failure a <code>TimeoutError</code> exception will be raised.</li></ol><h2>Override startup flags</h2><p>To override default startup flags, define a <code>PROXY_PY_STARTUP_FLAGS</code> variable in your test class.Example:</p><pre lang=python3><span class=k>class</span> <span class=nc>TestProxyPyEmbedded</span><span class=p>(</span><span class=n>TestCase</span><span class=p>):</span>    <span class=n>PROXY_PY_STARTUP_FLAGS</span> <span class=o>=</span> <span class=p>[</span>        <span class=s1>'--num-workers'</span><span class=p>,</span> <span class=s1>'2'</span><span class=p>,</span>        <span class=s1>'--num-acceptors'</span><span class=p>,</span> <span class=s1>'1'</span><span class=p>,</span>        <span class=s1>'--enable-web-server'</span><span class=p>,</span>    <span class=p>]</span>    <span class=k>def</span> <span class=nf>test_my_application_with_proxy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>        <span class=bp>self</span><span class=o>.</span><span class=n>assertTrue</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span></pre><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/tests/testing/test_embed.py\" rel=nofollow>test_embed.py</a> for full working example.</p><h2>With <code>unittest.TestCase</code></h2><p>If for some reasons you are unable to directly use <code>proxy.TestCase</code>,then simply override <code>unittest.TestCase.run</code> yourself to setup and tear down <code>proxy.py</code>.Example:</p><pre lang=python3><span class=kn>import</span> <span class=nn>unittest</span><span class=kn>import</span> <span class=nn>proxy</span><span class=k>class</span> <span class=nc>TestProxyPyEmbedded</span><span class=p>(</span><span class=n>unittest</span><span class=o>.</span><span class=n>TestCase</span><span class=p>):</span>    <span class=k>def</span> <span class=nf>test_my_application_with_proxy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>        <span class=bp>self</span><span class=o>.</span><span class=n>assertTrue</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>result</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>unittest</span><span class=o>.</span><span class=n>TestResult</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>        <span class=k>with</span> <span class=n>proxy</span><span class=o>.</span><span class=n>start</span><span class=p>([</span>                <span class=s1>'--num-workers'</span><span class=p>,</span> <span class=s1>'1'</span><span class=p>,</span>                <span class=s1>'--num-acceptors'</span><span class=p>,</span> <span class=s1>'1'</span><span class=p>,</span>                <span class=s1>'--port'</span><span class=p>,</span> <span class=s1>'... random port ...'</span><span class=p>]):</span>            <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>result</span><span class=p>)</span></pre><p>or simply setup / tear down <code>proxy.py</code> within<code>setUpClass</code> and <code>teardownClass</code> class methods.</p><h1>Utilities</h1><h2>TCP Sockets</h2><h3>new_socket_connection</h3><p>Attempts to create an IPv4 connection, then IPv6 andfinally a dual stack connection to provided address.</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=n>conn</span> <span class=o>=</span> <span class=n>new_socket_connection</span><span class=p>((</span><span class=s1>'httpbin.org'</span><span class=p>,</span> <span class=mi>80</span><span class=p>))</span><span class=o>&gt;&gt;&gt;</span> <span class=o>...</span><span class=p>[</span> <span class=n>use</span> <span class=n>connection</span> <span class=p>]</span><span class=o>...</span><span class=o>&gt;&gt;&gt;</span> <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span></pre><h3>socket_connection</h3><p><code>socket_connection</code> is a convenient decorator + context manageraround <code>new_socket_connection</code> which ensures <code>conn.close</code> is implicit.</p><p>As a context manager:</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=k>with</span> <span class=n>socket_connection</span><span class=p>((</span><span class=s1>'httpbin.org'</span><span class=p>,</span> <span class=mi>80</span><span class=p>))</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span><span class=o>&gt;&gt;&gt;</span>   <span class=o>...</span> <span class=p>[</span> <span class=n>use</span> <span class=n>connection</span> <span class=p>]</span> <span class=o>...</span></pre><p>As a decorator:</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=nd>@socket_connection</span><span class=p>((</span><span class=s1>'httpbin.org'</span><span class=p>,</span> <span class=mi>80</span><span class=p>))</span><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>my_api_call</span><span class=p>(</span><span class=n>conn</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span><span class=o>&gt;&gt;&gt;</span>   <span class=o>...</span> <span class=p>[</span> <span class=n>use</span> <span class=n>connection</span> <span class=p>]</span> <span class=o>...</span></pre><h2>HTTP Client</h2><h3>build_http_request</h3><ul><li><p>Generate HTTP GET request</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=n>build_http_request</span><span class=p>(</span><span class=sa>b</span><span class=s1>'GET'</span><span class=p>,</span> <span class=sa>b</span><span class=s1>'/'</span><span class=p>)</span><span class=sa>b</span><span class=s1>'GET / HTTP/1.1</span><span class=se>\\r\\n\\r\\n</span><span class=s1>'</span></pre></li><li><p>Generate HTTP GET request with headers</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=n>build_http_request</span><span class=p>(</span><span class=sa>b</span><span class=s1>'GET'</span><span class=p>,</span> <span class=sa>b</span><span class=s1>'/'</span><span class=p>,</span> <span class=n>conn_close</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=sa>b</span><span class=s1>'GET / HTTP/1.1</span><span class=se>\\r\\n</span><span class=s1>Connection: close</span><span class=se>\\r\\n\\r\\n</span><span class=s1>'</span></pre></li><li><p>Generate HTTP POST request with headers and body</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>json</span><span class=o>&gt;&gt;&gt;</span> <span class=n>build_http_request</span><span class=p>(</span><span class=sa>b</span><span class=s1>'POST'</span><span class=p>,</span> <span class=sa>b</span><span class=s1>'/form'</span><span class=p>,</span>        <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=sa>b</span><span class=s1>'Content-type'</span><span class=p>:</span> <span class=sa>b</span><span class=s1>'application/json'</span><span class=p>},</span>        <span class=n>body</span><span class=o>=</span><span class=n>proxy</span><span class=o>.</span><span class=n>bytes_</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span><span class=s1>'email'</span><span class=p>:</span> <span class=s1>'hello@world.com'</span><span class=p>})))</span>    <span class=sa>b</span><span class=s1>'POST /form HTTP/1.1</span><span class=se>\\r\\n</span><span class=s1>Content-type: application/json</span><span class=se>\\r\\n\\r\\n</span><span class=s1>{\"email\": \"hello@world.com\"}'</span></pre></li></ul><h3>build_http_response</h3><pre lang=python3><span class=n>build_http_response</span><span class=p>(</span>    <span class=n>status_code</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>    <span class=n>protocol_version</span><span class=p>:</span> <span class=nb>bytes</span> <span class=o>=</span> <span class=n>HTTP_1_1</span><span class=p>,</span>    <span class=n>reason</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bytes</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>headers</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>bytes</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>body</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bytes</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bytes</span></pre><h2>PKI</h2><h3>API Usage</h3><ul><li><p><code>gen_private_key</code></p><pre lang=python3><span class=n>gen_private_key</span><span class=p>(</span>    <span class=n>key_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>bits</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>2048</span><span class=p>,</span>    <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span></pre></li><li><p><code>gen_public_key</code></p><pre lang=python3><span class=n>gen_public_key</span><span class=p>(</span>    <span class=n>public_key_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>private_key_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>private_key_password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>subject</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>alt_subj_names</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>extended_key_usage</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>validity_in_days</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>365</span><span class=p>,</span>    <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span></pre></li><li><p><code>remove_passphrase</code></p><pre lang=python3><span class=n>remove_passphrase</span><span class=p>(</span>    <span class=n>key_in_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>key_out_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span></pre></li><li><p><code>gen_csr</code></p><pre lang=python3><span class=n>gen_csr</span><span class=p>(</span>    <span class=n>csr_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>key_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>crt_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span></pre></li><li><p><code>sign_csr</code></p><pre lang=python3><span class=n>sign_csr</span><span class=p>(</span>    <span class=n>csr_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>crt_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>ca_key_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>ca_key_password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>ca_crt_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>serial</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>    <span class=n>alt_subj_names</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>extended_key_usage</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>    <span class=n>validity_in_days</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>365</span><span class=p>,</span>    <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span></pre></li></ul><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/proxy/common/pki.py\" rel=nofollow>pki.py</a> and<a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/tests/common/test_pki.py\" rel=nofollow>test_pki.py</a>for usage examples.</p><h3>CLI Usage</h3><p>Use <code>proxy.common.pki</code> module for:</p><ol><li>Generation of public and private keys</li><li>Generating CSR requests</li><li>Signing CSR requests using custom CA.</li></ol><pre lang=console><span class=go>python -m proxy.common.pki -h</span><span class=go>usage: pki.py [-h] [--password PASSWORD] [--private-key-path PRIVATE_KEY_PATH]</span><span class=go>              [--public-key-path PUBLIC_KEY_PATH] [--subject SUBJECT]</span><span class=go>              action</span><span class=go>proxy.py v2.2.0 : PKI Utility</span><span class=go>positional arguments:</span><span class=go>  action                Valid actions: remove_passphrase, gen_private_key,</span><span class=go>                        gen_public_key, gen_csr, sign_csr</span><span class=go>optional arguments:</span><span class=go>  -h, --help            show this help message and exit</span><span class=go>  --password PASSWORD   Password to use for encryption. Default: proxy.py</span><span class=go>  --private-key-path PRIVATE_KEY_PATH</span><span class=go>                        Private key path</span><span class=go>  --public-key-path PUBLIC_KEY_PATH</span><span class=go>                        Public key path</span><span class=go>  --subject SUBJECT     Subject to use for public key generation. Default:</span><span class=go>                        /CN=example.com</span></pre><h2>Internal Documentation</h2><h3>Read The Doc</h3><ul><li>Visit <a href=\"https://proxypy.readthedocs.io/\" rel=nofollow>proxypy.readthedocs.io</a></li><li>Build locally using:</li></ul><p><code>make lib-doc</code></p><h3>pydoc</h3><p>Code is well documented.  Grab the source code and run:</p><p><code>pydoc3 proxy</code></p><h3>pyreverse</h3><p>Generate class level hierarchy UML diagrams for in-depth analysis:</p><p><code>make lib-pyreverse</code></p><h1>Run Dashboard</h1><p>Dashboard is currently under development and not yet bundled with <code>pip</code> packages.To run dashboard, you must checkout the source.</p><p>Dashboard is written in Typescript and SCSS, so let's build it first using:</p><pre lang=console><span class=go>\u276f make dashboard</span></pre><p>Also build the embedded <code>Chrome DevTools</code> if you plan on using it:</p><pre lang=console><span class=go>\u276f make devtools</span></pre><p>Now start <code>proxy.py</code> with dashboard plugin and by overriding root directory for static server:</p><pre lang=console><span class=go>\u276f proxy --enable-dashboard --static-server-dir dashboard/public</span><span class=go>...[redacted]... - Loaded plugin proxy.http.server.HttpWebServerPlugin</span><span class=go>...[redacted]... - Loaded plugin proxy.dashboard.dashboard.ProxyDashboard</span><span class=go>...[redacted]... - Loaded plugin proxy.dashboard.inspect_traffic.InspectTrafficPlugin</span><span class=go>...[redacted]... - Loaded plugin proxy.http.inspector.DevtoolsProtocolPlugin</span><span class=go>...[redacted]... - Loaded plugin proxy.http.proxy.HttpProxyPlugin</span><span class=go>...[redacted]... - Listening on ::1:8899</span><span class=go>...[redacted]... - Core Event enabled</span></pre><p>Currently, enabling dashboard will also enable all the dashboard plugins.</p><p>Visit dashboard:</p><pre lang=console><span class=go>\u276f open http://localhost:8899/dashboard/</span></pre><h2>Inspect Traffic</h2><p><em><strong>This is a WIP and may not work as documented</strong></em></p><p>Wait for embedded <code>Chrome Dev Console</code> to load.  Currently, detail about all traffic flowingthrough <code>proxy.py</code> is pushed to the <code>Inspect Traffic</code> tab.  However, received payloads are notyet integrated with the embedded developer console.</p><p>Current functionality can be verified by opening the <code>Dev Console</code> of dashboard and inspectingthe websocket connection that dashboard established with the <code>proxy.py</code> server.</p><p><a href=\"https://github.com/abhinavsingh/proxy.py\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/cb22dd88513f99265642e8ae7074077ec959c043/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f616268696e617673696e67682f70726f78792e70792f646576656c6f702f44617368626f6172642e706e67\" alt=\"Proxy.Py Dashboard Inspect Traffic\"></a></p><h1>Chrome DevTools Protocol</h1><p>For scenarios where you want direct access to <code>Chrome DevTools</code> protocol websocket endpoint,start <code>proxy.py</code> as:</p><pre lang=console><span class=go>\u276f proxy --enable-devtools --enable-events</span></pre><p>Now point your CDT instance to <code>ws://localhost:8899/devtools</code>.</p><h1>Frequently Asked Questions</h1><h2>Deploying proxy.py in production</h2><p>Listed below are a few strategies for using <code>proxy.py</code> in your private/production/corporate projects.</p><h3>What not to do?</h3><blockquote><p>You MUST <code>avoid forking</code> the repository <em>\"just\"</em> to put your plugin code in <code>proxy/plugin</code> directory.  Forking is recommended workflow for project contributors, NOT for project users.</p></blockquote><ul><li>Instead, use one of the suggested approaches from below.</li><li>Then load your plugins using <code>--plugin</code>, <code>--plugins</code> flags or <code>plugin</code> kwargs.</li><li>See <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/skeleton\" rel=nofollow>skeleton</a> app for example standalone project using <code>proxy.py</code>.</li></ul><h3>Via Requirements</h3><p>It is <em>highly</em> recommended that you use <code>proxy.py</code> via <code>requirements.txt</code> or similar dependency management setups. This will allow you to take advantages of regular performance updates, bug fixes, security patches and other improvements happening in the <code>proxy.py</code> ecosystem.  Example:</p><ol><li><p>Use <code>--pre</code> option to depend upon last <code>pre-release</code></p><pre lang=console><span class=go>\u276f pip install proxy.py --pre</span></pre><p>Pre-releases are similar to depending upon <code>develop</code> branch code, just that pre-releases may not point to the <code>HEAD</code>.  This could happen because pre-releases are NOT made available on <code>PyPi</code> after every PR merge.</p></li><li><p>Use <code>TestPyPi</code> with <code>--pre</code> option to depend upon <code>develop</code> branch code</p><pre lang=console><span class=go>\u276f pip install -i https://test.pypi.org/simple/ proxy.py --pre</span></pre><p>A pre-release is made available on <code>TestPyPi</code> after every PR merge.</p></li><li><p>Use last <code>stable</code> release code</p><p>As usual, simply use:</p><pre lang=console><span class=go>\u276f pip install proxy.py</span></pre></li></ol><h3>Via Docker Container</h3><p>If you are into deploying containers, then simply build your image from base <code>proxy.py</code> container images.</p><ol><li><p>Use <code>GHCR</code> to build from <code>develop</code> branch code:</p><pre lang=console><span class=go>FROM ghcr.io/abhinavsingh/proxy.py:latest as base</span></pre><p><em>PS: I use GHCR latest for several production level projects</em></p></li><li><p>Use <code>DockerHub</code> to build from last <code>stable</code> release code:</p><pre lang=console><span class=go>FROM abhinavsingh/proxy.py:latest as base</span></pre></li></ol><p>PS: IMHO, container based strategy is <em>the best approach</em> and the only strategy that <em>I use myself</em>.</p><h3>Integrate your CI/CD with proxy.py</h3><p><em>Hey, but you keep making breaking changes in the develop branch.</em></p><p>I hear you.  And hence, for your production grade applications, you <em>MUST</em> integrate application CI/CD with <code>proxy.py</code>.  You must make sure that your application builds and passes its tests for every PR merge into the <code>proxy.py</code> upstream repo.</p><p>If your application repository is public, in certain scenarios, PR authors may send patch PRs for all dependents to maintain backward incompatibility and green CI/CD.</p><p>CI/CD integration ensure your app continues to build with latest <code>proxy.py</code> code.  Depending upon where you host your code, use the strategy listed below:</p><ul><li><p>GitHub</p><p>TBD</p></li><li><p>Google Cloud Build</p><p>TBD</p></li><li><p>AWS</p><p>TBD</p></li><li><p>Azure</p><p>TBD</p></li><li><p>Others</p><p>TBD</p></li></ul><blockquote><p>At some stage, we'll deprecate <code>master</code> branch segregation and simply maintain a <code>develop</code> branch.  As dependents can maintain stability via CI/CD integrations. Currently, it's hard for a production grade project to blindly depend upon <code>develop</code> branch.</p></blockquote><h2>Stable vs Develop</h2><ul><li><p><code>master</code> branch contains latest <code>stable</code> code and is available via <code>PyPi</code> repository and <code>Docker</code> containers via <code>docker.io</code> and <code>ghcr.io</code> registries.</p><p>Issues reported for <code>stable</code> releases are considered with top-priority.  However, currently we don't back port fixes into older releases.  Example, if you reported an issue in <code>v2.3.1</code>, but current <code>master</code> branch now contains <code>v2.4.0rc1</code>.  Then, the fix will land in <code>v2.4.0rc2</code>.</p></li><li><p><code>develop</code> branch contains cutting edge changes</p><p>Development branch is kept stable <em>(most of the times)</em>. <strong>But</strong>, if you want <em>100% reliability</em> and serving users in <em>production environment</em>, ALWAYS use the stable version.</p></li></ul><h3>Release Schedule</h3><p>A <code>vX.Y.ZrcN</code> pull request is created once a month which merges <code>develop</code> \u2192 <code>master</code>.  Find below how code flows from a pull request to the next stable release.</p><ol><li><p>Development release is deployed from <code>develop</code> \u2192 <code>test.pypi.org</code> after every pull request merge</p></li><li><p>Alpha release is deployed from <code>develop</code> \u2192 <code>pypi.org</code> <strong>before</strong> merging the <code>vX.Y.Z.rcN</code> pull request from <code>develop</code> \u2192 <code>master</code> branch.  There can be multiple alpha releases made before merging the <code>rc</code> pull request</p></li><li><p>Beta release is deployed from <code>master</code> \u2192 <code>pypi.org</code>.  Beta releases are made in preparation of <code>rc</code> releases and can be skipped if unnecessary</p></li><li><p>Release candidate is deployed from <code>master</code> \u2192 <code>pypi.org</code>.  Release candidates are always made available before final stable release</p></li><li><p>Stable release is deployed from <code>master</code> \u2192 <code>pypi.org</code></p></li></ol><h2>Threads vs Threadless</h2><h3><code>v1.x</code></h3><p><code>proxy.py</code> used to spawn new threads for handling client requests.</p><h3><code>v2.0+</code></h3><p><code>proxy.py</code> added support for threadless execution of client requests using <code>asyncio</code>.</p><h3><code>v2.4.0+</code></h3><p>Threadless execution was turned ON by default for <code>Python 3.8+</code> on <code>mac</code> and <code>linux</code> environments.</p><p><code>proxy.py</code> threadless execution has been reported safe on these environments by our users. If you are running into trouble, fallback to threaded mode using <code>--threaded</code> flag.</p><p>For <code>windows</code> and <code>Python &lt; 3.8</code>, you can still try out threadless mode by starting <code>proxy.py</code> with <code>--threadless</code> flag.</p><p>If threadless works for you, consider sending a PR by editing <code>_env_threadless_compliant</code> method in the <code>proxy/common/constants.py</code> file.</p><h2>Threadless Remote vs Local execution mode</h2><p>Original threadless implementation used <code>remote</code> execution mode.  This is also depicted under <a href=#high-level-architecture rel=nofollow>High level architecture</a> as ASCII art.</p><p>Under <code>remote</code> execution mode, acceptors delegate incoming client connection processing to a remote worker process.  By default, acceptors delegate connections in round-robin fashion.  Worker processing the request may or may not be running on the same CPU core as the acceptor.  This architecture scales well for high throughput, but results in spawning two process per CPU core.</p><p>Example, if there are N-CPUs on the machine, by default, N acceptors and N worker processes are started.  You can tune number of processes using <code>--num-acceptors</code> and <code>--num-workers</code> flag.  You might want more workers than acceptors or vice versa depending upon your use case.</p><p>In v2.4.x, <code>local</code> execution mode was added, mainly to reduce number of processes spawned by default.  This model serves well for day-to-day single user use cases and for developer testing scenarios.  Under <code>local</code> execution mode, acceptors delegate client connections to a companion thread, instead of a remote process.  <code>local</code> execution mode ensure CPU affinity, unlike in the <code>remote</code> mode where acceptor and worker might be running on different CPU cores.</p><p><code>--local-executor 1</code> was made default in v2.4.x series.  Under <code>local</code> execution mode, <code>--num-workers</code> flag has no effect, as no remote workers are started.</p><p>To use <code>remote</code> execution mode, use <code>--local-executor 0</code> flag.  Then use <code>--num-workers</code> to tune number of worker processes.</p><h2>SyntaxError: invalid syntax</h2><p><code>proxy.py</code> is strictly typed and uses Python <code>typing</code> annotations. Example:</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=n>my_strings</span> <span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span><span class=o>&gt;&gt;&gt;</span> <span class=c1>#############^^^^^^^^^#####</span></pre><p>Hence a Python version that understands typing annotations is required.Make sure you are using <code>Python 3.6+</code>.</p><p>Verify the version before running <code>proxy.py</code>:</p><p><code>\u276f python --version</code></p><p>All <code>typing</code> annotations can be replaced with <code>comment-only</code> annotations. Example:</p><pre lang=python3><span class=o>&gt;&gt;&gt;</span> <span class=n>my_strings</span> <span class=o>=</span> <span class=p>[]</span> <span class=c1># List[str]</span><span class=o>&gt;&gt;&gt;</span> <span class=c1>################^^^^^^^^^^^</span></pre><p>It will enable <code>proxy.py</code> to run on Python <code>pre-3.6</code>, even on <code>2.7</code>.However, as all future versions of Python will support <code>typing</code> annotations,this has not been considered.</p><h2>Unable to load plugins</h2><p>Make sure plugin modules are discoverable by adding them to <code>PYTHONPATH</code>. Example:</p><p><code>PYTHONPATH=/path/to/my/app proxy --plugins my_app.proxyPlugin</code></p><pre lang=console><span class=go>...[redacted]... - Loaded plugin proxy.HttpProxyPlugin</span><span class=go>...[redacted]... - Loaded plugin my_app.proxyPlugin</span></pre><p>OR, simply pass fully-qualified path as parameter, e.g.</p><p><code>proxy --plugins /path/to/my/app/my_app.proxyPlugin</code></p><p>Here is a quick working example:</p><ul><li>Contents of <code>/tmp/plug</code> folder</li></ul><pre lang=console><span class=go>\u2570\u2500 ls -1 /tmp/plug                                                                                                                       \u2500\u256f</span><span class=go>my_plugin.py</span></pre><ul><li>Custom <code>MyPlugin</code> class</li></ul><pre lang=console><span class=go>\u2570\u2500 cat /tmp/plug/my_plugin.py                                                                                                            \u2500\u256f</span><span class=go>from proxy.http.proxy import HttpProxyBasePlugin</span><span class=go>class MyPlugin(HttpProxyBasePlugin):</span><span class=go>  pass</span></pre><p>This is an empty plugin for demonstrating external plugin usage. You must implement necessary methods to make your plugins work for real traffic</p><ul><li>Start <code>proxy.py</code> with <code>MyPlugin</code></li></ul><pre lang=console><span class=go>\u2570\u2500 PYTHONPATH=/tmp/plug proxy --plugin my_plugin.MyPlugin                                                                      \u2500\u256f</span><span class=go>...[redacted]... - Loaded plugin proxy.http.proxy.HttpProxyPlugin</span><span class=go>...[redacted]... - Loaded plugin my_plugin.MyPlugin</span><span class=go>...[redacted]... - Listening on ::1:8899</span></pre><h2>Unable to connect with proxy.py from remote host</h2><p>Make sure <code>proxy.py</code> is listening on correct network interface.Try following flags:</p><ul><li>For IPv6 <code>--hostname ::</code></li><li>For IPv4 <code>--hostname 0.0.0.0</code></li></ul><h2>Basic auth not working with a browser</h2><p>Most likely it's a browser integration issue with system keychain.</p><ul><li><p>First verify that basic auth is working using <code>curl</code></p><p><code>curl -v -x username:password@localhost:8899 https://httpbin.org/get</code></p></li><li><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/issues/89#issuecomment-534845710\" rel=nofollow>this thread</a>for further details.</p></li></ul><h2>Docker image not working on macOS</h2><p>It's a compatibility issue with <code>vpnkit</code>.</p><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/issues/43\" rel=nofollow>moby/vpnkit exhausts docker resources</a>and <a href=\"https://github.com/moby/vpnkit/issues/469\" rel=nofollow>Connection refused: The proxy could not connect</a>for some background.</p><h2>GCE log viewer integration for proxy.py</h2><p>A starter <a href=\"https://github.com/abhinavsingh/proxy.py/blob/develop/helper/fluentd.conf\" rel=nofollow>fluentd.conf</a>template is available.</p><ol><li><p>Copy this configuration file as <code>proxy.py.conf</code> under<code>/etc/google-fluentd/config.d/</code></p></li><li><p>Update <code>path</code> field to log file path as used with <code>--log-file</code> flag.By default <code>/tmp/proxy.log</code> path is tailed.</p></li><li><p>Reload <code>google-fluentd</code>:</p><p><code>sudo service google-fluentd restart</code></p></li></ol><p>Now <code>proxy.py</code> logs can be browsed using<a href=\"https://console.cloud.google.com/logs/viewer\" rel=nofollow>GCE log viewer</a>.</p><h2><code>ValueError: filedescriptor out of range in select</code></h2><p><code>proxy.py</code> is made to handle thousands of connections per secondwithout any socket leaks.</p><ol><li>Make use of <code>--open-file-limit</code> flag to customize <code>ulimit -n</code>.</li><li>Make sure to adjust <code>--backlog</code> flag for higher concurrency.</li></ol><p>If nothing helps, <a href=\"https://github.com/abhinavsingh/proxy.py/issues/new\" rel=nofollow>open an issue</a>with <code>requests per second</code> sent and output of following debug script:</p><pre lang=console><span class=go>\u276f ./helper/monitor_open_files.sh &lt;proxy-py-pid&gt;</span></pre><h2>None:None in access logs</h2><p>Sometimes you may see <code>None:None</code> in access logs. It simply meansthat an upstream server connection was never established i.e.<code>upstream_host=None</code>, <code>upstream_port=None</code>.</p><p>There can be several reasons for no upstream connection,few obvious ones include:</p><ol><li>Client established a connection but never completed the request.</li><li>A plugin returned a response prematurely, avoiding connection to upstream server.</li></ol><h2>OSError when wrapping client for TLS Interception</h2><p>With <code>TLS Interception</code> on, you might occasionally see following exceptions:</p><pre lang=console><span class=go>2021-11-06 23:33:34,540 - pid:91032 [E] server.intercept:678 - OSError when wrapping client</span><span class=go>Traceback (most recent call last):</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>ssl.SSLError: [SSL: TLSV1_ALERT_UNKNOWN_CA] tlsv1 alert unknown ca (_ssl.c:997)</span><span class=go>...[redacted]... - CONNECT oauth2.googleapis.com:443 - 0 bytes - 272.08 ms</span></pre><p>Some clients can throw <code>TLSV1_ALERT_UNKNOWN_CA</code> if they cannot verify the certificate of the serverbecause it is signed by an unknown issuer CA.  Which is the case when we are doing TLS interception.This can be for a variety of reasons e.g. certificate pinning etc.</p><p>Another exception you might see is <code>CERTIFICATE_VERIFY_FAILED</code>:</p><pre lang=console><span class=go>2021-11-06 23:36:02,002 - pid:91033 [E] handler.handle_readables:293 - Exception while receiving from client connection &lt;socket.socket fd=28, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8899), raddr=('127.0.0.1', 51961)&gt; with reason SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:997)')</span><span class=go>Traceback (most recent call last):</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:997)</span><span class=go>...[redacted]... - CONNECT init.push.apple.com:443 - 0 bytes - 892.99 ms</span></pre><p>In future, we might support serving original HTTPS content for such clients while stillperforming TLS interception in the background.  This will keep the clients happy withoutimpacting our ability to TLS intercept.  Unfortunately, this feature is currently not available.</p><p>Another example with <code>SSLEOFError</code> exception:</p><pre lang=console><span class=go>2021-11-06 23:46:40,446 - pid:91034 [E] server.intercept:678 - OSError when wrapping client</span><span class=go>Traceback (most recent call last):</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>  ...[redacted]...</span><span class=go>ssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:997)</span><span class=go>...[redacted]... - CONNECT stock.adobe.io:443 - 0 bytes - 685.32 ms</span></pre><h1>Plugin Developer and Contributor Guide</h1><h2>High level architecture</h2><pre lang=console><span class=go>                        +-------------+</span><span class=go>                        |             |</span><span class=go>                        |  Proxy([])  |</span><span class=go>                        |             |</span><span class=go>                        +------+------+</span><span class=go>                               |</span><span class=go>                               |</span><span class=go>                   +-----------v--------------+</span><span class=go>                   |                          |</span><span class=go>                   |    AcceptorPool(...)     |</span><span class=go>                   |                          |</span><span class=go>                   +------------+-------------+</span><span class=go>                                |</span><span class=go>+-----------------+             |           +-----------------+</span><span class=go>|                 |             |           |                 |</span><span class=go>|   Acceptor(..)  &lt;-------------+-----------&gt;  Acceptor(..)   |</span><span class=go>|                 |                         |                 |</span><span class=go>+---+-------------+                         +---------+-------+</span><span class=go>    |                                                 |</span><span class=go>    |                                                 |</span><span class=go>    |    +------++------++------++------++------+     |</span><span class=go>    |    |      ||      ||      ||      ||      |     |</span><span class=go>    +----&gt;      ||      ||      ||      ||      &lt;-----+</span><span class=go>         |      ||      ||      ||      ||      |</span><span class=go>         +------++------++------++------++------+</span><span class=go>                Threadless Worker Processes</span></pre><p><code>proxy.py</code> is made with performance in mind.  By default, <code>proxy.py</code>will try to utilize all available CPU cores to it for accepting newclient connections. This is achieved by starting <code>AcceptorPool</code> whichlistens on configured server port. Then, <code>AcceptorPool</code> starts <code>Acceptor</code>processes (<code>--num-acceptors</code>) to accept incoming client connections.Alongside, if <code>--threadless</code> is enabled, <code>ThreadlessPool</code> is setupwhich starts <code>Threadless</code> processes (<code>--num-workers</code>) to handlethe incoming client connections.</p><p>Each <code>Acceptor</code> process delegates the accepted client connectionto a threadless process via <code>Work</code> class.  Currently, <code>HttpProtocolHandler</code>is the default work class.</p><p><code>HttpProtocolHandler</code> simply assumes that incoming clients will followHTTP specification.  Specific HTTP proxy and HTTP server implementationsare written as plugins of <code>HttpProtocolHandler</code>.</p><p>See documentation of <code>HttpProtocolHandlerPlugin</code> for available lifecycle hooks.Use <code>HttpProtocolHandlerPlugin</code> to add new features for http(s) clients. Example,See <code>HttpWebServerPlugin</code>.</p><h2>Everything is a plugin</h2><p>Within <code>proxy.py</code> everything is a plugin.</p><ul><li><p>We enabled <code>proxy server</code> plugins using <code>--plugins</code> flag.Proxy server <code>HttpProxyPlugin</code> is a plugin of <code>HttpProtocolHandler</code>.Further, Proxy server allows plugin through <code>HttpProxyBasePlugin</code> specification.</p></li><li><p>All the proxy server <a href=#plugin-examples rel=nofollow>plugin examples</a> were implementing<code>HttpProxyBasePlugin</code>. See documentation of <code>HttpProxyBasePlugin</code> for availablelifecycle hooks. Use <code>HttpProxyBasePlugin</code> to modify behavior of http(s) proxy protocolbetween client and upstream server. Example,<a href=#filterbyupstreamhostplugin rel=nofollow>FilterByUpstreamHostPlugin</a>.</p></li><li><p>We also enabled inbuilt <code>web server</code> using <code>--enable-web-server</code>.Web server <code>HttpWebServerPlugin</code> is a plugin of <code>HttpProtocolHandler</code>and implements <code>HttpProtocolHandlerPlugin</code> specification.</p></li><li><p>There also is a <code>--disable-http-proxy</code> flag. It disables inbuilt proxy server.Use this flag with <code>--enable-web-server</code> flag to run <code>proxy.py</code> as a programmablehttp(s) server.</p></li></ul><h2>Development Guide</h2><h3>Setup Local Environment</h3><p>Contributors must start <code>proxy.py</code> from source to verify and develop new features / fixes.</p><p>See <a href=#from-command-line-using-repo-source rel=nofollow>Run proxy.py from command line using repo source</a> for details.</p><p><a href=\"https://github.com/abhinavsingh/proxy.py/issues/642#issuecomment-960819271\" rel=nofollow><img src=\"https://pypi-camo.freetls.fastly.net/ff9d8978d96f052fcf5a46de3fad826d41ce0a21/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d4d61634f53266d6573736167653d7761726e696e6726636f6c6f723d726564\" alt=WARNING></a> On <code>macOS</code>you must install <code>Python</code> using <code>pyenv</code>, as <code>Python</code> installed via <code>homebrew</code> tendsto be problematic.  See linked thread for more details.</p><h3>Setup Git Hooks</h3><p>Pre-commit hook ensures tests are passing.</p><ol><li><code>cd /path/to/proxy.py</code></li><li><code>ln -s $(PWD)/git-pre-commit .git/hooks/pre-commit</code></li></ol><p>Pre-push hook ensures lint and tests are passing.</p><ol><li><code>cd /path/to/proxy.py</code></li><li><code>ln -s $(PWD)/git-pre-push .git/hooks/pre-push</code></li></ol><h3>Sending a Pull Request</h3><p>Every pull request is tested using GitHub actions.</p><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/.github/workflows\" rel=nofollow>GitHub workflow</a>for list of tests.</p><h1>Projects Using Proxy.Py</h1><p>Some of the projects using <code>proxy.py</code></p><ol><li><a href=\"https://github.com/ray-project/ray\" rel=nofollow>ray-project</a></li><li><a href=\"https://github.com/aio-libs/aiohttp\" rel=nofollow>aio-libs</a></li><li><a href=\"https://github.com/P0cL4bs/wifipumpkin3\" rel=nofollow>wifipumpkin3</a></li><li><a href=\"https://github.com/albertogeniola/MerossIot\" rel=nofollow>MerossIot</a></li><li><a href=\"https://github.com/ellisonleao/pyshorteners\" rel=nofollow>pyshorteners</a></li><li><a href=\"https://github.com/slackapi/python-slack-events-api\" rel=nofollow>Slack API</a></li><li><a href=\"https://github.com/Voyz/ibeam\" rel=nofollow>ibeam</a></li><li><a href=\"https://github.com/ferru97/PyPaperBot\" rel=nofollow>PyPaperBot</a></li></ol><p>For full list see <a href=\"https://github.com/abhinavsingh/proxy.py/network/dependents?package_id=UGFja2FnZS01MjQ0MDY5Ng%3D%3D\" rel=nofollow>used by</a></p><h1>Benchmarks</h1><p>See <a href=\"https://github.com/abhinavsingh/proxy.py/tree/develop/benchmark\" rel=nofollow>Benchmark</a> directory on how to run benchmark comparisons with other OSS web servers.</p><p>To run standalone benchmark for <code>proxy.py</code>, use the following command from repo root:</p><pre lang=console><span class=go>\u276f ./helper/benchmark.sh</span></pre><h1>Flags</h1><pre lang=console><span class=go>\u276f proxy -h</span><span class=go>usage: -m [-h] [--tunnel-hostname TUNNEL_HOSTNAME] [--tunnel-port TUNNEL_PORT]</span><span class=go>          [--tunnel-username TUNNEL_USERNAME]</span><span class=go>          [--tunnel-ssh-key TUNNEL_SSH_KEY]</span><span class=go>          [--tunnel-ssh-key-passphrase TUNNEL_SSH_KEY_PASSPHRASE]</span><span class=go>          [--tunnel-remote-port TUNNEL_REMOTE_PORT] [--threadless]</span><span class=go>          [--threaded] [--num-workers NUM_WORKERS] [--enable-events]</span><span class=go>          [--local-executor LOCAL_EXECUTOR] [--backlog BACKLOG]</span><span class=go>          [--hostname HOSTNAME] [--port PORT] [--ports PORTS [PORTS ...]]</span><span class=go>          [--port-file PORT_FILE] [--unix-socket-path UNIX_SOCKET_PATH]</span><span class=go>          [--num-acceptors NUM_ACCEPTORS] [--version] [--log-level LOG_LEVEL]</span><span class=go>          [--log-file LOG_FILE] [--log-format LOG_FORMAT]</span><span class=go>          [--open-file-limit OPEN_FILE_LIMIT]</span><span class=go>          [--plugins PLUGINS [PLUGINS ...]] [--enable-dashboard]</span><span class=go>          [--basic-auth BASIC_AUTH] [--enable-ssh-tunnel]</span><span class=go>          [--work-klass WORK_KLASS] [--pid-file PID_FILE]</span><span class=go>          [--enable-proxy-protocol] [--enable-conn-pool] [--key-file KEY_FILE]</span><span class=go>          [--cert-file CERT_FILE] [--client-recvbuf-size CLIENT_RECVBUF_SIZE]</span><span class=go>          [--server-recvbuf-size SERVER_RECVBUF_SIZE]</span><span class=go>          [--max-sendbuf-size MAX_SENDBUF_SIZE] [--timeout TIMEOUT]</span><span class=go>          [--disable-http-proxy] [--disable-headers DISABLE_HEADERS]</span><span class=go>          [--ca-key-file CA_KEY_FILE] [--ca-cert-dir CA_CERT_DIR]</span><span class=go>          [--ca-cert-file CA_CERT_FILE] [--ca-file CA_FILE]</span><span class=go>          [--ca-signing-key-file CA_SIGNING_KEY_FILE]</span><span class=go>          [--auth-plugin AUTH_PLUGIN] [--cache-requests]</span><span class=go>          [--cache-by-content-type] [--cache-dir CACHE_DIR]</span><span class=go>          [--proxy-pool PROXY_POOL] [--enable-web-server]</span><span class=go>          [--enable-static-server] [--static-server-dir STATIC_SERVER_DIR]</span><span class=go>          [--min-compression-length MIN_COMPRESSION_LENGTH]</span><span class=go>          [--enable-reverse-proxy] [--pac-file PAC_FILE]</span><span class=go>          [--pac-file-url-path PAC_FILE_URL_PATH]</span><span class=go>          [--cloudflare-dns-mode CLOUDFLARE_DNS_MODE]</span><span class=go>          [--filtered-upstream-hosts FILTERED_UPSTREAM_HOSTS]</span><span class=go>          [--filtered-client-ips-mode FILTERED_CLIENT_IPS_MODE]</span><span class=go>          [--filtered-client-ips FILTERED_CLIENT_IPS]</span><span class=go>          [--filtered-url-regex-config FILTERED_URL_REGEX_CONFIG]</span><span class=go>proxy.py v2.4.3.dev14+gc6b2de6.d20220605</span><span class=go>optional arguments:</span><span class=go>  -h, --help            show this help message and exit</span><span class=go>  --tunnel-hostname TUNNEL_HOSTNAME</span><span class=go>                        Default: None. Remote hostname or IP address to which</span><span class=go>                        SSH tunnel will be established.</span><span class=go>  --tunnel-port TUNNEL_PORT</span><span class=go>                        Default: 22. SSH port of the remote host.</span><span class=go>  --tunnel-username TUNNEL_USERNAME</span><span class=go>                        Default: None. Username to use for establishing SSH</span><span class=go>                        tunnel.</span><span class=go>  --tunnel-ssh-key TUNNEL_SSH_KEY</span><span class=go>                        Default: None. Private key path in pem format</span><span class=go>  --tunnel-ssh-key-passphrase TUNNEL_SSH_KEY_PASSPHRASE</span><span class=go>                        Default: None. Private key passphrase</span><span class=go>  --tunnel-remote-port TUNNEL_REMOTE_PORT</span><span class=go>                        Default: 8899. Remote port which will be forwarded</span><span class=go>                        locally for proxy.</span><span class=go>  --threadless          Default: False. Enabled by default on Python 3.8+</span><span class=go>                        (mac, linux). When disabled a new thread is spawned to</span><span class=go>                        handle each client connection.</span><span class=go>  --threaded            Default: True. Disabled by default on Python &lt; 3.8 and</span><span class=go>                        windows. When enabled a new thread is spawned to</span><span class=go>                        handle each client connection.</span><span class=go>  --num-workers NUM_WORKERS</span><span class=go>                        Defaults to number of CPU cores.</span><span class=go>  --enable-events       Default: False. Enables core to dispatch lifecycle</span><span class=go>                        events. Plugins can be used to subscribe for core</span><span class=go>                        events.</span><span class=go>  --local-executor LOCAL_EXECUTOR</span><span class=go>                        Default: 1. Enabled by default. Use 0 to disable. When</span><span class=go>                        enabled acceptors will make use of local (same</span><span class=go>                        process) executor instead of distributing load across</span><span class=go>                        remote (other process) executors. Enable this option</span><span class=go>                        to achieve CPU affinity between acceptors and</span><span class=go>                        executors, instead of using underlying OS kernel</span><span class=go>                        scheduling algorithm.</span><span class=go>  --backlog BACKLOG     Default: 100. Maximum number of pending connections to</span><span class=go>                        proxy server.</span><span class=go>  --hostname HOSTNAME   Default: 127.0.0.1. Server IP address.</span><span class=go>  --port PORT           Default: 8899. Server port. To listen on more ports,</span><span class=go>                        pass them using --ports flag.</span><span class=go>  --ports PORTS [PORTS ...]</span><span class=go>                        Default: None. Additional ports to listen on.</span><span class=go>  --port-file PORT_FILE</span><span class=go>                        Default: None. Save server port numbers. Useful when</span><span class=go>                        using --port=0 ephemeral mode.</span><span class=go>  --unix-socket-path UNIX_SOCKET_PATH</span><span class=go>                        Default: None. Unix socket path to use. When provided</span><span class=go>                        --host and --port flags are ignored</span><span class=go>  --num-acceptors NUM_ACCEPTORS</span><span class=go>                        Defaults to number of CPU cores.</span><span class=go>  --version, -v         Prints proxy.py version.</span><span class=go>  --log-level LOG_LEVEL</span><span class=go>                        Valid options: DEBUG, INFO (default), WARNING, ERROR,</span><span class=go>                        CRITICAL. Both upper and lowercase values are allowed.</span><span class=go>                        You may also simply use the leading character e.g.</span><span class=go>                        --log-level d</span><span class=go>  --log-file LOG_FILE   Default: sys.stdout. Log file destination.</span><span class=go>  --log-format LOG_FORMAT</span><span class=go>                        Log format for Python logger.</span><span class=go>  --open-file-limit OPEN_FILE_LIMIT</span><span class=go>                        Default: 1024. Maximum number of files (TCP</span><span class=go>                        connections) that proxy.py can open concurrently.</span><span class=go>  --plugins PLUGINS [PLUGINS ...]</span><span class=go>                        Comma separated plugins. You may use --plugins flag</span><span class=go>                        multiple times.</span><span class=go>  --enable-dashboard    Default: False. Enables proxy.py dashboard.</span><span class=go>  --basic-auth BASIC_AUTH</span><span class=go>                        Default: No authentication. Specify colon separated</span><span class=go>                        user:password to enable basic authentication.</span><span class=go>  --enable-ssh-tunnel   Default: False. Enable SSH tunnel.</span><span class=go>  --work-klass WORK_KLASS</span><span class=go>                        Default: proxy.http.HttpProtocolHandler. Work klass to</span><span class=go>                        use for work execution.</span><span class=go>  --pid-file PID_FILE   Default: None. Save \"parent\" process ID to a file.</span><span class=go>  --enable-proxy-protocol</span><span class=go>                        Default: False. If used, will enable proxy protocol.</span><span class=go>                        Only version 1 is currently supported.</span><span class=go>  --enable-conn-pool    Default: False. (WIP) Enable upstream connection</span><span class=go>                        pooling.</span><span class=go>  --key-file KEY_FILE   Default: None. Server key file to enable end-to-end</span><span class=go>                        TLS encryption with clients. If used, must also pass</span><span class=go>                        --cert-file.</span><span class=go>  --cert-file CERT_FILE</span><span class=go>                        Default: None. Server certificate to enable end-to-end</span><span class=go>                        TLS encryption with clients. If used, must also pass</span><span class=go>                        --key-file.</span><span class=go>  --client-recvbuf-size CLIENT_RECVBUF_SIZE</span><span class=go>                        Default: 128 KB. Maximum amount of data received from</span><span class=go>                        the client in a single recv() operation.</span><span class=go>  --server-recvbuf-size SERVER_RECVBUF_SIZE</span><span class=go>                        Default: 128 KB. Maximum amount of data received from</span><span class=go>                        the server in a single recv() operation.</span><span class=go>  --max-sendbuf-size MAX_SENDBUF_SIZE</span><span class=go>                        Default: 64 KB. Maximum amount of data to flush in a</span><span class=go>                        single send() operation.</span><span class=go>  --timeout TIMEOUT     Default: 10.0. Number of seconds after which an</span><span class=go>                        inactive connection must be dropped. Inactivity is</span><span class=go>                        defined by no data sent or received by the client.</span><span class=go>  --disable-http-proxy  Default: False. Whether to disable</span><span class=go>                        proxy.HttpProxyPlugin.</span><span class=go>  --disable-headers DISABLE_HEADERS</span><span class=go>                        Default: None. Comma separated list of headers to</span><span class=go>                        remove before dispatching client request to upstream</span><span class=go>                        server.</span><span class=go>  --ca-key-file CA_KEY_FILE</span><span class=go>                        Default: None. CA key to use for signing dynamically</span><span class=go>                        generated HTTPS certificates. If used, must also pass</span><span class=go>                        --ca-cert-file and --ca-signing-key-file</span><span class=go>  --ca-cert-dir CA_CERT_DIR</span><span class=go>                        Default: ~/.proxy/certificates. Directory to store</span><span class=go>                        dynamically generated certificates. Also see --ca-key-</span><span class=go>                        file, --ca-cert-file and --ca-signing-key-file</span><span class=go>  --ca-cert-file CA_CERT_FILE</span><span class=go>                        Default: None. Signing certificate to use for signing</span><span class=go>                        dynamically generated HTTPS certificates. If used,</span><span class=go>                        must also pass --ca-key-file and --ca-signing-key-file</span><span class=go>  --ca-file CA_FILE     Default: /Users/abhinavsingh/Dev/proxy.py/venv373/lib/</span><span class=go>                        python3.7/site-packages/certifi/cacert.pem. Provide</span><span class=go>                        path to custom CA bundle for peer certificate</span><span class=go>                        verification</span><span class=go>  --ca-signing-key-file CA_SIGNING_KEY_FILE</span><span class=go>                        Default: None. CA signing key to use for dynamic</span><span class=go>                        generation of HTTPS certificates. If used, must also</span><span class=go>                        pass --ca-key-file and --ca-cert-file</span><span class=go>  --auth-plugin AUTH_PLUGIN</span><span class=go>                        Default: proxy.http.proxy.auth.AuthPlugin. Auth plugin</span><span class=go>                        to use instead of default basic auth plugin.</span><span class=go>  --cache-requests      Default: False. Whether to also write request packets</span><span class=go>                        in the cache file.</span><span class=go>  --cache-by-content-type</span><span class=go>                        Default: False. Whether to extract content by type</span><span class=go>                        from responses. Extracted content type is written to</span><span class=go>                        the cache directory e.g. video.mp4.</span><span class=go>  --cache-dir CACHE_DIR</span><span class=go>                        Default: /Users/abhinavsingh/.proxy/cache. Flag only</span><span class=go>                        applicable when cache plugin is used with on-disk</span><span class=go>                        storage.</span><span class=go>  --proxy-pool PROXY_POOL</span><span class=go>                        List of upstream proxies to use in the pool</span><span class=go>  --enable-web-server   Default: False. Whether to enable</span><span class=go>                        proxy.HttpWebServerPlugin.</span><span class=go>  --enable-static-server</span><span class=go>                        Default: False. Enable inbuilt static file server.</span><span class=go>                        Optionally, also use --static-server-dir to serve</span><span class=go>                        static content from custom directory. By default,</span><span class=go>                        static file server serves out of installed proxy.py</span><span class=go>                        python module folder.</span><span class=go>  --static-server-dir STATIC_SERVER_DIR</span><span class=go>                        Default: \"public\" folder in directory where proxy.py</span><span class=go>                        is placed. This option is only applicable when static</span><span class=go>                        server is also enabled. See --enable-static-server.</span><span class=go>  --min-compression-length MIN_COMPRESSION_LENGTH</span><span class=go>                        Default: 20 bytes. Sets the minimum length of a</span><span class=go>                        response that will be compressed (gzipped).</span><span class=go>  --enable-reverse-proxy</span><span class=go>                        Default: False. Whether to enable reverse proxy core.</span><span class=go>  --pac-file PAC_FILE   A file (Proxy Auto Configuration) or string to serve</span><span class=go>                        when the server receives a direct file request. Using</span><span class=go>                        this option enables proxy.HttpWebServerPlugin.</span><span class=go>  --pac-file-url-path PAC_FILE_URL_PATH</span><span class=go>                        Default: /. Web server path to serve the PAC file.</span><span class=go>  --cloudflare-dns-mode CLOUDFLARE_DNS_MODE</span><span class=go>                        Default: security. Either \"security\" (for malware</span><span class=go>                        protection) or \"family\" (for malware and adult content</span><span class=go>                        protection)</span><span class=go>  --filtered-upstream-hosts FILTERED_UPSTREAM_HOSTS</span><span class=go>                        Default: Blocks Facebook. Comma separated list of IPv4</span><span class=go>                        and IPv6 addresses.</span><span class=go>  --filtered-client-ips-mode FILTERED_CLIENT_IPS_MODE</span><span class=go>                        Default: blacklist. Can be either \"whitelist\"</span><span class=go>                        (restrict access to specific IPs)or \"blacklist\" (allow</span><span class=go>                        everything except specific IPs).</span><span class=go>  --filtered-client-ips FILTERED_CLIENT_IPS</span><span class=go>                        Default: 127.0.0.1,::1. Comma separated list of IPv4</span><span class=go>                        and IPv6 addresses.</span><span class=go>  --filtered-url-regex-config FILTERED_URL_REGEX_CONFIG</span><span class=go>                        Default: No config. Comma separated list of IPv4 and</span><span class=go>                        IPv6 addresses.</span><span class=go>Proxy.py not working? Report at:</span><span class=go>https://github.com/abhinavsingh/proxy.py/issues/new</span></pre>          </div>        </div>        <div id=\"data\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"mobile-data-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project details</h2><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/archive/master.zip\" rel=\"nofollow\">        <i class=\"fas fa-cloud-download-alt\" aria-hidden=\"true\"></i>Download      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://gitter.im/proxy.py/community\" rel=\"nofollow\">        <i class=\"fab fa-gitter\" aria-hidden=\"true\"></i>Chat: Gitter      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/actions\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>CI: GitHub      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://hub.docker.com/r/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-external-link-square-alt\" aria-hidden=\"true\"></i>Container Image: DockerHub      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://codecov.io/github/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fas fa-tasks\" aria-hidden=\"true\"></i>Coverage: Codecov      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://proxypy.rtfd.io/en/latest/#changelog\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: Changelog      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://abhinavsingh.com/proxy-py-a-lightweight-single-file-http-proxy-server-in-python/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: Intro      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://proxypy.rtfd.io/en/latest/\" rel=\"nofollow\">        <i class=\"fas fa-book\" aria-hidden=\"true\"></i>Docs: RTD      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/discussions\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: discussions      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py/issues\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: issues      </a>    </li>    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/abhinavsingh/proxy.py\" rel=\"nofollow\">        <i class=\"fab fa-github\" aria-hidden=\"true\"></i>GitHub: repo      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/proxy.py\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>  <p><strong>License:</strong> BSD License (&#39;BSD&#39;)</p>    <p><strong>Author:</strong> <a href=\"mailto:mailsforabhinav+proxy@gmail.com\">Abhinav Singh</a></p>  <p class=\"tags\">    <i class=\"fa fa-tags\" aria-hidden=\"true\"></i>    <span class=\"sr-only\">Tags</span>    <span class=\"package-keyword\">      http,    </span>    <span class=\"package-keyword\">      proxy,    </span>    <span class=\"package-keyword\">      http proxy server,    </span>    <span class=\"package-keyword\">      proxy server,    </span>    <span class=\"package-keyword\">      http server,    </span>    <span class=\"package-keyword\">      http web server,    </span>    <span class=\"package-keyword\">      proxy framework,    </span>    <span class=\"package-keyword\">      web framework,    </span>    <span class=\"package-keyword\">      Python3    </span>  </p>  <p>    <strong>Requires:</strong> Python &gt;=3.6  </p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/abhinavsingh/\" aria-label=\"abhinavsingh\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/078bffa2aefece0c09ff0552a554b856eceac7c7/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f61633765353463323436623663326134346538383531623932616137303066623f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for abhinavsingh from gravatar.com\" title=\"Avatar for abhinavsingh from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            abhinavsingh          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Development Status</strong>      <ul>        <li>          <a href=\"/search/?c=Development+Status+%3A%3A+5+-+Production%2FStable\">            5 - Production/Stable          </a>        </li>      </ul>    </li>    <li>      <strong>Environment</strong>      <ul>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Console\">            Console          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+MacOS+X\">            MacOS X          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+No+Input%2FOutput+%28Daemon%29\">            No Input/Output (Daemon)          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Plugins\">            Plugins          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Web+Environment\">            Web Environment          </a>        </li>        <li>          <a href=\"/search/?c=Environment+%3A%3A+Win32+%28MS+Windows%29\">            Win32 (MS Windows)          </a>        </li>      </ul>    </li>    <li>      <strong>Framework</strong>      <ul>        <li>          <a href=\"/search/?c=Framework+%3A%3A+Robot+Framework\">            Robot Framework          </a>        </li>        <li>          <a href=\"/search/?c=Framework+%3A%3A+Robot+Framework+%3A%3A+Library\">            Robot Framework :: Library          </a>        </li>      </ul>    </li>    <li>      <strong>Intended Audience</strong>      <ul>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Developers\">            Developers          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Education\">            Education          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+End+Users%2FDesktop\">            End Users/Desktop          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Science%2FResearch\">            Science/Research          </a>        </li>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+System+Administrators\">            System Administrators          </a>        </li>      </ul>    </li>    <li>      <strong>License</strong>      <ul>        <li>          <a href=\"/search/?c=License+%3A%3A+OSI+Approved+%3A%3A+BSD+License\">            OSI Approved :: BSD License          </a>        </li>      </ul>    </li>    <li>      <strong>Natural Language</strong>      <ul>        <li>          <a href=\"/search/?c=Natural+Language+%3A%3A+English\">            English          </a>        </li>      </ul>    </li>    <li>      <strong>Operating System</strong>      <ul>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Android\">            Android          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS\">            MacOS          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS+%3A%3A+MacOS+9\">            MacOS :: MacOS 9          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+MacOS+%3A%3A+MacOS+X\">            MacOS :: MacOS X          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft\">            Microsoft          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft+%3A%3A+Windows\">            Microsoft :: Windows          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Microsoft+%3A%3A+Windows+%3A%3A+Windows+10\">            Microsoft :: Windows :: Windows 10          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+OS+Independent\">            OS Independent          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+POSIX\">            POSIX          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+POSIX+%3A%3A+Linux\">            POSIX :: Linux          </a>        </li>        <li>          <a href=\"/search/?c=Operating+System+%3A%3A+Unix\">            Unix          </a>        </li>      </ul>    </li>    <li>      <strong>Programming Language</strong>      <ul>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3\">            Python :: 3          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3+%3A%3A+Only\">            Python :: 3 :: Only          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.6\">            Python :: 3.6          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.7\">            Python :: 3.7          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.8\">            Python :: 3.8          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.9\">            Python :: 3.9          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+3.10\">            Python :: 3.10          </a>        </li>        <li>          <a href=\"/search/?c=Programming+Language+%3A%3A+Python+%3A%3A+Implementation\">            Python :: Implementation          </a>        </li>      </ul>    </li>    <li>      <strong>Topic</strong>      <ul>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet\">            Internet          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+Proxy+Servers\">            Internet :: Proxy Servers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP\">            Internet :: WWW/HTTP          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Browsers\">            Internet :: WWW/HTTP :: Browsers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Dynamic+Content\">            Internet :: WWW/HTTP :: Dynamic Content          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+Dynamic+Content+%3A%3A+CGI+Tools%2FLibraries\">            Internet :: WWW/HTTP :: Dynamic Content :: CGI Tools/Libraries          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Internet+%3A%3A+WWW%2FHTTP+%3A%3A+HTTP+Servers\">            Internet :: WWW/HTTP :: HTTP Servers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Scientific%2FEngineering+%3A%3A+Information+Analysis\">            Scientific/Engineering :: Information Analysis          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Debuggers\">            Software Development :: Debuggers          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Software+Development+%3A%3A+Libraries+%3A%3A+Python+Modules\">            Software Development :: Libraries :: Python Modules          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Monitoring\">            System :: Monitoring          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking\">            System :: Networking          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking+%3A%3A+Firewalls\">            System :: Networking :: Firewalls          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+System+%3A%3A+Networking+%3A%3A+Monitoring\">            System :: Networking :: Monitoring          </a>        </li>        <li>          <a href=\"/search/?c=Topic+%3A%3A+Utilities\">            Utilities          </a>        </li>      </ul>    </li>    <li>      <strong>Typing</strong>      <ul>        <li>          <a href=\"/search/?c=Typing+%3A%3A+Typed\">            Typed          </a>        </li>      </ul>    </li>  </ul></div>          <br>        </div>        <div id=\"history\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"history-tab mobile-history-tab\" tabindex=\"-1\">          <h2 class=\"page-title split-layout\">            <span>Release history</span>            <span class=\"reset-text margin-top\">              <a href=\"/help/#project-release-notifications\">Release notifications</a> |              <a href=\"/rss/project/proxy-py/releases.xml\">RSS feed <i class=\"fa fa-rss\" aria-hidden=\"true\"></i></a>            </span>          </h2>          <div class=\"release-timeline\">            <div class=\"release release--latest\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.4rc4/\">                <p class=\"release__version\">                  2.4.4rc4                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-03-14T16:49:15+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 14, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.4rc3/\">                <p class=\"release__version\">                  2.4.4rc3                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-08-13T07:20:47+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 13, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.4rc2/\">                <p class=\"release__version\">                  2.4.4rc2                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-08-01T04:23:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 1, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.4rc1/\">                <p class=\"release__version\">                  2.4.4rc1                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-06-28T15:35:28+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 28, 2022</time>                </p>              </a>            </div>            <div class=\"release release--current\">              <div class=\"release__meta\">                <span class=\"badge\">This version</span>              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/blue-cube.572a5bfb.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.3/\">                <p class=\"release__version\">                  2.4.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-06-12T05:08:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 12, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.2/\">                <p class=\"release__version\">                  2.4.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-05-23T07:46:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 23, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.1/\">                <p class=\"release__version\">                  2.4.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-03-13T19:19:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 13, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0/\">                <p class=\"release__version\">                  2.4.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-02-03T14:24:22+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 3, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc9/\">                <p class=\"release__version\">                  2.4.0rc9                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-26T15:35:28+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 26, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc8/\">                <p class=\"release__version\">                  2.4.0rc8                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-24T09:47:35+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 24, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc7/\">                <p class=\"release__version\">                  2.4.0rc7                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-20T12:23:03+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 20, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc6/\">                <p class=\"release__version\">                  2.4.0rc6                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-14T12:05:34+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 14, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc5/\">                <p class=\"release__version\">                  2.4.0rc5                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-01T15:54:11+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 1, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc4/\">                <p class=\"release__version\">                  2.4.0rc4                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-21T15:17:28+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 21, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc3/\">                <p class=\"release__version\">                  2.4.0rc3                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-19T17:04:54+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 19, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc2/\">                <p class=\"release__version\">                  2.4.0rc2                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-01T21:10:30+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 1, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0rc1/\">                <p class=\"release__version\">                  2.4.0rc1                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-11-28T21:24:45+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0b6/\">                <p class=\"release__version\">                  2.4.0b6                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-14T11:03:43+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 14, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0b3/\">                <p class=\"release__version\">                  2.4.0b3                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-18T19:08:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 18, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0b2/\">                <p class=\"release__version\">                  2.4.0b2                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-17T13:51:14+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 17, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0b1/\">                <p class=\"release__version\">                  2.4.0b1                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-01T15:33:01+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 1, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0a7/\">                <p class=\"release__version\">                  2.4.0a7                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-20T11:03:16+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 20, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0a6/\">                <p class=\"release__version\">                  2.4.0a6                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-11T19:27:23+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 11, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0a5/\">                <p class=\"release__version\">                  2.4.0a5                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-01-01T04:56:15+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 1, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0a2/\">                <p class=\"release__version\">                  2.4.0a2                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-11-28T19:08:21+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.4.0a1/\">                <p class=\"release__version\">                  2.4.0a1                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-11-28T16:25:25+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 28, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.3.1/\">                <p class=\"release__version\">                  2.3.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-01-10T16:59:31+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 10, 2021</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.2.0/\">                <p class=\"release__version\">                  2.2.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-06-17T13:04:06+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 17, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.1.2/\">                <p class=\"release__version\">                  2.1.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-01-31T06:34:17+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 31, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.1.1/\">                <p class=\"release__version\">                  2.1.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2020-01-31T05:57:08+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jan 31, 2020</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/2.0.0/\">                <p class=\"release__version\">                  2.0.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-12-26T00:48:39+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 26, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/1.1.1/\">                <p class=\"release__version\">                  1.1.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-10-10T22:25:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 10, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/1.1.0/\">                <p class=\"release__version\">                  1.1.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-10-10T07:02:03+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 10, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/1.0.0/\">                <p class=\"release__version\">                  1.0.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-09-27T20:38:38+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Sep 27, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/0.3/\">                <p class=\"release__version\">                  0.3                </p>                <p class=\"release__version-date\">                  <time datetime=\"2019-02-09T02:59:00+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Feb 9, 2019</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/0.2/\">                <p class=\"release__version\">                  0.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2015-03-17T19:34:49+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 17, 2015</time>                </p>              </a>            </div>            <div class=\"release release--oldest\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/proxy.py/0.1/\">                <p class=\"release__version\">                  0.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2013-08-31T09:20:57+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 31, 2013</time>                </p>              </a>            </div>          </div>        </div>          <div id=\"files\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"files-tab mobile-files-tab\" tabindex=\"-1\">            <h2 class=\"page-title\">Download files</h2>            <p>Download the file for your platform. If you're not sure which to choose, learn more about <a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">installing packages</a>.</p>            <h3>Source Distribution            </h3>                  <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/86/22/069e14dc6367b8f688b42f78793c7dd5c65228d107fa78d466f61334d495/proxy.py-2.4.3.tar.gz\">          proxy.py-2.4.3.tar.gz        </a>        (294.7 kB        <a href=\"#copy-hash-modal-8e444adb-1ffc-4393-9727-0c5a683dca25\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2022-06-12T05:08:15+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 12, 2022</time>          <code>source</code>        </p>      </div>    </div>            <h3>Built Distribution            </h3>                <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/aa/af/a89b59c9edd64c6f38063aa9e01c630f07909aecf52aaa97a437ce9750b8/proxy.py-2.4.3-py3-none-any.whl\">          proxy.py-2.4.3-py3-none-any.whl        </a>        (206.1 kB        <a href=\"#copy-hash-modal-d74741c0-8612-459f-a266-b5454b51ce0d\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2022-06-12T05:08:12+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 12, 2022</time>          <code>py3</code>        </p>      </div>    </div>          </div><div id=\"copy-hash-modal-8e444adb-1ffc-4393-9727-0c5a683dca25\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for proxy.py-2.4.3.tar.gz      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for proxy.py-2.4.3.tar.gz</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">6134e8f1282db1fd7fa1a4b7049e49307566851023b2ac312d9dd36e92f0c9b1</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">77338e24e0daa97e09e0cba55e50a28b</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">8622069e14dc6367b8f688b42f78793c7dd5c65228d107fa78d466f61334d495</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div><div id=\"copy-hash-modal-d74741c0-8612-459f-a266-b5454b51ce0d\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for proxy.py-2.4.3-py3-none-any.whl      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for proxy.py-2.4.3-py3-none-any.whl</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">03df22468fd9a9da540a5b736cd24c88dead398d887bb78340c54764146cc651</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">1fcc7692c13df965e5963c8c116eeaaf</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">aaafa89b59c9edd64c6f38063aa9e01c630f07909aecf52aaa97a437ce9750b8</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div>      </div>    </div>  </div></div>    </main>    <footer class=\"footer\">      <div class=\"footer__logo\">        <img src=\"/static/images/white-cube.2351a86c.svg\" alt=\"\" class=\"-js-white-cube\">      </div>      <div class=\"footer__menus\">        <div class=\"footer__menu\">          <h2>Help</h2>          <nav aria-label=\"Help navigation\">            <ul>              <li><a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Installing packages</a></li>              <li><a href=\"https://packaging.python.org/tutorials/packaging-projects/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Uploading packages</a></li>              <li><a href=\"https://packaging.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">User guide</a></li>              <li><a href=\"https://www.python.org/dev/peps/pep-0541/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Project name retention</a></li>              <li><a href=\"/help/\">FAQs</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>About PyPI</h2>          <nav aria-label=\"About PyPI navigation\">            <ul>              <li><a href=\"https://twitter.com/PyPI\" title=\"External link\" target=\"_blank\" rel=\"noopener\">PyPI on Twitter</a></li>              <li><a href=\"https://dtdg.co/pypi\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Infrastructure dashboard</a></li>              <li><a href=\"/stats/\">Statistics</a></li>              <li><a href=\"/trademarks/\">Logos & trademarks</a></li>              <li><a href=\"/sponsors/\">Our sponsors</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Contributing to PyPI</h2>          <nav aria-label=\"How to contribute navigation\">            <ul>              <li><a href=\"/help/#feedback\">Bugs and feedback</a></li>              <li><a href=\"https://github.com/pypi/warehouse\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Contribute on GitHub</a></li>              <li><a href=\"https://hosted.weblate.org/projects/pypa/warehouse/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Translate PyPI</a></li>              <li><a href=\"/sponsors/\">Sponsor PyPI</a></li>              <li><a href=\"https://github.com/pypi/warehouse/graphs/contributors\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Development credits</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Using PyPI</h2>          <nav aria-label=\"Using PyPI navigation\">            <ul>              <li><a href=\"https://github.com/pypa/.github/blob/main/CODE_OF_CONDUCT.md\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Code of conduct</a></li>              <li><a href=\"/security/\">Report security issue</a></li>              <li><a href=\"https://www.python.org/privacy/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Privacy policy</a></li>              <li><a href=\"/policy/terms-of-use/\">Terms of use</a></li>              <li><a href=\"/policy/acceptable-use-policy/\">Acceptable Use Policy</a></li>            </ul>          </nav>        </div>      </div>      <hr class=\"footer__divider\">      <div class=\"footer__text\">        <p>Status:<a href=\"https://status.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">          <span data-statuspage-domain=\"https://2p66nmmycsj3.statuspage.io\">all systems operational</span></a>        </p>        <p>Developed and maintained by the Python community, for the Python community.          <br>          <a href=\"https://donate.pypi.org\">Donate today!</a>        </p>        <p>          \"PyPI\", \"Python Package Index\", and the blocks logos are registered <a href=\"/trademarks/\">trademarks</a> of the <a href=\"https://python.org/psf-landing\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a>.<br>        </p>        <p>          \u00a9 2024 <a href=\"https://www.python.org/psf-landing/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a><br>          <a href=\"/sitemap/\">Site map</a>        </p>      </div>      <div class=\"centered hide-on-desktop\">        <button type=\"button\" class=\"button button--switch-to-desktop hidden\" data-viewport-toggle-target=\"switchToDesktop\" data-action=\"viewport-toggle#switchToDesktop\">Switch to desktop version        </button>      </div>    </footer>    <div class=\"language-switcher\">      <form action=\"/locale/\">        <ul>          <li>            <button              class=\"language-switcher__selected\"              name=\"locale_id\" value=\"en\" type=\"submit\"            >              English            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"es\" type=\"submit\"            >              espa\u00f1ol            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"fr\" type=\"submit\"            >              fran\u00e7ais            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ja\" type=\"submit\"            >              \u65e5\u672c\u8a9e            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"pt_BR\" type=\"submit\"            >              portugu\u00eas (Brasil)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"uk\" type=\"submit\"            >              \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"el\" type=\"submit\"            >              \u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"de\" type=\"submit\"            >              Deutsch            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hans\" type=\"submit\"            >              \u4e2d\u6587 (\u7b80\u4f53)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hant\" type=\"submit\"            >              \u4e2d\u6587 (\u7e41\u9ad4)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ru\" type=\"submit\"            >              \u0440\u0443\u0441\u0441\u043a\u0438\u0439            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"he\" type=\"submit\"            >              \u05e2\u05d1\u05e8\u05d9\u05ea            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"eo\" type=\"submit\"            >              esperanto            </button>          </li>        </ul>      </form>    </div><div class=\"sponsors\">  <p class=\"sponsors__title\">Supported by</p>  <div class=\"sponsors__divider\"></div>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://aws.amazon.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/ed7074cadad1a06f56bc520ad9bd3e00d0704c5b/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6177732d77686974652d6c6f676f2d7443615473387a432e706e67\" alt=AWS loading=lazy>          <span class=\"sponsors__name\">AWS</span>          <span class=\"sponsors__service\">            Cloud computing and Security Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.datadoghq.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/8855f7c063a3bdb5b0ce8d91bfc50cf851cc5c51/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f64617461646f672d77686974652d6c6f676f2d6668644c4e666c6f2e706e67\" alt=Datadog loading=lazy>          <span class=\"sponsors__name\">Datadog</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.fastly.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/df6fe8829cbff2d7f668d98571df1fd011f36192/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f666173746c792d77686974652d6c6f676f2d65684d3077735f6f2e706e67\" alt=Fastly loading=lazy>          <span class=\"sponsors__name\">Fastly</span>          <span class=\"sponsors__service\">            CDN          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://careers.google.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/420cc8cf360bac879e24c923b2f50ba7d1314fb0/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f676f6f676c652d77686974652d6c6f676f2d616734424e3774332e706e67\" alt=Google loading=lazy>          <span class=\"sponsors__name\">Google</span>          <span class=\"sponsors__service\">            Download Analytics          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.python.org/psf/sponsors/#microsoft\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/524d1ce72f7772294ca4c1fe05d21dec8fa3f8ea/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6d6963726f736f66742d77686974652d6c6f676f2d5a443172685444462e706e67\" alt=Microsoft loading=lazy>          <span class=\"sponsors__name\">Microsoft</span>          <span class=\"sponsors__service\">            PSF Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.pingdom.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/d01053c02f3a626b73ffcb06b96367fdbbf9e230/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f70696e67646f6d2d77686974652d6c6f676f2d67355831547546362e706e67\" alt=Pingdom loading=lazy>          <span class=\"sponsors__name\">Pingdom</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://getsentry.com/for/python\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/67af7117035e2345bacb5a82e9aa8b5b3e70701d/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f73656e7472792d77686974652d6c6f676f2d4a2d6b64742d706e2e706e67\" alt=Sentry loading=lazy>          <span class=\"sponsors__name\">Sentry</span>          <span class=\"sponsors__service\">            Error logging          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://statuspage.io\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/b611884ff90435a0575dbab7d9b0d3e60f136466/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f737461747573706167652d77686974652d6c6f676f2d5467476c6a4a2d502e706e67\" alt=StatusPage loading=lazy>          <span class=\"sponsors__name\">StatusPage</span>          <span class=\"sponsors__service\">            Status page          </span>        </a></div>  </body></html>",
  "embeddings": []
}