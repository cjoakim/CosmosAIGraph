{
  "libtype": "pypi",
  "libname": "molotov",
  "url": "https://molotov.readthedocs.io",
  "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\">  <head>    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" />    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />    <title>molotov &#8212; Molotov 2.6 documentation</title>    <link rel=\"stylesheet\" href=\"_static/alabaster.css\" type=\"text/css\" />    <link rel=\"stylesheet\" href=\"_static/pygments.css\" type=\"text/css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"/_/static/css/badge_only.css\" />    <script type=\"text/javascript\" id=\"documentation_options\" data-url_root=\"#\" src=\"_static/documentation_options.js\"></script>    <script type=\"text/javascript\" src=\"_static/jquery.js\"></script>    <script type=\"text/javascript\" src=\"_static/underscore.js\"></script>    <script type=\"text/javascript\" src=\"_static/doctools.js\"></script>    <script type=\"text/javascript\" src=\"_static/language_data.js\"></script>    <script async=\"async\" type=\"text/javascript\" src=\"/_/static/javascript/readthedocs-doc-embed.js\"></script>    <link rel=\"canonical\" href=\"https://molotov.readthedocs.io/en/stable/index.html\" />    <link rel=\"index\" title=\"Index\" href=\"genindex/\" />    <link rel=\"search\" title=\"Search\" href=\"search/\" />    <link rel=\"next\" title=\"Installation\" href=\"installation/\" />     <link rel=\"stylesheet\" href=\"_static/custom.css\" type=\"text/css\" />      <meta name=\"viewport\" content=\"width=device-width, initial-scale=0.9, maximum-scale=0.9\" />  <!-- RTD Extra Head --><link rel=\"stylesheet\" href=\"/_/static/css/readthedocs-doc-embed.css\" type=\"text/css\" /><script type=\"application/json\" id=\"READTHEDOCS_DATA\">{\"ad_free\": false, \"api_host\": \"https://readthedocs.org\", \"build_date\": \"2022-10-21T18:34:11Z\", \"builder\": \"sphinx\", \"canonical_url\": null, \"commit\": \"32e891a5\", \"docroot\": \"/docs/source/\", \"features\": {\"docsearch_disabled\": false}, \"global_analytics_code\": \"UA-17997319-1\", \"language\": \"en\", \"page\": \"index\", \"programming_language\": \"py\", \"project\": \"molotov\", \"proxied_api_host\": \"/_\", \"source_suffix\": \".rst\", \"subprojects\": {}, \"theme\": \"alabaster\", \"user_analytics_code\": \"\", \"version\": \"stable\"}</script><!--Using this variable directly instead of using `JSON.parse` is deprecated.The READTHEDOCS_DATA global variable will be removed in the future.--><script type=\"text/javascript\">READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);</script><script type=\"text/javascript\" src=\"/_/static/javascript/readthedocs-analytics.js\" async=\"async\"></script><!-- end RTD <extrahead> --></head><body>      <div class=\"document\">      <div class=\"documentwrapper\">        <div class=\"bodywrapper\">                    <div class=\"body\" role=\"main\">              <div class=\"section\" id=\"molotov\"><h1>molotov<a class=\"headerlink\" href=\"#molotov\" title=\"Permalink to this headline\">\u00b6</a></h1><p>Simple Python 3.7+ tool to write load tests.</p><p>Based on <a class=\"reference external\" href=\"https://docs.python.org/3/library/asyncio.html\">asyncio</a>,<a class=\"reference external\" href=\"http://aiohttp.readthedocs.io/en/stable/client.html\">aiohttp.client</a>.</p></div><div class=\"section\" id=\"quickstart\"><h1>Quickstart<a class=\"headerlink\" href=\"#quickstart\" title=\"Permalink to this headline\">\u00b6</a></h1><p>To create a load test, you need to create a Python module with some functionsdecorated with the <strong>scenario</strong> decorator \u2013 those functions needs to becoroutines. When executed, the function receives a <strong>session</strong> object inheritedfrom <strong>aiohttp.ClientSession</strong>.</p><p>Here\u2019s a full example :</p><div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"sd\">&quot;&quot;&quot;</span><span class=\"sd\">This Molotov script has 2 scenario</span><span class=\"sd\">&quot;&quot;&quot;</span><span class=\"kn\">from</span> <span class=\"nn\">molotov</span> <span class=\"kn\">import</span> <span class=\"n\">scenario</span><span class=\"n\">_API</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;http://localhost:8080&quot;</span><span class=\"nd\">@scenario</span><span class=\"p\">(</span><span class=\"n\">weight</span><span class=\"o\">=</span><span class=\"mi\">40</span><span class=\"p\">)</span><span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">scenario_one</span><span class=\"p\">(</span><span class=\"n\">session</span><span class=\"p\">):</span>    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">_API</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">resp</span><span class=\"p\">:</span>        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>        <span class=\"k\">assert</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"s2\">&quot;result&quot;</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;OK&quot;</span>        <span class=\"k\">assert</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">status</span> <span class=\"o\">==</span> <span class=\"mi\">200</span><span class=\"nd\">@scenario</span><span class=\"p\">(</span><span class=\"n\">weight</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)</span><span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">scenario_two</span><span class=\"p\">(</span><span class=\"n\">session</span><span class=\"p\">):</span>    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">_API</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">resp</span><span class=\"p\">:</span>        <span class=\"k\">assert</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">status</span> <span class=\"o\">==</span> <span class=\"mi\">200</span></pre></div></div><p>When molotov runs, it creates some workers (coroutines) that willrun the functions indefinitely until the test is over. A test is overwhen the time in seconds provided by <strong>\u2013duration</strong> option is reached orwhen the maximum number of runs defined by <strong>\u2013max-runs</strong> is reached.</p><p>By default, molotov will run for 86400 seconds (one day), butyou can stop it any time with Ctrl-C or by sending a TERM signal to theprocess.</p><p>Each worker randomly picks one scenario to execute, given their weights.Once it\u2019s finished, it picks the next one, and so on. In our example,<strong>scenario_two</strong> is picked ~60% of the time.</p><div class=\"admonition note\"><p class=\"first admonition-title\">Note</p><p>Check out aiohttp\u2019s documentation to understand how to work witha session object.</p><p class=\"last\">Link: <a class=\"reference external\" href=\"https://aiohttp.readthedocs.io/en/stable/client.html\">https://aiohttp.readthedocs.io/en/stable/client.html</a></p></div><p>To run the load script, you can provide its module name or its path. In theexample below, the script is executed with 10 processes and 200 workers for 60seconds:</p><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>$ molotov molotov/tests/example.py -p <span class=\"m\">10</span> -w <span class=\"m\">200</span> -d <span class=\"m\">60</span></pre></div></div><p>When you run molotov, it will start a console application that willdisplay the activity of each worker on the left panel. When a worker fails,the error will be displayed on the right panel</p><img alt=\"_images/molotov-ui.png\" src=\"_images/molotov-ui.png\" /><p>The footer will display a count of all successful and failed scenarioruns, along with the current number of active workers (across all processes)and processes.</p></div><div class=\"section\" id=\"next-steps\"><h1>Next steps<a class=\"headerlink\" href=\"#next-steps\" title=\"Permalink to this headline\">\u00b6</a></h1><p>Check out the detailed documentation:</p><div class=\"toctree-wrapper compound\"><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"cli/\">Command-line options</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/#Positional Arguments\">Positional Arguments</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"cli/#Named Arguments\">Named Arguments</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"fixtures/\">API &amp; Fixtures</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"helpers/\">Helpers</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"helpers/#global-variables\">Global variables</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"helpers/#synchronous-requests\">Synchronous requests</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"events/\">Events</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"extending/\">Extending Molotov</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"slave/\">Run from GitHub</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker/\">Run in Docker</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorial/\">Step-by-step tutorial</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"tutorial/#running-one-scenario\">Running one scenario</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"tutorial/#adding-more-scenarii\">Adding more scenarii</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"tutorial/#adding-test-fixtures\">Adding test fixtures</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"tutorial/#autosizing\">Autosizing</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"examples/\">Examples</a></li></ul></div></div>          </div>                  </div>      </div>      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"main navigation\">        <div class=\"sphinxsidebarwrapper\"><p class=\"logo\">  <a href=\"#\">    <img class=\"logo\" src=\"_static/logo.png\" alt=\"Logo\"/>      </a></p><p class=\"blurb\">Load Testing Tool</p><p><iframe src=\"https://ghbtns.com/github-btn.html?user=tarekziade&repo=molotov&type=star&count=true&size=large&v=2\"  allowtransparency=\"true\" frameborder=\"0\" scrolling=\"0\" width=\"200px\" height=\"35px\"></iframe></p><h3>Navigation</h3><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"installation/\">Installation</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"cli/\">Command-line options</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"fixtures/\">API &amp; Fixtures</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"helpers/\">Helpers</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"events/\">Events</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"extending/\">Extending Molotov</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"slave/\">Run from GitHub</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"docker/\">Run in Docker</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tutorial/\">Step-by-step tutorial</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"examples/\">Examples</a></li></ul><div id=\"searchbox\" style=\"display: none\" role=\"search\">  <h3>Quick search</h3>    <div class=\"searchformwrapper\">    <form class=\"search\" action=\"search/\" method=\"get\">      <input type=\"text\" name=\"q\" />      <input type=\"submit\" value=\"Go\" />      <input type=\"hidden\" name=\"check_keywords\" value=\"yes\" />      <input type=\"hidden\" name=\"area\" value=\"default\" />    </form>    </div></div><script type=\"text/javascript\">$('#searchbox').show(0);</script>        </div>      </div>      <div class=\"clearer\"></div>    </div>    <div class=\"footer\">      &copy;2017, Tarek Ziad\u00e9.            |      Powered by <a href=\"http://sphinx-doc.org/\">Sphinx 1.8.6</a>      &amp; <a href=\"https://github.com/bitprophet/alabaster\">Alabaster 0.7.12</a>            |      <a href=\"_sources/index.rst.txt\"          rel=\"nofollow\">Page source</a>    </div>        <a href=\"https://github.com/tarekziade/molotov\" class=\"github\">        <img style=\"position: absolute; top: 0; right: 0; border: 0;\" src=\"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png\" alt=\"Fork me on GitHub\"  class=\"github\"/>    </a>          </body></html>",
  "embeddings": []
}