{
  "libtype": "pypi",
  "libname": "ruamel.std.pathlib",
  "url": "https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree",
  "html": "<!DOCTYPE html><html lang=\"en\" class=\"no-js\"><head><meta content=\"text/html; charset=UTF-8\" http-equiv=\"content-type\" /><title>  ruamel.std.pathlib / Code    / [bc1c9a] </title><meta name=\"viewport\" content=\"width=1100\"><link rel=\"icon\" sizes=\"180x180\" href=\"https://a.fsdn.com/con/img/sandiego/logo-180x180.png\" type=\"image/png\"><link rel=\"icon\" sizes=\"any\" href=\"https://a.fsdn.com/con/img/sandiego/svg/originals/sf-icon-orange-no_sf.svg\" type=\"image/svg+xml\"><link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"https://a.fsdn.com/con/img/sandiego/logo-180x180.png\"><link rel=\"mask-icon\" href=\"https://a.fsdn.com/con/img/sandiego/svg/originals/sf-icon-orange-no_sf.svg\" color=\"#FF6600\"><link rel=\"stylesheet\" href=\"https://a.fsdn.com/con/css/lato.css?\"><script>if (!window.SF) { window.SF = {}; }SF.sandiego = false;SF.sandiego_chrome = true;SF.cdn = \"https://a.fsdn.com/con\";</script><link rel=\"stylesheet\" type=\"text/css\" href=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/_slim/css?href=allura%2Fcss%2Fforge%2Fhilite.css%3Ballura%2Fcss%2Fforge%2Ftooltipster.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/allura/css/font-awesome.min.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/theme/sftheme/css/forge.css\"><script type=\"text/javascript\" src=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/_slim/js?href=allura%2Fjs%2Fjquery-3.6.0.min.js%3Ballura%2Fjs%2Fjquery.cookie-1.4.1.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fcmp2.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fshared_head.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Ftypescript%2Fcompliance.js\"></script><style type=\"text/css\">            /* make URL &amp; Project custom fields in support tickets not get hidden as much */.project-forge.mountpoint-site-support .view_holder .grid-4:nth-child(5),.project-forge.mountpoint-site-support .view_holder .grid-4:nth-child(6) {  overflow: visible;  font-size: 22px;  width: 340px;  line-height: 1;  margin-bottom: 5px;}.project-forge.mountpoint-site-support .view_holder .grid-4:nth-child(5) label, .project-forge.mountpoint-site-support .view_holder .grid-4:nth-child(6) label {  font-size: 14px;}        </style><link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS\" href=\"/p/ruamel-std-pathlib/code/feed.rss\" /><link rel=\"alternate\" type=\"application/atom+xml\" title=\"Atom\" href=\"/p/ruamel-std-pathlib/code/feed.atom\" /><style type=\"text/css\">        #access_urls .btn-set {                        min-width: 4em;        }    </style><style>form.tarball {  display: inline;  margin: 0;  padding: 0;}form.tarball button {    background: none;    border: 0;    box-shadow: none;    text-shadow: none;    color:  #fff;    font-weight: normal;;    padding: 0;    margin-bottom: 0;    font-size: 12px;    line-height: 36px;}form.tarball button:hover {  border: 0 !important;}</style><style>.XLKdwrDgEXCkkVdARYWOEdXPDnKxcvCgg {        display: none    }</style><link rel=\"canonical\" href=\"https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/\" /><script>    function initPiwik(){      var _paq = window._paq = window._paq || [];      _paq.push(['trackPageView', document.title, {            dimension1: 'ruamel-std-pathlib',            dimension2: 'hg'      }]);      _paq.push(['enableLinkTracking']);      (function() {        var u=\"//analytics.slashdotmedia.com/\";        _paq.push(['setTrackerUrl', u+'sf.php']);        _paq.push(['setSiteId', 39]);                 // only execute if 'measurement' has been granted        bizx.cmp.ifConsent('', ['measurement'], function() {            var interval = 6 * 60 * 60 * 1000; // 6 hrs, expressed in ms            var vid_date = new Date(localStorage.getItem('vid_date'));            if (new Date() - vid_date >= interval) {                var data ={bombora_id: \"8f46486e-a416-4ce2-9037-3146c968f248\", do_not_sell: false};                    bizx.cmp.ifConsent('', ['ads'], function() {},                    function(){                        // no consent (opt-out)                        data.do_not_sell = true;                    },                    function(){                        //finally call api endpoint                        // push promise to pwik and set it run if pwik is allowed to run based on it's own ifConsent check                        _paq.push([ function() {                            data.matomo_id = this.getVisitorId();                            $.ajax({                                method: 'PUT',                                url: '/p/sfapi/push_vid',                                data:  JSON.stringify(data)                            })                            .always(function(){                                localStorage.setItem('vid_date', new Date());                            });                        }]);                    }                );            }        });            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'sf.js'; s.parentNode.insertBefore(g,s);      })();    }    bizx.cmp.ifConsent('publisher', ['storage', 'measurement'], initPiwik);</script><script>    (function () {        bizx.cmp.ifConsent('', ['all', 'bombora'], function () {            /*global _ml:true, window */            _ml = window._ml || {};            _ml.eid = '771';            _ml.fp = '8f46486e-a416-4ce2-9037-3146c968f248';              var s = document.getElementsByTagName('script')[0], cd = new Date(), mltag = document.createElement('script');            mltag.type = 'text/javascript';            mltag.async = true;            mltag.defer = true;            mltag.src = '//ml314.com/tag.aspx?' + cd.getDate() + cd.getMonth() + cd.getFullYear();            s.parentNode.insertBefore(mltag, s);        });    })();</script><script type=\"text/javascript\">    bizx.cmp.ifConsent('', ['all'], function () {        /* jshint ignore:start */        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');        /* jshint ignore:end */        window.dataLayer = window.dataLayer || [];        function gtag(){ window.dataLayer.push(arguments); }        window.gtag = window.gtag || gtag;        bizx.cmp.embedScript(\"https://www.googletagmanager.com/gtag/js\");        gtag('js', new Date());        gtag('set', {            'page_location': 'https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/',        });    });</script><script type=\"text/javascript\">    /*global ga, gtag */                    bizx.cmp.ifConsent('', ['all'], function () {            ga('create', \"UA-36130941-1\", {cookieDomain: 'auto', 'name': 'sfnt1','sampleRate': 9});            ga('sfnt1.set', 'dimension9', 'ruamel-std-pathlib');            ga('sfnt1.set', 'dimension10', 'hg');            ga('sfnt1.set', 'dimension13', 'Logged Out');            ga('sfnt1.send', 'pageview');        });                bizx.cmp.ifConsent('', ['all'], function () {            gtag('config', 'G-1H226E4E4L', {                                send_page_view: false,                'SF_Page_Type': '',                 user_properties: {                    'SF_Logged_in': 'Logged Out',                 },                'devicePixelRatio': SF.devicePixelRatio,             });            gtag('event', 'page_view', { send_to: 'G-1H226E4E4L' });        });                    </script></head><body class=\"body_class sandiego_chrome  legacy_chrome  l-allow-natural-width \" id=\"forge\"><div class=\"off-canvas position-right\" id=\"offCanvas\" data-off-canvas><ul class=\"header-nav-menulist\"><li class=\"highlight search\"><form method=\"get\" action=\"/directory/\" class=\"m-search-form\"><input type=\"text\" placeholder=\"Search for software or solutions\" autocomplete=\"off\" name=\"q\"><label><input type=\"submit\" class=\"bt\" value><svg data-name=\"search\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\" /></svg></label></form></li><li class=\"highlight\"><a href=\"/auth/\">Join/Login</a></li><li><a href=\"/directory/\">Open Source Software</a></li><li><a href=\"/software/\">Business Software</a></li><li><a href=\"/software/vendors/\" title=\"For Vendors\">For Vendors</a></li><li><a href=\"/blog/\" title=\"Blog\">Blog</a></li><li><a href=\"/about\">About</a></li><li><a id=\"header-nav-more\" data-toggle=\"header-nav-more header-nav-more-content\" data-toggler=\".toggled\">More</a></li><li><ul id=\"header-nav-more-content\" class=\"toggled\" data-toggler=\".toggled\"><li><a href=\"/articles/\">Articles</a></li><li><a href=\"/create\">Create</a></li><li><a href=\"/learn/\">Learn</a></li><li><a href=\"https://sourceforge.net/p/forge/documentation/Docs%20Home/\">Site Documentation</a></li><li><a href=\"/user/newsletters\">Subscribe to our Newsletter</a></li><li><a href=\"/support\">Support Request</a></li></ul></li></ul></div><div class=\"off-canvas-content\" data-off-canvas-content><script>    SF.linkout_icon = '<svg  data-name=\"sf-linkout-icon\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 300 300\" style=\"enable-background:new 0 0 300 300;\" xml:space=\"preserve\"><polygon class=\"st0\" points=\"243.2,243.2 56.8,243.2 56.8,56.8 123,56.8 123,9 9,9 9,291 291,291 291,179.4 243.2,179 \"/><polygon class=\"st0\" points=\"128.5,213 155,186.5 176,165.5 206.7,196.3 235.5,132.5 248.9,102.6 290.6,9.8 291,9 290.6,9.2 197.4,51.1 169.1,63.8 103.7,93.3 137,126.5 115.9,147.5 89.5,174 \"/></svg>';</script><div class=\"l-header-nav  sandiego\"><section class=\"sandiego l-header-nav-top show-for-large\"><div class=\"row\"><a href=\"/\" title=\"Home\" class=\"sf-logo\"><img src=\"https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg\" alt=\"SourceForge logo\" class=\"sf-logo-full\" /></a><nav class=\"links\"><a href=\"/user/newsletters\" title=\"Subscribe to our newsletter\"><span class=\"newsletter-icon\"><svg data-name=\"mmSF_11mail\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 42 42\" enable-background=\"new 0 0 42 42\" xml:space=\"preserve\"><path fill=\"#FFFFFF\" d=\"M0,6v30h42V6H0z M24.2,21.2c-0.8,0.8-2.3,2-3.2,2c-0.9,0-2.4-1.2-3.2-2L5.8,9.7h30.3L24.2,21.2z M13.7,21l-9.9,9.4V11.6L13.7,21z M15.7,23L15.7,23c0.5,0.5,2.9,2.9,5.3,2.9c2.4,0,4.8-2.4,5.2-2.8l0.1-0.1l9.8,9.4H5.8L15.7,23z M28.3,21l9.9-9.5v18.9L28.3,21z\" /></svg></span></a><a href=\"/software/vendors/\" title=\"For Vendors\">For Vendors</a><a href=\"/support\" title=\"Help\">Help</a><a href=\"/create/\" title=\"Create\">Create</a><a href=\"/user/registration\" title=\"Join\">Join</a><a href=\"/auth/\" title=\"Login\">Login</a></nav></div></section><section class=\"sandiego l-header-nav-top hide-for-large\"><div class=\"row\"><a href=\"/\" title=\"Home\" class=\"sf-logo\"><img src=\"https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg\" alt=\"SourceForge logo\" class=\"sf-logo-full\" /></a><div class=\"title-bar-right\"><button type=\"button\" class=\"menu-icon\" data-toggle=\"offCanvas\"></button></div></div></section><section class=\"sandiego l-header-nav-bottom\"><nav class=\"row\"><a href=\"/\" title=\"Home\" class=\"sf-logo\"><img src=\"https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg\" alt=\"SourceForge logo\" class=\"sf-logo-full\" /></a><div class=\"links\"><div class=\"nav-dropdown\"><a href=\"/directory/\" title=\"Browse\">Open Source Software</a></div><div class=\"nav-dropdown\"><a href=\"/software/\">Business Software</a></div><div class=\"nav-dropdown\"><a>Resources</a><ul class=\"nav-dropdown-menu\"><li><a href=\"/articles/\">Articles</a></li><li><a href=\"/learn/\">Learn</a></li><li><a href=\"/blog/\">Blog</a></li></ul></div><div class=\"dev-menu-when-stuck\">Menu<ul class=\"dev-menu-dropdown header-nav-menulist\"><li><a href=\"/support\">Help</a></li><li><a href=\"/create\">Create</a></li><li><a href=\"/user/registration/\" title=\"Join\">Join</a></li><li><a href=\"/auth/\" title=\"Login\">Login</a></li></ul></div><div class=\"search-toggle-when-stuck\"><a class=\"search-toggle\"><svg data-name=\"search\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\" /></svg></a></div></div><div class=\"search\"><div class=\"github-sync-button\"><a href=\"/p/import_project/github/\" rel=\"nofollow\" title=\"Sync your Github project to SourceForge\" id=\"github-link\"><img src=\"https://a.fsdn.com/con/images/sandiego/github-sync.png\" srcset=\"https://a.fsdn.com/con/images/sandiego/github-sync_2x.png 2x\" alt=\"GitHub sync\" id=\"github-sync\" /></a></div><form method=\"get\" action=\"/directory/\" class=\"m-search-form\"><div class=\"typeahead__container\"><div class=\"typeahead__field\"><div class=\"typeahead__query\"><input type=\"text\" placeholder=\"Search for software or solutions\" autocomplete=\"off\" name=\"q\"></div><label><input type=\"submit\" class=\"bt\" value><svg data-name=\"search\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z\" /></svg></label></div></div></form></div></nav></section></div><div class=\"notification-on-project-page\"></div><section id=\"page-body\" class=\" neighborhood-Projects project-ruamel-std-pathlib mountpoint-code \"><div id=\"nav_menu_holder\"><div class=\"sandiego\"><section class=\"project-masthead\"><div class=\"backdrop\" style=\"box-sizing: content-box; padding-bottom: 24px\"></div><div class=\"content\"><nav id=\"breadcrumbs\" class=\"breadcrumbs rtl\"><ul itemscope itemtype=\"http://schema.org/BreadcrumbList\"><li itemprop=\"itemListElement\" itemscope itemtype=\"http://schema.org/ListItem\"><a itemprop=\"item\" href=\"/\"><span itemprop=\"name\">Home</span></a><meta itemprop=\"position\" content=\"1\" /></li><li itemprop=\"itemListElement\" itemscope itemtype=\"http://schema.org/ListItem\"><a itemprop=\"item\" href=\"/directory/\"><span itemprop=\"name\">Browse</span></a><meta itemprop=\"position\" content=\"2\" /></li><li itemprop=\"itemListElement\" itemscope itemtype=\"http://schema.org/ListItem\"><a itemprop=\"item\" href=\"/p/ruamel-std-pathlib/\"><span itemprop=\"name\">ruamel.std.pathlib</span></a><meta itemprop=\"position\" content=\"3\" /></li><li itemprop=\"itemListElement\" itemscope itemtype=\"http://schema.org/ListItem\"><span itemprop=\"name\">Code</span><meta itemprop=\"position\" content=\"4\" /></li></ul></nav><div class=\"overview\"><div class=\"project-icon  default-project-icon \"><svg data-name=\"default-icon\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 300 300\" style=\"enable-background:new 0 0 300 300;\" xml:space=\"preserve\"><rect class=\"st0\" width=\"300\" height=\"300\" /><g><path class=\"st1\" d=\"M162.5,154.8c0-28.9-10.2-42-15.6-46.9c-1.1-1-2.7-0.1-2.6,1.3c1.1,16.3-19.4,20.3-19.4,45.9h0c0,0.1,0,0.1,0,0.2c0,15.6,11.8,28.3,26.3,28.3c14.5,0,26.3-12.7,26.3-28.3c0-0.1,0-0.1,0-0.2h0c0-7.2-2.7-14.1-5.5-19.3c-0.5-1-2.1-0.6-1.9,0.3C174.9,158.1,162.5,171.8,162.5,154.8z\" /><g><path class=\"st1\" d=\"M131.2,215.6c-0.7,0-1.3-0.3-1.8-0.7l-67.2-67.1c-1-1-1-2.6,0-3.6l70.9-70.9c0.5-0.5,1.1-0.7,1.8-0.7h20.4c1.2,0,2,0.8,2.3,1.6c0.3,0.7,0.3,1.9-0.5,2.7l-66.7,66.7c-1.3,1.3-1.3,3.5,0,4.9l52.7,52.7c1,1,1,2.6,0,3.6L133,214.9C132.5,215.4,131.9,215.6,131.2,215.6z\" /></g><g><path class=\"st1\" d=\"M144.7,227.4c-1.2,0-2-0.8-2.3-1.5c-0.3-0.7-0.3-1.9,0.5-2.7l66.7-66.7c0.7-0.6,1-1.5,1-2.4s-0.4-1.8-1-2.4l-52.7-52.7c-1-1-1-2.6,0-3.6l10.2-10.2c0.5-0.5,1.1-0.7,1.8-0.7c0.7,0,1.3,0.3,1.8,0.7l67,67.1c0.5,0.5,0.7,1.1,0.7,1.8s-0.3,1.3-0.7,1.8l-70.9,70.9c-0.5,0.5-1.1,0.7-1.8,0.7H144.7z\" /></g></g></svg></div><div class=\"title \"><meta itemprop=\"name\" content=\"ruamel.std.pathlib\" /><h1>ruamel.std.pathlib Code</h1><div class=\"as-h3 brought-by\">Brought to you by:<a href=\"/u/anthon/profile/\">anthon</a></div></div></div></div></section></div></div><div id=\"top_nav\" class><div id=\"top_nav_admin\"><ul class=\"dropdown\"><li class><a href=\"/projects/ruamel-std-pathlib/\" class=\"tool-summary-32\">Summary</a></li><li class><a href=\"/projects/ruamel-std-pathlib/reviews/\" class=\"tool-reviews-32\">Reviews</a></li><li class><a href=\"/projects/ruamel-std-pathlib/support\" class=\"tool-support-32\">Support</a></li><li class=\"selected\"><a href=\"/p/ruamel-std-pathlib/code/\" class=\"tool-hg-32\">Code</a></li><li class><a href=\"/p/ruamel-std-pathlib/tickets/\" class=\"tool-tickets-32\">Tickets</a></li></ul></div></div><div id=\"content_base\"><a id=\"sidebar-activate\" href=\"#\"><span class=\"btn-label\">Menu</span><span class=\"btn-arrow-down\">\u25be</span><span class=\"btn-arrow-up\">\u25b4</span></a><div id=\"sidebar\"><div class=\"placeholder-no-searchbox\">&nbsp;</div><ul class=\"sidebarmenu\"><li><a class=\"icon\" href=\"/p/ruamel-std-pathlib/code/commit_browser\" rel=\"nofollow\" title=\"Browse Commits\"><i class=\"fa fa-list\"></i><span>Browse Commits</span></a></li><li><a class=\"icon\" href=\"/p/ruamel-std-pathlib/code/fork\" rel=\"nofollow\" title=\"Fork\"><i class=\"fa fa-code-fork\"></i><span>Fork</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/merge-requests/\" rel=\"nofollow\"><span class=\"has_small\">Merge Requests</span><small>0</small></a></li></ul><h3 class>Branches</h3><ul class=\"sidebarmenu\"><li class=\"active\"><a href=\"/p/ruamel-std-pathlib/code/ci/default/tree/\" rel=\"nofollow\"><span>default</span></a></li></ul><h3 class>Tags</h3><ul class=\"sidebarmenu\"><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.12.0/tree/\" rel=\"nofollow\"><span>0.12.0</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.4.0/tree/\" rel=\"nofollow\"><span>0.4.0</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.4.1/tree/\" rel=\"nofollow\"><span>0.4.1</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.4.2/tree/\" rel=\"nofollow\"><span>0.4.2</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.4.4/tree/\" rel=\"nofollow\"><span>0.4.4</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.6.0/tree/\" rel=\"nofollow\"><span>0.6.0</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.6.1/tree/\" rel=\"nofollow\"><span>0.6.1</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.6.2/tree/\" rel=\"nofollow\"><span>0.6.2</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.6.3/tree/\" rel=\"nofollow\"><span>0.6.3</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ci/0.6.4/tree/\" rel=\"nofollow\"><span>0.6.4</span></a></li><li><a href=\"/p/ruamel-std-pathlib/code/ref/default/tags/\" rel=\"nofollow\"><span>More Tags</span></a></li></ul></div><script>$('#sidebar-admin-header').on('click', function(e){    $(\"#sidebar-admin-menu\").toggleClass(\"hidden\");    $(this).toggleClass(\"expanded\");    e.preventDefault();});</script><div class=\"grid-20 pad\"><h2 class=\"dark title\"><span>Tree <a href=\"/p/ruamel-std-pathlib/code/ci/bc1c9ab539004d91eb7b4d41d463289af9ecaf08/\" rel=\"nofollow\">[bc1c9a]</a><span class=\"scm-branch-label\">default</span><span class=\"scm-tag-label\">tip</span><a href=\"./\" rel=\"nofollow\"></a> /</span><small><form class=\"tarball\" action=\"/p/ruamel-std-pathlib/code/ci/default/tarball\" method=\"post\"><input type=\"hidden\" name=\"path\" value /><button><span class=\"icon\" title=\"Download Snapshot\"><i class=\"fa fa-download\"></i>&nbsp;Download Snapshot</span></button><input name=\"_session_id\" type=\"hidden\" value=\"76fc9a22b1888ad94f2b7a9429b32307ce221565521cd2c72116987541058c2ac357649b986cc37c\"></form><a class=\"icon\" href=\"/p/ruamel-std-pathlib/code/ci/bc1c9ab539004d91eb7b4d41d463289af9ecaf08/log/?path=\" rel=\"nofollow\" title=\"History\"><i class=\"fa fa-calendar\"></i>&nbsp;History</a><a class=\"icon\" href=\"/p/ruamel-std-pathlib/code/feed/\" rel=\"nofollow\" title=\"Feed\"><i class=\"fa fa-rss\"></i></a></small></h2><div><div id=\"access_urls\" class=\"btn-bar grid-19\"><span>Read Only access</span><div><input id=\"access_url\" readonly type=\"text\" class=\"selectText\" value=\"hg clone http://hg.code.sf.net/p/ruamel-std-pathlib/code ruamel-std-pathlib-code\" /></div></div><hr><br style=\"clear:both\" /><table><thead><tr><th>File</th><th>Date</th><th>Author</th><th>Commit</th></tr></thead><tbody><tr><td class=\"nowrap\"><a class=\"icon\" href=\"_doc\" rel=\"nofollow\" title=\"_doc\"><i class=\"fa fa-folder\"></i>&nbsp;_doc</a></td><td class=\"nowrap\"><span title=\"Sat Feb 19, 2022 07:37 AM UTC\">2022-02-19</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/fe2610d38adac10c17597c0af9cb64a20ca29992/\" rel=\"nofollow\">[fe2610]added type info</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"_example\" rel=\"nofollow\" title=\"_example\"><i class=\"fa fa-folder\"></i>&nbsp;_example</a></td><td class=\"nowrap\"><span title=\"Wed Mar 10, 2021 02:50 PM UTC\">2021-03-10</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/4c786abb172050ecf800eae86cd08d4d26cd5bb4/\" rel=\"nofollow\">[4c786a]removed support for Python 2</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"_test\" rel=\"nofollow\" title=\"_test\"><i class=\"fa fa-folder\"></i>&nbsp;_test</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\".hgtags\" rel=\"nofollow\" title=\".hgtags\"><i class=\"fa fa-file-o\"></i>&nbsp;.hgtags</a></td><td class=\"nowrap\"><span title=\"Tue Feb 07, 2023 12:53 PM UTC\">2023-02-07</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/bc1c9ab539004d91eb7b4d41d463289af9ecaf08/\" rel=\"nofollow\">[bc1c9a]Added tag 0.12.0 for changeset 63b7fbcb8066</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"LICENSE\" rel=\"nofollow\" title=\"LICENSE\"><i class=\"fa fa-file-o\"></i>&nbsp;LICENSE</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"README.rst\" rel=\"nofollow\" title=\"README.rst\"><i class=\"fa fa-file-o\"></i>&nbsp;README.rst</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"__init__.py\" rel=\"nofollow\" title=\"__init__.py\"><i class=\"fa fa-file-o\"></i>&nbsp;__init__.py</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:33 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/63b7fbcb806673e551f67d51868d9d078cdcbed8/\" rel=\"nofollow\">[63b7fb]version upgrade</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"blake3.py\" rel=\"nofollow\" title=\"blake3.py\"><i class=\"fa fa-file-o\"></i>&nbsp;blake3.py</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"json.py\" rel=\"nofollow\" title=\"json.py\"><i class=\"fa fa-file-o\"></i>&nbsp;json.py</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"setup.py\" rel=\"nofollow\" title=\"setup.py\"><i class=\"fa fa-file-o\"></i>&nbsp;setup.py</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"tempdir.py\" rel=\"nofollow\" title=\"tempdir.py\"><i class=\"fa fa-file-o\"></i>&nbsp;tempdir.py</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr><tr><td class=\"nowrap\"><a class=\"icon\" href=\"tox.ini\" rel=\"nofollow\" title=\"tox.ini\"><i class=\"fa fa-file-o\"></i>&nbsp;tox.ini</a></td><td class=\"nowrap\"><span title=\"Mon Feb 06, 2023 09:31 AM UTC\">2023-02-06</span></td><td class=\"nowrap\"><a href=\"/u/anthon/\" rel=\"nofollow\"><img src=\"https://secure.gravatar.com/avatar/48edbd420b77e7bc5bb27fc958851f06?size=16&amp;r=pg&amp;d=https%3A%2F%2Fa.fsdn.com%2Fcon%2Fimages%2Fsandiego%2Ficons%2Fdefault-avatar.png\" alt=\"Anthon van der Neut\" title=\"Anthon van der Neut\" class=\"emboss  x16\"></a><a href=\"/u/anthon/\" rel=\"nofollow\">Anthon van der Neut</a></td><td><a href=\"/p/ruamel-std-pathlib/code/ci/334942dd5148c17ffc942919b5c49760d1d0bbe4/\" rel=\"nofollow\">[334942]orjson, chunked blake3</a></td></tr></tbody></table><h1 id=\"readme\">Read Me</h1><div class=\"document\"><div class=\"section\" id=\"ruamel-std-pathlib\"><h1>ruamel.std.pathlib</h1><p><a class=\"reference external\" href=\"https://bitbucket.org/ruamel/std.pathlib\" rel=\"nofollow\">package ruamel.std.pathlib</a> is a drop-inreplacement to extend the Python standard <cite>pathlib`</cite> module.</p><p>You can just replace:</p><pre class=\"literal-block\">from pathlib import PosixPath, Path</pre><p>with:</p><pre class=\"literal-block\">from ruamel.std.pathlib import PosixPath, Path</pre><a class=\"reference external image-reference\" href=\"https://pypi.org/project/ruamel.std.pathlib\" rel=\"nofollow\"><img alt=\"https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/_doc/_static/pypi.svg?format=raw\" src=\"https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/_doc/_static/pypi.svg?format=raw\"></a><a class=\"reference external image-reference\" href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\"><img alt=\"https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/_doc/_static/license.svg?format=raw\" src=\"https://sourceforge.net/p/ruamel-std-pathlib/code/ci/default/tree/_doc/_static/license.svg?format=raw\"></a><a class=\"reference external image-reference\" href=\"https://pypi.org/project/oitnb/\" rel=\"nofollow\"><img alt=\"https://sourceforge.net/p/oitnb/code/ci/default/tree/_doc/_static/oitnb.svg?format=raw\" src=\"https://sourceforge.net/p/oitnb/code/ci/default/tree/_doc/_static/oitnb.svg?format=raw\"></a><p>Starting with 0.8.0 <cite>ruamel.std.pathlib</cite> no longer supports Python 2</p><div class=\"section\" id=\"extra-path-functionality\"><h2>Extra Path functionality</h2><ul class=\"simple\"><li>alias <tt class=\"docutils literal\">remove</tt> for <tt class=\"docutils literal\">unlink</tt> on Path</li><li>add <tt class=\"docutils literal\">copy()</tt> and <tt class=\"docutils literal\">rmtree()</tt> from shutil to Path</li><li>add <tt class=\"docutils literal\">hash()</tt> to path return the <tt class=\"docutils literal\">hashlib.new()</tt> value on thefile content (defaults to 'sha224', other algorithms can be given asparameter: <tt class=\"docutils literal\"><span class=\"pre\">print(p.hash('md5').hexdigest())</span></tt>)</li></ul><p>when you have <cite>blake3</cite> installed and do <cite>import ruamel.std.pathlib.blake3</cite>, youcan also use that method on <cite>Path</cite> instances.</p></div><div class=\"section\" id=\"transition-helper\"><h2>Transition helper</h2><p>If you are starting to use the standard pathlib library, it is cumbersome tochange everything at once, and also to change all the arguments to calls to<tt class=\"docutils literal\">os.path.join</tt>, <tt class=\"docutils literal\">os.rename</tt>, <tt class=\"docutils literal\">os.path.dirname</tt> to be made encapsulated in <tt class=\"docutils literal\">str()</tt></p><p>By making an instance of <tt class=\"docutils literal\">PathLibConversionHelper</tt> named <tt class=\"docutils literal\">pl</tt> you can change<tt class=\"docutils literal\">os.path.join()</tt> to <tt class=\"docutils literal\">pl.path.join()</tt>, etc., and then start passing in Pathinstances instead of strings.</p><dl class=\"docutils\"><dt><tt class=\"docutils literal\">PathLibConversionHelper</tt> currently supports the following replacements for <cite>os</cite>,</dt><dd><p class=\"first\"><cite>os.path</cite>, <cite>shutil</cite> and built-in functions:</p><pre class=\"last literal-block\">.chdir()             replaces: os.chdir().copy()              replaces: shutil.copy().glob()              replaces: glob.glob().listdir()           replaces: os.listdir().makedirs()          replaces: os.makedirs().mkstemp()           replaces: tempfile.mkstemp().open()              replaces: built-in open().path.basename()     replaces: os.path.basename().path.dirname()      replaces: os.path.dirname().path.exists()       replaces: os.path.exists().path.expanduser()   replaces: os.path.expanduser().path.getmtime()     replaces: os.path.getmtime().path.isdir()        replaces: os.path.isdir().path.join()         replaces: os.path.join().path.splitext()     replaces: os.path.splitext().remove()            replaces: os.remove().rename()            replaces: os.rename().rmdir()             replaces: os.rmdir().rmtree()            replaces: shutil.rmtree().walk()              replaces: os.walk()</pre></dd></dl><p>You can provide a check level when you create the<cite>PathLibConversionHelper()</cite> instance.</p><ul class=\"simple\"><li>If check is non-zero, all calls are being logged and the invocationscan be dumped e.g. at the end of the program with<tt class=\"docutils literal\">pl.dump(stream, show_all=False)</tt> This will includethe number of invocations not using Path (and using Path uniquely as wellif <tt class=\"docutils literal\">show_all=True</tt>)</li><li>If check is greater than 1, first usage is dumped immediately.</li></ul><p>If you start with the following code:</p><pre class=\"literal-block\"># coding: utf-8import osimport globimport tempfileimport shutilimport randomclass TempDir(object):    &quot;&quot;&quot;self removing (unless keep=True) temporary directory&quot;&quot;&quot;    def __init__(self, keep=False, basedir=None, prefix=None):        self._keep = keep        # mkdtemp creates with permissions rwx------        kw = dict(dir=basedir)        if prefix is not None:            kw['prefix'] = prefix        # mkdtemp doesn't do the right thing if None is passed in        # as it has prefix=template in definition        self._tmpdir = tempfile.mkdtemp(**kw)    def remove(self):        shutil.rmtree(self._tmpdir)    def chdir(self):        os.chdir(self._tmpdir)    def tempfilename(self, extension=''):        fd, name = tempfile.mkstemp(suffix=extension, dir=self._tmpdir)        os.close(fd)        return name    def tempfilename2(self, extension=''):        while True:            name = os.path.join(                self._tmpdir,                '%08d' % random.randint(0, 100000) + extension            )            if not os.path.exists(name):                break        return name    &#64;property    def directory(self):        return self._tmpdir    def __enter__(self):        return self    def __exit__(self, exc_type, exc_val, exc_tb):        if not self._keep:            self.remove()def main():    &quot;&quot;&quot;contrived example using TempDir&quot;&quot;&quot;    org_dir = os.getcwd()    with TempDir() as td:        for n in range(3):            t1 = td.tempfilename(extension='.sample')            with open(t1, 'w') as fp:                fp.write('content\\n')        t2 = td.tempfilename2(extension='.sample2')        with open(t2, 'w') as fp:            fp.write('content\\n')        os.chdir(td.directory)        count = 0        for file_name in glob.glob('*.samp*'):            full_name = os.path.join(os.getcwd(), file_name)  # noqa            # print(full_name)            count += 1        os.chdir('/tmp')  # not using Path        os.chdir(org_dir)    print('{} files found in temporary directory'.format(count))main()</pre><p>you get:</p><pre class=\"literal-block\">4 files found in temporary directory</pre><p>When you start to change <tt class=\"docutils literal\">TempDir()</tt> to store theactual directory as a Path, things start to break immediately:</p><pre class=\"literal-block\"># coding: utf-8import osimport globimport tempfileimport shutilimport randomfrom ruamel.std.pathlib import Path                                   # addedclass TempDir(object):    &quot;&quot;&quot;self removing (unless keep=True) temporary directory&quot;&quot;&quot;    def __init__(self, keep=False, basedir=None, prefix=None):        self._keep = keep        # mkdtemp creates with permissions rwx------        kw = dict(dir=basedir)        if prefix is not None:            kw['prefix'] = prefix        # mkdtemp doesn't do the right thing if None is passed in        # as it has prefix=template in definition        self._tmpdir = Path(tempfile.mkdtemp(**kw))                   # changed    def remove(self):        shutil.rmtree(self._tmpdir)    def chdir(self):        os.chdir(self._tmpdir)    def tempfilename(self, extension=''):        fd, name = tempfile.mkstemp(suffix=extension, dir=self._tmpdir)        os.close(fd)        return name    def tempfilename2(self, extension=''):        while True:            name = os.path.join(                self._tmpdir,                '%08d' % random.randint(0, 100000) + extension            )            if not os.path.exists(name):                break        return name    &#64;property    def directory(self):        return self._tmpdir    def __enter__(self):        return self    def __exit__(self, exc_type, exc_val, exc_tb):        if not self._keep:            self.remove()def main():    &quot;&quot;&quot;contrived example using TempDir&quot;&quot;&quot;    org_dir = os.getcwd()    with TempDir() as td:        for n in range(3):            t1 = td.tempfilename(extension='.sample')            with open(t1, 'w') as fp:                fp.write('content\\n')        t2 = td.tempfilename2(extension='.sample2')        with open(t2, 'w') as fp:            fp.write('content\\n')        os.chdir(td.directory)        count = 0        for file_name in glob.glob('*.samp*'):            full_name = os.path.join(os.getcwd(), file_name)  # noqa            # print(full_name)            count += 1        os.chdir('/tmp')  # not using Path        os.chdir(org_dir)    print('{} files found in temporary directory'.format(count))main()</pre><p>With some errors:</p><pre class=\"literal-block\">Traceback (most recent call last):  File &quot;_example/stage1.py&quot;, line 80, in &lt;module&gt;    main()  File &quot;_example/stage1.py&quot;, line 77, in main    os.chdir(org_dir)  File &quot;_example/stage1.py&quot;, line 56, in __exit__    self.remove()  File &quot;_example/stage1.py&quot;, line 27, in remove    shutil.rmtree(self._tmpdir)  File &quot;/opt/python/2.7.13/lib/python2.7/shutil.py&quot;, line 228, in rmtree    if os.path.islink(path):  File &quot;/home/venv/dev/lib/python2.7/posixpath.py&quot;, line 135, in islink    st = os.lstat(path)TypeError: coercing to Unicode: need string or buffer, PosixPath found</pre><p>Instead of changing every usage in your program in one go, andhope it will work again, you replace the routines from the standardmodule:</p><pre class=\"literal-block\"># coding: utf-8import osimport globimport tempfileimport shutil                       # noqaimport randomfrom ruamel.std.pathlib import Path, PathLibConversionHelper            # changedpl = PathLibConversionHelper()                                          # addedclass TempDir(object):    &quot;&quot;&quot;self removing (unless keep=True) temporary directory&quot;&quot;&quot;    def __init__(self, keep=False, basedir=None, prefix=None):        self._keep = keep        # mkdtemp creates with permissions rwx------        kw = dict(dir=basedir)        if prefix is not None:            kw['prefix'] = prefix        # mkdtemp doesn't do the right thing if None is passed in        # as it has prefix=template in definition        self._tmpdir = Path(tempfile.mkdtemp(**kw))    def remove(self):        pl.rmtree(self._tmpdir)    def chdir(self):        os.chdir(self._tmpdir)    def tempfilename(self, extension=''):        fd, name = pl.mkstemp(suffix=extension, dir=self._tmpdir)     # changed        os.close(fd)        return name    def tempfilename2(self, extension=''):        while True:            name = pl.path.join(                self._tmpdir,                '%08d' % random.randint(0, 100000) + extension            )            if not pl.path.exists(name):                              # changed                break        return name    &#64;property    def directory(self):        return self._tmpdir    def __enter__(self):        return self    def __exit__(self, exc_type, exc_val, exc_tb):        if not self._keep:            self.remove()def main():    &quot;&quot;&quot;contrived example using TempDir&quot;&quot;&quot;    org_dir = os.getcwd()    with TempDir() as td:        for n in range(3):            t1 = td.tempfilename(extension='.sample')            with open(t1, 'w') as fp:                fp.write('content\\n')        t2 = td.tempfilename2(extension='.sample2')        with pl.open(t2, 'w') as fp:            c = 'content\\n'                                           # added            if not isinstance(fp, file):                              # added                c = unicode(c)                                        # added            fp.write(c)                                               # changed        pl.chdir(td.directory)        count = 0        for file_name in glob.glob('*.samp*'):            full_name = pl.path.join(os.getcwd(), file_name)  # noqa  # changed            # print(full_name)            count += 1        pl.chdir('/tmp')  # not using Path        pl.chdir(org_dir)                                             # changed    print('{} files found in temporary directory'.format(count))main()</pre><p>giving (again):</p><pre class=\"literal-block\">4 files found in temporary directory</pre><p>Change back just the creation of <tt class=\"docutils literal\">self._tempdir</tt> to the original:</p><pre class=\"literal-block\">self._tmpdir = tempfile.mkdtemp(**kw)</pre><p>and the output stays:</p><pre class=\"literal-block\">4 files found in temporary directory</pre><p>If you now change the creation of <tt class=\"docutils literal\">pl</tt> to:</p><pre class=\"literal-block\">pl = PathLibConversionHelper(check=2)</pre><p>you get as output:</p><pre class=\"literal-block\">update .mkstemp to use Path.mkstemp() [_example/stage3.py:34 / Path (True,)]update .path.join to use &quot;/&quot; [_example/stage3.py:42 / Path (True, False)]update .exists to use Path.exists() [_example/stage3.py:44 / Path (True,)]update .open to use Path.open() [_example/stage3.py:69 / Path (True,)]update .chdir to use Path.chdir() or os.chdir(str(Path)) [_example/stage3.py:74 / Path (True,)]update .path.join to use &quot;/&quot; [_example/stage3.py:77 / Path (False, False)]update .chdir to use Path.chdir() or os.chdir(str(Path)) [_example/stage3.py:80 / Path (False,)]update .chdir to use Path.chdir() or os.chdir(str(Path)) [_example/stage3.py:81 / Path (False,)]update .rmtree to use Path.rmtree() or shutil.rmtree(str(Path)) [_example/stage3.py:28 / Path (True,)]4 files found in temporary directory</pre><p>If you use <tt class=\"docutils literal\">check=1</tt> and at the end <tt class=\"docutils literal\">pl.dump()</tt>, you get:</p><pre class=\"literal-block\">4 files found in temporary directoryupdate .path.join to use &quot;/&quot; [_example/stage4.py:42 / 1 / Path (True, False)]update .chdir to use Path.chdir() or os.chdir(str(Path)) [_example/stage4.py:81 / 1 / Path (False,)]update .path.join to use &quot;/&quot; [_example/stage4.py:77 / 4 / Path (False, False)]update .chdir to use Path.chdir() or os.chdir(str(Path)) [_example/stage4.py:80 / 1 / Path (False,)]</pre><p>showing where you still use string based paths/filenames.</p><p>The messagepart <tt class=\"docutils literal\">file_name.py: 123 / 2 / Path (True, False)</tt> means that therewere two calls on line 123 in <tt class=\"docutils literal\">file_name.py</tt> and that they were called withthe first parameter being a Path, the second not being a Path (when replacing<tt class=\"docutils literal\">os.path.join()</tt> with Path's <tt class=\"docutils literal\">&quot;/&quot;</tt> concatenation operator that wouldbe a good starting point, for other situation you might want to convertthe second parameter to a Path instance as well).</p></div><div class=\"section\" id=\"extending-pathlibconversionhelper\"><h2>Extending <tt class=\"docutils literal\">PathLibConversionHelper</tt></h2><p>If <tt class=\"docutils literal\">PathLibConversionHelper</tt> doesn't contain a particular function (yet)you can easily subclass it and add your own:</p><pre class=\"literal-block\">from ruamel.std.pathlib import Path, PathLibConversionHelperclass MyPLCH(PathLibConversionHelper):    # an example, ruamel.std.pathlib already adds mkstemp    def mkstemp(self, suffix=&quot;&quot;, prefix=None, dir=None, text=False):        import tempfile        # would be much better if prefix defaults to built-in value (int, None, string)        if prefix is None:            prefix = tempfile.template        self.__add_usage(dir, 'update .mkstemp to use Path.mkstemp()')        if isinstance(dir, Path):            dir = str(dir)        return tempfile.mkstemp(suffix, prefix, dir, text)pl = MyPLCH(check=1)</pre><p>The first parameter for <tt class=\"docutils literal\">self.add_usage()</tt> is used to determine ifa Path is used or not. This should be a list of all relevant variables(that could be <tt class=\"docutils literal\">Path</tt> instances or not). If the list would only have asingle element it doesn't have to be passed in as a list (as in theexample). The second parameter should be a string with some help on furthergetting rid of the call to <tt class=\"docutils literal\">.mkstemp()</tt>.</p></div></div></div></div></div></div></section><footer class=\"sandiego\"><div class=\"as-row\"><div class=\"footer-wrapper\"><nav aria-label=\"Site Links\" role=\"navigation\"><section><div class=\"as-h2\">SourceForge</div><ul><li><a href=\"/create/\" title=\"Create a Project\">Create a Project</a></li><li><a href=\"/directory/\" title=\"Open Source Software Directory\">Open Source Software</a></li><li><a href=\"/software/\" title=\"Business Software Directory\">Business Software</a></li><li><a href=\"/top\" title=\"Top Open Source Projects\">Top Downloaded Projects</a></li></ul></section></nav><nav aria-label=\"Company Links\" role=\"navigation\"><section><div class=\"as-h2\">Company</div><ul><li><a href=\"/about\">About</a></li><li><a href=\"/about/leadership\" title=\"Open Source Software Directory\">Team</a></li><li class=\"h-card\"><address><span class=\"p-name p-org\">SourceForge Headquarters</span><br><span class=\"p-street-address\">225 Broadway Suite 1600</span><br><span class=\"p-locality\">San Diego, CA <span class=\"p-postal-code\">92101</span></span><br><span class=\"p-tel\">+1 (858) 454-5900</span><br></address></li><li id=\"social\"><span></span><a href=\"https://twitter.com/sourceforge\" class=\"twitter\" rel=\"nofollow\" target=\"_blank\"><svg class=\"vertical-icon-fix\" data-name=\"twitter\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z\" /></svg></a><a href=\"https://fosstodon.org/@sourceforge\" rel=\"me nofollow\" target=\"_blank\"><svg class=\"vertical-icon-fix\" data-name=\"mastodon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path d=\"M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z\" /></svg></a><a href=\"https://www.facebook.com/sourceforgenet/\" class=\"facebook\" rel=\"nofollow\" target=\"_blank\"><svg data-name=\"facebook\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z\" /></svg></a><a href=\"https://www.linkedin.com/company/sourceforge.net\" class=\"linkedin\" rel=\"nofollow\" target=\"_blank\"><svg data-name=\"linkedin\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z\" /></svg></a><a href=\"/user/newsletters\" rel=\"nofollow\" class=\"newsletter\" title=\"Subscribe to our newsletter\"><svg class=\"vertical-icon-fix\" data-name=\"mmSF_11mail\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 42 42\" enable-background=\"new 0 0 42 42\" xml:space=\"preserve\"><path fill=\"#FFFFFF\" d=\"M0,6v30h42V6H0z M24.2,21.2c-0.8,0.8-2.3,2-3.2,2c-0.9,0-2.4-1.2-3.2-2L5.8,9.7h30.3L24.2,21.2z M13.7,21l-9.9,9.4V11.6L13.7,21z M15.7,23L15.7,23c0.5,0.5,2.9,2.9,5.3,2.9c2.4,0,4.8-2.4,5.2-2.8l0.1-0.1l9.8,9.4H5.8L15.7,23z M28.3,21l9.9-9.5v18.9L28.3,21z\" /></svg></a><span></span></li></ul></section></nav><nav aria-label=\"Resources Links\" role=\"navigation\"><section><div class=\"as-h2\">Resources</div><ul><li><a href=\"/support\" title=\"Support Section\">Support</a></li><li><a href=\"/p/forge/documentation/Docs%20Home/\" title=\"Site Documentation\">Site Documentation</a></li><li><a href=\"https://fosstodon.org/@sourceforgestatus\" title=\"Site Status\" rel=\"me nofollow\">Site Status</a></li></ul></section></nav><section class=\"footer-logo\"><a href=\"/\" title=\"Home\" class=\"sf-logo\"><img src=\"https://a.fsdn.com/con/images/sandiego/sf-logo-full.svg\" alt=\"SourceForge logo\" class=\"sf-logo-full\" /></a></section></div></div><section class=\"l-nav-bottom\"><nav class=\"row\"><div class=\"columns small-12 large-6 copyright-notice\">&copy; 2024 Slashdot Media. All Rights Reserved.</div><div class=\"columns large-6 links links-right\"><a href=\"https://slashdotmedia.com/terms-of-use\" title=\"Terms\" rel=\"nofollow\">Terms</a><a href=\"https://slashdotmedia.com/privacy-statement/\" title=\"Privacy\" rel=\"nofollow\">Privacy</a><a href=\"https://slashdotmedia.com/opt-out-choices\" title=\"Opt Out\" rel=\"nofollow\">Opt Out</a><a href=\"https://slashdotmedia.com/contact/\" target=\"_blank\" title=\"Advertise\" rel=\"nofollow\">Advertise</a></div></nav></section></footer></div><div id=\"messages\"></div><script type=\"text/javascript\" src=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/_slim/js?href=allura%2Fjs%2Fjquery.notify.js%3Ballura%2Fjs%2Fjquery.tooltipster.js%3Ballura%2Fjs%2Fallura-base.js%3Ballura%2Fjs%2Fchecklist.js%3Ballura%2Fjs%2Fadmin_modal.js%3Bjs%2Fjquery.lightbox_me.js%3Ballura%2Fjs%2Fmemorable.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fshared.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fsticky.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fsandiego%2Fchrome.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fsandiego%2Futilities.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.core.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.util.mediaQuery.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.util.keyboard.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.util.box.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.util.nest.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.dropdownMenu.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.offcanvas.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.toggler.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fsandiego%2Fproject.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Fjquery.typeahead.min.js\"></script><script type=\"text/javascript\" src=\"https://a.fsdn.com/allura/nf/1709324893/_ew_/_slim/js?href=theme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.util.triggers.min.js%3Btheme%2Fsftheme%2Fjs%2Fsftheme%2Fvendor%2Ffoundation6%2Fplugins%2Ffoundation.reveal.min.js\"></script><script type=\"text/javascript\">(function() {  $('#access_urls .btn').click(function(evt){    evt.preventDefault();    var parent = $(this).parents('.btn-bar');    var checkout_cmd = $(this).attr('data-url');    $(parent).find('input').val(checkout_cmd);    $(parent).find('span').text($(this).attr('title')+' access');    $(this).parent().children('.btn').removeClass('active');    $(this).addClass('active');    if (checkout_cmd.indexOf(' http://') !== -1 || checkout_cmd.indexOf(' https://') !== -1 ) {      $('#http-2fa-msg').show();    } else {      $('#http-2fa-msg').hide();    }  });  $('#access_urls .btn').first().click();    var repo_status = document.getElementById('repo_status');  // The repo_status div will only be present if repo.status != 'ready'  if (repo_status) {    $('.spinner').show()    var delay = 500;    function check_status() {        $.get('/p/ruamel-std-pathlib/code/status', function(data) {            if (data.status === 'ready') {                $('.spinner').hide()                $('#repo_status h2').html('Repo status: ready. <a href=\".\" rel=\"nofollow\">Click here to refresh this page.</a>');            }            else {                $('#repo_status h2 span').html(data.status);                if (delay < 60000){                    delay = delay * 2;                }                window.setTimeout(check_status, delay);            }        });    }    var status_checker = window.setTimeout(check_status, delay);      }}());</script><noscript><p><img src=\"//analytics.slashdotmedia.com/sf.php?idsite=39\" style=\"border:0;position:absolute;top:0;\" alt=\"\" /></p></noscript><script>        $(document).foundation();    </script><script>    $(document).ready(function () {        $(\".tooltip, .m-tooltip\").each(function(){            let $el = $(this);            $el.tooltipster({                animation: 'fade',                delay: 200,                theme: 'tooltipster-light',                trigger: 'hover',                position: $el.data('position') || 'right',                iconCloning: false,                maxWidth: 300,                contentAsHTML: true,                interactive: true            }).focus(function () {                $(this).tooltipster('show');            }).blur(function () {                $(this).tooltipster('hide');            });        });    });</script></body></html>",
  "embeddings": []
}