{
  "libtype": "pypi",
  "libname": "greenlet",
  "url": "https://greenlet.readthedocs.io/",
  "html": "<!doctype html><html class=\"no-js\" lang=\"en\" data-content_root=\"./\">  <head><meta charset=\"utf-8\"/>    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>    <meta name=\"color-scheme\" content=\"light dark\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /><link rel=\"index\" title=\"Index\" href=\"genindex.html\" /><link rel=\"search\" title=\"Search\" href=\"search.html\" /><link rel=\"next\" title=\"Motivation: Treating an Asynchronous GUI Like a Synchronous Loop\" href=\"gui_example.html\" />    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->        <title>greenlet 3.0.4.dev0 documentation</title>      <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=fa44fd50\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"/_/static/css/badge_only.css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/custom.css?v=e405f49d\" />        <style>  body {    --color-code-background: #eeffcc;  --color-code-foreground: black;  --color-brand-primary: #7c9a5e;  --color-brand-content: #7c9a5e;  --color-foreground-border: #b7d897;  --font-stack: \"SF Pro\",-apple-system,BlinkMacSystemFont,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\";  --font-stack--monospace: \"JetBrainsMono\", \"JetBrains Mono\", \"JetBrains Mono Regular\", \"JetBrainsMono-Regular\", ui-monospace, profont, monospace;    }  @media not print {    body[data-theme=\"dark\"] {      --color-code-background: #202020;  --color-code-foreground: #d0d0d0;      }    @media (prefers-color-scheme: dark) {      body:not([data-theme=\"light\"]) {        --color-code-background: #202020;  --color-code-foreground: #d0d0d0;        }    }  }</style><!-- RTD Extra Head --><link rel=\"stylesheet\" href=\"/_/static/css/readthedocs-doc-embed.css\" type=\"text/css\" /><script type=\"application/json\" id=\"READTHEDOCS_DATA\">{\"ad_free\": false, \"api_host\": \"https://readthedocs.org\", \"builder\": \"sphinx\", \"canonical_url\": null, \"docroot\": \"/docs/\", \"features\": {\"docsearch_disabled\": false}, \"global_analytics_code\": \"UA-17997319-1\", \"language\": \"en\", \"page\": \"index\", \"programming_language\": \"c\", \"project\": \"greenlet\", \"proxied_api_host\": \"/_\", \"source_suffix\": \".rst\", \"subprojects\": {}, \"theme\": \"furo\", \"user_analytics_code\": \"\", \"version\": \"latest\"}</script><!--Using this variable directly instead of using `JSON.parse` is deprecated.The READTHEDOCS_DATA global variable will be removed in the future.--><script type=\"text/javascript\">READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);</script><script type=\"text/javascript\" src=\"/_/static/javascript/readthedocs-analytics.js\" async=\"async\"></script><!-- end RTD <extrahead> --></head>  <body>        <script>      document.body.dataset.theme = localStorage.getItem(\"theme\") || \"auto\";    </script>    <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\">  <symbol id=\"svg-toc\" viewBox=\"0 0 24 24\">    <title>Contents</title>    <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 1024 1024\">      <path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z\"/>    </svg>  </symbol>  <symbol id=\"svg-menu\" viewBox=\"0 0 24 24\">    <title>Menu</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-menu\">      <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>      <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>    </svg>  </symbol>  <symbol id=\"svg-arrow-right\" viewBox=\"0 0 24 24\">    <title>Expand</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-chevron-right\">      <polyline points=\"9 18 15 12 9 6\"></polyline>    </svg>  </symbol>  <symbol id=\"svg-sun\" viewBox=\"0 0 24 24\">    <title>Light mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-sun\">      <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>      <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>      <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>      <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>      <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>      <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>      <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>      <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>      <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>    </svg>  </symbol>  <symbol id=\"svg-moon\" viewBox=\"0 0 24 24\">    <title>Dark mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"icon-tabler-moon\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />      <path d=\"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z\" />    </svg>  </symbol>  <symbol id=\"svg-sun-half\" viewBox=\"0 0 24 24\">    <title>Auto light/dark mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"icon-tabler-shadow\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>      <circle cx=\"12\" cy=\"12\" r=\"9\" />      <path d=\"M13 12h5\" />      <path d=\"M13 15h4\" />      <path d=\"M13 18h1\" />      <path d=\"M13 9h4\" />      <path d=\"M13 6h1\" />    </svg>  </symbol></svg><input type=\"checkbox\" class=\"sidebar-toggle\" name=\"__navigation\" id=\"__navigation\"><input type=\"checkbox\" class=\"sidebar-toggle\" name=\"__toc\" id=\"__toc\"><label class=\"overlay sidebar-overlay\" for=\"__navigation\">  <div class=\"visually-hidden\">Hide navigation sidebar</div></label><label class=\"overlay toc-overlay\" for=\"__toc\">  <div class=\"visually-hidden\">Hide table of contents sidebar</div></label><div class=\"page\">  <header class=\"mobile-header\">    <div class=\"header-left\">      <label class=\"nav-overlay-icon\" for=\"__navigation\">        <div class=\"visually-hidden\">Toggle site navigation sidebar</div>        <i class=\"icon\"><svg><use href=\"#svg-menu\"></use></svg></i>      </label>    </div>    <div class=\"header-center\">      <a href=\"#\"><div class=\"brand\">greenlet 3.0.4.dev0 documentation</div></a>    </div>    <div class=\"header-right\">      <div class=\"theme-toggle-container theme-toggle-header\">        <button class=\"theme-toggle\">          <div class=\"visually-hidden\">Toggle Light / Dark / Auto color theme</div>          <svg class=\"theme-icon-when-auto\"><use href=\"#svg-sun-half\"></use></svg>          <svg class=\"theme-icon-when-dark\"><use href=\"#svg-moon\"></use></svg>          <svg class=\"theme-icon-when-light\"><use href=\"#svg-sun\"></use></svg>        </button>      </div>      <label class=\"toc-overlay-icon toc-header-icon\" for=\"__toc\">        <div class=\"visually-hidden\">Toggle table of contents sidebar</div>        <i class=\"icon\"><svg><use href=\"#svg-toc\"></use></svg></i>      </label>    </div>  </header>  <aside class=\"sidebar-drawer\">    <div class=\"sidebar-container\">            <div class=\"sidebar-sticky\"><a class=\"sidebar-brand\" href=\"#\">      </a><form class=\"sidebar-search-container\" method=\"get\" action=\"search.html\" role=\"search\">  <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">  <input type=\"hidden\" name=\"check_keywords\" value=\"yes\">  <input type=\"hidden\" name=\"area\" value=\"default\"></form><div id=\"searchbox\"></div><div class=\"sidebar-scroll\"><div class=\"sidebar-tree\">  <p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"gui_example.html\">Motivation: Treating an Asynchronous GUI Like a Synchronous Loop</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"greenlet.html\">greenlet Concepts</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"creating_executing_greenlets.html\">Creating And Executing Greenlets</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"switching.html\">Switching Between Greenlets: Passing Objects and Control</a></li></ul><p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Reference Material</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api.html\">Python API Reference</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"c_api.html\">C API Reference</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"changes.html\">Changes</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"development.html\">Development Process</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"history.html\">History And About</a></li></ul><p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced Usage</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"python_threads.html\">Greenlets and Python Threads</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"contextvars.html\">Context Variables (asyncio)</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"greenlet_gc.html\">Garbage Collection and greenlets</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tracing.html\">Tracing And Profiling</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"caveats.html\">Caveats and Known Issues</a></li></ul></div><div  id=\"furo-sidebar-ad-placement\"  class=\"flat\"  data-ea-publisher=\"readthedocs\"  data-ea-type=\"readthedocs-sidebar\"  data-ea-manual=\"true\"></div></div><div id=\"furo-readthedocs-versions\" class=\"rst-versions\" data-toggle=\"rst-versions\" role=\"note\" aria-label=\"Versions\" tabindex=\"0\">  <span class=\"rst-current-version\" data-toggle=\"rst-current-version\">    <span class=\"fa fa-book\">&nbsp;</span>    v: latest  </span>  <div class=\"rst-other-versions\">    <dl>      <dt>Versions</dt>              <dd><a href=\"/en/latest/\">latest</a></dd>              <dd><a href=\"/en/stable/\">stable</a></dd>          </dl>    <dl>      <dt>Downloads</dt>          </dl>    <dl>            <dt>On Read the Docs</dt>        <dd>          <a href=\"//readthedocs.org/projects/greenlet/?fromdocs=greenlet\">Project Home</a>        </dd>        <dd>          <a href=\"//readthedocs.org/builds/greenlet/?fromdocs=greenlet\">Builds</a>        </dd>    </dl>  </div></div>      </div>          </div>  </aside>  <div class=\"main\">    <div class=\"content\">      <div class=\"article-container\">        <a href=\"#\" class=\"back-to-top muted-link\">          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">            <path d=\"M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z\"></path>          </svg>          <span>Back to top</span>        </a>        <div class=\"content-icon-container\">              <div class=\"edit-this-page\">  <a class=\"muted-link\" href=\"https://github.com/python-greenlet/greenlet/edit/master/docs/index.rst\" title=\"Edit this page\">    <svg aria-hidden=\"true\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>      <path d=\"M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4\" />      <line x1=\"13.5\" y1=\"6.5\" x2=\"17.5\" y2=\"10.5\" />    </svg>    <span class=\"visually-hidden\">Edit this page</span>  </a></div><div class=\"theme-toggle-container theme-toggle-content\">            <button class=\"theme-toggle\">              <div class=\"visually-hidden\">Toggle Light / Dark / Auto color theme</div>              <svg class=\"theme-icon-when-auto\"><use href=\"#svg-sun-half\"></use></svg>              <svg class=\"theme-icon-when-dark\"><use href=\"#svg-moon\"></use></svg>              <svg class=\"theme-icon-when-light\"><use href=\"#svg-sun\"></use></svg>            </button>          </div>          <label class=\"toc-overlay-icon toc-content-icon\" for=\"__toc\">            <div class=\"visually-hidden\">Toggle table of contents sidebar</div>            <i class=\"icon\"><svg><use href=\"#svg-toc\"></use></svg></i>          </label>        </div>        <article role=\"main\">          <section id=\"greenlet-lightweight-concurrent-programming\"><h1>greenlet: Lightweight concurrent programming<a class=\"headerlink\" href=\"#greenlet-lightweight-concurrent-programming\" title=\"Link to this heading\">#</a></h1><aside class=\"sidebar\"><p class=\"sidebar-title\">Contents</p><p>If this page has piqued your interest in greenlets,continue reading by seeing <a class=\"reference internal\" href=\"gui_example.html#gui-example\"><span class=\"std std-ref\">an example transforming anasynchronous GUI into a simple synchronous loop</span></a>.</p><p>To get started building your own code with greenlets, read<a class=\"reference internal\" href=\"greenlet.html\"><span class=\"doc\">greenlet Concepts</span></a>, and then <a class=\"reference internal\" href=\"creating_executing_greenlets.html\"><span class=\"doc\">Creating And Executing Greenlets</span></a>.</p><div class=\"toctree-wrapper compound\"><p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Getting Started</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"gui_example.html\">Motivation: Treating an Asynchronous GUI Like a Synchronous Loop</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"gui_example.html#a-simple-terminal-app\">A Simple Terminal App</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"gui_example.html#competing-event-loops\">Competing Event Loops</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"gui_example.html#enter-greenlets-dual-infinite-loops\">Enter greenlets: Dual Infinite Loops</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"gui_example.html#further-reading\">Further Reading</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"greenlet.html\">greenlet Concepts</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"greenlet.html#switching-greenlets\">Switching greenlets</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"greenlet.html#the-greenlet-lifecycle\">The greenlet Lifecycle</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"greenlet.html#the-current-greenlet\">The Current greenlet</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"greenlet.html#the-main-greenlet\">The Main greenlet</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"greenlet.html#greenlet-parents\">Greenlet Parents</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"creating_executing_greenlets.html\">Creating And Executing Greenlets</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"creating_executing_greenlets.html#subclassing-greenlet\">Subclassing greenlet</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"creating_executing_greenlets.html#changing-the-parent\">Changing The Parent</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"creating_executing_greenlets.html#interrupting-greenlets-by-throwing-exceptions\">Interrupting Greenlets by Throwing Exceptions</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"switching.html\">Switching Between Greenlets: Passing Objects and Control</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"switching.html#multiple-and-keyword-arguments\">Multiple And Keyword Arguments</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"switching.html#switching-to-dead-greenlets\">Switching To Dead Greenlets</a></li></ul></li></ul></div><div class=\"toctree-wrapper compound\"><p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Reference Material</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api.html\">Python API Reference</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"c_api.html\">C API Reference</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"changes.html\">Changes</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"development.html\">Development Process</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"history.html\">History And About</a></li></ul></div><div class=\"toctree-wrapper compound\"><p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced Usage</span></p><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"python_threads.html\">Greenlets and Python Threads</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"contextvars.html\">Context Variables (asyncio)</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"greenlet_gc.html\">Garbage Collection and greenlets</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"tracing.html\">Tracing And Profiling</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"caveats.html\">Caveats and Known Issues</a></li></ul></div></aside><p class=\"rubric\">What are greenlets?</p><p>greenlets are lightweight coroutines for in-process sequential concurrentprogramming.</p><p>greenlets can be used on their own, but they are frequently used withframeworks such as <a class=\"reference external\" href=\"https://www.gevent.org\">gevent</a> to provide higher-level abstractions andasynchronous I/O.</p><p>greenlets are frequently defined by analogy to <a class=\"reference external\" href=\"https://docs.python.org/3/library/threading.html#module-threading\" title=\"(in Python v3.12)\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threads</span></code></a> or Python\u2019s built-in coroutines (generators and <code class=\"docutils literal notranslate\"><span class=\"pre\">async</span><span class=\"pre\">def</span></code> functions). The rest of this section will explore thoseanalogies. For a more precise introduction, see <a class=\"reference internal\" href=\"greenlet.html#what-is-greenlet\"><span class=\"std std-ref\">greenlet Concepts</span></a>.</p><p>See <a class=\"reference internal\" href=\"history.html\"><span class=\"doc\">History And About</span></a> for how the greenlet library was created, and itsrelation to other similar concepts.</p><p class=\"rubric\">Are greenlets similar to threads?</p><p>For many purposes, you can usually think of greenlets as cooperativelyscheduled <a class=\"reference external\" href=\"https://docs.python.org/3/library/threading.html#module-threading\" title=\"(in Python v3.12)\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">threads</span></code></a>. The major differences arethat since they\u2019re cooperatively scheduled, you are in control ofwhen they execute, and since they are coroutines, many greenlets canexist in a single native thread.</p><p class=\"rubric\">How are greenlets different from threads?</p><p>Threads (in theory) are preemptive and parallel <a class=\"footnote-reference brackets\" href=\"#f1\" id=\"id1\" role=\"doc-noteref\"><span class=\"fn-bracket\">[</span>1<span class=\"fn-bracket\">]</span></a>, meaning that multiplethreads can be processing work at the same time, and it\u2019s impossibleto say in what order different threads will proceed or see the effectsof other threads. This necessitates careful programming using<a class=\"reference external\" href=\"https://docs.python.org/3/library/threading.html#threading.Lock\" title=\"(in Python v3.12)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">locks</span></code></a>, <a class=\"reference external\" href=\"https://docs.python.org/3/library/queue.html#queue.Queue\" title=\"(in Python v3.12)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">queues</span></code></a>, orother approaches to avoid <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Race_condition\">race conditions</a>, <a class=\"reference external\" href=\"https://docs.microsoft.com/en-us/troubleshoot/dotnet/visual-basic/race-conditions-deadlocks#when-deadlocks-occur\">deadlocks</a>, or otherbugs.</p><p>In contrast, greenlets are cooperative and sequential. This means thatwhen one greenlet is running, no other greenlet can be running; theprogrammer is fully in control of when execution switches betweengreenlets. This can eliminate race conditions and greatly simplify theprogramming task.</p><p>Also, threads require resources from the operating system (the threadstack, and bookkeeping in the kernel). Because greenlets areimplemented entirely without involving the operating system, they canrequire fewer resources; it is often practical to have many moregreenlets than it is threads.</p><p class=\"rubric\">How else can greenlets be used?</p><p>greenlets have many uses:</p><ul><li><p>They can be treated like cooperative threads. You can implement anyscheduling policy you desire.</p></li><li><p>Because greenlets work well with C libraries (greenlets can switcheven with C functions in the call stack), they are well suited forintegrating with GUIs or other event loops.</p><p><a class=\"reference external\" href=\"https://www.gevent.org\">gevent</a> is an example of using greenlets to integrate with IOevent loops (<a class=\"reference external\" href=\"http://software.schmorp.de/pkg/libev.html\">libev</a> and <a class=\"reference external\" href=\"http://libuv.org/\">libuv</a>) to provide a completeasynchronous environment using familiar programming patterns.</p></li><li><p>Similar to the above, greenlets can be used to transform apparentlyasynchronous tasks into a simple synchronous style. See<a class=\"reference internal\" href=\"gui_example.html#gui-example\"><span class=\"std std-ref\">Motivation: Treating an Asynchronous GUI Like a Synchronous Loop</span></a> for an example of writing an asynchronous event-driven GUI appin a simple synchronous style.</p></li><li><p>In general, greenlets can be used for advanced control flow. Forexample, you can <a class=\"reference internal\" href=\"history.html\"><span class=\"doc\">create generators</span></a>\u2014withoutthe use of the <code class=\"docutils literal notranslate\"><span class=\"pre\">yield</span></code> keyword!</p></li></ul><p class=\"rubric\">Are greenlets similar to generators? What about asyncio?</p><p>All three of greenlets, generators, and asyncio use a concept ofcoroutines. However, greenlets, unlike the other two, require nospecial keywords or support from the Python language. In addition,greenlets are capable of switching between stacks that feature Clibraries, whereas the other two are not.</p><p class=\"rubric\">Footnotes</p><aside class=\"footnote-list brackets\"><aside class=\"footnote brackets\" id=\"f1\" role=\"doc-footnote\"><span class=\"label\"><span class=\"fn-bracket\">[</span><a role=\"doc-backlink\" href=\"#id1\">1</a><span class=\"fn-bracket\">]</span></span><p>In CPython, the <a class=\"reference external\" href=\"https://wiki.python.org/moin/GlobalInterpreterLock\">global interpreter lock (GIL)</a>generally prevents two threads from executing Python code atthe same time. Parallelism is thus limited to code sectionsthat release the GIL, i.e., C code.</p></aside></aside><section id=\"indices-and-tables\"><h2>Indices and tables<a class=\"headerlink\" href=\"#indices-and-tables\" title=\"Link to this heading\">#</a></h2><ul class=\"simple\"><li><p><a class=\"reference internal\" href=\"search.html\"><span class=\"std std-ref\">Search Page</span></a></p></li><li><p><a class=\"reference internal\" href=\"genindex.html\"><span class=\"std std-ref\">Index</span></a></p></li><li><p><a class=\"reference internal\" href=\"py-modindex.html\"><span class=\"std std-ref\">Module Index</span></a></p></li></ul></section></section>        </article>      </div>      <footer>                <div class=\"related-pages\">          <a class=\"next-page\" href=\"gui_example.html\">              <div class=\"page-info\">                <div class=\"context\">                  <span>Next</span>                </div>                <div class=\"title\">Motivation: Treating an Asynchronous GUI Like a Synchronous Loop</div>              </div>              <svg class=\"furo-related-icon\"><use href=\"#svg-arrow-right\"></use></svg>            </a>                  </div>        <div class=\"bottom-of-page\">          <div class=\"left-details\">            <div class=\"copyright\">                Copyright &#169; 2011, Armin Rigo, Christian Tismer            </div>            Made with <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> and <a class=\"muted-link\" href=\"https://pradyunsg.me\">@pradyunsg</a>'s                        <a href=\"https://github.com/pradyunsg/furo\">Furo</a>                      </div>          <div class=\"right-details\">            <div class=\"icons\">              <a class=\"muted-link\" href=\"https://readthedocs.org/projects/greenlet\" aria-label=\"On Read the Docs\">                <svg x=\"0px\" y=\"0px\" viewBox=\"-125 217 360 360\" xml:space=\"preserve\">                  <path fill=\"currentColor\" d=\"M39.2,391.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3 c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2 c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,391.3,40.4,391.1,39.2,391.3z M39.2,353.6c-4.2,0.6-7.1,4.4-6.5,8.5 c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4 c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,353.6,40.4,353.4,39.2,353.6z M39.2,315.9 c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8 c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9 C41.7,315.9,40.4,315.8,39.2,315.9z M39.2,278.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7 c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6 c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,278.2,40.4,278.1,39.2,278.3z M-13.6,238.5c-39.6,0.3-54.3,12.5-54.3,12.5v295.7 c0,0,14.4-12.4,60.8-10.5s55.9,18.2,112.9,19.3s71.3-8.8,71.3-8.8l0.8-301.4c0,0-25.6,7.3-75.6,7.7c-49.9,0.4-61.9-12.7-107.7-14.2 C-8.2,238.6-10.9,238.5-13.6,238.5z M19.5,257.8c0,0,24,7.9,68.3,10.1c37.5,1.9,75-3.7,75-3.7v267.9c0,0-19,10-66.5,6.6 C59.5,536.1,19,522.1,19,522.1L19.5,257.8z M-3.6,264.8c4.2,0,7.7,3.4,7.7,7.7c0,4.2-3.4,7.7-7.7,7.7c0,0-12.4,0.1-20,0.8 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,0,0,0,0c0,0,11.3-6,27-7.5 C-16,264.9-3.6,264.8-3.6,264.8z M-11,302.6c4.2-0.1,7.4,0,7.4,0c4.2,0.5,7.2,4.3,6.7,8.5c-0.4,3.5-3.2,6.3-6.7,6.7 c0,0-12.4,0.1-20,0.8c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5 C-20.5,302.9-15.2,302.7-11,302.6z M-3.6,340.2c4.2,0,7.7,3.4,7.7,7.7s-3.4,7.7-7.7,7.7c0,0-12.4-0.1-20,0.7 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5C-16,340.1-3.6,340.2-3.6,340.2z\" />                </svg>              </a><a class=\"muted-link\" href=\"https://github.com/python-greenlet/greenlet\" aria-label=\"On GitHub\">                <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 16 16\">                  <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path>                </svg>              </a>            </div>          </div>        </div>              </footer>    </div>    <aside class=\"toc-drawer\">                  <div class=\"toc-sticky toc-scroll\">        <div class=\"toc-title-container\">          <span class=\"toc-title\">            On this page          </span>        </div>        <div class=\"toc-tree-container\">          <div class=\"toc-tree\">            <ul><li><a class=\"reference internal\" href=\"#\">greenlet: Lightweight concurrent programming</a><ul><li><a class=\"reference internal\" href=\"#indices-and-tables\">Indices and tables</a></li></ul></li></ul>          </div>        </div>      </div>                </aside>  </div></div><script src=\"_static/documentation_options.js?v=bf528f97\"></script>    <script src=\"_static/doctools.js?v=888ff710\"></script>    <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>    <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>    <script async=\"async\" src=\"/_/static/javascript/readthedocs-doc-embed.js\"></script>    </body></html>",
  "embeddings": []
}