{
  "libtype": "pypi",
  "libname": "conda-pack",
  "url": "https://conda.github.io/conda-pack/",
  "html": "<!DOCTYPE html><html>  <head>    <meta charset=\"utf-8\" />    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /><meta name=\"generator\" content=\"Docutils 0.17.1: http://docutils.sourceforge.net/\" />    <title>Conda-Pack &#8212; conda-pack 0.7.0 documentation</title>    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/alabaster.css\" />    <script data-url_root=\"./\" id=\"documentation_options\" src=\"_static/documentation_options.js\"></script>    <script src=\"_static/jquery.js\"></script>    <script src=\"_static/underscore.js\"></script>    <script src=\"_static/doctools.js\"></script>    <link rel=\"index\" title=\"Index\" href=\"genindex.html\" />    <link rel=\"search\" title=\"Search\" href=\"search.html\" />    <link rel=\"next\" title=\"CLI Docs\" href=\"cli.html\" />     <link rel=\"stylesheet\" href=\"_static/custom.css\" type=\"text/css\" />      <meta name=\"viewport\" content=\"width=device-width, initial-scale=0.9, maximum-scale=0.9\" />  </head><body>      <div class=\"document\">      <div class=\"documentwrapper\">        <div class=\"bodywrapper\">                    <div class=\"body\" role=\"main\">              <section id=\"conda-pack\"><h1>Conda-Pack<a class=\"headerlink\" href=\"#conda-pack\" title=\"Permalink to this headline\">\u00b6</a></h1><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is a command line tool for creating archives of <a class=\"reference external\" href=\"https://conda.io/docs/\">condaenvironments</a> that can be installed on othersystems and locations. This is useful for deploying code in a consistentenvironment\u2014potentially where python and/or conda isn\u2019t already installed.</p><p>A tool like <code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is necessary because conda environments <em>arenot relocatable</em>. Simply moving an environment to a different directorycan render it partially or completely inoperable. <code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> addressesthis challenge by building archives from original conda package sourcesand reproducing conda\u2019s own relocation logic.</p><div align=\"center\">  <script src=\"https://asciinema.org/a/186862.js\" id=\"asciicast-186862\" async data-speed=\"2\"></script></div><section id=\"use-cases\"><h2>Use Cases<a class=\"headerlink\" href=\"#use-cases\" title=\"Permalink to this headline\">\u00b6</a></h2><ul class=\"simple\"><li><p>Bundling an application with its environment for deployment</p></li><li><p>Packaging a conda environment for use with Apache Spark when deploying onYARN (<a class=\"reference internal\" href=\"spark.html\"><span class=\"doc\">see here</span></a> for more information).</p></li><li><p>Packaging a conda environment for deployment on Apache YARN. One way to dothis is to use <a class=\"reference external\" href=\"https://jcrist.github.io/skein/\">Skein</a>.</p></li><li><p>Archiving an environment in a functioning state. Note that a more sustainableway to do this is to specify your environment as a <a class=\"reference external\" href=\"https://conda.io/docs/user-guide/tasks/manage-environments.html#sharing-an-environment\">environment.yml</a>,and recreate the environment when needed.</p></li><li><p><em>BETA</em>: Packaging a conda environment as a standard Cloudera parcel. This isa newly added capability. It has been tested on a live cluster, but differentcluster configurations may produce different results. We welcome users to<a class=\"reference external\" href=\"https://github.com/conda/conda-pack/issues\">file an issue</a> if necessary.<a class=\"reference internal\" href=\"parcel.html\"><span class=\"doc\">See here</span></a> for more information).</p></li></ul></section><section id=\"installation\"><h2>Installation<a class=\"headerlink\" href=\"#installation\" title=\"Permalink to this headline\">\u00b6</a></h2><p>It\u2019s recommended to install in your root conda environment - the <code class=\"docutils literal notranslate\"><span class=\"pre\">conda</span> <span class=\"pre\">pack</span></code>command will then be available in all sub-environments as well.</p><p><strong>Install with conda:</strong></p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is available from <a class=\"reference external\" href=\"https://anaconda.com\">Anaconda</a>as well as from <a class=\"reference external\" href=\"https://conda-forge.org/\">conda-forge</a>:</p><div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">conda</span> <span class=\"n\">install</span> <span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">pack</span><span class=\"n\">conda</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">c</span> <span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">forge</span> <span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">pack</span></pre></div></div><p><strong>Install from PyPI:</strong></p><p>While <code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> requires an existing <code class=\"docutils literal notranslate\"><span class=\"pre\">conda</span></code> install, it can also beinstalled from PyPI:</p><div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">pack</span></pre></div></div><p><strong>Install from source:</strong></p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is <a class=\"reference external\" href=\"https://github.com/conda/conda-pack\">available on github</a>and can always be installed from source.</p><div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"n\">git</span><span class=\"o\">+</span><span class=\"n\">https</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">github</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">/</span><span class=\"n\">conda</span><span class=\"o\">/</span><span class=\"n\">conda</span><span class=\"o\">-</span><span class=\"n\">pack</span><span class=\"o\">.</span><span class=\"n\">git</span></pre></div></div></section><section id=\"commandline-usage\"><h2>Commandline Usage<a class=\"headerlink\" href=\"#commandline-usage\" title=\"Permalink to this headline\">\u00b6</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is primarily a commandline tool. Full CLI docs can be found<a class=\"reference internal\" href=\"cli.html\"><span class=\"doc\">here</span></a>.</p><p>One common use case is packing an environment on one machine to distribute toother machines that may not have conda/python installed.</p><p>On the source machine</p><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Pack environment my_env into my_env.tar.gz</span>$ conda pack -n my_env<span class=\"c1\"># Pack environment my_env into out_name.tar.gz</span>$ conda pack -n my_env -o out_name.tar.gz<span class=\"c1\"># Pack environment located at an explicit path into my_env.tar.gz</span>$ conda pack -p /explicit/path/to/my_env</pre></div></div><p>On the target machine</p><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Unpack environment into directory `my_env`</span>$ mkdir -p my_env$ tar -xzf my_env.tar.gz -C my_env<span class=\"c1\"># Use python without activating or fixing the prefixes. Most python</span><span class=\"c1\"># libraries will work fine, but things that require prefix cleanups</span><span class=\"c1\"># will fail.</span>$ ./my_env/bin/python<span class=\"c1\"># Activate the environment. This adds `my_env/bin` to your path</span>$ <span class=\"nb\">source</span> my_env/bin/activate<span class=\"c1\"># Run python from in the environment</span><span class=\"o\">(</span>my_env<span class=\"o\">)</span> $ python<span class=\"c1\"># Cleanup prefixes from in the active environment.</span><span class=\"c1\"># Note that this command can also be run without activating the environment</span><span class=\"c1\"># as long as some version of python is already installed on the machine.</span><span class=\"o\">(</span>my_env<span class=\"o\">)</span> $ conda-unpack<span class=\"c1\"># At this point the environment is exactly as if you installed it here</span><span class=\"c1\"># using conda directly. All scripts should work fine.</span><span class=\"o\">(</span>my_env<span class=\"o\">)</span> $ ipython --version<span class=\"c1\"># Deactivate the environment to remove it from your path</span><span class=\"o\">(</span>my_env<span class=\"o\">)</span> $ <span class=\"nb\">source</span> my_env/bin/deactivate</pre></div></div></section><section id=\"api-usage\"><h2>API Usage<a class=\"headerlink\" href=\"#api-usage\" title=\"Permalink to this headline\">\u00b6</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> also provides a Python API, the full documentation of which canbe found <a class=\"reference internal\" href=\"api.html\"><span class=\"doc\">here</span></a>. The API mostly mirrors that of the <code class=\"docutils literal notranslate\"><span class=\"pre\">conda</span> <span class=\"pre\">pack</span></code>commandline. Repeating the examples from above:</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">conda_pack</span><span class=\"c1\"># Pack environment my_env into my_env.tar.gz</span><span class=\"n\">conda_pack</span><span class=\"o\">.</span><span class=\"n\">pack</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;my_env&quot;</span><span class=\"p\">)</span><span class=\"c1\"># Pack environment my_env into out_name.tar.gz</span><span class=\"n\">conda_pack</span><span class=\"o\">.</span><span class=\"n\">pack</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;my_env&quot;</span><span class=\"p\">,</span> <span class=\"n\">output</span><span class=\"o\">=</span><span class=\"s2\">&quot;out_name.tar.gz&quot;</span><span class=\"p\">)</span><span class=\"c1\"># Pack environment located at an explicit path into my_env.tar.gz</span><span class=\"n\">conda_pack</span><span class=\"o\">.</span><span class=\"n\">pack</span><span class=\"p\">(</span><span class=\"n\">prefix</span><span class=\"o\">=</span><span class=\"s2\">&quot;/explicit/path/to/my_env&quot;</span><span class=\"p\">)</span></pre></div></div></section><section id=\"caveats\"><h2>Caveats<a class=\"headerlink\" href=\"#caveats\" title=\"Permalink to this headline\">\u00b6</a></h2><p>This tool has a few caveats.</p><ul class=\"simple\"><li><p>Conda must be installed and be on your path.</p></li><li><p>The OS where the environment was built must match the OS of the target.This means that environments built on Windows can\u2019t be relocated to Linux.</p></li><li><p>Once an environment is unpacked and <code class=\"docutils literal notranslate\"><span class=\"pre\">conda-unpack</span></code> has been executed,it <em>cannot</em> be relocated. Re-applying <code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is unlikely to work.</p></li><li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">conda-pack</span></code> is not well-suited for archiving old environments, because itrequires that conda\u2019s package cache have all of the environment\u2019s packagespresent. It is intended for building archives from actively maintainedconda environments.</p></li></ul><div class=\"toctree-wrapper compound\"></div></section></section>          </div>                  </div>      </div>      <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"main navigation\">        <div class=\"sphinxsidebarwrapper\"><h1 class=\"logo\"><a href=\"#\">conda-pack</a></h1><p class=\"blurb\">A tool for packaging and distributing conda environments.</p><p><iframe src=\"https://ghbtns.com/github-btn.html?user=conda&repo=conda-pack&type=watch&count=False&size=large&v=2\"  allowtransparency=\"true\" frameborder=\"0\" scrolling=\"0\" width=\"200px\" height=\"35px\"></iframe></p>    <p><a class=\"badge\" href=\"https://travis-ci.org/conda/conda-pack\">    <img        alt=\"https://secure.travis-ci.org/conda/conda-pack.svg?branch=master\"        src=\"https://secure.travis-ci.org/conda/conda-pack.svg?branch=master\"    /></a></p><h3>Navigation</h3><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"cli.html\">CLI Docs</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api.html\">API Docs</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"spark.html\">Usage with Apache Spark on YARN</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"parcel.html\">Parcels</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"squashfs.html\">SquashFS</a></li></ul><h3>Need help?</h3><p>  Open an issue in the <a href=\"https://github.com/conda/conda-pack/issues\">issue tracker</a>.</p><div id=\"searchbox\" style=\"display: none\" role=\"search\">  <h3 id=\"searchlabel\">Quick search</h3>    <div class=\"searchformwrapper\">    <form class=\"search\" action=\"search.html\" method=\"get\">      <input type=\"text\" name=\"q\" aria-labelledby=\"searchlabel\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"/>      <input type=\"submit\" value=\"Go\" />    </form>    </div></div><script>$('#searchbox').show(0);</script>        </div>      </div>      <div class=\"clearer\"></div>    </div>    <div class=\"footer\">      &copy;2017, Jim Crist.            |      <a href=\"_sources/index.rst.txt\"          rel=\"nofollow\">Page source</a>    </div>          </body></html>",
  "embeddings": []
}