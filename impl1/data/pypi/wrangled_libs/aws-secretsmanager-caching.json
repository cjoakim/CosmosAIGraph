{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "license :: osi approved :: apache software license",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7"
  ],
  "description": "## aws secrets manager python caching client\n\nthe aws secrets manager python caching client enables in-process caching of secrets for python applications.\n\n## getting started\n\n### required prerequisites\n\nto use this client you must have:\n\n* python 3.6 or newer.  use of python versions 3.5 or older are not supported.\n* an amazon web services (aws) account to access secrets stored in aws secrets manager.\n  * **to create an aws account**, go to [sign in or create an aws account](https://portal.aws.amazon.com/gp/aws/developer/registration/index.html) and then choose **i am a new user.** follow the instructions to create an aws account.\n\n  * **to create a secret in aws secrets manager**, go to [creating secrets](https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_create-basic-secret.html) and follow the instructions on that page.\n\n  * this library makes use of botocore, the low-level core functionality of the boto3 sdk.  for more information on boto3 and botocore, please review the [aws sdk for python](https://aws.amazon.com/sdk-for-python/) and [botocore](https://botocore.amazonaws.com/v1/documentation/api/latest/index.html) documentation. \n\n### dependencies\nthis library requires the following standard dependencies:\n* botocore\n* setuptools_scm\n\nfor development and testing purposes, this library requires the following additional dependencies:\n* pytest\n* pytest-cov\n* pytest-sugar\n* codecov\n* pylint\n* sphinx\n\nplease review the `requirements.txt` and `dev-requirements.txt` file for specific version requirements.\n\n### installation\ninstalling the latest release via **pip**:\n```bash\n$ pip install aws-secretsmanager-caching\n```\n\ninstalling the latest development release:\n```bash\n$ git clone https://github.com/aws/aws-secretsmanager-caching-python.git\n$ cd aws-secretsmanager-caching-python\n$ python setup.py install\n```\n\n### development\n#### getting started\nassuming that you have python and virtualenv installed, set up your environment and install the required dependencies like this instead of the `pip install aws_secretsmanager_caching` defined above:\n\n```bash\n$ git clone https://github.com/aws/aws-secretsmanager-caching-python.git\n$ cd aws-secretsmanager-caching-python\n$ virtualenv venv\n...\n$ . venv/bin/activate\n$ pip install -r requirements.txt -r dev-requirements.txt\n$ pip install -e .\n```\n\n#### running tests\nyou can run tests in all supported python versions using tox. by default, it will run all of the unit and integration tests, but you can also specify your own arguments to past to `pytest`.\n```bash\n$ tox # runs integ/unit tests, flake8 tests and pylint tests\n$ tox -- test/unit/test_decorators.py # runs specific test file\n$ tox -e py37 -- test/integ/ # runs specific test directory\n```\n\n#### documentation\nyou can locally-generate the sphinx-based documentation via:\n```bash\n$ tox -e docs\n```\nwhich will subsequently be viewable at `file://${clone_dir}/.tox/docs_out/index.html`\n\n### usage\nusing the client consists of the following steps:\n1.  instantiate the client while optionally passing in a `secretcacheconfig()` object to the `config` parameter.  you can also pass in an existing `botocore.client.baseclient` client to the client parameter.\n2.  request the secret from the client instance.\n```python\nimport botocore\nimport botocore.session\nfrom aws_secretsmanager_caching import secretcache, secretcacheconfig\n\nclient = botocore.session.get_session().create_client('secretsmanager')\ncache_config = secretcacheconfig() # see below for defaults\ncache = secretcache(config=cache_config, client=client)\n\nsecret = cache.get_secret_string('mysecret')\n```\n\n#### cache configuration\nyou can configure the cache config object with the following parameters:\n* `max_cache_size` - the maximum number of secrets to cache.  the default value is `1024`.\n* `exception_retry_delay_base` - the number of seconds to wait after an exception is encountered and before retrying the request.  the default value is `1`.\n* `exception_retry_growth_factor` - the growth factor to use for calculating the wait time between retries of failed requests.  the default value is `2`.\n* `exception_retry_delay_max` - the maximum amount of time in seconds to wait between failed requests.  the default value is `3600`.\n* `default_version_stage` - the default version stage to request.  the default value is `'awscurrent'`\n* `secret_refresh_interval` - the number of seconds to wait between refreshing cached secret information.  the default value is `3600.0`.\n* `secret_cache_hook` - an implementation of the secretcachehook abstract class.  the default value is `none`.\n\n#### decorators\nthe library also includes several decorator functions to wrap existing function calls with secretstring-based secrets:\n* `@injectedkeywordedsecretstring` - this decorator expects the secret id and cache as the first and second arguments, with subsequent arguments mapping a parameter key from the function that is being wrapped to a key in the secret.  the secret being retrieved from the cache must contain a secretstring and that string must be json-based.\n* `@injectsecretstring` - this decorator also expects the secret id and cache as the first and second arguments.  however, this decorator simply returns the result of the cache lookup directly to the first argument of the wrapped function.  the secret does not need to be json-based but it must contain a secretstring.\n```python\nfrom aws_secretsmanager_caching import secretcache\nfrom aws_secretsmanager_caching import injectkeywordedsecretstring, injectsecretstring\n\ncache = secretcache()\n\n@injectkeywordedsecretstring(secret_id='mysecret', cache=cache, func_username='username', func_password='password')\ndef function_to_be_decorated(func_username, func_password):\n    print('something cool is being done with the func_username and func_password arguments here')\n    ...\n\n@injectsecretstring('mysimplesecret', cache)\ndef function_to_be_decorated(arg1, arg2, arg3):\n    # arg1 contains the cache lookup result of the 'mysimplesecret' secret.\n    # arg2 and arg3, in this example, must still be passed when calling function_to_be_decorated().\n```\n\n## getting help\nwe use github issues for tracking bugs and caching library feature requests and have limited bandwidth to address them. please use these community resources for getting help:\n* ask a question on [stack overflow](https://stackoverflow.com/) and tag it with [aws-secrets-manager](https://stackoverflow.com/questions/tagged/aws-secrets-manager).\n* open a support ticket with [aws support](https://console.aws.amazon.com/support/home#/)\n* if it turns out that you may have found a bug, please [open an issue](https://github.com/aws/aws-secretsmanager-caching-python/issues/new). \n## license\n\nthis library is licensed under the apache 2.0 license. \n\n\n",
  "docs_url": null,
  "keywords": "secretsmanager secrets manager development cache caching client",
  "license": "",
  "name": "aws-secretsmanager-caching",
  "package_url": "https://pypi.org/project/aws-secretsmanager-caching/",
  "project_url": "https://pypi.org/project/aws-secretsmanager-caching/",
  "project_urls": {
    "Homepage": "https://github.com/aws/aws-secretsmanager-caching-python"
  },
  "release_url": "https://pypi.org/project/aws-secretsmanager-caching/1.1.1.5/",
  "requires_dist": [
    "botocore"
  ],
  "requires_python": ">3.5",
  "summary": "client-side aws secrets manager caching library",
  "version": "1.1.1.5",
  "releases": [],
  "developers": [
    "amazon_web_services",
    "aws-secretsmanager-dev@amazon.com"
  ],
  "kwds": "aws_secretsmanager_caching secretsmanager secretcacheconfig secretcachehook secret_cache_hook",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_aws_secretsmanager_caching",
  "homepage": "https://github.com/aws/aws-secretsmanager-caching-python",
  "release_count": 3,
  "dependency_ids": [
    "pypi_botocore"
  ]
}