{
  "classifiers": [
    "development status :: 6 - mature",
    "intended audience :: developers",
    "license :: osi approved :: mit license",
    "operating system :: macos :: macos x",
    "operating system :: microsoft :: windows",
    "operating system :: posix",
    "programming language :: python :: 2",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "programming language :: python :: 3.4",
    "programming language :: python :: 3.5",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "topic :: software development :: libraries",
    "topic :: software development :: testing",
    "topic :: utilities"
  ],
  "description": "services plugin for pytest testing framework\n============================================\n\n.. image:: https://img.shields.io/pypi/v/pytest-services.svg\n   :target: https://pypi.python.org/pypi/pytest-services\n.. image:: https://img.shields.io/pypi/pyversions/pytest-services.svg\n  :target: https://pypi.python.org/pypi/pytest-services\n.. image:: https://img.shields.io/coveralls/pytest-dev/pytest-services/master.svg\n   :target: https://coveralls.io/r/pytest-dev/pytest-services\n.. image:: https://travis-ci.org/pytest-dev/pytest-services.svg?branch=master\n    :target: https://travis-ci.org/pytest-dev/pytest-services\n.. image:: https://readthedocs.org/projects/pytest-services/badge/?version=latest\n    :target: https://readthedocs.org/projects/pytest-services/?badge=latest\n    :alt: documentation status\n\ninstall pytest-services\n-----------------------\n\n::\n\n    pip install pytest-services\n\n\n.. _pytest:  http://pytest.org\n.. _pytest-xdist: https://pypi.python.org/pypi/pytest-xdist\n.. _pytest-splinter: https://pypi.python.org/pypi/pytest-splinter\n.. _pytest-bdd: https://pypi.python.org/pypi/pytest-bdd\n.. _pytest-django: https://pypi.python.org/pypi/pytest-django\n.. _memcached:  http://memcached.org\n.. _xvfb: http://en.wikipedia.org/wiki/xvfb\n.. _mysql-server: http://dev.mysql.com/\n\nfeatures\n--------\n\nthe plugin provides a set of fixtures and utility functions to start service processes for your tests with\npytest_\n\n\nfixtures\n--------\n\n* run_services\n    determines whether services should be run or not. false by default if not in distributed environment\n    (without pytest-xdist_). can be manually set to true by overriding this fixture in your test config or\n    just by using `--run-services` command line argument (see below).\n\ninfrastructure fixtures\n***********************\n\n* worker_id\n    id of the worker if tests are run using pytest-xdist_. it is set to `local` if tests are not run using\n    pytest-xdist_ (with `--dist` command line option set to `load`).\n    has a deprecated alias ``slave_id`` which will be removed in a future version.\n* session_id\n    test session id. globally unique, and of course also guaranteed to be different for potentially multiple test\n    sessions running on same test node via pytest-xdist_.\n* watcher_getter\n    function to instantiate test service watcher (popen object). includes automatic finalization (exiting) of the\n    service process, and testing the service before returning the watcher from the function.\n    example of usage for memcached service:\n\n.. code-block:: python\n\n    @pytest.fixture(scope='session')\n    def memcached(request, run_services, memcached_socket, watcher_getter):\n        \"\"\"the memcached instance which is ready to be used by the tests.\"\"\"\n        if run_services:\n            return watcher_getter(\n                name='memcached',\n                arguments=['-s', memcached_socket],\n                checker=lambda: os.path.exists(memcached_socket),\n                # needed for the correct execution order of finalizers\n                request=request,\n            )\n\n* services_log\n    logger used for debug logging when managing test services.\n* root_dir\n    parent directory for test service artifacts (disk based). set to `/tmp` by default.\n* base_dir\n    base directory for test service artifacts (disk based), unique subdirectory of `root_dir`.\n    automatically removed recursively at the end of the test session.\n* temp_dir\n    `temporary` directory (disk based), subfolder of the `base_dir`.\n    used for strictly temporary artifacts (for example - folder where files are uploaded from the user input).\n* memory_root_dir\n    parent directory for test service artifacts (memory based). main idea of having memory base directory is to\n    store performance-critical files there. for example - mysql service will use it to store database file, it speeds up\n    mysql server a lot, especially database management operations.\n    set to `/var/shm` by default, with a fallback to 'root_dir`. note that if apparmor is running on your system, most\n    likely it will prevent your test service to use it (for example - mysql has it's apparmor profile). you you'll need\n    to disable such profile in apparmor configuration.\n    example of disabling apparmor for mysqld:\n\n.. code-block:: sh\n\n    sudo ln -s /etc/apparmor.d/usr.sbin.mysqld /etc/apparmor.d/disable/\n    sudo /etc/init.d/apparmor restart\n\n* memory_base_dir\n    base directory for test service artifacts (memory based), unique subdirectory of `memory_root_dir`.\n    automatically removed recursively at the end of the test session.\n* memory_temp_dir\n    `temporary` directory (memory based), subfolder of the `base_dir`.\n* lock_dir\n    lock files directory for storing locks created for resource assignment (ports, display, etc). subfolder of\n    `memory_root_dir`.\n* run_dir\n    process id and socket files directory (like system-wide `/var/run` but local for test session). subfolder of\n    `memory_root_dir`.\n* port_getter\n    function to get unallocated port.\n    automatically ensures locking and un-locking of it on application level via flock.\n* display_getter\n    function to get unallocated display.\n    automatically ensures locking and un-locking of it on application level via flock.\n* lock_resource_timeout\n    used in function lock_resource.\n    a maximum of total sleep between attempts to lock resource.\n\nservice fixtures\n****************\n\n* memcached\n    start memcached_ instance.\n    requires `pylibmc` installed or `memcache` indicated as an extra (`pip install 'pytest-services[memcached]'`).\n* memcached_socket\n    memcached unix socket file name to be used for connection.\n* memcached_connection\n    memcached connection string.\n* do_memcached_clean\n    determine if memcached should be cleared before every test run. equals to `run_services` fixture by default.\n    requires `pylibmc` installed or `memcache` indicated as an extra (`pip install 'pytest-services[memcached]'`).\n* memcached_client\n    a pylibmc.client instance bound to the service.\n    requires `pylibmc` installed or `memcache` indicated as an extra (`pip install 'pytest-services[memcached]'`).\n* mysql\n    start mysql-server_ instance.\n* mysql_database_name\n    mysql database name to be created after initialization of the mysql service `system` database.\n* mysql_database_getter\n    function with single parameter - database name. to create additional database(s) for tests.\n    used in `mysql_database` fixture which is used by `mysql` one.\n* mysql_connection\n    mysql connection string.\n* xvfb\n    start xvfb_ instance.\n* xvfb_display\n    xvfb display to use for connection.\n* xvfb_resolution\n    xvfb display resolution to use. tuple in form `(1366, 768, 8)`.\n\nutility functions\n*****************\n\ndjango settings\n^^^^^^^^^^^^^^^\n\nin some cases, there's a need of switching django settings during test run, because several django projects are tested\nwhithin the single test suite.\n`pytest_services.django_settings` simplifies switching of django settings to a single function call:\n\n* setup_django_settings\n    override the enviroment variable and call the _setup method of the settings object to reload them.\n\nexample of usage:\n\nconftest.py:\n\n.. code-block:: python\n\n    from pytest_services import django_settings\n\n    django_settings.clean_django_settings()\n    django_settings.setup_django_settings('your.project.settings')\n\nnote that the nice project pytest-django_ doesn't help with the situation, as it's single django project oriented, as\nwell as standard django testing technique. single project approach works fine, as long as there are no fixtures to share\nbetween them, but when there are fixtures to share, then you can get benefit of joining several django projects tests\ninto a single test run, because all session-scoped fixtures will be instantiated only once for all projects tests.\nthe benefit is only visible if you have big enough test suite and your fixtures are heavy enough.\n\n\ncommand-line options\n--------------------\n\n* `--run-services`\n    force services to be run even if tests are executed in a non-distributed way (without pytest-xdist_).\n* `--xvfb-display`\n    skip xvfb service to run and use provided display. useful when you need to run all services except the xvfb_\n    to debug your browser tests, if, for example you use pytest-splinter_ with or without pytest-bdd_.\n\nexample\n-------\n\ntest_your_test.py:\n\n.. code-block:: python\n\n    import mysqldb\n\n\n    def test_some_mysql_stuff(mysql):\n        \"\"\"test using mysql server.\"\"\"\n        conn = mysqldb.connect(user='root')\n\n\ncontact\n-------\n\nif you have questions, bug reports, suggestions, etc. please create an issue on\nthe `github project page <https://github.com/pytest-dev/pytest-services>`_.\n\n\nlicense\n-------\n\nthis software is licensed under the `mit license <http://en.wikipedia.org/wiki/mit_license>`_\n\nsee `license file <https://github.com/pytest-dev/pytest-services/blob/master/license.txt>`_\n\n\n\u00a9 2014 anatoly bubenkov, paylogic international and others.\n\nauthors\n=======\n\n`anatoly bubenkov <bubenkoff@gmail.com>`_\n    idea and implementation\n\nthese people have contributed to `pytest-services`, in alphabetical order:\n\n* `alessio bogon <youtux@github.com>`_\n* `dmitrijs milajevs <dimazest@gmail.com>`_\n* `jason r. coombs <jaraco@jaraco.com>`_\n* `joep van dijken <joepvandijken@github.com>`_\n* `magnus staberg <magnus@staberg.io>`_\n* `michael shriver <mshriver@redhat.com>`_\n* `oleg pidsadnyi <oleg.pidsadnyi@gmail.com>`_\n* `zac hatfield-dodds <zac@zhd.dev>`_\n\nchangelog\n=========\n\n2.2.1\n-----\n\n- #42: retry on ``zc.lockfile.lockerror`` in ``file_lock``, use existing timeout kwarg (mshriver)\n\n2.2.0\n-----\n\n- #38: retry to lock resource if zc.lockfile.lockerror is raised. fix needed for pytest-xdist. (stabbarn)\n\n2.1.0\n-----\n\n- #34: deprecated ``slave_id`` fixture in favor of ``worker_id``,\n  for compatibility with ``pytest-xdist`` 2.\n\n2.0.1\n-----\n\n- #20: added workaround for issue with sysloghandler.\n\n2.0.0\n-----\n\n- #23: rely on ``zc.lockfile`` for lockfile behavior.\n- #28: fixtures now supports later versions of mysql and no longer\n  support versions of mysql prior to ``mysql --initialize`` support.\n- #29: fix issues with later versions of mysql where ``mysql_defaults_file``\n  fixture would prevent startup of mysql.\n- fixed issue in test suite where mysql fixture was not tested.\n- removed ``pytest_services.locks.lock_file``.\n\n1.3.1\n-----\n\n- fix race condition causing when using port_getter/display_getter (youtux)\n\n\n1.3.0\n-----\n\n- add `request` param to watcher_getter to have proper execution order\n  of finalizers (youtux).\n\n1.2.1\n-----\n\n- swap kill and terminate in watcher_getter finalization, allowing\n  for a more polite sigterm for terminating child procs on unix. see\n  #15 for details (jaraco)\n\n1.2.0\n-----\n\n- make pylibmc an optional dependency, available as an extra (jaraco)\n\n1.1.15\n------\n\n- fixed hang with updated netcat-openbsd>=1.130.3 (joepvandijken)\n\n1.1.14\n------\n\n- use a different strategy to determine whether xvfb supports (youtux )\n\n1.1.12\n------\n\n- use realpath for mysql base dir (bubenkoff)\n\n1.1.11\n------\n\n- exclude locked displays for xvfb (bubenkoff)\n\n1.1.7\n-----\n\n- django settings fix (olegpidsadnyi)\n\n1.1.3\n-----\n\n- django 1.8 support (bubenkoff)\n\n1.1.2\n-----\n\n- old django support fix (olegpidsadnyi)\n\n1.1.0\n-----\n\n- django 1.7+ support (bubenkoff)\n\n1.0.10\n------\n\n- removed auto artifacts cleanup (bubenkoff)\n\n1.0.8\n-----\n\n- fixed popen arguments (bubenkoff)\n\n1.0.2\n-----\n\n- added port and display getters (bubenkoff)\n\n1.0.1\n-----\n\n- improved documentation (bubenkoff)\n\n1.0.0\n-----\n\n- initial public release\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit license",
  "name": "pytest-services",
  "package_url": "https://pypi.org/project/pytest-services/",
  "project_url": "https://pypi.org/project/pytest-services/",
  "project_urls": {
    "Homepage": "https://github.com/pytest-dev/pytest-services"
  },
  "release_url": "https://pypi.org/project/pytest-services/2.2.1/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "services plugin for pytest testing framework",
  "version": "2.2.1",
  "releases": [],
  "developers": [
    "anatoly_bubenkov",
    "bubenkoff@gmail.com"
  ],
  "kwds": "pytest_services pytest pytest_ _pytest run_services",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_pytest_services",
  "homepage": "https://github.com/pytest-dev/pytest-services",
  "release_count": 36,
  "dependency_ids": []
}