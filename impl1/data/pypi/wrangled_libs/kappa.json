{
  "classifiers": [
    "development status :: 3 - alpha",
    "intended audience :: developers",
    "intended audience :: system administrators",
    "license :: osi approved :: apache software license",
    "natural language :: english",
    "programming language :: python",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "programming language :: python :: 3.3",
    "programming language :: python :: 3.4",
    "programming language :: python :: 3.5"
  ],
  "description": "=====\nkappa\n=====\n\n.. image:: https://travis-ci.org/garnaat/kappa.svg?branch=develop\n    :target: https://travis-ci.org/garnaat/kappa\n\n.. image:: https://landscape.io/github/garnaat/kappa/develop/landscape.svg\n    :target: https://landscape.io/github/garnaat/kappa/develop\n\n**kappa** is a command line tool that (hopefully) makes it easier to\ndeploy, update, and test functions for aws lambda.\n\nthere are quite a few steps involved in developing a lambda function.\nyou have to:\n\n* write the function itself\n* create the iam role required by the lambda function itself (the executing role) to allow it access to any resources it needs to do its job\n* add additional permissions to the lambda function if it is going to be used in a push model (e.g. s3, sns) rather than a pull model.\n* zip the function and any dependencies and upload it to aws lambda\n* test the function with mock data\n* retrieve the output of the function from cloudwatch logs\n* add an event source to the function\n* view the output of the live function\n\nkappa tries to help you with some of this.  it creates all iam policies for you\nbased on the resources you have told it you need to access.  it creates the iam\nexecution role for you and associates the policy with it.  kappa will zip up\nthe function and any dependencies and upload them to aws lambda.  it also sends\ntest data to the uploaded function and finds the related cloudwatch log stream\nand displays the log events.  finally, it will add the event source to turn\nyour function on.\n\nif you need to make changes, kappa will allow you to easily update your lambda\nfunction with new code or update your event sources as needed.\n\ninstallation\n============\n\nthe quickest way to get kappa is to install the latest stable version via pip::\n\n    pip install kappa\n\nor for the development version::\n\n    pip install git+https://github.com/garnaat/kappa.git\n\n\nquick start\n===========\n\nto get a feel for how kappa works, let's take a look at a very simple example\ncontained in the ``samples/simple`` directory of the kappa distribution.  this\nexample is so simple, in fact, that it doesn't really do anything.  it's just a\nsmall lambda function (written in python) that accepts some json input, logs\nthat input to cloudwatch logs, and returns a json document back.\n\nthe structure of the directory is::\n\n    simple/\n    \u251c\u2500\u2500 _src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 readme.md\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 setup.cfg\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 simple.py\n    \u251c\u2500\u2500 _tests\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 test_one.json\n    \u2514\u2500\u2500 kappa.yml.sample\n\nwithin the directory we see:\n\n* ``kappa.yml.sample`` which is a sample yaml configuration file for the project\n* ``_src`` which is a directory containing the source code for the lambda function\n* ``_test`` which is a directory containing some test data\n\nthe first step is to make a copy of the sample configuration file:\n\n.. code-block:: bash\n\n    cd simple\n    cp kappa.yml.sample kappa.yml\n\nnow you will need to edit ``kappa.yml`` slightly for your use.  the file looks\nlike this:\n\n.. code-block:: yaml\n\n    ---\n    name: kappa-simple\n    environments:\n      dev:\n        profile: <your profile here>\n        region: <your region here>\n        environment_variables:\n          <key 1>: <value 1>\n          <key 2>: <value 2>\n        policy:\n          resources:\n            - arn: arn:aws:logs:*:*:*\n              actions:\n                - \"*\"\n      prod:\n        profile: <your profile here>\n        region: <your region here>\n        policy:\n          resources:\n            - arn: arn:aws:logs:*:*:*\n              actions:\n              - \"*\"\n    lambda:\n      description: a very simple kappa example\n      handler: simple.handler\n      runtime: python2.7\n      memory_size: 128\n      timeout: 3\n\nthe ``name`` at the top is just a name used for this lambda function and other\nthings we create that are related to this lambda function (e.g. roles,\npolicies, etc.).\n\nthe ``environments`` section is where we define the different environments into\nwhich we wish to deploy this lambda function.  each environment is identified\nby a ``profile`` (as used in the aws cli and other aws tools) and a\n``region``.  you can define as many environments as you wish but each\ninvocation of ``kappa`` will deal with a single environment.  an environment\ncan optionally contain ``environment variables`` as key-value pairs.  each\nenvironment section also includes a ``policy`` section.  this is where we tell\nkappa about aws resources that our lambda function needs access to and what\nkind of access it requires.  for example, your lambda function may need to\nread from an sns topic or write to a dynamodb table and this is where you would\nprovide the arn (`amazon resource name`_) that identifies those resources.\nsince this is a very simple example, the only resource listed here is for\ncloudwatch logs so that our lambda function is able to write to the cloudwatch\nlog group that will be created for it automatically by aws lambda.\n\n.. _`amazon resource name`: http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html\n\nthe ``lambda`` section contains the configuration information about our lambda\nfunction.  these values are passed to lambda when we create the function and\ncan be updated at any time after.\n\nto modify this for your own use, you just need to put in the right values for\n``profile`` and ``region`` in one of the environment sections.  you can also\nchange the names of the environments to be whatever you like but the name\n``dev`` is the default value used by kappa so it's kind of handy to avoid\ntyping.\n\nonce you have made the necessary modifications, you should be ready to deploy\nyour lambda function to the aws lambda service.  to do so, just do this:\n\n.. code-block:: bash\n\n    kappa deploy\n\nthis assumes you want to deploy the default environment called ``dev`` and that\nyou have named your config file ``kappa.yml``.  if, instead, you called your\nenvironment ``test`` and named your config file foo.yml, you would do this:\n\n.. code-block:: bash\n\n    kappa --env test --config foo.yml deploy\n\nin either case, you should see output that looks something like this:\n\n.. code-block:: bash\n\n    kappa deploy\n    # deploying\n    # ...deploying policy kappa-simple-dev\n    # ...creating function kappa-simple-dev\n    # done\n\nso, what kappa has done is it has created a new managed policy called\n``kappa-simple-dev`` that grants access to the cloudwatch logs service.  it has\nalso created an iam role called ``kappa-simple-dev`` that uses that policy.\nand finally it has zipped up our python code and created a function in aws\nlambda called kappa-simple-dev.\n\nto test this out, try this:\n\n.. code-block:: bash\n\n    kappa invoke _tests/test_one.json\n    # invoking\n    # start requestid: 0f2f9ecf-9df7-11e5-ae87-858fbfb8e85f version: $latest\n    # [debug]\t2015-12-08t22:00:15.363z\t0f2f9ecf-9df7-11e5-ae87-858fbfb8e85f\t{u'foo': u'bar', u'fie': u'baz'}\n    # end requestid: 0f2f9ecf-9df7-11e5-ae87-858fbfb8e85f\n    # report requestid: 0f2f9ecf-9df7-11e5-ae87-858fbfb8e85f\tduration: 0.40 ms\tbilled duration: 100 ms \tmemory size: 256 mb\tmax memory used: 23 mb\n    #\n    # response:\n    # {\"status\": \"success\"}\n    # done\n\nwe have just called our lambda function, passing in the contents of the file\n``_tests/test_one.json`` as input to our function.  we can see the output of\nthe cloudwatch logs for the call and we can see the logging call in the python\nfunction that prints out the ``event`` (the data) passed to the function.  and\nfinally, we can see the response from the function which, for now, is just a\nhard-coded data structure returned by the function.\n\nneed to make a change in your function, your list of resources, or your\nfunction configuration?  just go ahead and make the change and then re-run the\n``deploy`` command:\n\n.. code-block:: bash\n\n    kappa deploy\n\nkappa will figure out what has changed and make the necessary updates for you.\n\nthat gives you a quick overview of kappa.  to learn more about it, i recommend\nyou check out the tutorial.\n\npolicies\n========\n\nhands up who loves writing iam policies. yeah, that's what i thought. with\nkappa, there is a simplified way of writing policies and granting your lambda\nfunction the permissions it needs.\n\nthe simplified version allows you to specify, in your ``kappa.yml`` file, the\narn of the resource you want to access, and then a list of the api methods you\nwant to allow. for example:\n\n.. code-block:: yaml\n\n    policy:\n      resources:\n        - arn: arn:aws:logs:*:*:*\n          actions:\n            - \"*\"\n\nto express this using the official iam policy format, you can instead use a\nstatement:\n\n.. code-block:: yaml\n\n    policy:\n      statements:\n        - effect: allow\n          resource: \"*\"\n          action:\n            - \"logs:*\"\n\nboth of these do the same thing.\n",
  "docs_url": null,
  "keywords": "",
  "license": "apache license 2.0",
  "name": "kappa",
  "package_url": "https://pypi.org/project/kappa/",
  "project_url": "https://pypi.org/project/kappa/",
  "project_urls": {
    "Homepage": "https://github.com/garnaat/kappa"
  },
  "release_url": "https://pypi.org/project/kappa/0.7.0/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "a cli tool for aws lambda developers",
  "version": "0.7.0",
  "releases": [],
  "developers": [
    "mitch@garnaat.com",
    "mitch_garnaat"
  ],
  "kwds": "lambda kappa aws garnaat cloudwatch",
  "license_kwds": "apache license 2.0",
  "libtype": "pypi",
  "id": "pypi_kappa",
  "homepage": "https://github.com/garnaat/kappa",
  "release_count": 11,
  "dependency_ids": []
}