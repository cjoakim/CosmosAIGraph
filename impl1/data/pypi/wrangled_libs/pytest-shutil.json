{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "license :: osi approved :: mit license",
    "operating system :: posix",
    "programming language :: python :: 2",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "programming language :: python :: 3.4",
    "programming language :: python :: 3.5",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "topic :: software development :: libraries",
    "topic :: software development :: testing",
    "topic :: utilities"
  ],
  "description": "pytest-shutil\n=============\n\nthis library is a goodie-bag of unix shell and environment management\ntools for automated tests. a summary of the available functions is\nbelow, look at the source for the full listing.\n\ninstallation\n------------\n\ninstall using your favourite package manager::\n\n.. code:: bash\n\n        pip install pytest-shutil\n        #  or..\n        easy_install pytest-shutil\n\nworkspace fixture\n-----------------\n\nthe workspace fixture is simply a temporary directory at function-scope\nwith a few bells and whistles::\n\n.. code:: python\n\n        # enable the fixture explicitly in your tests or conftest.py (not required when using setuptools entry points)\n        pytest_plugins = ['pytest_shutil']\n\n        def test_something(workspace):\n            # workspaces contain a handle to the path.py path object (see https://pathpy.readthedocs.io/)\n            path = workspace.workspace         \n            script = path / 'hello.sh'\n            script.write_text('#!/bin/sh\\n echo hello world!')\n\n            # there is a 'run' method to execute things relative to the workspace root\n            workspace.run('hello.sh')\n\n``pytest_shutil.env``: shell helpers\n------------------------------------\n\n+--------------+------------------------------------------------------+\n| function     | description                                          |\n+==============+======================================================+\n| set\\_env     | contextmanager to set env vars                       |\n+--------------+------------------------------------------------------+\n| unset\\_env   | contextmanager to unset env vars                     |\n+--------------+------------------------------------------------------+\n| no\\_env      | contextmanager to unset a single env var             |\n+--------------+------------------------------------------------------+\n| no\\_cov      | contextmanager to disable coverage in subprocesses   |\n+--------------+------------------------------------------------------+\n\n``pytest_shutil.cmdline``: command-line helpers\n-----------------------------------------------\n\n+---------------------------------+----------------------------------------------------------------+\n| function                        | description                                                    |\n+=================================+================================================================+\n| umask                           | contextmanager to set the umask                                |\n+---------------------------------+----------------------------------------------------------------+\n| chdir                           | contextmanager to change to a directory                        |\n+---------------------------------+----------------------------------------------------------------+\n| tempdir                         | contextmanager for a temporary directory                       |\n+---------------------------------+----------------------------------------------------------------+\n| prettyformatter                 | simple text formatter for drawing title, paragrahs, hrs.       |\n+---------------------------------+----------------------------------------------------------------+\n| copy\\_files                     | copy all files from one directory to another                   |\n+---------------------------------+----------------------------------------------------------------+\n| getch                           | cross-platform read of a single character from the screen      |\n+---------------------------------+----------------------------------------------------------------+\n| which                           | analoge of unix ``which``                                      |\n+---------------------------------+----------------------------------------------------------------+\n| get\\_real\\_python\\_executable   | find our system python, useful when running under virtualenv   |\n+---------------------------------+----------------------------------------------------------------+\n\n``pytest_shutil.run``: running things in subprocesses\n-----------------------------------------------------\n\n+-------------------------+----------------------------------------------------------------------------+\n| function                | description                                                                |\n+=========================+============================================================================+\n| run                     | run a command, with options for capturing output, checking return codes.   |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_as\\_main           | run a function as if it was the system entry point                         |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_module\\_as\\_main   | run a module as if it was the system entry point                           |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_in\\_subprocess     | run a function in a subprocess                                             |\n+-------------------------+----------------------------------------------------------------------------+\n| run\\_with\\_coverage     | run a command with coverage enabled                                        |\n+-------------------------+----------------------------------------------------------------------------+\n\n\nchangelog\n---------\n\n1.7.0\n~~~~~\n\n-  all: support pytest >= 4.0.0\n-  all: support python 3.7\n-  pytest-server-fixtures: if host not defined on your machine, default\n   to localhost\n-  pytest-server-fixture: pin to rethinkdb < 2.4.0 due to upstream api\n   changes\n-  pytest-verbose-parametrize: add support for revamped marker\n   infrastructure\n-  pytest-verbose-parametrize: fix integration tests to support pytest\n   >= 4.1.0\n-  pytest-virtualenv: add virtualenv as install requirement. fixes #122\n-  pytest-webdriver: fix removedinpytest4warning using getfixturevalue\n-  circleci: fix checks by skipping coverall submission for developer\n   without push access\n-  wheels: generate universal wheels installable with both python 2.x\n   and 3.x\n-  dist: remove support for building and distributing \\*.egg files\n-  vagrantfile: install python 3.7 and initialize python 3.7 by default\n-  fix deprecationwarning warnings using \"logger.warning()\" function\n\n1.6.2 (2019-02-21)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: suppress stacktrace if kill() is called\n-  pytest-server-fixtures: fix random port logic in testserverv2\n\n1.6.1 (2019-02-12)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: fix exception when attempting to access\n   hostname while server is not started\n\n1.6.0 (2019-02-12)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: added previously removed testserverv2.kill()\n   function\n-  pytest-profiling: pin more-itertools==5.0.0 in integration tests, as\n   that's a py3 only release\n\n1.5.1 (2019-01-24)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-verbose-parametrize: fixed unicode parameters when using\n   ``@pytest.mark.parametrize``\n\n1.5.0 (2019-01-23)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: made postgres fixtures and its tests\n   optional, like all other fixtures\n-  pytest-server-fixtures: reverted a fix for pymongo deprecation\n   warning, as this will break compatibility with pymongo 3.6.0\n-  pytest-server-fixtures: dropped rhel5 support in httpd\n\n1.4.1 (2019-01-18)\n~~~~~~~~~~~~~~~~~~\n\n-  pytest-server-fixtures: server fixture binary path specified in env\n   now only affect server class 'thread'\n\n1.4.0 (2019-01-15)\n~~~~~~~~~~~~~~~~~~\n\n-  fixing python 3 compatibility in simple http server fixture\n-  fixed broken tests in pytest-profiling\n-  pinned pytest<4.0.0 until all deprecation warnings are fixed.\n-  pytest-webdriver: replaced deprecated phantomjs with headless google\n   chrome.\n-  add vagrantfile to project to make test environment portable.\n-  add .editorconfig file to project.\n-  pytest-server-fixtures: add testserverv2 with docker and kubernetes\n   support.\n-  pytest-server-fixtures: fix for an issue where minioserver is not\n   cleaned up after use.\n-  pytest-server-fixtures: fix deprecation warnings when calling\n   pymongo.\n-  pytest-server-fixtures: close pymongo client on mongotestserver\n   teardown.\n-  pytest-server-fixtures: upgrade mongo, redis and rethinkdb to\n   testserverv2.\n-  coveralls: fix broken coveralls\n\n1.3.1 (2018-06-28)\n~~~~~~~~~~~~~~~~~~\n\n-  use pymongo list\\_database\\_names() instead of the deprecated\n   database\\_names(), added pymongo>=3.6.0 dependency\n\n1.3.0 (2017-11-17)\n~~~~~~~~~~~~~~~~~~\n\n-  fixed workspace deletion when teardown is none\n-  fixed squash of root logger in pytest-listener\n-  added s3 minio fixture (many thanks to gavin bisesi)\n-  added postgres fixture (many thanks to gavin bisesi)\n-  use requests for server fixtures http gets as it handles redirects\n   and proxies properly\n\n1.2.12 (2017-8-1)\n~~~~~~~~~~~~~~~~~\n\n-  fixed regression on cacheing ephemeral hostname, some clients were\n   relying on this. this is now optional.\n\n1.2.11 (2017-7-21)\n~~~~~~~~~~~~~~~~~~\n\n-  fix for osx binding to illegal local ip range (thanks to gavin\n   bisesi)\n-  setup and py3k fixes for pytest-profiling (thanks to xoviat)\n-  we no longer try and bind port 5000 when reserving a local ip host,\n   as someone could have bound it to 0.0.0.0\n-  fix for #46 sourcing gprof2dot when the local venv has not been\n   activated\n\n1.2.10 (2017-2-23)\n~~~~~~~~~~~~~~~~~~\n\n-  handle custom pytest test items in pytest-webdriver\n\n1.2.9 (2017-2-23)\n~~~~~~~~~~~~~~~~~\n\n-  add username into mongo server fixture tempdir path to stop\n   collisions on shared multiuser filesystems\n\n1.2.8 (2017-2-21)\n~~~~~~~~~~~~~~~~~\n\n-  return function results in shutil.run.run\\_as\\_main\n\n1.2.7 (2017-2-20)\n~~~~~~~~~~~~~~~~~\n\n-  more handling for older versions of path.py\n-  allow virtualenv argument passing in pytest-virtualenv\n\n1.2.6 (2017-2-16 )\n~~~~~~~~~~~~~~~~~~\n\n-  updated devpi server server setup for devpi-server >= 2.0\n-  improvements for random port picking\n-  httpd server now binds to 0.0.0.0 by default to aid selenium-style\n   testing\n-  updated mongodb server args for mongodb >= 3.2\n-  corrections for mongodb fixture config and improve startup logic\n-  added module-scoped mongodb fixture\n-  handling for older versions of path.py\n-  fix for #40 where tests that chdir break pytest-profiling\n\n1.2.5 (2016-12-09)\n~~~~~~~~~~~~~~~~~~\n\n-  improvements for server runner host and port generation, now supports\n   random local ips\n-  bugfix for rethinkdb fixture config\n\n1.2.4 (2016-11-14)\n~~~~~~~~~~~~~~~~~~\n\n-  bugfix for pymongo extra dependency\n-  windows compatibility fix for pytest-virtualenv (thanks to\n   jean-christophe fillion-robin for pr)\n-  fix symlink handling for\n   pytest-shutil.cmdline.get\\_real\\_python\\_executable\n\n1.2.3 (2016-11-7)\n~~~~~~~~~~~~~~~~~\n\n-  improve resiliency of mongo fixture startup checks\n\n1.2.2 (2016-10-27)\n~~~~~~~~~~~~~~~~~~\n\n-  python 3 compatibility across most of the modules\n-  fixed deprecated path.py imports (thanks to bryan moscon)\n-  fixed deprecated multicall in pytest-profiling (thanks to paul van\n   der linden for pr)\n-  added devpi-server fixture to create an index per test function\n-  added missing licence file\n-  split up httpd server fixture config so child classes can override\n   loaded modules easier\n-  added 'preserve\\_sys\\_path' argument to testserver base class which\n   exports the current python sys.path to subprocesses.\n-  updated httpd, redis and jenkins runtime args and paths to current\n   ubuntu spec\n-  ignore errors when tearing down workspaces to avoid race conditions\n   in 'shutil.rmtree' implementation\n\n1.2.1 (2016-3-1)\n~~~~~~~~~~~~~~~~\n\n-  fixed pytest-verbose-parametrize for latest version of py.test\n\n1.2.0 (2016-2-19)\n~~~~~~~~~~~~~~~~~\n\n-  new plugin: git repository fixture\n\n1.1.1 (2016-2-16)\n~~~~~~~~~~~~~~~~~\n\n-  pytest-profiling improvement: escape illegal characters in .prof\n   files (thanks to aarni koskela for the pr)\n\n1.1.0 (2016-2-15)\n~~~~~~~~~~~~~~~~~\n\n-  new plugin: devpi server fixture\n-  pytest-profiling improvement: overly-long .prof files are saved as\n   the short hash of the test name (thanks to vladimir lagunov for pr)\n-  changed default behavior of workspace.run() to not use a subshell for\n   security reasons\n-  corrected virtualenv.run() method to handle arguments the same as the\n   parent method workspace.run()\n-  removed deprecated '--distribute' from virtualenv args\n\n1.0.1 (2015-12-23)\n~~~~~~~~~~~~~~~~~~\n\n-  packaging bugfix\n\n1.0.0 (2015-12-21)\n~~~~~~~~~~~~~~~~~~\n\n-  initial public release\n\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit license",
  "name": "pytest-shutil",
  "package_url": "https://pypi.org/project/pytest-shutil/",
  "project_url": "https://pypi.org/project/pytest-shutil/",
  "project_urls": {
    "Homepage": "https://github.com/manahl/pytest-plugins"
  },
  "release_url": "https://pypi.org/project/pytest-shutil/1.7.0/",
  "requires_dist": [
    "six",
    "execnet",
    "contextlib2",
    "pytest",
    "path.py",
    "mock",
    "termcolor",
    "pytest ; extra == 'tests'"
  ],
  "requires_python": "",
  "summary": "a goodie-bag of unix shell and environment tools for py.test",
  "version": "1.7.0",
  "releases": [],
  "developers": [
    "edward_easton",
    "eeaston@gmail.com"
  ],
  "kwds": "pytest_shutil pytest_plugins pytest pip _python",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_pytest_shutil",
  "homepage": "https://github.com/manahl/pytest-plugins",
  "release_count": 13,
  "dependency_ids": [
    "pypi_contextlib2",
    "pypi_execnet",
    "pypi_mock",
    "pypi_path.py",
    "pypi_pytest",
    "pypi_six",
    "pypi_termcolor"
  ]
}