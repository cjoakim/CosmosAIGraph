{
  "classifiers": [
    "license :: osi approved :: mit license",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3.6",
    "programming language :: python :: implementation :: cpython",
    "programming language :: python :: implementation :: pypy"
  ],
  "description": "\n<p align=\"center\">\n        <img width=\"60%\" src=\"https://raw.githubusercontent.com/alan-turing-institute/clevercsv/eea72549195e37bd4347d87fd82bc98be2f1383d/.logo.png\">\n        <br>\n        <a href=\"https://github.com/alan-turing-institute/clevercsv/actions\">\n                <img src=\"https://github.com/alan-turing-institute/clevercsv/workflows/build/badge.svg\" alt=\"github actions build status\">\n        </a>\n        <a href=\"https://pypi.org/project/clevercsv/\">\n                <img src=\"https://badge.fury.io/py/clevercsv.svg\" alt=\"pypi version\">\n        </a>\n        <a href=\"https://clevercsv.readthedocs.io/en/latest/?badge=latest\">\n                <img src=\"https://readthedocs.org/projects/clevercsv/badge/?version=latest\" alt=\"documentation status\">\n        </a>\n        <a href=\"https://pepy.tech/project/clevercsv\">\n                <img src=\"https://pepy.tech/badge/clevercsv\" alt=\"downloads\">\n        </a>\n        <a href=\"https://mybinder.org/v2/gh/alan-turing-institute/clevercsvdemo/master?filepath=csv_dialect_detection_with_clevercsv.ipynb\">\n                <img src=\"https://mybinder.org/badge_logo.svg\" alt=\"binder\">\n        </a>\n        <a href=\"https://rdcu.be/blvur\">\n                <img src=\"https://img.shields.io/badge/doi-10.1007%2fs10618--019--00646--y-blue\">\n        </a>\n</p>\n\n*clevercsv provides a drop-in replacement for the python* ``csv`` *package \nwith improved dialect detection for messy csv files. it also provides a handy \ncommand line tool that can standardize a messy file or generate python code to \nimport it.*\n\n**useful links:**\n\n- [clevercsv on github](https://github.com/alan-turing-institute/clevercsv)\n- [clevercsv on pypi](https://pypi.org/project/clevercsv/)\n- [documentation on readthedocs](https://clevercsv.readthedocs.io/en/latest/)\n- [demo of clevercsv on binder (interactive!)](https://mybinder.org/v2/gh/alan-turing-institute/clevercsvdemo/master?filepath=csv_dialect_detection_with_clevercsv.ipynb)\n- [research paper on csv dialect detection \n  (pdf)](https://gertjanvandenburg.com/papers/vandenburg_nazabal_sutton_-_wrangling_messy_csv_files_by_detecting_row_and_type_patterns_2019.pdf) \n- [reproducible research repo](https://github.com/alan-turing-institute/csv_wrangling/)\n- [blog post on messy csv files](https://towardsdatascience.com/handling-messy-csv-files-2ef829aa441d)\n- [discussion \n  forum](https://github.com/alan-turing-institute/clevercsv/discussions): a \n  place to ask questions and share ideas!\n\n---\n\n*contents:* <a href=\"#quick-start\"><b>quick start</b></a> | <a href=\"#introduction\"><b>introduction</b></a> | <a href=\"#installation\"><b>installation</b></a> | <a href=\"#usage\"><b>usage</b></a> | <a href=\"#python-library\">python library</a> | <a href=\"#command-line-tool\">command-line tool</a> | <a href=\"#version-control-integration\">version control integration</a> | <a href=\"#contributing\"><b>contributing</b></a> | <a href=\"#notes\"><b>notes</b></a>\n\n---\n\n## quick start\n\n[click here](#introduction) to go to the introduction with more details about \nclevercsv. if you're in a hurry, below is a quick overview of how to get \nstarted with the clevercsv python package and the command line interface. \n\nfor the python package:\n\n```python\n# import the package\n>>> import clevercsv\n\n# load the file as a list of rows\n# this uses the imdb.csv file in the examples directory\n>>> rows = clevercsv.read_table('./imdb.csv')\n\n# load the file as a pandas dataframe\n# note that df = pd.read_csv('./imdb.csv') would fail here\n>>> df = clevercsv.read_dataframe('./imdb.csv')\n\n# use clevercsv as drop-in replacement for the python csv module\n# this follows the sniffer example: https://docs.python.org/3/library/csv.html#csv.sniffer\n# note that csv.sniffer would fail here\n>>> with open('./imdb.csv', newline='') as csvfile:\n...     dialect = clevercsv.sniffer().sniff(csvfile.read())\n...     csvfile.seek(0)\n...     reader = clevercsv.reader(csvfile, dialect)\n...     rows = list(reader)\n```\n\nand for the command line interface:\n\n```python\n# install the full version of clevercsv (this includes the command line interface)\n$ pip install clevercsv[full]\n\n# detect the dialect\n$ clevercsv detect ./imdb.csv\ndetected: simpledialect(',', '', '\\\\')\n\n# generate code to import the file\n$ clevercsv code ./imdb.csv\n\nimport clevercsv\n\nwith open(\"./imdb.csv\", \"r\", newline=\"\", encoding=\"utf-8\") as fp:\n    reader = clevercsv.reader(fp, delimiter=\",\", quotechar=\"\", escapechar=\"\\\\\")\n    rows = list(reader)\n\n# explore the csv file as a pandas dataframe\n$ clevercsv explore -p imdb.csv\ndropping you into an interactive shell.\nclevercsv has loaded the data into the variable: df\n>>> df\n```\n\n## introduction\n\n- csv files are awesome! they are lightweight, easy to share, human-readable, \n  version-controllable, and supported by many systems and tools!\n- csv files are terrible! they can have many different formats, multiple \n  tables, headers or no headers, escape characters, and there's no support for \n  recording metadata!\n\nclevercsv is a python package that aims to solve some of the pain points of \ncsv files, while maintaining many of the good things. the package \nautomatically detects (with high accuracy) the format (*dialect*) of csv \nfiles, thus making it easier to simply point to a csv file and load it, \nwithout the need for human inspection. in the future, we hope to solve some of \nthe other issues of csv files too.\n\nclevercsv is [based on \nscience](https://gertjanvandenburg.com/papers/vandenburg_nazabal_sutton_-_wrangling_messy_csv_files_by_detecting_row_and_type_patterns_2019.pdf). \nwe investigated thousands of real-world csv files to find a robust way to \nautomatically detect the dialect of a file. this may seem like an easy \nproblem, but to a computer a csv file is simply a long string, and every \ndialect will give you *some* table. in clevercsv we use a technique based on \nthe patterns of row lengths of the parsed file and the data type of the \nresulting cells. with our method we achieve 97% accuracy for dialect \ndetection, with a 21% improvement on non-standard (*messy*) csv files compared \nto the python standard library.\n\nwe think this kind of work can be very valuable for working data scientists \nand programmers and we hope that you find clevercsv useful (if there's a \nproblem, please open an issue!) since the academic world counts citations, \nplease **cite clevercsv if you use the package**. here's a bibtex entry you \ncan use:\n\n```bib\n@article{van2019wrangling,\n        title = {wrangling messy {csv} files by detecting row and type patterns},\n        author = {{van den burg}, g. j. j. and naz{\\'a}bal, a. and sutton, c.},\n        journal = {data mining and knowledge discovery},\n        year = {2019},\n        volume = {33},\n        number = {6},\n        pages = {1799--1820},\n        issn = {1573-756x},\n        doi = {10.1007/s10618-019-00646-y},\n}\n```\n\nand of course, if you like the package please *spread the word!* you can do \nthis by tweeting about it \n([#clevercsv](https://twitter.com/hashtag/clevercsv)) or clicking the \u2b50\ufe0f [on \ngithub](https://github.com/alan-turing-institute/clevercsv)!\n\n## installation\n\nclevercsv is available on pypi. you can install either the full version, which \nincludes the command line interface and all optional dependencies, using\n\n```bash\n$ pip install clevercsv[full]\n```\n\nor you can install a lighter, core version of clevercsv with\n\n```bash\n$ pip install clevercsv\n```\n\n## usage\n\nclevercsv consists of a python library and a command line tool called \n``clevercsv``.\n\n### python library\n\nwe designed clevercsv to provide a drop-in replacement for the built-in csv \nmodule, with some useful functionality added to it. therefore, if you simply \nwant to replace the builtin csv module with clevercsv, you can import \nclevercsv as follows, and use it as you would use the builtin [csv \nmodule](https://docs.python.org/3/library/csv.html).\n\n```python\nimport clevercsv\n```\n\nclevercsv provides an improved version of the dialect sniffer in the csv \nmodule, but it also adds some useful wrapper functions. these functions \nautomatically detect the dialect and aim to make working with csv files \neasier. we currently have the following helper functions:\n\n* [detect_dialect](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.detect_dialect): \n  takes a path to a csv file and returns the detected dialect\n* [read_table](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.read_table): \n  automatically detects the dialect and encoding of the file, and returns the \n  data as a list of rows. a version that returns a generator is also \n  available: \n  [stream_table](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.stream_table)\n* [read_dataframe](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.read_dataframe): \n  detects the dialect and encoding of the file and then uses \n  [pandas](https://pandas.pydata.org/) to read the csv into a dataframe. note \n  that this function requires pandas to be installed.\n* [read_dicts](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.read_dicts): \n  detect the dialect and return the rows of the file as dictionaries, assuming \n  the first row contains the headers. a streaming version called \n  [stream_dicts](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.stream_dicts) \n  is also available.\n* [write_table](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.write_table): \n  write a table (a list of lists) to a file using the \n  [rfc-4180](https://tools.ietf.org/html/rfc4180) dialect.\n* [write_dicts](https://clevercsv.readthedocs.io/en/latest/source/clevercsv.html#clevercsv.wrappers.write_dicts): \n  write a list of dictionaries to a file using the \n  [rfc-4180](https://tools.ietf.org/html/rfc4180) dialect.\n\nof course, you can also use the traditional way of loading a csv file, as in \nthe python csv module:\n\n```python\nimport clevercsv\n\nwith open(\"data.csv\", \"r\", newline=\"\") as fp:\n  # you can use verbose=true to see what clevercsv does\n  dialect = clevercsv.sniffer().sniff(fp.read(), verbose=false)\n  fp.seek(0)\n  reader = clevercsv.reader(fp, dialect)\n  rows = list(reader)\n```\n\nsince clevercsv v0.8.0, dialect detection is a lot faster than in previous \nversions. however, for **large files**, you can speed up detection even more \nby supplying a sample of the document to the sniffer instead of the whole \nfile, for example:\n```python\ndialect = clevercsv.sniffer().sniff(fp.read(10000))\n```\nyou can also speed up encoding detection by installing \n[cchardet](https://github.com/pyyoshi/cchardet), it will automatically be used \nwhen it is available on the system.\n\nthat's the basics! if you want more details, you can look at the code of the \npackage, the test suite, or the [api \ndocumentation](https://clevercsv.readthedocs.io/en/latest/source/modules.html). \nif you run into any issues or have comments or suggestions, please open an \nissue [on github](https://github.com/alan-turing-institute/clevercsv).\n\n### command-line tool\n\n*to use the command line tool, make sure that you install the full version of \nclevercsv (see above).*\n\nthe ``clevercsv`` command line application has a number of handy features to \nmake working with csv files easier. for instance, it can be used to view a csv \nfile on the command line while automatically detecting the dialect. it can \nalso generate python code for importing data from a file with the correct \ndialect. the full help text is as follows:\n\n```text\nusage: clevercsv [-h] [-v] [-v] command ...\n\navailable commands:\n  help         display help information\n  detect       detect the dialect of a csv file\n  view         view the csv file on the command line using tabview\n  standardize  convert a csv file to one that conforms to rfc-4180\n  code         generate python code to import a csv file\n  explore      explore the csv file in an interactive python shell\n```\n\neach of the commands has further options (for instance, the ``code`` and \n``explore`` commands have support for importing the csv file as a pandas \ndataframe). use ``clevercsv help <command>`` or ``man clevercsv <command>`` \nfor more information. below are some examples for each command.\n\nnote that each command accepts the ``-n`` or ``--num-chars`` flag to set the \nnumber of characters used to detect the dialect. this can be especially \nhelpful to speed up dialect detection on large files.\n\n#### code\n\ncode generation is useful when you don't want to detect the dialect of the \nsame file over and over again. you simply run the following command and copy \nthe generated code to a python script!\n\n```text\n$ clevercsv code imdb.csv\n\n# code generated with clevercsv\n\nimport clevercsv\n\nwith open(\"imdb.csv\", \"r\", newline=\"\", encoding=\"utf-8\") as fp:\n    reader = clevercsv.reader(fp, delimiter=\",\", quotechar=\"\", escapechar=\"\\\\\")\n    rows = list(reader)\n```\n\nwe also have a version that reads a pandas dataframe:\n\n```text\n$ clevercsv code --pandas imdb.csv\n\n# code generated with clevercsv\n\nimport clevercsv\n\ndf = clevercsv.read_dataframe(\"imdb.csv\", delimiter=\",\", quotechar=\"\", escapechar=\"\\\\\")\n```\n\n#### detect\n\ndetection is useful when you only want to know the dialect.\n\n```text\n$ clevercsv detect imdb.csv\ndetected: simpledialect(',', '', '\\\\')\n```\n\nthe ``--plain`` flag gives the components of the dialect on separate lines, \nwhich makes combining it with ``grep`` easier.\n\n```text\n$ clevercsv detect --plain imdb.csv\ndelimiter = ,\nquotechar =\nescapechar = \\\n```\n\n#### explore\n\nthe ``explore`` command is great for a command-line based workflow, or when \nyou quickly want to start working with a csv file in python. this command \ndetects the dialect of a csv file and starts an interactive python shell with \nthe file already loaded! you can either have the file loaded as a list of \nlists:\n\n```text\n$ clevercsv explore milk.csv\ndropping you into an interactive shell.\n\nclevercsv has loaded the data into the variable: rows\n>>>\n>>> len(rows)\n381\n```\n\nor you can load the file as a pandas dataframe:\n\n```text\n$ clevercsv explore -p imdb.csv\ndropping you into an interactive shell.\n\nclevercsv has loaded the data into the variable: df\n>>>\n>>> df.head()\n                   fn        tid  ... war western\n0  titles01/tt0012349  tt0012349  ...   0       0\n1  titles01/tt0015864  tt0015864  ...   0       0\n2  titles01/tt0017136  tt0017136  ...   0       0\n3  titles01/tt0017925  tt0017925  ...   0       0\n4  titles01/tt0021749  tt0021749  ...   0       0\n\n[5 rows x 44 columns]\n```\n\n#### standardize\n\nuse the ``standardize`` command when you want to rewrite a file using the \n[rfc-4180 standard](https://tools.ietf.org/html/rfc4180):\n\n```text\n$ clevercsv standardize --output imdb_standard.csv imdb.csv\n```\n\nin this particular example the use of the escape character is replaced by \nusing quotes.\n\n#### view\n\nthis command allows you to view the file in the terminal. the dialect is of \ncourse detected using clevercsv! both this command and the ``standardize`` \ncommand support the ``--transpose`` flag, if you want to transpose the file \nbefore viewing or saving:\n\n```text\n$ clevercsv view --transpose imdb.csv\n```\n\n### version control integration\n\nif you'd like to make sure that you never commit a messy (non-standard) csv \nfile to your repository, you can install a \n[pre-commit](https://pre-commit.com/) hook. first, install pre-commit using \nthe [installation instructions](https://pre-commit.com/#install). next, add \nthe following configuration to the ``.pre-commit-config.yaml`` file in your \nrepository:\n\n```yaml\nrepos:\n  - repo: https://github.com/alan-turing-institute/clevercsv-pre-commit\n    rev: v0.6.6   # or any later version\n    hooks:\n      - id: clevercsv-standardize\n```\n\nfinally, run ``pre-commit install`` to set up the git hook. pre-commit will \nnow use clevercsv to standardize your csv files following \n[rfc-4180](https://tools.ietf.org/html/rfc4180) whenever you commit a csv file \nto your repository.\n\n## contributing\n\nif you want to encourage development of clevercsv, the best thing to do now is \nto *spread the word!*\n\nif you encounter an issue in clevercsv, please [open an \nissue](https://help.github.com/en/github/managing-your-work-on-github/creating-an-issue) \nor [submit a pull \nrequest](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request). \ndon't hesitate, you're helping to make this project better for everyone! if \ngithub's not your thing but you still want to contact us, you can send an \nemail to ``gertjanvandenburg at gmail dot com`` instead. you can also ask \nquestions [on gitter](https://gitter.im/alan-turing-institute/clevercsv).\n\nnote that all contributions to the project must adhere to the [code of \nconduct](https://github.com/alan-turing-institute/clevercsv/blob/master/code_of_conduct.md).\n\nthe clevercsv package was originally written by [gertjan van den \nburg](https://gertjan.dev) and came out of [scientific \nresearch](https://gertjanvandenburg.com/papers/vandenburg_nazabal_sutton_-_wrangling_messy_csv_files_by_detecting_row_and_type_patterns_2019.pdf) \non wrangling messy csv files by [gertjan van den burg](https://gertjan.dev), \n[alfredo nazabal](https://scholar.google.com/citations?user=ianhvt4aaaaj), and\n[charles sutton](https://homepages.inf.ed.ac.uk/csutton/).\n\n## notes\n\nclevercsv is licensed under the [mit license](./license). please [cite our \nresearch](https://link.springer.com/article/10.1007/s10618-019-00646-y) if you \nuse clevercsv in your work.\n\ncopyright (c) 2018-2021 [the alan turing institute](https://turing.ac.uk).\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit",
  "name": "clevercsv",
  "package_url": "https://pypi.org/project/clevercsv/",
  "project_url": "https://pypi.org/project/clevercsv/",
  "project_urls": {
    "Homepage": "https://github.com/alan-turing-institute/CleverCSV"
  },
  "release_url": "https://pypi.org/project/clevercsv/0.8.2/",
  "requires_dist": [
    "chardet >=3.0",
    "regex >=2018.11",
    "packaging >=23.0",
    "sphinx ; extra == 'dev'",
    "m2r2 ; extra == 'dev'",
    "furo ; extra == 'dev'",
    "wilderness >=0.1.5 ; extra == 'dev'",
    "faust-cchardet >=2.1.18 ; extra == 'dev'",
    "pandas >=1.0.0 ; extra == 'dev'",
    "tabview >=1.4 ; extra == 'dev'",
    "green ; extra == 'dev'",
    "pytest >=2.6 ; extra == 'dev'",
    "termcolor ; extra == 'dev'",
    "sphinx ; extra == 'docs'",
    "m2r2 ; extra == 'docs'",
    "furo ; extra == 'docs'",
    "wilderness >=0.1.5 ; extra == 'full'",
    "faust-cchardet >=2.1.18 ; extra == 'full'",
    "pandas >=1.0.0 ; extra == 'full'",
    "tabview >=1.4 ; extra == 'full'",
    "wilderness >=0.1.5 ; extra == 'precommit'",
    "wilderness >=0.1.5 ; extra == 'tests'",
    "faust-cchardet >=2.1.18 ; extra == 'tests'",
    "pandas >=1.0.0 ; extra == 'tests'",
    "tabview >=1.4 ; extra == 'tests'"
  ],
  "requires_python": ">=3.8.0",
  "summary": "a python package for handling messy csv files",
  "version": "0.8.2",
  "releases": [],
  "developers": [
    "gertjan_van_den_burg",
    "gertjanvandenburg@gmail.com"
  ],
  "kwds": "clevercsv badge_logo clevercsvdemo link turing",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_clevercsv",
  "homepage": "https://github.com/alan-turing-institute/clevercsv",
  "release_count": 48,
  "dependency_ids": [
    "pypi_chardet",
    "pypi_faust_cchardet",
    "pypi_furo",
    "pypi_green",
    "pypi_m2r2",
    "pypi_packaging",
    "pypi_pandas",
    "pypi_pytest",
    "pypi_regex",
    "pypi_sphinx",
    "pypi_tabview",
    "pypi_termcolor",
    "pypi_wilderness"
  ]
}