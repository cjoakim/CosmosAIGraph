{
  "classifiers": [
    "license :: osi approved :: mit license",
    "operating system :: os independent",
    "programming language :: python :: 3"
  ],
  "description": "# retinaface\n\n<div align=\"center\">\n\n[![pypi downloads](https://static.pepy.tech/personalized-badge/retina-face?period=total&units=international_system&left_color=grey&right_color=blue&left_text=pypi%20downloads)](https://pepy.tech/project/retina-face)\n[![conda downloads](https://img.shields.io/conda/dn/conda-forge/retina-face?color=green&label=conda%20downloads)](https://anaconda.org/conda-forge/retina-face)\n[![stars](https://img.shields.io/github/stars/serengil/retinaface?color=yellow)](https://github.com/serengil/retinaface)\n[![license](http://img.shields.io/:license-mit-green.svg?style=flat)](https://github.com/serengil/retinaface/blob/master/license)\n[![support me on patreon](https://img.shields.io/endpoint.svg?url=https%3a%2f%2fshieldsio-patreon.vercel.app%2fapi%3fusername%3dserengil%26type%3dpatrons&style=flat)](https://www.patreon.com/serengil?repo=retinaface)\n[![twitter](https://img.shields.io/twitter/follow/serengil?color=blue&logo=twitter&style=flat)](https://twitter.com/serengil)\n\n\n[![doi](http://img.shields.io/:doi-10.1109/iceet53442.2021.9659697-blue.svg?style=flat)](https://doi.org/10.1109/iceet53442.2021.9659697)\n\n</div>\n\nretinaface is a deep learning based cutting-edge facial detector for python coming with facial landmarks. its detection performance is amazing even in the crowd as shown in the following illustration.\n\nretinaface is the face detection module of [insightface](https://github.com/deepinsight/insightface) project. the original implementation is mainly based on mxnet. then, its tensorflow based [re-implementation](https://github.com/stanislasbertrand/retinaface-tf2) is published by [stanislas bertrand](https://github.com/stanislasbertrand). so, this repo is heavily inspired from the study of stanislas bertrand. its source code is simplified and it is transformed to pip compatible but the main structure of the reference model and its pre-trained weights are same.\n\n<p align=\"center\"><img src=\"https://raw.githubusercontent.com/serengil/retinaface/master/tests/outputs/img3.jpg\" width=\"90%\" height=\"90%\">\n<br><em>fenerbahce women volleyball team</em>\n</p>\n\n## installation [![pypi](https://img.shields.io/pypi/v/retina-face.svg)](https://pypi.org/project/retina-face/) [![conda](https://img.shields.io/conda/vn/conda-forge/retina-face.svg)](https://anaconda.org/conda-forge/retina-face)\n\nthe easiest way to install retinaface is to download it from [pypi](https://pypi.org/project/retina-face/). it's going to install the library itself and its prerequisites as well.\n\n```shell\n$ pip install retina-face\n```\n\nretinaface is also available at [`conda`](https://anaconda.org/conda-forge/retina-face). you can alternatively install the package via conda.\n\n```shell\n$ conda install -c conda-forge retina-face\n```\n\nthen, you will be able to import the library and use its functionalities.\n\n```python\nfrom retinaface import retinaface\n```\n\n**face detection** - [`demo`](https://youtu.be/wm1ducuqk70)\n\nretinaface offers a face detection function. it expects an exact path of an image as input.\n\n```python\nresp = retinaface.detect_faces(\"img1.jpg\")\n```\n\nthen, it will return the facial area coordinates and some landmarks (eyes, nose and mouth) with a confidence score.\n\n```json\n{\n    \"face_1\": {\n        \"score\": 0.9993440508842468,\n        \"facial_area\": [155, 81, 434, 443],\n        \"landmarks\": {\n          \"right_eye\": [257.82974, 209.64787],\n          \"left_eye\": [374.93427, 251.78687],\n          \"nose\": [303.4773, 299.91144],\n          \"mouth_right\": [228.37329, 338.73193],\n          \"mouth_left\": [320.21982, 374.58798]\n        }\n  }\n}\n```\n\n**alignment** - [`tutorial`](https://sefiks.com/2020/02/23/face-alignment-for-face-recognition-in-python-within-opencv/), [`demo`](https://youtu.be/wa9i68g4mei)\n\na modern face recognition [pipeline](https://sefiks.com/2020/05/01/a-gentle-introduction-to-face-recognition-in-deep-learning/) consists of 4 common stages: detect, [align](https://sefiks.com/2020/02/23/face-alignment-for-face-recognition-in-python-within-opencv/), [normalize](https://sefiks.com/2020/11/20/facial-landmarks-for-face-recognition-with-dlib/), [represent](https://sefiks.com/2020/12/14/deep-face-recognition-with-arcface-in-keras-and-python/) and [verify](https://sefiks.com/2020/05/22/fine-tuning-the-threshold-in-face-recognition/). experiments show that alignment increases the face recognition accuracy almost 1%. here, retinaface can find the facial landmarks including eye coordinates. in this way, it can apply alignment to detected faces with its extracting faces function.\n\n```python\nimport matplotlib.pyplot as plt\nfaces = retinaface.extract_faces(img_path = \"img.jpg\", align = true)\nfor face in faces:\n  plt.imshow(face)\n  plt.show()\n```\n\n<p align=\"center\"><img src=\"https://raw.githubusercontent.com/serengil/retinaface/master/tests/outputs/alignment-procedure.png\" width=\"80%\" height=\"80%\"></p>\n\n**face recognition** - [`demo`](https://youtu.be/wnuvyqp4h44)\n\nnotice that face recognition module of insightface project is [arcface](https://sefiks.com/2020/12/14/deep-face-recognition-with-arcface-in-keras-and-python/), and face detection module is retinaface. arcface and retinaface pair is wrapped in [deepface](https://github.com/serengil/deepface) library for python. consider to use deepface if you need an end-to-end face recognition pipeline.\n\n```python\n#!pip install deepface\nfrom deepface import deepface\nobj = deepface.verify(\"img1.jpg\", \"img2.jpg\"\n          , model_name = 'arcface', detector_backend = 'retinaface')\nprint(obj[\"verified\"])\n```\n\n<p align=\"center\"><img src=\"https://raw.githubusercontent.com/serengil/retinaface/master/tests/outputs/retinaface-arcface.png\" width=\"100%\" height=\"100%\"></p>\n\nnotice that arcface got 99.40% accuracy on [lfw data set](https://sefiks.com/2020/08/27/labeled-faces-in-the-wild-for-face-recognition/) whereas human beings just have 97.53% confidence.\n\n## support\n\nthere are many ways to support a project. starring\u2b50\ufe0f the repo is just one \ud83d\ude4f\n\nyou can also support this work on [patreon](https://www.patreon.com/serengil?repo=retinaface)\n\n<a href=\"https://www.patreon.com/serengil?repo=retinaface\">\n<img src=\"https://raw.githubusercontent.com/serengil/retinaface/master/icons/patreon.png\" width=\"30%\" height=\"30%\">\n</a>\n\n## acknowledgements\n\nthis work is mainly based on the [insightface](https://github.com/deepinsight/insightface) project and [retinaface](https://arxiv.org/pdf/1905.00641.pdf) paper; and it is heavily inspired from the re-implementation of [retinaface-tf2](https://github.com/stanislasbertrand/retinaface-tf2) by [stanislas bertrand](https://github.com/stanislasbertrand). finally, bertrand's [implemenation](https://github.com/stanislasbertrand/retinaface-tf2/blob/master/rcnn/cython/cpu_nms.pyx) uses [fast r-cnn](https://arxiv.org/abs/1504.08083) written by [ross girshick](https://github.com/rbgirshick/fast-rcnn) in the background. all of those reference studies are licensed under mit license.\n\n## citation\n\nif you are using retinaface in your research, please consider to cite its [original research paper](https://arxiv.org/abs/1905.00641). besides, if you are using this re-implementation of retinaface, please consider to cite the following research papers as well. here are examples of bibtex entries:\n\n```bibtex\n@inproceedings{serengil2020lightface,\n  title        = {lightface: a hybrid deep face recognition framework},\n  author       = {serengil, sefik ilkin and ozpinar, alper},\n  booktitle    = {2020 innovations in intelligent systems and applications conference (asyu)},\n  pages        = {23-27},\n  year         = {2020},\n  doi          = {10.1109/asyu50717.2020.9259802},\n  url          = {https://doi.org/10.1109/asyu50717.2020.9259802},\n  organization = {ieee}\n}\n```\n\n```bibtex\n@inproceedings{serengil2021lightface,\n  title        = {hyperextended lightface: a facial attribute analysis framework},\n  author       = {serengil, sefik ilkin and ozpinar, alper},\n  booktitle    = {2021 international conference on engineering and emerging technologies (iceet)},\n  pages        = {1-4},\n  year         = {2021},\n  doi          = {10.1109/iceet53442.2021.9659697},\n  url          = {https://doi.org/10.1109/iceet53442.2021.9659697},\n  organization = {ieee}\n}\n```\n\nfinally, if you use this retinaface re-implementation in your github projects, please add retina-face dependency in the requirements.txt.\n\n## licence\n\nthis project is licensed under the mit license - see [`license`](https://github.com/serengil/retinaface/blob/master/license) for more details.\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "retina-face",
  "package_url": "https://pypi.org/project/retina-face/",
  "project_url": "https://pypi.org/project/retina-face/",
  "project_urls": {
    "Homepage": "https://github.com/serengil/retinaface"
  },
  "release_url": "https://pypi.org/project/retina-face/0.0.13/",
  "requires_dist": [
    "numpy (>=1.14.0)",
    "gdown (>=3.10.1)",
    "Pillow (>=5.2.0)",
    "opencv-python (>=3.4.4)",
    "tensorflow (>=1.9.0)"
  ],
  "requires_python": ">=3.5.5",
  "summary": "retinaface: deep face detection framework in tensorflow for python",
  "version": "0.0.13",
  "releases": [],
  "developers": [
    "sefik_ilkin_serengil",
    "serengil@gmail.com"
  ],
  "kwds": "retinaface retina lightface icons shields",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_retina_face",
  "homepage": "https://github.com/serengil/retinaface",
  "release_count": 13,
  "dependency_ids": [
    "pypi_gdown",
    "pypi_numpy",
    "pypi_opencv_python",
    "pypi_pillow",
    "pypi_tensorflow"
  ]
}