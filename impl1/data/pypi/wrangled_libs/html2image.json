{
  "classifiers": [
    "development status :: 5 - production/stable",
    "license :: osi approved :: mit license",
    "operating system :: macos",
    "operating system :: microsoft",
    "operating system :: unix",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: multimedia :: graphics :: graphics conversion",
    "topic :: software development :: user interfaces",
    "topic :: utilities"
  ],
  "description": "\n\n\n<h1 align=\"center\">\n  <a href=\"https://github.com/vgalin/html2image\">\n    <img src=\"https://raw.githubusercontent.com/vgalin/html2image/master/readme_assets/html2image_black.png\" alt=\"html2image logo\" title=\"html2image\" height=\"200\"/>\n  </a>\n</h1>\n\n\n<div align=\"center\">\n\n![pypi](https://img.shields.io/pypi/v/html2image.svg)\n![pypi](https://img.shields.io/pypi/pyversions/html2image.svg)\n![pypi](https://img.shields.io/github/license/vgalin/html2image.svg)\n![github](https://img.shields.io/github/v/release/vgalin/html2image?include_prereleases)\n![github](https://img.shields.io/github/languages/code-size/vgalin/html2image)\n\n\n|[pypi package](https://pypi.org/project/html2image/)|[github repository](https://github.com/vgalin/html2image)|\n|-|-|\n\n**a lightweight python package acting as wrapper around the headless mode of existing web browsers, allowing image generation from html/css strings, files and urls.**\n\n</div>\n&nbsp;\n\nthis package has been tested on windows, ubuntu (desktop and server) and macos. if you encounter any problems or difficulties while using it, feel free to open an issue on the github page of this project. feedback is also welcome!\n\n\n## principle\n\n\nmost web browsers have a headless mode, which is a way to run them without displaying any graphical interface. headless mode is mainly used for automated testing but also comes in handy if you want to take screenshots of web pages that are exact replicas of what you would see on your screen if you were using the browser yourself.\n\nhowever, for the sake of taking screenshots, headless mode is not very convenient to use. html2image aims to hide the inconveniences of the browsers' headless modes while adding useful features, such as allowing the creation of images from simple strings.\n\nfor more information about headless modes :\n-   (chrome) [https://developers.google.com/web/updates/2017/04/headless-chrome](https://developers.google.com/web/updates/2017/04/headless-chrome)\n-   (firefox) [https://developer.mozilla.org/en-us/docs/mozilla/firefox/headless_mode](https://web.archive.org/web/20210604151145/https://developer.mozilla.org/en-us/docs/mozilla/firefox/headless_mode)\n\n## installation\nhtml2image is published on pypi and can be installed through pip:\n\n```console\npip install --upgrade html2image\n```\n\nin addition to this package, at least one of the following browsers **must** be installed on your machine :\n-   google chrome (windows, macos)\n-   chromium browser (linux)\n-   microsoft edge\n\n## usage\n\n### first, import the package and instantiate it\n```python\nfrom html2image import html2image\nhti = html2image()\n```\n\nmultiple arguments can be passed to the constructor:\n\n-   `browser` :  browser that will be used, can be set to `'chrome'` (default) or `'edge'`.\n-   `browser_executable` : the path or the command that can be used to find the executable of a specific browser.\n-   `output_path` : path to the folder to which taken screenshots will be outputted. default is the current working directory of your python program.\n-   `size` : 2-tuple representing the size of the screenshots that will be taken. default value is `(1920, 1080)`.\n-   `temp_path` : path that will be used to put together different resources when screenshotting strings of files. default value is `%temp%/html2image` on windows, and `/tmp/html2image` on linux and macos.\n-   `keep_temp_files` : pass true to this argument to not automatically remove temporary files created in `temp_path`. default is false.\n\nexample:\n```python\nhti = html2image(size=(500, 200))\n```\n\nyou can also change these values later: \n``` python\nhti.size = (500, 200)\n```\n\n### then take a screenshot\n\nthe `screenshot` method is the basis of this package. most of the time, you won't need to use anything else. it can take screenshots of various things:\n- urls via the `url` parameter;\n- html and css **files** via the `html_file` and `css_file` parameters;\n- html and css **strings** via the `html_str` and `css_str` parameters;\n- and \"other\" types of files via the `other_file` parameter (try it with .svg files!).\n\nand you can also (optional):\n- change the size of the screenshots using the `size` parameter;\n- save the screenshots as a specific name using the `save_as` parameter.\n\n*n.b.: the `screenshot` method returns a **list** containing the path(s) of the screenshot(s) it took.*\n\n### a few examples\n\n- **url to image**\n```python\nhti.screenshot(url='https://www.python.org', save_as='python_org.png')\n```\n\n- **html & css strings to image**\n```python\nhtml = \"\"\"<h1> an interesting title </h1> this page will be red\"\"\"\ncss = \"body {background: red;}\"\n\nhti.screenshot(html_str=html, css_str=css, save_as='red_page.png')\n```\n\n- **html & css files to image**\n```python\nhti.screenshot(\n    html_file='blue_page.html', css_file='blue_background.css',\n    save_as='blue_page.png'\n)\n```\n\n- **other files to image**\n```python\nhti.screenshot(other_file='star.svg')\n```\n\n- **change the screenshots' size**\n```python\nhti.screenshot(other_file='star.svg', size=(500, 500))\n```\n\n---\n\n<details>\n<summary> click to show all the images generated with all the code above </summary>\n<img src=\"readme_assets/sample_url_to_img.png\" alt=\"sample_url_to_img.png\"/>\n<img src=\"readme_assets/sample_strings_to_img.png\" alt=\"sample_strings_to_img\"/>\n<img src=\"readme_assets/sample_files_to_img.png\" alt=\"sample_files_to_img\"/>\n<img src=\"readme_assets/sample_other.png\" alt=\"sample_other_to_img\"/>\n<img src=\"readme_assets/sample_other_50_50.png\" alt=\"sample_other_50_50\"/>\n\n</details>\n\n\n---\n\n- **change the directory to which the screenshots are saved**\n```python\nhti = html2image(output_path='my_screenshot_folder')\n```\n**or**\n```python\nhti.output_path = 'my_screenshot_folder'\n```\n\n*n.b. : the output path will be changed for all future screenshots.*\n\n---\n\n#### use lists in place of any parameters while using the `screenshot` method\n- screenshot multiple objects using only one filename, or one filename per file:\n```python\n# create three files from one filename\nhti.screenshot(html_str=['a', 'b', 'c'], save_as='abc.png')\n# outputs abc_0.png, abc_1.png, abc_2.png\n\n# create three files from from different filenames\nhti.screenshot(html_str=['a', 'b', 'c'], save_as=['a.png', 'b.png', 'c.png'])\n# outputs a.png, b.png, c.png\n```\n- take multiple screenshots with the same size\n```python\n# take four screenshots with a resolution of 100*50\nhti.screenshot(\n    html_str=['a', 'b', 'c', 'd'],\n    size=(100, 50)\n)\n```\n- take multiple screenshots with different sizes\n```python\n# take four screenshots with different resolutions from three given sizes\nhti.screenshot(\n    html_str=['a', 'b', 'c', 'd'],\n    size=[(100, 50), (100, 100), (50, 50)]\n)\n# respectively 100*50, 100*100, 50*50, 50*50\n# if not enough sizes are given, the last size in the list will be repeated\n\n```\n\n- apply css string(s) to multiple html string(s)\n```python\n# screenshot two html strings and apply css strings on both\nhti.screenshot(\n    html_str=['a', 'b'],\n    css_str='body {background: red;}'\n)\n\n# screenshot two html strings and apply multiple css strings on both\nhti.screenshot(\n    html_str=['a', 'b'],\n    css_str=['body {background: red;}', 'body {font-size: 50px;}']\n)\n\n# screenshot one html string and apply multiple css strings on it\nhti.screenshot(\n    html_str='a',\n    css_str=['body {background: red;}', 'body {font-size: 50px;}']\n)\n```\n\n---\n\n- **retrieve the path of the generated file(s)**  \nthe `screenshot` method returns a list containing the path(s) of the screenshot(s):\n\n```python\npaths = hti.screenshot(\n    html_str=['a', 'b', 'c'],\n    save_as=\"letters.png\",\n)\n\nprint(paths)\n# >>> ['d:\\\\myfiles\\\\letters_0.png', 'd:\\\\myfiles\\\\letters_1.png', 'd:\\\\myfiles\\\\letters_2.png']\n```\n\n---\n\n#### change browser flags\nin some cases, you may need to change the *flags* that are used to run the headless mode of a browser.\n\nflags can be used to:\n- change the default background color of the pages;\n- hide the scrollbar;\n- add delay before taking a screenshot;\n- allow you to use html2image when you're root, as you will have to specify the `--no-sandbox` flag;\n\nyou can find the full list of chrome / chromium flags [here](https://peter.sh/experiments/chromium-command-line-switches/).\n\nthere are two ways to specify custom flags:\n```python\n# at the object instanciation\nhti = html2image(custom_flags=['--my_flag', '--my_other_flag=value'])\n\n# afterwards\nhti.browser.flags = ['--my_flag', '--my_other_flag=value']\n```\n\n- **flags example use-case: adding a delay before taking a screenshot**\n\nwith chrome / chromium, screenshots are fired directly after there is no more \"pending network fetches\", but you may sometimes want to add a delay before taking a screenshot, to wait for animations to end for example. \nthere is a flag for this purpose, `--virtual-time-budget=value_in_milliseconds`. you can use it like so:\n\n```python\nhti = html2image(\n    custom_flags=['--virtual-time-budget=10000', '--hide-scrollbars']\n)\n\nhti.screenshot(url='http://example.org')\n```\n\n- **default flags**\n\nfor ease of use, some flags are set by default. however default flags are not used if you decide to specify `custom_flags` or change the value of `browser.flags`:\n\n```python\n# taking a look at the default flags\n>>> hti = html2image()\n>>> hti.browser.flags\n['--default-background-color=000000', '--hide-scrollbars']\n\n# changing the value of browser.flags gets rid of the default flags.\n>>> hti.browser.flags = ['--1', '--2']\n>>> hti.browser.flags\n['--1', '--2'] \n\n# using the custom_flags parameter gets rid of the default flags.\n>>> hti = html2image(custom_flags=['--a', '--b'])\n>>> hti.browser.flags\n['--a', '--b']\n```\n\n## using the cli\nhtml2image comes with a command line interface which you can use to generate screenshots from files and urls on the go.\n\nthe cli is a work in progress and may undergo changes.\nyou can call it by typing `hti` or `html2image` into a terminal.\n\n\n| argument | description | example |\n| - | - | - |\n| -h, --help | shows the help message | `hti -h` |\n| -u, --urls | screenshots a list of urls | `hti -u https://www.python.org` |\n| -h, --html | screenshots a list of html files | `hti -h file.html` |\n| -c, --css | attaches a css files to the html ones | `hti -h file.html -c style.css` |\n| -o, --other | screenshots a list of files of type \"other\" | `hti -o star.svg` |\n| -s, --save-as | a list of the screenshot filename(s)  | `hti -o star.svg -s star.png` |\n| -s, --size | a list of the screenshot size(s) | `hti -o star.svg -s 50,50`|\n| -o, --output_path| change the output path of the screenshots (default is current working directory) | `hti star.svg -o screenshot_dir` |\n| -q, --quiet| disable all cli's outputs | `hti --quiet` |\n| -v, --verbose| more details, can help debugging | `hti --verbose` |\n| --chrome_path| specify a different chrome path ||\n| --temp_path| specify a different temp path (where the files are loaded)||\n\n<br>\n\n### ... now within a docker container !\n\nyou can also test the package and the cli without having to install everything on your local machine, via a docker container.\n\n- first `git clone` this repo\n- `cd` inside it\n- build the image : `docker build -t html2image .`\n- run and get inside the container : `docker run -it html2image /bin/bash`\n\ninside that container, the `html2image` package as well as `chromium` are installed.\n\nyou can load and execute a python script to use the package, or simply use the cli.\n\non top of that, you can also use [volumes](https://docs.docker.com/storage/volumes/) to bind a container directory to your local machine directory, allowing you to retrieve the generated images, or even load some resources (html, css or python files).\n\n## testing\n\nonly basic testing is available at the moment. to run tests, install the requirements (pillow) and run pytest at the root of the project:\n``` console\npip install -r requirements-test.txt\npython -m pytest\n```\n\n\n## faq\n\n- can i automatically take a full page screenshot?  \n**sadly no**, it is not easily possible. html2image relies on the headless mode of chrome/chromium browsers to take screenshots and there is no way to \"ask\" for a full page screenshot at the moment. if you know a way (by estimating the page size for example), please open an issue or a discussion!\n\n- can i add delay before taking a screenshot?   \n**yes** you can, please take a look at the `change browser flags` section of the readme.\n\n- can i speed up the screenshot-taking process?  \n**yes**, when you are taking a lot of screenshots, you can achieve better performance using parallel processing or multiprocessing methods. you can find an [example of it here](https://github.com/vgalin/html2image/issues/28#issuecomment-862608053).\n\n- can i make a cookie modal disappear?  \n**yes and no**. **no**, because there is no options to do it magically and [extensions are not supported in headless chrome](https://bugs.chromium.org/p/chromium/issues/detail?id=706008#c5) (the [`i don't care about cookies`](https://www.i-dont-care-about-cookies.eu/) extension would have been useful in this case). **yes**, because you can make any element of a page disappear by retrieving its source code, modifying it as you wish, and finally screenshotting the modified source code.\n## todo list\n-   a nice cli (currently in a wip state).\n-   support for other browsers, such as firefox, once their screenshot feature becomes operational.\n-   pdf generation?\n-   contributing, issue templates, pull request template, code of conduct.\n\n---\n\n*if you see any typos or notice things that are oddly said, feel free to create an issue or a pull request.*\n",
  "docs_url": null,
  "keywords": "html,css,screenshot,image,chrome,html to image,css to image,chromium-browser,chromium",
  "license": "mit",
  "name": "html2image",
  "package_url": "https://pypi.org/project/html2image/",
  "project_url": "https://pypi.org/project/html2image/",
  "project_urls": {
    "Homepage": "https://github.com/vgalin/html2image",
    "Repository": "https://github.com/vgalin/html2image"
  },
  "release_url": "https://pypi.org/project/html2image/2.0.4.3/",
  "requires_dist": [
    "websocket-client (>=1.0.0,<2.0.0)",
    "requests"
  ],
  "requires_python": ">=3.6,<4.0",
  "summary": "package acting as a wrapper around the headless mode of existing web browsers to generate images from urls and from html+css strings or files.",
  "version": "2.0.4.3",
  "releases": [],
  "developers": [
    "vgalin"
  ],
  "kwds": "html2image_black html2image sample_url_to_img html chromium",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_html2image",
  "homepage": "https://github.com/vgalin/html2image",
  "release_count": 21,
  "dependency_ids": [
    "pypi_requests",
    "pypi_websocket_client"
  ]
}