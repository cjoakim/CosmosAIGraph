{
  "classifiers": [
    "intended audience :: developers",
    "license :: osi approved :: mit license",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 3",
    "topic :: software development :: libraries :: python modules"
  ],
  "description": "python salesforce api\n=====================\n\n[![build status](https://travis-ci.org/felixlindstrom/python-salesforce-api.svg?branch=master)](https://travis-ci.org/felixlindstrom/python-salesforce-api)\n\nthis project aims to provide an easy to use, highly flexible and testable solution for communicating with salesforce\nthrough its rest and soap api.\n\ncontent\n-------\n\n- [simple usage](#simple-usage)\n- [authentication](#authentication)\n- [record management](#record-management)\n  - [insert](#insert)\n  - [upsert](#upsert)\n  - [update](#update)\n  - [get](#get)\n  - [delete](#delete)\n- [quering sobjects](#querying-sobjects)\n- [bulk](#bulk)\n- [tooling](#tooling)\n- [deploying](#deploying)\n- [retrieving](#retrieving)\n- [additional features](#additional-features)\n\n\nsimple usage\n------------\n\ncreating a new connection / client is as simple as this:\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(\n    username='test@example.com',\n    password='my-password',\n    security_token='password-token'\n)\n```\n\nauthentication\n--------------\nto get started in the simples of ways, you would do the following\n\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(username='test@example.com',\n                    password='my-password',\n                    security_token='password-token')\n```\n\nif you are trying to connect to a sandbox, you have to specify this using the `is_sandbox` argument.\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(username='test@example.com',\n                    password='my-password',\n                    security_token='password-token',\n                    is_sandbox=true)\n```\n\nif for some reason the login-url differs from the standard prod/test login urls, you can specify the login url. this can be useful if you are using a mock-server, for example. this will override the `is_sandbox` argument.\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(username='test@example.com',\n                    password='my-password',\n                    security_token='password-token',\n                    domain='login.example.com')\n```\n\nthe examples so far would use the soap api for authenticating. if you want to authenticate using an app, that's easy engough. the login-url and sandbox-arguments applies here as well.\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(username='test@example.com',\n                    password='my-password',\n                    client_id='123',\n                    client_secret='my-secret')\n```\n\nif you already have an oauth access token, obtained elsewhere, you can just as easily create a new client.\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(access_token='access-token-here',\n                    domain='access-token-domain')\n```\n\nif you want to explicitly use one or the other methods of authenticating, you can do that as well\n```python\nfrom salesforce_api import salesforce, login\nclient = salesforce(login.oauth2(username='test@example.com',\n                                 password='my-password',\n                                 client_id='123',\n                                 client_secret='my-secret'))\n```\n\nif you want to use a specific version of the salesforce api, you can specify this:\n```python\nfrom salesforce_api import salesforce\nclient = salesforce(access_token='access-token-here',\n                    domain='access-token-domain',\n                    api_version='51.0')\n```\n\nrecord management\n-----------------\n\nwokring with records is easy. all sobject-related methods are exposed through the `sobjects`-property on the client.\n\nthe data returned from the different calls is the decoded data from the raw response.\n\n##### insert\nexample\n```python\nclient.sobjects.contact.insert({'lastname': 'example', 'email': 'test@example.com'})\n```\nreturns\n```\n{\"id\":\"0031l000007ru3vaae\",\"success\":true,\"errors\":[]}\n```\n\n##### get\nexample\n```python\nclient.sobjects.contact.get('0031l000007ru3vaae')\n```\nreturns\n```\n{\n    \"attributes\": {\n        \"type\": \"contact\",\n        \"url\": \"/services/data/v44.0/sobjects/contact/0031l000007ru3vaae\"\n    },\n    \"id\": \"0031l000007ru3vaae\",\n    \"lastname\": \"example\",\n    \"firstname\": \"test\",\n    ...\n}\n```\n\n##### update\nexample\n```python\nclient.sobjects.contact.update('0031l000007ru3vaae', {'firstname': 'felix', 'lastname': 'lindstrom'})\n```\nreturns\n```python\ntrue\n```\n\n##### upsert\nexample\n```python\nclient.sobjects.contact.upsert('customextidfield__c', '11999', {'firstname': 'felix', 'lastname': 'lindstrom'})\n```\nreturns\n```python\ntrue\n```\n\n##### delete\nexample\n```python\nclient.sobjects.contact.delete('0031l000007ru3vaae')\n```\nreturns\n```python\ntrue\n```\n\n##### metadata\nexample\n```python\nclient.sobjects.contact.metadata()\n```\nreturns\n```\n{\n    'objectdescribe': {\n        'activateable': false,\n        'createable': true,\n        'custom': false,\n        ...\n        'urls': {\n            'compactlayouts': '/services/data/v44.0/sobjects/contact/describe/compactlayouts',\n            'rowtemplate': '/services/data/v44.0/sobjects/contact/{id}',\n            'approvallayouts': '/services/data/v44.0/sobjects/contact/describe/approvallayouts',\n            ...\n        }\n    },\n    'recentitems': []\n}\n```\n\n##### describe\nexample\n```python\nclient.sobjects.contact.describe()\n```\nreturns\n```\n{\n    ...\n}\n```\n\nquerying sobjects\n-------------\n\nthe salesforce api is great at returning large amounts of data, so the pagination that salesforce implements for the result of your queries is taken cared of automagically when querying for data.\n\nexample\n```python\nclient.sobjects.query(\"select id, firstname, lastname from contact where firstname='felix'\")\n```\nreturn\n```\n[{\n    'attributes': {\n        'type': 'contact',\n        'url': '/services/data/v44.0/sobjects/contact/0031l000007jia4aac'\n    },\n    'id': '0031l000007jia4aac',\n    'firstname': 'felix',\n    'lastname': 'lindstrom'\n}, ...]\n``` \n\nbulk\n----\n\nthis module implements the bulk v2 api. basically, it allows you to think less and do more.\n\nnote that the correct permission-set might be needed on the user, see https://success.salesforce.com/issues_view?id=a1p3a000000bmpfqa4\n\n##### bulk insert\nexample\n```python\nclient.bulk.insert('contact', [\n    {'lastname': 'lindstrom', 'email': 'test@example.com'},\n    {'lastname': 'something else', 'email': 'test@example.com'}\n])\n```\nreturns\n```python\n[<successresultrecord record_id=\"0031l000007ru5raae\" success=\"true\" />,\n <successresultrecord record_id=\"0031l000007ru5saae\" success=\"true\" />]\n```\n\n##### bulk insert\nexample\n```python\nclient.bulk.insert('contact', [\n    {'lastname': 'lindstrom', 'email': 'test@example.com'},\n    {'lastname': 'something else', 'email': 'test@example.com'}\n])\n```\nreturns\n```python\n[<successresultrecord record_id=\"0031l000007ru5raae\" success=\"true\" />,\n <successresultrecord record_id=\"0031l000007ru5saae\" success=\"true\" />]\n```\n\n##### bulk upsert\nexample\n```python\nclient.bulk.upsert('contact', [\n    {'lastname': 'lindstrom', 'email': 'test@example.com', 'myid__c': 1},\n    {'lastname': 'something else', 'email': 'test@example.com', 'myid__c': 2}\n], external_id_field='myid__c')\n```\nreturns\n```python\n[<successresultrecord record_id=\"0031l000007ru5raae\" success=\"true\" />,\n <successresultrecord record_id=\"0031l000007ru5saae\" success=\"true\" />]\n```\n\n##### bulk update\nexample\n```python\nclient.bulk.update('contact', [\n    {'lastname': 'lindstrom', 'email': 'test@example.com'},\n    {'lastname': 'something else', 'email': 'test@example.com'}\n])\n```\nreturns\n```python\n[<successresultrecord record_id=\"0031l000007ru5raae\" success=\"true\" />,\n <successresultrecord record_id=\"0031l000007ru5saae\" success=\"true\" />]\n```\n\n##### bulk delete\nexample\n```python\nclient.bulk.delete('contact', ['0031l000007ru5raae', '0031l000007ru5saae'])\n```\nreturns\n```python\n[<successresultrecord record_id=\"0031l000007ru5raae\" success=\"true\" />,\n <successresultrecord record_id=\"0031l000007ru5saae\" success=\"true\" />]\n```\n\n##### failed requests\nexample (_given that the records no longer exists_)\n```python\nclient.bulk.update('contact', ['0031l000007ru5raae', '0031l000007ru5saae'])\n```\nreturns\n```python\n[<failresultrecord record_id=\"0031l000007ru5raae\" success=\"false\" error=\"entity_is_deleted:entity is deleted:--\" />,\n <failresultrecord record_id=\"0031l000007ru5saae\" success=\"false\" error=\"entity_is_deleted:entity is deleted:--\" />]\n```\n\n##### manual managing bulk job\nby using the api above, the library hides the uploading and waiting for the bulk-process to get processed.\n\nin some cases you might want to handle this differently. perhaps you want to upload bunch of records to be inserted and then forget about the process. this can be done by creating a job and managing it by yourself.\n```python\nbulk_job = client.bulk.create_job(operation.insert, 'contact')\nbulk_job.upload([\n    {'lastname': 'lindstrom', 'email': 'test@example.com'},\n    {'lastname': 'something else', 'email': 'test@example.com'}\n])\nwhile not bulk_job.is_done():\n    time.sleep(5)\n```\n\ntooling\n-------\n\n##### execute apex\nexample\n```python\nclient.tooling.execute_apex(\"system.debug('test');\")\n```\nreturn on success\n```python\n<successfulapexexecutionresult line=\"-1\" column=\"-1\" compiled=\"true\" success=\"true\" compile_problem=\"none\" exception_stack_trace=\"none\" exception_message=\"none\" />\n```\nreturn on failure\n```\n<failedapexexecutionresult line=\"1\" column=\"13\" compiled=\"false\" success=\"false\" compile_problem=\"unexpected token '('.\" exception_stack_trace=\"none\" exception_message=\"none\" />\n```\n\ndeploying\n---------\ndeploying an existing package\n```python\nfrom salesforce_api.models.deploy import options\n\n\ndeployment = client.deploy.deploy('/path/to/file.zip')\ndeployment.wait()\nresult = deployment.get_status()\n\n```\n\nonly validating\n```python\nfrom salesforce_api.models.deploy import options\n\n\ndeployment = client.deploy.deploy('/path/to/file.zip', options(checkonly=true))\ndeployment.wait()\nresult = deployment.get_status()\n\n```\n\nvalidating running specific tests\n```python\nfrom salesforce_api.models.deploy import options\n\n\ndeployment = client.deploy.deploy('/path/to/file.zip', options(\n    checkonly=true,\n    testlevel='runspecifiedtests',\n    runtests=[\n        'testerintegrationapplicationtest',\n        'testerintegrationprocesstest'\n    ]\n))\ndeployment.wait()\nresult = deployment.get_status()\n```\n\ncanceling a deployment as soon as it fails\n```python\nfrom salesforce_api.models.deploy import options\n\n\ndeployment = client.deploy.deploy('/path/to/file.zip', options(checkonly=true))\n\nwhile not deployment.is_done():\n    if deployment.has_failed():\n        deployment.cancel()\n        break\n\n```\n\nretrieving\n----------\nexample\n```python\nfrom salesforce_api.models.shared import type\n\n\n# decide what you want to retrieve\ntypes = [\n    type('apextrigger'),\n    type('apexclass', ['mymainclass', 'anotherclass'])\n]\n\n# create retrievement-job\nretrievement = client.retrieve.retrieve(types)\n\n# wait for the job to finish\nretrievement.wait()\n\n# write the resulting zip-archive to a file\nopen('retrieve.zip', 'wb').write(retrievement.get_zip_file().read())\n```\n\nadditional features\n-------------------\n\nif for some reason you need to specify how the client communicates with salesforce, you can create the requests-session yourself and pass it to the client upon creation. this would, for example, allow you proxy your requests:\n```python\nimport requests\nfrom salesforce_api import salesforce\n\n\nsession = requests.session()\nsession.proxies.update({'https': 'https://my-proxy.com/'})\nsession.headers.update({'user-agent': 'my-user-agent'})\n\nclient = salesforce(username='test@example.com',\n                    password='my-password',\n                    security_token='password-token',\n                    session=session)\n```",
  "docs_url": null,
  "keywords": "salesforce,salesforce api,salesforce bulk api",
  "license": "mit",
  "name": "salesforce-api",
  "package_url": "https://pypi.org/project/salesforce-api/",
  "project_url": "https://pypi.org/project/salesforce-api/",
  "project_urls": {
    "Homepage": "https://github.com/felixlindstrom/python-salesforce-api"
  },
  "release_url": "https://pypi.org/project/salesforce-api/0.1.45/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "salesforce api wrapper",
  "version": "0.1.45",
  "releases": [],
  "developers": [
    "felix.lindstrom@gmail.com",
    "felix_lindstrom"
  ],
  "kwds": "salesforce_api api bulk_job oauth2 soap",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_salesforce_api",
  "homepage": "https://github.com/felixlindstrom/python-salesforce-api",
  "release_count": 19,
  "dependency_ids": []
}