{
  "classifiers": [
    "development status :: 5 - production/stable",
    "environment :: web environment",
    "framework :: django",
    "framework :: django :: 3.2",
    "framework :: django :: 4.0",
    "intended audience :: developers",
    "license :: osi approved :: gnu affero general public license v3",
    "operating system :: os independent",
    "programming language :: python :: 3",
    "programming language :: python :: 3.8",
    "topic :: internet"
  ],
  "description": "auth-backends  |ci|_ |codecov|_\n===================================\n.. |ci| image:: https://github.com/openedx/auth-backends/workflows/python%20ci/badge.svg?branch=master\n.. _ci: https://github.com/openedx/auth-backends/actions?query=workflow%3a%22python+ci%22\n\n.. |codecov| image:: http://codecov.io/github/edx/auth-backends/coverage.svg?branch=master\n.. _codecov: http://codecov.io/github/edx/auth-backends?branch=master\n\nthis package contains custom authentication backends, views, and pipeline steps used by edx services for single sign-on.\n\nthis package is compatible with python 3.8, django 2.2 and django 3.0\n\nwe currently support oauth 2.0 authentication. support for openid connect (oidc) was removed as of version 3.0. use version 2.x if you require oidc and are not able to migrate to oauth2.\n\ninstallation\n------------\n\nthe `auth_backends` package can be installed from pypi using pip::\n\n    $ pip install edx-auth-backends\n\nupdate ``installed_apps``:\n\n.. code-block:: python\n\n    installed_apps = (\n        'social_django',\n    )\n\n\nconfiguration\n-------------\nadding single sign-on/out support to a service requires a few changes:\n\n1. define settings\n2. add the authentication backend\n3. add the login/logout redirects\n\n\noauth 2.0 settings\n~~~~~~~~~~~~~~~~~~\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| setting                                                  | purpose                                                                                   |\n+==========================================================+===========================================================================================+\n| social_auth_edx_oauth2_key                               | client key                                                                                |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_secret                            | client secret                                                                             |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_url_root                          | lms root, reachable from the application server                                           |\n|                                                          | (e.g. https://courses.stage.edx.org or http://edx.devstack.lms:18000)                     |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_public_url_root                   | lms root, reachable from the end user's browser                                           |\n|                                                          | (e.g. https://courses.stage.edx.org or http://localhost:18000)                            |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_jws_hmac_signing_key              | (optional) shared secret for jwt signed with hs512 algorithm                              |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_provider_configuration_cache_ttl  | (optional) cache timeout for provider configuration. defaults to 1 week.                  |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n| social_auth_edx_oauth2_jwks_cache_ttl                    | (optional) cache timeout for provider's jwks key data. defaults to 1 day.                 |\n+----------------------------------------------------------+-------------------------------------------------------------------------------------------+\n\noauth2 applications require access to the ``user_id`` scope in order for the ``edxoauth2`` backend to work.  the backend will write the ``user_id`` into the social-auth extra_data, and can be accessed within the user model as follows::\n\n    self.social_auth.first().extra_data[u'user_id']  # pylint: disable=no-member\n\nstrategy\n~~~~~~~~\nwe use a custom `strategy <http://python-social-auth.readthedocs.io/en/latest/strategies.html>`_ that includes many of\nthe default settings necessary to utilize single sign-on for edx services. this strategy should be used for all\nservices to simplify configuration. if you need to override the defaults, you may still do so as you would with any\nsocial auth setting\u2014\u2014prepend `social_auth_` to the setting name. add the following to your django settings to use the\nstrategy:\n\n.. code-block:: python\n\n    social_auth_strategy = 'auth_backends.strategies.edxdjangostrategy'\n\nauthentication backend\n~~~~~~~~~~~~~~~~~~~~~~\nconfiguring the backend is simply a matter of updating the ``authentication_backends`` setting. the configuration\nbelow is sufficient for all edx services.\n\n.. code-block:: python\n\n    authentication_backends = (\n        'auth_backends.backends.edxoauth2',\n        'django.contrib.auth.backends.modelbackend',\n    )\n\nauthentication views\n~~~~~~~~~~~~~~~~~~~~\nin order to make use of the authentication backend, your service's login/logout views need to be updated. the login\nview should be updated to redirect to the authentication provider's login page. the logout view should be updated to\nredirect to the authentication provider's logout page.\n\nthis package includes views and urlpatterns configured for oauth 2.0. to use them, simply append/prepend\n``oauth2_urlpatterns`` to your service's urlpatterns in `urls.py`.\n\n.. code-block:: python\n\n    from auth_backends.urls import oauth2_urlpatterns\n\n    urlpatterns = oauth2_urlpatterns + [\n        url(r'^admin/', include(admin.site.urls)),\n        ...\n    ]\n\nit is recommended that you not modify the login view. if, however, you need to modify the logout view (to redirect to\na different url, for example), you can subclass ``edxoauth2logoutview`` for\nthe view and ``logoutviewtestmixin`` for your tests.\n\ntesting\n-------\n\ncall ``make test``.\n\npublishing a release\n--------------------\n\nafter a pr merges, create a new tag from ``master`` branch with a new version of the package and create a\n`github release <https://github.com/openedx/auth-backends/releases>`_\nusing the new tag that will automatically publish the package to pypi when a release is created.\n\n\nlicense\n-------\n\nthe code in this repository is licensed under the agpl unless otherwise noted.\n\nplease see ``license.txt`` for details.\n\nhow to contribute\n-----------------\n\ncontributions are very welcome!\n\nplease read `how to contribute <https://github.com/openedx/.github/blob/master/contributing.md>`_ for details.\n\nreporting security issues\n-------------------------\n\nplease do not report security issues in public. please email security@edx.org.\n\nmailing list and irc channel\n----------------------------\n\nyou can discuss this code on the `edx-code google group <https://groups.google.com/forum/#!forum/edx-code>`_ or in the\n``#edx-code`` irc channel on freenode.\n\n\n.. :changelog:\n\nhistory\n=======\n\n3.1.0 (2020-05-08)\n------------------\n- added support for python 3.8\n- removed support for django versions older than 2.2\n\n3.0.2 (2020-02-06)\n------------------\n\nre-release of 3.0.0 with proper version, matching tag.\n\n3.0.1 (2020-02-06)\n------------------\n\nre-release of 3.0.0, although failed to update package version.\n\n3.0.0 (2020-02-06)\n------------------\n\n- add support for django 2 and drop support for some older versions (support changes from 1.8\u20131.11 to 1.11\u20132.2)\n- remove (deprecated) openid connect support\n- test with python 3.5, not 3.6, to match rest of edx code\n\n2.0.2 (2019-08-12)\n------------------\n\ntwo new commits that changed functionality:\n\n- add edxoauth2.auth_complete_signal on auth_complete()\n- store refresh_token in extra_data\n\n2.0.1 (2019-05-13)\n------------------\n\ncreate new version for auth-backends for release\n\n2.0.0 (2019-03-28)\n------------------\n\nedxoauth2 will retrieve and store user_id claim\n\nthe edxoauth2 backend will now pull the user_id from the jwt and\nstore it in the usersocialauth.extra_data field.\n\nbreaking change: the user_id scope is now required when using the\nedxoauth2 backend for oauth+sso. this means that the oauth\napplication must first be configured to have access to the user_id\nscope, which is not available by default.\n\n1.2.2 (2019-01-31)\n------------------\n\nupdates to the edxoauth2 backend:\n\n- supports the _public_url_root social django setting.\n- logout_url() allows _logout_redirect_url to be undefined.\n\n1.2.1 (2018-10-26)\n------------------\n\nfix urlencode bug with edxoauth2 backend logout url\n\n1.2.0 (2018-10-26)\n------------------\n\nallow for logout redirect with edxoauth2 backend.\n\n1.1.5 (2018-10-19)\n------------------\n\nadd logout_url property to edxoauth2 backend.\n\n1.1.4 (2018-10-12)\n------------------\n\nremove token validation from edxoauth2 backend.\n\n1.1.3 (2018-01-04)\n------------------\n\nadded support to update email address.\n\nsocial_core consider email field protected and won't let it change.\nadded a pipeline function to update email address.\n\n1.1.2 (2017-05-12)\n------------------\n\nupdated loginredirectbaseview to include querystring\n\n[unlisted]\n----------\n\nintervening releases not documented here; see releases:\n\nhttps://github.com/openedx/auth-backends/releases?after=1.1.2\n\n\n0.1.3 (2015-03-31)\n------------------\n\n- update required version of python social auth to 0.2.3.\n\n0.1.2 (2015-02-23)\n------------------\n\n- update required version of python social auth to 0.2.2.\n\n0.1.1 (2015-02-20)\n------------------\n\n- initial release.\n\n\nrenzo lucioni <renzo@edx.org>\ntroy sankey <tsankey@edx.org>\n",
  "docs_url": null,
  "keywords": "authentication edx",
  "license": "agpl",
  "name": "edx-auth-backends",
  "package_url": "https://pypi.org/project/edx-auth-backends/",
  "project_url": "https://pypi.org/project/edx-auth-backends/",
  "project_urls": {
    "Homepage": "https://github.com/openedx/auth-backends"
  },
  "release_url": "https://pypi.org/project/edx-auth-backends/4.2.0/",
  "requires_dist": [
    "Django",
    "pyjwt[crypto] (>=2.1.0)",
    "six",
    "social-auth-app-django",
    "social-auth-core"
  ],
  "requires_python": "",
  "summary": "custom edx authentication backends and pipeline steps",
  "version": "4.2.0",
  "releases": [],
  "developers": [
    "edx",
    "oscm@edx.org"
  ],
  "kwds": "authentication_backends social_auth_edx_oauth2_url_root social_auth_edx_oauth2_public_url_root social_auth_edx_oauth2_secret auth_backends",
  "license_kwds": "agpl",
  "libtype": "pypi",
  "id": "pypi_edx_auth_backends",
  "homepage": "https://github.com/openedx/auth-backends",
  "release_count": 43,
  "dependency_ids": [
    "pypi_django",
    "pypi_pyjwt",
    "pypi_six",
    "pypi_social_auth_app_django",
    "pypi_social_auth_core"
  ]
}