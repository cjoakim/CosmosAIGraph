{
  "classifiers": [
    "development status :: 5 - production/stable",
    "framework :: robot framework",
    "framework :: robot framework :: library",
    "license :: osi approved :: apache software license",
    "operating system :: os independent",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "topic :: internet",
    "topic :: internet :: www/http",
    "topic :: software development :: libraries :: python modules",
    "topic :: software development :: testing"
  ],
  "description": "# restinstance\n\n[robot framework](http://robotframework.org) library for restful json apis\n\n[keyword documentation](https://asyrjasalo.github.io/restinstance)\n\n## advantages\n\n1.  **restinstance relies on robot framework's language-agnostic, clean\n    and minimal syntax, for api tests.** it is neither tied to any\n    particular programming language nor development framework. using\n    restinstance requires little, if any, programming knowledge. it\n    builts on long-term technologies with well established communities,\n    such as http, json (schema), swagger/openapi and robot framework.\n2.  **it validates json using json schema, guiding you to write api\n    tests to base on properties** rather than on specific values (e.g.\n    \"email must be valid\" vs \"email is foo@bar.com\"). this approach\n    reduces test maintenance when the values responded by the api are\n    prone to change. although values are not required, you can still\n    test them whenever they make sense (e.g. get response body from one\n    endpoint, then post some of its values to another endpoint and\n    verify the results).\n3.  **it generates json schema for requests and responses automatically,\n    and the schema gets more accurate by your tests.** output the schema\n    to a file and reuse it as expectations to test the other methods, as\n    most of them respond similarly with only minor differences. or\n    extend the schema further to a full swagger spec (version 2.0,\n    openapi 3.0 also planned), which restinstance can test requests and\n    responses against. all this leads to reusability, getting great test\n    coverage with minimum number of keystrokes and very clean tests.\n\n\n\n## installation\n\non 3.6, 3.7 you can install and upgrade\n[from pypi](https://pypi.org/project/restinstance):\n\n    python3 -m venv venv\n    source venv/bin/activate\n    pip install --upgrade restinstance\n\non 2.7 series the package works as well, but using 2.7 is\n[not preferred 2020 onwards](https://pythonclock.org/):\n\n    pip install --user --upgrade virtualenv\n    virtualenv venv\n    source venv/bin/activate\n    pip install --upgrade restinstance\n\nthese also install [robot framework](https://pypi.org/project/robotframework)\nif you do not have it already.\n\n\n\n## usage\n\nthere is a\n[step-by-step tutorial](https://github.com/asyrjasalo/restinstance/blob/master/examples)\nin the making, best accompanied with\n[the keyword documentation](https://asyrjasalo.github.io/restinstance).\n\n### quick start\n\n1.  create two new empty directories, `atest` and `results`.\n2.  create a new file `atest/yourname.robot` with the content:\n\n``` robotframework\n*** settings ***\nlibrary         rest    https://jsonplaceholder.typicode.com\ndocumentation   test data can be read from variables and files.\n...             both json and python type systems are supported for inputs.\n...             every request creates a so-called instance. can be `output`.\n...             most keywords are effective only for the last instance.\n...             initial schemas are autogenerated for request and response.\n...             you can make them more detailed by using assertion keywords.\n...             the assertion keywords correspond to the json types.\n...             they take in either path to the property or a jsonpath query.\n...             using (enum) values in tests optional. only type is required.\n...             all the json schema validation keywords are also supported.\n...             thus, there is no need to write any own validation logic.\n...             not a long path from schemas to full swagger/openapi specs.\n...             the persistence of the created instances is the test suite.\n...             use keyword `rest instances` to output the created instances.\n\n\n*** variables ***\n${json}         { \"id\": 11, \"name\": \"gil alexander\" }\n&{dict}         name=julie langford\n\n\n*** test cases ***\nget an existing user, notice how the schema gets more accurate\n    get         /users/1                  # this creates a new instance\n    output schema   response body\n    object      response body             # values are fully optional\n    integer     response body id          1\n    string      response body name        leanne graham\n    [teardown]  output schema             # note the updated response schema\n\nget existing users, use jsonpath for very short but powerful queries\n    get         /users?_limit=5           # further assertions are to this\n    array       response body\n    integer     $[0].id                   1           # first id is 1\n    string      $[0]..lat                 -37.3159    # any matching child\n    integer     $..id                     maximum=5   # multiple matches\n    [teardown]  output  $[*].email        # outputs all emails as an array\n\npost with valid params to create a new user, can be output to a file\n    post        /users                    ${json}\n    integer     response status           201\n    [teardown]  output  response body     ${outputdir}/new_user.demo.json\n\nput with valid params to update the existing user, values matter here\n    put         /users/2                  { \"iscoding\": true }\n    boolean     response body iscoding    true\n    put         /users/2                  { \"sleep\": null }\n    null        response body sleep\n    put         /users/2                  {\u00a0\"pockets\": \"\", \"money\": 0.02 }\n    string      response body pockets     ${empty}\n    number      response body money       0.02\n    missing     response body moving      # fails if property moving exists\n\npatch with valid params, reusing response properties as a new payload\n    &{res}=     get   /users/3\n    string      $.name                    clementine bauch\n    patch       /users/4                  { \"name\": \"${res.body['name']}\" }\n    string      $.name                    clementine bauch\n    patch       /users/5                  ${dict}\n    string      $.name                    ${dict.name}\n\ndelete the existing successfully, save the history of all requests\n    delete      /users/6                  # status can be any of the below\n    integer     response status           200    202     204\n    rest instances  ${outputdir}/all.demo.json  # all the instances so far\n```\n\n3.  make json api testing great again:\n```\nrobot --outputdir results atest/\n```\n\n\n## contributing\n\nbug reports and feature requests are tracked in\n[github](https://github.com/asyrjasalo/restinstance/issues).\nwe do respect pull request(er)s.\n\n### local development\n\nthe logic is detaching the enving from system level (dependencies) as following:\n1. we use [pyenv](https://github.com/pyenv/pyenv) to manage n pythons user-wide.\n2. with pyenv installed pythons, we never mess with the system's default python.\n3. we ended up to [nox](https://nox.thea.codes/en/stable/) after evaluating\nbash scripts, `make`, `invoke` and `tox` to achieve automated virtualenving.\n\nto understand the first two of the practices, these are worth reading:\n- [real python's intro to pyenv](https://realpython.com/intro-to-pyenv)\n- [real python's virtualenvs primer](https://realpython.com/python-virtual-environments-a-primer/)\n- [virtualenv compatibility with the stdlib venv module](https://virtualenv.pypa.io/en/latest/reference/#compatibility-with-the-stdlib-venv-module)\n\nthird, unlike tox, nox uses python file (`noxfile.py`) for configuration, yet:\n- supports multiple python versions, each session is ran on some `pythonx.x`.\n- a session is a single virtualenv which is stored in `.venv/<session_name>`.\n- every `nox` recreates session, thus virtualenv, unless `reuse_venv=true`.\n\n### python versioning w/ pyenv\n\nthe pyenv setup works on os x and on the common linux distros out of the box:\n\n    curl https://pyenv.run | bash\n    export path=\"$home/.pyenv/bin:$path\"\n    eval \"$(pyenv init -)\"\n\nthe first script installs it user-wide, thus it never requires `sudo` rights.\n\nif you are on windows, using pyenv might or might not be an option. regardless,\nyou want to check [pyenv-win](https://github.com/pyenv-win/pyenv-win) instead.\n\nwe test, develop, build and publish on python 3.6.9, and use venvs as preferred:\n\n    git clone git@github.com:asyrjasalo/restinstance.git\n    cd restinstance\n    pyenv install --skip-existing 3.6.9 && pyenv rehash\n    python3 -m venv .venv/dev\n    source .venv/dev/bin/activate\n    pip install -e .\n\n### automated venving w/ nox\n\nnox automates handling `.venv/<task>`s for workflows, that on windows as well:\n\n    pip install --upgrade nox\n\nthe actual tasks are defined in `noxfile.py`, as well as our settings like:\n- the default python interpreter to run all the development tasks is `python3.6`\n- we explicitly use [venv module](https://docs.python.org/3/library/venv.html)\nnow for virtualenving, as we develop on python >= 3.3 anyway\n- whether a new virtualenv is always recreated when the respective task is run\n(which is default for most of our tasks)\n\nsession is a task, running in the `.venv/<task>`. to list all possible sessions:\n\n    nox -l\n\nsessions defined in `restinstance/noxfile.py`:\n\n    * test -> run development tests for the package.\n    - testenv -> run development server for acceptance tests.\n    * atest -> run acceptance tests for the project.\n    - docs -> regenerate documentation for the project.\n    - black -> reformat/unify/\"blacken\" python source code in-place.\n    - prospector -> run various static analysis tools for the package.\n    - build -> build sdist and wheel dists.\n    - release_testpypi -> publish dist/* to testpypi.\n    - install_testpypi -> install the latest (pre-)release from testpypi.\n    - release -> tag, build and publish a new release to pypi.\n    - install -> install the latest release from pypi.\n    - clean -> remove all .venv's, build files and caches in the directory.\n\nsessions marked with `*` are selected, sessions marked with `-` are skipped.\n\nthat is, to run both `test`s and `atest`s:\n\n    nox\n\nsession `nox -s atest` assumes you have started `testapi/` on\n[mountebank](https://www.mbtest.org):\n\n    nox -s testenv\n\nrunning the above assumes you have `node` (>= 6) installed in your system.\n\nafter started, you can debug requests and responses by tests in web browser at\n[localhost:2525](http://localhost:2525/imposters).\n\nboth `nox -s test` and `nox -s atest` allow passing arguments to `pytest`\nand `robot`, respectively:\n\n    nox -s test -- test/<test_modulename>.py\n    nox -s atest -- atest/<atest_suitedir>/<atest_suitefile>.robot\n\nyou know, having a virtualenv even for generating `docs/` - why not a bad idea:\n\n    nox -s docs\n\n### building and tagging a new version\n\nremove all sessions (`.venv/`s) as well as temporary files in your working copy:\n\n    nox -s clean\n\nour pypi distributions are known to work well on python 3.7 and 2.7 series too:\n\n    nox -s clean build\n\nwe use [zest.releaser](https://github.com/zestsoftware/zest.releaser) for\nversioning, tagging and building (universal) `bdist_wheel`s.\n\nit uses [twine](https://pypi.org/project/twine/) underneath to upload to pypis\nsecurely over https, which can't be done with `python setup.py` commands.\n\n### releasing to pypis\n\nthis workflow is preferred for distributing a new (pre-)release to testpypi:\n\n    nox -s test atest docs clean build release_testpypi install_testpypi\n\nif that installed well, all will be fine to let the final release to pypi:\n\n    nox -s release\n\nto install the latest release from pypi, and in a dedicated venv of course:\n\n    nox -s install\n\n### shell additions\n\nfor intermediate `nox` arguments usage, you'll advance by enabling\n[shell completion](https://nox.thea.codes/en/stable/usage.html#shell-completion):\n\n    eval \"$(register-python-argcomplete nox)\"\n\non `zsh`, ensure you have bash compatibility enabled in `.zshrc` or similar:\n\n    autoload -u bashcompinit\n    bashcompinit\n\nthese completions likely do not work on vanilla powershell, but can be used on\n[windows subsystem for linux](https://docs.microsoft.com/en-us/windows/wsl/install-win10).\n\n### unified python editor/ide linters\n\ncatching errors already write-time, regardless of the editor, is advantaged by\n[palantir's python language server](https://github.com/palantir/python-language-server):\n\n    python3 -m venv .venv/dev\n    source .venv/dev/bin/activate\n    pip install --upgrade python-language-server[all]\n\ninstalling the all bundle, and the lsp plugin for your editor, enables to run\nuseful linters real-time, like:\n\n- either `autopep8` or `black` (preferred) for automated code formatting\n- `isort` for sorting code import statements\n- mccabe for code complexity checking\n- `mypy` for static type checking on python 3\n- `pycodestyle` for coding style checking\n- `pyflakes` for detecting various coding errors\n\nremember to (auto-)start the language server on background via your editor.\n\n### pre-commit hooks\n\nwe want our static analysis checks ran before code even ends up in a commit.\n\nthus both `nox` and `nox -s test` commands bootstrap\n[pre-commit](https://pre-commit.com/) hooks in your git working copy.\n\nthe actual hooks are configured in `.pre-commit-commit.yaml`.\n\n### ideas\n\n- export `mb` recorded responses to ci (pre-commit hook: `nox -s save_testenv`)\n- change `nox -s testenv` to load the saved testenv -> rid of `--allowinjection`\n- add ci (github actions? gitlab?)\n- add python types to pass `prospector --with-tool mypy`\n- enable pre-commit hook for prospector\n\n\n\n## credits\n\nrestinstance is under\n[apache license 2.0](https://github.com/asyrjasalo/restinstance/blob/master/license)\nand was originally written by [anssi syrj\u00e4salo](https://github.com/asyrjasalo).\n\nit was first presented at the first [robocon](https://robocon.io), 2018.\n\ncontributors:\n\n- [jjwong](https://github.com/jjwong) for helping with keyword\ndocumentation and examples (also check\n[restinstance_starter_project](https://github.com/jjwong/restinstance_starter_project))\n- [przemys\u0142aw \"sqilz\" hendel](https://github.com/sqilz) for using and\ntesting restinstance in early phase (also check\n[restinstance-wrapper](https://github.com/sqilz/restinstance-wrapper))\n- [vinh \"vinhntb\" nguyen](https://github.com/vinhntb),\n[#52](https://github.com/asyrjasalo/restinstance/pull/52).\n- [stavros \"stdedos\" ntentos](https://github.com/stdedos),\n[#75](https://github.com/asyrjasalo/restinstance/pull/75).\n- [nicholas \"bollwyvl\" bollweg](https://github.com/bollwyvl),\n[#84](https://github.com/asyrjasalo/restinstance/pull/84).\n- [trey turner](https://github.com/treyturner), [#86](https://github.com/asyrjasalo/restinstance/pull/86)\n\nwe use following python excellence under the hood:\n\n- [flex](https://github.com/pipermerriam/flex), by piper merriam, for\nswagger 2.0 validation\n- [genson](https://github.com/wolverdude/genson), by jon \"wolverdude\"\nwolverton, for json schema generator\n- [jsonpath-ng](https://github.com/h2non/jsonpath-ng), by tomas\naparicio and kenneth knowles, for handling jsonpath queries\n- [jsonschema](https://github.com/julian/jsonschema), by julian\nberman, for json schema validator\n- [pygments](http://pygments.org), by georg brandl et al., for json\nsyntax coloring, in terminal <span class=\"title-ref\">output</span>\n- [requests](https://github.com/requests/requests), by kenneth reitz\net al., for making http requests\n\nsee\n[requirements.txt](https://github.com/asyrjasalo/restinstance/blob/master/requirements.txt)\nfor all the direct run time dependencies.\n\nrest your mind, oss got your back.\n\n\n",
  "docs_url": null,
  "keywords": "robotframework library http json api",
  "license": "apache license 2.0",
  "name": "restinstance",
  "package_url": "https://pypi.org/project/RESTinstance/",
  "project_url": "https://pypi.org/project/RESTinstance/",
  "project_urls": {
    "Download": "https://pypi.python.org/pypi/RESTinstance",
    "Homepage": "https://github.com/asyrjasalo/RESTinstance"
  },
  "release_url": "https://pypi.org/project/RESTinstance/1.3.0/",
  "requires_dist": [
    "docutils",
    "flex",
    "GenSON",
    "jsonpath-ng",
    "jsonschema",
    "pygments",
    "pytz",
    "requests",
    "robotframework",
    "tzlocal"
  ],
  "requires_python": "",
  "summary": "robot framework library for restful json apis",
  "version": "1.3.0",
  "releases": [],
  "developers": [
    "eficode_oy",
    "info@eficode.com"
  ],
  "kwds": "restinstance apis api restful restinstance_starter_project",
  "license_kwds": "apache license 2.0",
  "libtype": "pypi",
  "id": "pypi_restinstance",
  "homepage": "https://github.com/asyrjasalo/restinstance",
  "release_count": 44,
  "dependency_ids": [
    "pypi_docutils",
    "pypi_flex",
    "pypi_genson",
    "pypi_jsonpath_ng",
    "pypi_jsonschema",
    "pypi_pygments",
    "pypi_pytz",
    "pypi_requests",
    "pypi_robotframework",
    "pypi_tzlocal"
  ]
}