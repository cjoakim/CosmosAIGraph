{
  "classifiers": [
    "license :: osi approved :: mit license",
    "operating system :: os independent",
    "programming language :: python :: 3"
  ],
  "description": "# hampel\n\n> **warning:** starting from version 1.0.1, there are **breaking changes** in this library. please review the [usage](#usage) section for details and update your code accordingly.\n\nthe hampel filter is generally used to detect anomalies in data with a timeseries structure.\nit basically consists of a sliding window of a parameterizable size. \nfor each window, each observation will be compared with the median absolute deviation (mad).\nthe observation will be considered an outlier in the case in which it exceeds the mad by n times (the parameter n is also parameterizable).\n\nfor more details, see the [related links](#related-links) section.\n\n![usage_visualization.png](img%2fusage_visualization.png)\n\n## table of contents\n- [installation](#installation)\n- [usage](#usage)\n- [parameters](#parameters)\n- [testing](#testing)\n- [license](#license)\n- [contributing](#contributing)\n- [related links](#related-links)\n\n\n## installation\n\nto use the hampel filter in your python project, you can install it via pip:\n\n```\npip install hampel\n```\n\n\n## usage\n\nhere's a simple example of how to use the hampel filter:\n\n```python\nimport pandas as pd\nfrom hampel import hampel\n\n# sample data as a pandas.series\ndata = pd.series([1.0, 2.0, 3.0, 100.0, 4.0, 5.0, 6.0])\n\n# apply the hampel filter\nresult = hampel(data, window_size=3, n_sigma=3.0)\n\nprint(result.filtered_data)\n```\n\nwhen you apply the hampel filter, it returns a `result` object with the following attributes:\n\n\n- `filtered_data`: the data with outliers replaced.\n\n\n- `outlier_indices`: indices of the detected outliers.\n\n\n- `medians`: median values within the sliding window.\n\n\n- `median_absolute_deviations`: median absolute deviation (mad) values within the sliding window.\n\n\n- `thresholds`: threshold values for outlier detection.\n\n\nyou can access these attributes as follows:\n\n```python\nresult = hampel(data, window_size=3, n_sigma=3.0)\n\nfiltered_data = result.filtered_data\noutlier_indices = result.outlier_indices\nmedians = result.medians\nmad_values = result.median_absolute_deviations\nthresholds = result.thresholds\n```\n\nif you want to directly apply hampel filter to multiple columns in a  `pandas.dataframe`,\nfollow this code:\n\n```python\nimport pandas as pd\nfrom hampel import hampel\n\ndf = pd.dataframe({\n    'a': [1.0, 2.0, 3.0, 100.0, 4.0, 5.0, 6.0],\n    'b': [7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0]\n})\n\n# we are just getting the filtered data in this case\nfiltered_df = df.apply(lambda x: hampel(x).filtered_data, axis=0)\n\nprint(df)\n```\n\n## parameters\n\n* `data`: the input 1-dimensional data to be filtered (pandas.series or numpy.ndarray).\n* `window_size` (optional): the size of the moving window for outlier detection (default is 5).\n* `n_sigma` (optional): the number of standard deviations for outlier detection (default is 3.0).\n\n## testing\n\nif you want to run the tests, simple run:\n\n```\nmake test\n```\n\n## license\n\nsee the [license](license) file for details.\n\n## contributing\n\ncontributions are welcome! feel free to open issues, submit pull requests, or suggest improvements.\n\n## related links\n\nhttps://medium.com/wwblog/clean-up-your-time-series-data-with-a-hampel-filter-58b0bb3ebb04\n\nhttps://en.wikipedia.org/wiki/median_absolute_deviation\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "hampel",
  "package_url": "https://pypi.org/project/hampel/",
  "project_url": "https://pypi.org/project/hampel/",
  "project_urls": {
    "Homepage": "https://github.com/MichaelisTrofficus/hampel_filter"
  },
  "release_url": "https://pypi.org/project/hampel/1.0.2/",
  "requires_dist": [
    "numpy>=1.17.3",
    "pandas"
  ],
  "requires_python": ">=3.8",
  "summary": "python implementation of the hampel filter",
  "version": "1.0.2",
  "releases": [],
  "developers": [
    "miguel.otero.pedrido.1993@gmail.com",
    "mtrofficus"
  ],
  "kwds": "hampel outlier_indices outlier outliers deviation",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_hampel",
  "homepage": "https://github.com/michaelistrofficus/hampel_filter",
  "release_count": 4,
  "dependency_ids": [
    "pypi_numpy",
    "pypi_pandas"
  ]
}