{
  "classifiers": [
    "development status :: 3 - alpha",
    "intended audience :: developers",
    "intended audience :: information technology",
    "intended audience :: science/research",
    "license :: osi approved :: bsd license",
    "operating system :: os independent",
    "programming language :: python :: 2.6",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "topic :: database",
    "topic :: scientific/engineering",
    "topic :: software development :: libraries :: python modules"
  ],
  "description": "overview\n========\n\nthis python package provides high level utilities to read/write a\nvariety of python types to/from hdf5 (heirarchal data format) formatted\nfiles. this package also provides support for matlab mat v7.3 formatted\nfiles, which are just hdf5 files with a different extension and some\nextra meta-data.\n\nall of this is done without pickling data. pickling is bad for security\nbecause it allows arbitrary code to be executed in the interpreter. one\nwants to be able to read possibly hdf5 and mat files from untrusted\nsources, so pickling is avoided in this package.\n\nthe package's documetation is found at\nhttp://pythonhosted.org/hdf5storage/\n\nthe package's source code is found at\nhttps://github.com/frejanordsiek/hdf5storage\n\nthe package is licensed under a 2-clause bsd license\n(https://github.com/frejanordsiek/hdf5storage/blob/master/copying.txt).\n\ninstallation\n============\n\ndependencies\n------------\n\nthis package only supports python >= 2.6.\n\nthis package requires the numpy and h5py (>= 2.1) packages to run. note\nthat full functionality requires h5py >= 2.3. an optional dependency is\nthe scipy package.\n\ninstalling by pip\n-----------------\n\nthis package is on `pypi <https://pypi.python.org/pypi/hdf5storage>`_.\nto install hdf5storage using pip, run the command::\n\n    pip install hdf5storage\n\ninstalling from source\n----------------------\n\nto install hdf5storage from source, download the package and then\ninstall the dependencies ::\n\n    pip install -r requirements.txt\n\nthen to install the package, run the command with python ::\n\n    python setup.py install\n\nrunning tests\n-------------\n\nfor testing, the package nose (>= 1.0) is required as well as unittest2\non python 2.6. there are some tests that require matlab and scipy to be\ninstalled and be in the executable path. not having them means that\nthose tests cannot be run (they will be skipped) but all the other\ntests will run. to install all testing dependencies, other than scipy,\nrun ::\n\n    pip install -r requirements_tests.txt.\n\nto run the tests ::\n\n    python setup.py nosetests\n\n\nbuilding documentation\n----------------------\n\nthe documentation additionally requires sphinx (>= 1.7). the\ndocumentation dependencies can be installed by ::\n\n    pip install -r requirements_doc.txt\n\nto build the documentation ::\n\n    python setup.py build_sphinx\n\npython 2\n========\n\nthis package was designed and written for python 3, with python 2.7 and\n2.6 support added later. this does mean that a few things are a little\nclunky in python 2. examples include requiring ``unicode`` keys for\ndictionaries, the ``int`` and ``long`` types both being mapped to the\npython 3 ``int`` type, etc. the storage format's metadata looks more\nfamiliar from a python 3 standpoint as well.\n\nthe documentation is written in terms of python 3 syntax and types\nprimarily. important python 2 information beyond direct translations of\nsyntax and types will be pointed out.\n\nhierarchal data format 5 (hdf5)\n===============================\n\nhdf5 files (see http://www.hdfgroup.org/hdf5/) are a commonly used file\nformat for exchange of numerical data. it has built in support for a\nlarge variety of number formats (un/signed integers, floating point\nnumbers, strings, etc.) as scalars and arrays, enums and compound types.\nit also handles differences in data representation on different hardware\nplatforms (endianness, different floating point formats, etc.). as can\nbe imagined from the name, data is represented in an hdf5 file in a\nhierarchal form modelling a unix filesystem (datasets are equivalent to\nfiles, groups are equivalent to directories, and links are supported).\n\nthis package interfaces hdf5 files using the h5py package\n(http://www.h5py.org/) as opposed to the pytables package\n(http://www.pytables.org/).\n\nmatlab mat v7.3 file support\n============================\n\nmatlab (http://www.mathworks.com/) mat files version 7.3 and later are\nhdf5 files with a different file extension (``.mat``) and a very\nspecific set of meta-data and storage conventions. this package provides\nread and write support for a limited set of python and matlab types.\n\nscipy (http://scipy.org/) has functions to read and write the older mat\nfile formats. this package has functions modeled after the\n``scipy.io.savemat`` and ``scipy.io.loadmat`` functions, that have the\nsame names and similar arguments. the dispatch to the scipy versions if\nthe mat file format is not an hdf5 based one.\n\nsupported types\n===============\n\nthe supported python and matlab types are given in the tables below.\nthe tables assume that one has imported collections and numpy as::\n\n    import collections as cl\n    import numpy as np\n\nthe table gives which python types can be read and written, the first\nversion of this package to support it, the numpy type it gets\nconverted to for storage (if type information is not written, that\nwill be what it is read back as) the matlab class it becomes if\ntargetting a mat file, and the first version of this package to\nsupport writing it so matlab can read it.\n\n===============  =======  ==========================  ===========  ==============\npython                                                matlab\n----------------------------------------------------  ---------------------------\ntype             version  converted to                class        version\n===============  =======  ==========================  ===========  ==============\nbool             0.1      np.bool\\_ or np.uint8       logical      0.1 [1]_\nnone             0.1      ``np.float64([])``          ``[]``       0.1\nint [2]_ [3]_    0.1      np.int64 [2]_               int64        0.1\nlong [3]_ [4]_   0.1      np.int64                    int64        0.1\nfloat            0.1      np.float64                  double       0.1\ncomplex          0.1      np.complex128               double       0.1\nstr              0.1      np.uint32/16                char         0.1 [5]_\nbytes            0.1      np.bytes\\_ or np.uint16     char         0.1 [6]_\nbytearray        0.1      np.bytes\\_ or np.uint16     char         0.1 [6]_\nlist             0.1      np.object\\_                 cell         0.1\ntuple            0.1      np.object\\_                 cell         0.1\nset              0.1      np.object\\_                 cell         0.1\nfrozenset        0.1      np.object\\_                 cell         0.1\ncl.deque         0.1      np.object\\_                 cell         0.1\ndict             0.1                                  struct       0.1 [7]_\nnp.bool\\_        0.1                                  logical      0.1\nnp.void          0.1\nnp.uint8         0.1                                  uint8        0.1\nnp.uint16        0.1                                  uint16       0.1\nnp.uint32        0.1                                  uint32       0.1\nnp.uint64        0.1                                  uint64       0.1\nnp.uint8         0.1                                  int8         0.1\nnp.int16         0.1                                  int16        0.1\nnp.int32         0.1                                  int32        0.1\nnp.int64         0.1                                  int64        0.1\nnp.float16 [8]_  0.1\nnp.float32       0.1                                  single       0.1\nnp.float64       0.1                                  double       0.1\nnp.complex64     0.1                                  single       0.1\nnp.complex128    0.1                                  double       0.1\nnp.str\\_         0.1      np.uint32/16                char/uint32  0.1 [5]_\nnp.bytes\\_       0.1      np.bytes\\_ or np.uint16     char         0.1 [6]_\nnp.object\\_      0.1                                  cell         0.1\nnp.ndarray       0.1      [9]_ [10]_                  [9]_ [10]_   0.1 [9]_ [11]_\nnp.matrix        0.1      [9]_                        [9]_         0.1 [9]_\nnp.chararray     0.1      [9]_                        [9]_         0.1 [9]_\nnp.recarray      0.1      structured np.ndarray       [9]_ [10]_   0.1 [9]_\n===============  =======  ==========================  ===========  ==============\n\n.. [1] depends on the selected options. always ``np.uint8`` when doing\n       matlab compatiblity, or if the option is explicitly set.\n.. [2] in python 2.x, it may be read back as a ``long`` if it can't fit\n       in the size of an ``int``.\n.. [3] must be small enough to fit into an ``np.int64``.\n.. [4] type found only in python 2.x. python 2.x's ``long`` and ``int``\n       are unified into a single ``int`` type in python 3.x. read as an\n       ``int`` in python 3.x.\n.. [5] depends on the selected options and whether it can be converted\n       to utf-16 without using doublets. if the option is explicity set\n       (or implicitly when doing matlab compatibility) and it can be\n       converted to utf-16 without losing any characters that can't be\n       represented in utf-16 or using utf-16 doublets (matlab doesn't\n       support them), then it is written as ``np.uint16`` in utf-16\n       encoding. otherwise, it is stored at ``np.uint32`` in utf-32\n       encoding.\n.. [6] depends on the selected options. if the option is explicitly set\n       (or implicitly when doing matlab compatibility), it will be\n       stored as ``np.uint16`` in utf-16 encoding unless it has\n       non-ascii characters in which case a ``notimplementederror`` is\n       thrown). otherwise, it is just written as ``np.bytes_``.\n.. [7] all keys must be ``str`` in python 3 or ``unicode`` in python 2.\n       they cannot have null characters (``'\\x00'``) or forward slashes\n       (``'/'``) in them.\n.. [8] ``np.float16`` are not supported for h5py versions before\n       ``2.2``.\n.. [9] container types are only supported if their underlying dtype is\n       supported. data conversions are done based on its dtype.\n.. [10] structured ``np.ndarray`` s (have fields in their dtypes) can be\n        written as an hdf5 compound type or as an hdf5 group with\n        datasets holding its fields (either the values directly, or as\n        an hdf5 reference array to the values for the different elements\n        of the data). can only be written as an hdf5 compound type if\n        none of its field are of dtype ``'object'``. field names cannot\n        have null characters (``'\\x00'``) and, when writing as an hdf5\n        group, forward slashes (``'/'``) in them.\n.. [11] structured ``np.ndarray`` s with no elements, when written like a\n        structure, will not be read back with the right dtypes for their\n        fields (will all become 'object').\n\nthis table gives the matlab classes that can be read from a mat file,\nthe first version of this package that can read them, and the python\ntype they are read as.\n\n===============  =======  =================================\nmatlab class     version  python type\n===============  =======  =================================\nlogical          0.1      np.bool\\_\nsingle           0.1      np.float32 or np.complex64 [12]_\ndouble           0.1      np.float64 or np.complex128 [12]_\nuint8            0.1      np.uint8\nuint16           0.1      np.uint16\nuint32           0.1      np.uint32\nuint64           0.1      np.uint64\nint8             0.1      np.int8\nint16            0.1      np.int16\nint32            0.1      np.int32\nint64            0.1      np.int64\nchar             0.1      np.str\\_\nstruct           0.1      structured np.ndarray\ncell             0.1      np.object\\_\ncanonical empty  0.1      ``np.float64([])``\n===============  =======  =================================\n\n.. [12] depends on whether there is a complex part or not.\n\n\nfile incompatibilities\n======================\n\nthe storage of empty ``numpy.ndarray`` (or objects that would be stored like\none) when the ``options.store_shape_for_empty`` (implicitly set when matlab\ncompatibility is enabled) is incompatible with both matlab and the main\nbranch of this package after 2021-07-11 due to a bug (issue #114) that cannot\nbe fixed without breaking compatibility in the 0.1.x series and thus\nwill not be fixed (it is however fixed in the main branch after 2021-07-11)\nsince such a fix would mean the version could not be of the form 0.1.x.\n\nthe incompatibility is caused by storing the array shape in the dataset after\nreversing the dimension order instead of before, meaning that the array is\nread with its dimensions reversed from what is expected if read by matlab\nor the main branch after 2021-07-11.\n\n\nversions\n========\n\n0.1.19. bugfix release.\n        * issue #122 and #124. replaced use of deprecated ``numpy.asscalar``\n          functions with the ``numpy.ndarray.item`` method.\n        * issue #123. forced the use of english month and day of the week names\n          in the hdf5 header for matlab compatibility.\n        * issue #125. fixed accidental collection of\n          ``pkg_resources.parse_version`` from setuptools as a marshaller now\n          that it is a class.\n0.1.18. performance improving release.\n        * pull request #111 from daniel hrisca. many repeated calls to the\n          ``__getitem__`` methods of objects were turned into single calls.\n        * further reducionts in ``__getitem__`` calls in the spirit of pr #111.\n\n0.1.17. bugfix and deprecation workaround release that fixed the following.\n        * issue #109. fixed the fix issue #102 for 32-bit platforms (previous\n          fix was segfaulting).\n        * moved to using ``pkg_resources.parse_version`` from ``setuptools``\n          with ``distutils.version`` classes as a fallback instead of just the\n          later to prepare for the removal of ``distutils`` (pep 632) and\n          prevent warnings on python versions where it is marked as deprecated.\n        * issue #110. changed all uses of the ``tostring`` method on numpy types\n          to using ``tobytes`` if available, with ``tostring`` as the fallback\n          for old versions of numpy where it is not.\n\n0.1.16. bugfix release that fixed the following bugs.\n        * issue #81 and #82. ``h5py.file`` will require the mode to be\n          passed explicitly in the future. all calls without passing it were\n          fixed to pass it.\n        * issue #102. added support for h5py 3.0 and 3.1.\n        * issue #73. fixed bug where a missing variable in ``loadmat`` would\n          cause the function to think that the file is a pre v7.3 format mat\n          file fall back to ``scipy.io.loadmat`` which won't work since the file\n          is a v7.3 format mat file.\n        * fixed formatting issues in the docstrings and the documentation that\n          prevented the documentation from building.\n\n0.1.15. bugfix release that fixed the following bugs.\n        * issue #68. fixed bug where ``str`` and ``numpy.unicode_``\n          strings (but not ndarrays of them) were saved in\n          ``uint32`` format regardless of the value of\n          ``options.convert_numpy_bytes_to_utf16``.\n        * issue #70. updated ``setup.py`` and ``requirements.txt`` to specify\n          the maximum versions of numpy and h5py that can be used for specific\n          python versions (avoid version with dropped support).\n        * issue #71. fixed bug where the ``'python_fields'`` attribute wouldn't\n          always be written when doing python metadata for data written in\n          a struct-like fashion. the bug caused the field order to not be\n          preserved when writing and reading.\n        * fixed an assertion in the tests to handle field re-ordering when\n          no metadata is used for structured dtypes that only worked on\n          older versions of numpy.\n        * issue #72. fixed bug where python collections filled with ndarrays\n          that all have the same shape were converted to multi-dimensional\n          object ndarrays instead of a 1d object ndarray of the elements.\n\n0.1.14. bugfix release that also added a couple features.\n        * issue #45. fixed syntax errors in unicode strings for python\n          3.0 to 3.2.\n        * issues #44 and #47. fixed bugs in testing of conversion and\n          storage of string types.\n        * issue #46. fixed raising of ``runtimewarnings`` in tests due\n          to signalling nans.\n        * added requirements files for building documentation and\n          running tests.\n        * made it so that matlab compatability tests are skipped if\n          matlab is not found, instead of raising errors.\n\n0.1.13. bugfix release fixing the following bug.\n        * issue #36. fixed bugs in writing ``int`` and ``long`` to hdf5\n          and their tests on 32 bit systems.\n\n0.1.12. bugfix release fixing the following bugs. in addition, copyright years were also updated and notices put in the matlab files used for testing.\n        * issue #32. fixed transposing before reshaping ``np.ndarray``\n          when reading from hdf5 files where python metadata was stored\n          but not matlab metadata.\n        * issue #33. fixed the loss of the number of characters when\n          reading empty numpy string arrays.\n        * issue #34. fixed a conversion error when ``np.chararray`` are\n          written with matlab metadata.\n\n0.1.11. bugfix release fixing the following.\n        * issue #30. fixed ``loadmat`` not opening files in read mode.\n\n0.1.10. minor feature/performance fix release doing the following.\n        * issue #29. added ``writes`` and ``reads`` functions to write\n          and read more than one piece of data at a time and made\n          ``savemat`` and ``loadmat`` use them to increase performance.\n          previously, the hdf5 file was being opened and closed for\n          each piece of data, which impacted performance, especially\n\t  for large files.\n\n0.1.9. bugfix and minor feature release doing the following.\n       * issue #23. fixed bug where a structured ``np.ndarray`` with\n         a field name of ``'o'`` could never be written as an\n         hdf5 compound dataset (falsely thought a field's dtype was\n         object).\n       * issue #6. added optional data compression and the storage of\n         data checksums. controlled by several new options.\n\n0.1.8. bugfix release fixing the following two bugs.\n       * issue #21. fixed bug where the ``'matlab_class'`` attribute is\n         not set when writing ``dict`` types when writing matlab\n         metadata.\n       * issue #22. fixed bug where null characters (``'\\x00'``) and\n         forward slashes (``'/'``) were allowed in ``dict`` keys and the\n         field names of structured ``np.ndarray`` (except that forward\n         slashes are allowed when the\n         ``structured_numpy_ndarray_as_struct`` is not set as is the\n         case when the ``matlab_compatible`` option is set). these\n         cause problems for the ``h5py`` package and the hdf5 library.\n         ``notimplementederror`` is now thrown in these cases.\n\n0.1.7. bugfix release with an added compatibility option and some added test code. did the following.\n       * fixed an issue reading variables larger than 2 gb in matlab\n         mat v7.3 files when no explicit variable names to read are\n         given to ``hdf5storage.loadmat``. fix also reduces memory\n         consumption and processing time a little bit by removing an\n         unneeded memory copy.\n       * ``options`` now will accept any additional keyword arguments it\n         doesn't support, ignoring them, to be api compatible with future\n         package versions with added options.\n       * added tests for reading data that has been compressed or had\n         other hdf5 filters applied.\n\n0.1.6. bugfix release fixing a bug with determining the maximum size of a python 2.x ``int`` on a 32-bit system.\n\n0.1.5. bugfix release fixing the following bug.\n       * fixed bug where an ``int`` could be stored that is too big to\n         fit into an ``int`` when read back in python 2.x. when it is\n         too big, it is converted to a ``long``.\n       * fixed a bug where an ``int`` or ``long`` that is too big to\n\t big to fit into an ``np.int64`` raised the wrong exception.\n       * fixed bug where fields names for structured ``np.ndarray`` with\n         non-ascii characters (assumed to be utf-8 encoded in\n         python 2.x) can't be read or written properly.\n       * fixed bug where ``np.bytes_`` with non-ascii characters can\n         were converted incorrectly to utf-16 when that option is set\n         (set implicitly when doing matlab compatibility). now, it throws\n         a ``notimplementederror``.\n\n0.1.4. bugfix release fixing the following bugs. thanks goes to `mrdomino <https://github.com/mrdomino>`_ for writing the bug fixes.\n       * fixed bug where ``dtype`` is used as a keyword parameter of\n         ``np.ndarray.astype`` when it is a positional argument.\n       * fixed error caused by ``h5py.__version__`` being absent on\n         ubuntu 12.04.\n\n0.1.3. bugfix release fixing the following bug.\n       * fixed broken ability to correctly read and write empty\n         structured ``np.ndarray`` (has fields).\n\n0.1.2. bugfix release fixing the following bugs.\n       * removed mistaken support for ``np.float16`` for h5py versions\n         before ``2.2`` since that was when support for it was\n         introduced.\n       * structured ``np.ndarray`` where one or more fields is of the\n         ``'object'`` dtype can now be written without an error when\n         the ``structured_numpy_ndarray_as_struct`` option is not set.\n         they are written as an hdf5 group, as if the option was set.\n       * support for the ``'matlab_fields'`` attribute for data types\n         that are structures in matlab has been added for when the\n         version of the h5py package being used is ``2.3`` or greater.\n         support is still missing for earlier versions (this package\n         requires a minimum version of ``2.1``).\n       * the check for non-unicode string keys (``str`` in python 3 and\n         ``unicode`` in python 2) in the type ``dict`` is done right\n         before any changes are made to the hdf5 file instead of in the\n         middle so that no changes are applied if an invalid key is\n         present.\n       * hdf5 userblock set with the proper metadata for matlab support\n         right at the beginning of when data is being written to an hdf5\n         file instead of at the end, meaning the writing can crash and\n         the file will still be a valid matlab file.\n\n0.1.1. bugfix release fixing the following bugs.\n       * ``str`` is now written like ``numpy.str_`` instead of\n         ``numpy.bytes_``.\n       * complex numbers where the real or imaginary part are ``nan``\n         but the other part are not are now read correctly as opposed\n         to setting both parts to ``nan``.\n       * fixed bugs in string conversions on python 2 resulting from\n         ``str.decode()`` and ``unicode.encode()`` not taking the same\n         keyword arguments as in python 3.\n       * matlab structure arrays can now be read without producing an\n         error on python 2.\n       * ``numpy.str_`` now written as ``numpy.uint16`` on python 2 if\n         the ``convert_numpy_str_to_utf16`` option is set and the\n         conversion can be done without using utf-16 doublets, instead\n         of always writing them as ``numpy.uint32``.\n\n0.1. initial version.\n",
  "docs_url": "https://pythonhosted.org/hdf5storage/",
  "keywords": "hdf5 matlab",
  "license": "bsd",
  "name": "hdf5storage",
  "package_url": "https://pypi.org/project/hdf5storage/",
  "project_url": "https://pypi.org/project/hdf5storage/",
  "project_urls": {
    "Homepage": "https://github.com/frejanordsiek/hdf5storage"
  },
  "release_url": "https://pypi.org/project/hdf5storage/0.1.19/",
  "requires_dist": [
    "numpy (<1.12.0) ; python_version == \"2.6\"",
    "h5py (>=2.1) ; python_version == \"2.6\"",
    "numpy ; python_version == \"2.7\"",
    "h5py (>=2.1) ; python_version == \"2.7\"",
    "numpy (<1.6.0) ; python_version == \"3.0\"",
    "h5py (<2.4,>=2.1) ; python_version == \"3.0\"",
    "numpy (<1.8.0) ; python_version == \"3.1\"",
    "h5py (<2.7,>=2.1) ; python_version == \"3.1\"",
    "numpy (<1.12.0) ; python_version == \"3.2\"",
    "h5py (<2.7,>=2.1) ; python_version == \"3.2\"",
    "numpy (<1.12.0) ; python_version == \"3.3\"",
    "h5py (>=2.1) ; python_version >= \"3.3\"",
    "numpy ; python_version >= \"3.4\""
  ],
  "requires_python": "",
  "summary": "utilities to read/write python types to/from hdf5 files, including matlab v7.3 mat files.",
  "version": "0.1.19",
  "releases": [],
  "developers": [
    "fnordsie@posteo.net",
    "freja_nordsiek"
  ],
  "kwds": "hdf5 hdf5storage matlab_compatible pickling hdfgroup",
  "license_kwds": "bsd",
  "libtype": "pypi",
  "id": "pypi_hdf5storage",
  "homepage": "https://github.com/frejanordsiek/hdf5storage",
  "release_count": 20,
  "dependency_ids": [
    "pypi_h5py",
    "pypi_numpy"
  ]
}