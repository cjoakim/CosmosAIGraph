{
  "classifiers": [
    "development status :: 3 - alpha",
    "license :: osi approved :: apache software license",
    "operating system :: macos :: macos x",
    "operating system :: microsoft :: windows",
    "operating system :: posix :: linux",
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "programming language :: sql",
    "topic :: software development :: quality assurance",
    "typing :: typed"
  ],
  "description": "# sqlfmt\n\n[![pypi](https://img.shields.io/pypi/v/shandy-sqlfmt)](https://pypi.org/project/shandy-sqlfmt/)\n[![downloads](https://static.pepy.tech/personalized-badge/shandy-sqlfmt?period=month&units=international_system&left_color=grey&right_color=orange&left_text=downloads/mo)](https://pepy.tech/project/shandy-sqlfmt)\n[![test](https://github.com/tconbeer/sqlfmt/actions/workflows/test.yml/badge.svg?branch=main&event=push)](https://github.com/tconbeer/sqlfmt/actions/workflows/test.yml)\n\n![pypi - python version](https://img.shields.io/pypi/pyversions/shandy-sqlfmt)\n![runs on linux | macos | windows](https://img.shields.io/badge/runs%20on-linux%20%7c%20macos%20%7c%20windows-blue)\n\n\nsqlfmt formats your dbt sql files so you don't have to. it is similar in nature to black, gofmt, \nand rustfmt (but for sql). \n\n1. **sqlfmt promotes collaboration.** an auto-formatter makes it easier to collaborate with your team and solicit contributions from new people. you will never have to mention (or argue about) code style in code reviews again.\n2. **sqlfmt is fast.** forget about formatting your code, and spend your time on business logic instead. sqlfmt processes hundreds of files per second and only operates on files that have changed since the last run.\n3. **sqlfmt works with jinja.** it formats the code that users look at, and therefore doesn't need to know anything about what happens after the templates are rendered.\n3. **sqlfmt integrates with your workflow.** as a cli written in python, it's easy to install locally on any os and run in ci. plays well with dbt, pre-commit, sqlfluff, vscode, and github actions. sqlfmt powers the dbt cloud ide's format button.\n\nsqlfmt is not configurable, except for line length. it enforces a single style. sqlfmt maintains comments and some extra newlines, but largely ignores all indentation and line breaks in the input file.\n\nsqlfmt is not a linter. it does not parse your code into an ast; it just lexes it and tracks a small subset of tokens that impact formatting. this lets us \"do one thing and do it well:\" sqlfmt is very fast, and easier to maintain and extend than linters that need a full sql grammar.\n\nfor now, sqlfmt only works on `select`, `delete`, `grant`, `revoke`, and `create function` statements (which is all you need if you use sqlfmt with a dbt project). it is being extended to additional ddl and dml. visit [this tracking issue](https://github.com/tconbeer/sqlfmt/issues/262) for more information.\n\n## documentation\n\nplease visit [docs.sqlfmt.com](https://docs.sqlfmt.com) for more information on getting started, integrations, the sqlfmt style, and an api reference. or keep reading for an excerpt from the full docs.\n\n### installation\n\n#### try it first\nwant to test out sqlfmt on a query before you install it? go to [sqlfmt.com](https://sqlfmt.com) to use the interactive, web-based version.\n\n#### install using pipx (recommended)\nsqlfmt is a pip-installable python package listed on pypi under the name `shandy-sqlfmt`. you should install it into a virtual environment, which `pipx` does automatically:\n\n```\npipx install shandy-sqlfmt\n```\n\nto install with the jinjafmt extra (which will also install the python code formatter, *black*):\n\n```\npipx install shandy-sqlfmt[jinjafmt]\n```\n\nfor more installation options, [read the docs](https://docs.sqlfmt.com/getting-started/installation).\n\n### getting started\n\n#### other prerequisites\n**sqlfmt will not always produce the formatted output you might want.** it might even break your sql syntax. it is **highly recommended** to only run sqlfmt on files in a version control system (like git), so that it is easy for you to revert any changes made by sqlfmt. on your first run, be sure to make a commit before running sqlfmt.\n\nthere are certain situations where sqlfmt can be considered to be in beta, or even more mature than that. those are:\n\n1. using sqlfmt to format select statements for one of the major dialects (postgressql, mysql, snowflake, bq, redshift).\n\n1. using sqlfmt to format a dbt project (which may also include jinja and some minimal ddl/dml, like grants, create function, etc.) for one of the major dialects.\n\nhowever, there are other use cases where sqlfmt is very much alpha:\n\n1. formatting some dialects that deviate from ansi or postgres, like t-sql (sqlserver).\n\n1. formatting other ddl (create table, insert, etc.) (sqlfmt attempts to be no-op on these statements as much as possible).\n\nin these domains sqlfmt is nowhere near \"feature complete\" and caution is highly advised.\n\n#### using sqlfmt\nto list commands and options:\n\n```bash\nsqlfmt --help\n```\n\nif you want to format all `.sql` and `.sql.jinja` files in your current working directory (and all nested directories), simply type:\n```bash\n$ sqlfmt .\n```\n\nif you don't want to format the files you have on disk, you can run sqlfmt with the `--check` option. sqlfmt will exit with code 1 if the files on disk are not properly formatted:\n```bash\n$ sqlfmt --check .\n```\nif you want to print a diff of changes that sqlfmt would make to format a file (but not update the file on disk), you can use the `--diff` option. `--diff` also exits with 1 on changes:\n```bash\n$ sqlfmt --diff .\n```\n\nfor more commands, see [the docs](https://docs.sqlfmt.com/getting-started/using-sqlfmt).\n\n#### configuring sqlfmt using pyproject.toml\n\nany command-line option for sqlfmt can also be set in a `pyproject.toml` file, under a `[tool.sqlfmt]` section header. options passed at the command line will override the settings in the config file. [see the docs](https://docs.sqlfmt.com/getting-started/configuring-sqlfmt) for more information.\n\n#### the jinjafmt extra\n\nsqlfmt loves properly-formatted jinja, too.\n\n[see the docs](https://docs.sqlfmt.com/getting-started/formatting-jinja) for more information about using the `jinjafmt` extra or disabling jinja formatting.\n\n### using sqlfmt with different sql dialects\n\nsqlfmt's rules are simple, which means it does not have to parse every single token in your query. this allows nearly all sql dialects to be formatted using sqlfmt's default \"polyglot\" dialect, which requires no configuration.\n\nthe exception to this is [clickhouse](https://docs.sqlfmt.com/dialects/#clickhouse), which is case-sensitive where other dialects are not. to prevent the lowercasing of function names, database identifiers, and aliases, use the `--dialect clickhouse` option when running sqlfmt. for example,\n\n```bash\n$ sqlfmt . --dialect clickhouse\n```\n\nthis can also be configured using the `pyproject.toml` file:\n\n```toml\n[tool.sqlfmt]\ndialect = \"clickhouse\"\n```\n\nnote that with this option, sqlfmt will not lowercase **most** non-reserved keywords, even common ones like `sum` or `count`. see (and please join) [this discussion](https://github.com/tconbeer/sqlfmt/discussions/229) for more on this topic.\n\n### integrations\n\nsqlfmt plays nicely with other analytics engineering tools. for more information, [see the docs](https://docs.sqlfmt.com/category/integrations).\n\n#### dbt\n\nsqlfmt was built for dbt, so only [minimal configuration](https://docs.sqlfmt.com/integrations/dbt) is required. we recommend excluding your `target` and `dbt_packages` directories from formatting. you can do this with the command-line `--exclude` option, or by setting `exclude` in your `pyproject.toml` file:\n\n```toml\n[tool.sqlfmt]\nexclude=[\"target/**/*\", \"dbt_packages/**/*\"]\n```\n\n#### other integrations\n\nconfig for other integrations is detailed in the docs linked below:\n\n- [pre-commit](https://docs.sqlfmt.com/integrations/pre-commit)\n- [sqlfluff](https://docs.sqlfmt.com/integrations/sqlfluff)\n- [vscode](https://docs.sqlfmt.com/integrations/vs-code)\n\n\n## the sqlfmt style\nthe only thing you can configure with sqlfmt is the desired line length of the formatted file. you can do this with the `--line-length` or `-l` options. the default is 88.\n\nsqlfmt borrows elements from well-accepted styles from other programming languages. it places opening brackets on the same line as preceding function names (like *black* for python and *1tbs* for c). it indents closing brackets to the same depth as the opening bracket (this is extended to statements that must be closed, like `case` and `end`).\n\nthe sqlfmt style is as simple as possible, with little-to-no special-casing of formatting concerns. while at first blush, this may not create a format that is as \"nice\" or \"expressive\" as hand-crafted indentation, over time, as you grow accustomed to the style, formatting becomes transparent and the consistency will allow you to jump between files, projects, and even companies much faster.\n\n[read more](https://docs.sqlfmt.com/style/)\n\n### why lowercase?\nbecause sql is code! but there are [other good reasons too](https://docs.sqlfmt.com/style/#why-lowercase).\n\n### why trailing commas?\nusing trailing commas follows the convention of every other written language and programming language. [but wait, there's more.](https://docs.sqlfmt.com/style/#why-trailing-commas)\n\n## contributing\n\n[![code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n[![checked with mypy](http://www.mypy-lang.org/static/mypy_badge.svg)](http://mypy-lang.org/)\n[![maintainability](https://api.codeclimate.com/v1/badges/8928f6662a67b8eaf092/maintainability)](https://codeclimate.com/github/tconbeer/sqlfmt/maintainability)\n[![test coverage](https://api.codeclimate.com/v1/badges/8928f6662a67b8eaf092/test_coverage)](https://codeclimate.com/github/tconbeer/sqlfmt/test_coverage)\n\n### providing feedback\n\nwe'd love to hear from you! [open an issue](https://github.com/tconbeer/sqlfmt/issues/new/choose) to request new features, report bad formatting, or say hello.\n\n### setting up your dev environment and running tests\n\n1. install [poetry](https://python-poetry.org/docs/#installation) v1.2 or higher if you don't have it already. you may also need or want pyenv, make, and gcc. a complete setup from a fresh install of ubuntu can be found [here](https://github.com/tconbeer/linux_setup).\n1. clone this repo into a directory (let's call it `sqlfmt`), then `cd sqlfmt`.\n1. use `poetry install --all-extras --sync` to install the project (editable) and its dependencies (including the `jinjafmt` and `sqlfmt_primer` extras) into a new virtual env.\n1. use `poetry shell` to spawn a subshell.\n1. type `make` to run all tests and linters, or run `pytest`, `black`, `flake8`, `isort`, and `mypy` individually.\n\n### updating primer repos to reflect formatting changes\n\n1. make sure all changes are committed to sqlfmt.\n1. check out `main` in the repo and make sure you `pull` changes locally.\n1. check out the `unformatted` tag in the repo with `git checkout -b chore/apply-abc123 unformatted` where `abc123` is the hash of the most recent sqlfmt commit (from 1).\n1. run sqlfmt against the working tree, then `git add .` and `git commit -m \"chore: apply sqlfmt abc123\"`.\n1. we will have conflicts with main that we want to ignore, so merge main into this branch, ignoring anything on main: `git merge -s ours main`.\n1. push and open a pr; squash and merge. grab the commit sha.\n1. paste the commit sha as a ref into `primer.py`.\n1. run `sqlfmt_primer -k` to clear the cache, then update the stats in `primer.py` to match the results.\n",
  "docs_url": null,
  "keywords": "",
  "license": "apache-2.0",
  "name": "shandy-sqlfmt",
  "package_url": "https://pypi.org/project/shandy-sqlfmt/",
  "project_url": "https://pypi.org/project/shandy-sqlfmt/",
  "project_urls": {
    "Documentation": "https://docs.sqlfmt.com",
    "Homepage": "https://sqlfmt.com",
    "Repository": "https://github.com/tconbeer/sqlfmt"
  },
  "release_url": "https://pypi.org/project/shandy-sqlfmt/0.21.1/",
  "requires_dist": [
    "click (>=8.0,<9.0)",
    "tqdm (>=4.0,<5.0)",
    "platformdirs (>=2.4,<5.0)",
    "importlib_metadata; python_version < \"3.8\"",
    "tomli (>=2.0,<3.0); python_version < \"3.11\"",
    "jinja2 (>=3.0,<4.0)",
    "black; extra == \"jinjafmt\"",
    "gitpython (>=3.1.24,<4.0.0); extra == \"sqlfmt-primer\""
  ],
  "requires_python": ">=3.8,<4.0",
  "summary": "sqlfmt formats your dbt sql files so you don't have to.",
  "version": "0.21.1",
  "releases": [],
  "developers": [
    "ted@shandy.io",
    "ted_conbeer"
  ],
  "kwds": "mypy_badge sqlfmt sqlfmt_primer py dbt",
  "license_kwds": "apache-2.0",
  "libtype": "pypi",
  "id": "pypi_shandy_sqlfmt",
  "homepage": "https://sqlfmt.com",
  "release_count": 43,
  "dependency_ids": [
    "pypi_black",
    "pypi_click",
    "pypi_gitpython",
    "pypi_importlib_metadata",
    "pypi_jinja2",
    "pypi_platformdirs",
    "pypi_tomli",
    "pypi_tqdm"
  ]
}