{
  "classifiers": [
    "development status :: 4 - beta",
    "intended audience :: developers",
    "license :: osi approved :: apache software license",
    "license :: osi approved :: gnu lesser general public license v3 or later (lgplv3+)",
    "programming language :: python",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "luqum - a lucene query parser in python, using ply\n#########################################################\n\n|pypi-version| |readthedocs| |travis| |coveralls|\n\n|logo| \n\n\"luqum\" (as in lucene query manipolator) is a tool to parse queries \nwritten in the `lucene query dsl`_ and build an abstract syntax tree \nto inspect, analyze or otherwise manipulate search queries.\n\nit enables enriching the lucene query dsl meanings\n(for example to support nested object searches or have particular treatments on some fields),\nand transform lucene dsl queries to native `elasticsearch json dsl`_\n\nthanks to luqum, your users may continue to write queries like:\n`author.last_name:smith or author:(age:[25 to 34] and first_name:john)`\nand you will be able to leverage elasticsearch query dsl,\nand control the precise meaning of each search terms.\n\nluqum is dual licensed under apache2.0 and lgplv3.\n\ncompatible with python 3.6+\n\ninstallation\n============\n\n``pip install luqum``\n\n\ndependencies\n============\n\n`ply`_ >= 3.11\n\n\nfull documentation\n==================\n\nhttp://luqum.readthedocs.org/en/latest/\n\n\n.. _`lucene query dsl` : https://lucene.apache.org/core/3_6_0/queryparsersyntax.html\n.. _`elasticsearch json dsl`: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html\n\n.. _`ply`: http://www.dabeaz.com/ply/\n\n.. |logo| image:: https://raw.githubusercontent.com/jurismarches/luqum/master/luqum-logo.png\n\n.. |pypi-version| image:: https://img.shields.io/pypi/v/luqum.svg\n    :target: https://pypi.python.org/pypi/luqum\n    :alt: latest pypi version\n.. |travis| image:: http://img.shields.io/travis/jurismarches/luqum/master.svg?style=flat\n    :target: https://travis-ci.org/jurismarches/luqum\n.. |coveralls| image:: http://img.shields.io/coveralls/jurismarches/luqum/master.svg?style=flat\n    :target: https://coveralls.io/r/jurismarches/luqum\n.. |readthedocs| image:: https://readthedocs.org/projects/luqum/badge/?version=latest\n    :target: http://luqum.readthedocs.org/en/latest/?badge=latest\n    :alt: documentation status\n\n\n\n\nchangelog for luqum\n###################\n\nthe format is based on `keep a changelog`_\nand this project tries to adhere to `semantic versioning`_.\n\n.. _`keep a changelog`: http://keepachangelog.com/en/1.0.0/\n.. _`semantic versioning`: http://semver.org/spec/v2.0.0.html\n\n\n0.13.0 - 2023-03-24\n===================\n\nadded\n-----\n\n* add support for unbounded ranges\n\n  support is added for open ranges, i.e. inequality operators in\n  front of a term. in tree form, the < is named to, and > is named from.\n\n  additionally, a treetransformer is also added, to convert these\n  open ranges to more traditional range objects.\n\n  to properly support escaping, some adjustments were made to how escaping\n  sequences work. after careful evaluation of how apache lucene handles\n  escape sequences, it appears that random characters can be escaped, even\n  if they result in unknown escape sequences: the escaped character is\n  always yielded. this makes support for operations such as `<\\=foo` a lot\n  less complicated.\n\n  there is no support in the elasticsearchquerybuilder.\n\n0.12.1 - 2023-02-08\n===================\n\nfixed\n-----\n\n- precedence for unknown operation and boost (#89, thanks to @jscu-cni)\n\n\n0.12.0 - 2022-10-13\n===================\n\nchanged\n-------\n\n- boost can be implicit ; by default, the boost factor is 1\n\nadded\n-----\n\n- add support for lucene and elasticsearch boolean operations (#71, thanks to @linefeedse):\n\n  * introduce the booleanoperation\n  * add its resolution in elasticsearch transformer\n  * add it as a possible resolver for the unknown operation (no explicit operator in query)\n\n- set e element as elasticsearchquerybuilder's attributes (#75, thanks to @qcoumes):\n\n  this allows to override elements such as emust, eword, ...,\n  without the need of overriding elasticsearchquerybuilder's methods.\n\n- explicit support for python 3.9 and python 3.10 (#76)\n- add a thread safe parse function (#82)\n\nfixed\n-----\n\n- cast tokenvalue.__str__ return value to string (#74, thanks to @delkopiso)\n- isolated comma should be parsed as a word (#80)\n- better handling of escaped wildcards\n\ndocs\n----\n\n- add boolean operation to doc\n- fix quick start documentation\n- updated readthedocs instructions\n\nci\n--\n\n- run tests with github actions\n- update all libraries for dev:\n\n  * switch from nose to pytest as nose is not python3.10 compatible\n  * remove old travis tests\n\n0.11.0 - 2021-01-06\n===================\n\nchanged\n-------\n\n- completely modified the naming module and `auto_name` function, as it was not practical as is.\n\nadded\n-----\n\n- added tools to build visual explanations about why a request matches a results\n  (leveraging `elasticsearch named queries`__.\n- added a visitor and transformer that tracks path to element while visiting the tree.\n\n__ https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html#request-body-search-queries-and-filters\n\nfixed\n-----\n\n- fixed the handling of names when transforming luqum tree to elasticsearch queries\n  and added integration tests.\n\n\n0.10.0 - 2020-09-22\n===================\n\nadded\n-----\n\n- support for parsing regular expressions like `/foo/` (no transformation to elasticsearch\u00a0dsl yet)\n- basic support for head and tail of expressions (the separators)\n  and for their position (pos and size) in original text\n- added `auto_head_tail` util\n  (use it if you build your tree programatically and want a printable representation)\n- tree item now support a `clone_item` method and a setter for children.\n  this should help with making transformation pattern easier.\n- new `visitor.treevisitor` and `visitor.treetransformer` classes to help in processing trees\n  `utils.lucenetreevisitor`, `utils.lucenetreevisitorv2` and `utils.lucenetreetransformer`\n  are warned as deprecated (but still works).\n\nchanged\n-------\n\n- support for python 3.8 added, support for python 3.4 and 3.5 dropped\n- better printing of proximity and fuzzy items (preserve implicit nature of degree)\n- raise `illegalcharactererror` on illegal character found instead of printing and skipping\n- renamed `parseerror` to `parsesyntaxerror`, and kept `parseerror` as a parent exception\n\nfixed\n-----\n\n- range item were not checking for bounds type on equality\n- boost item were not checking for force on equality\n- reorganize tests\n\n0.9.0 - 2020-07-29\n==================\n\nadded\n-----\n\n- support for elasticsearch 7\n\n0.8.1 - 2019-11-01\n==================\n\nadded\n-----\n\n- added apache 2 license, while maintaining lgplv3+\n\n0.8.0 - 2019-08-02\n==================\n\nadded\n-----\n\n- support for `multi_match` query in `elasticsearchquerybuilder`.\n\nfixed\n-----\n\n- schemaanalyzer, should count non text fields as not_analyzed\n- `elasticsearchquerybuilder`'s `field_options` parameter\n  can accept `match_type` instead of `type` to change request type.\n  this is now the prefered way over `type`\n  which may more easily conflict with request parameters.\n\n0.7.5 - 2018-10-29\n==================\n\nadded\n-----\n\n- handling sub fields (aka `multi-fields`__)\n\n__ https://www.elastic.co/guide/en/elasticsearch/reference/6.3/multi-fields.html\n\nfixed\n-----\n\n- fixed bug on equality, having more children in one tree than in the other,\n  was not triggering inequality if first nodes were the same !\n\n0.7.4 - 2018-08-28\n==================\n\nadded\n-----\n\n- handling `special characters escaping`_\n- added `iter_wildcards` and `split_wildcards` to have a finer grained search of wildcard in terms\n\n.. _`special characters escaping`: https://lucene.apache.org/core/3_6_0/queryparsersyntax.html#escaping%20special%20characters\n\nfixed\n-----\n\n- fixed bug in `luqum.utils.lucenetreetransformer` when removing node\n- fixed bug in handling approx operator on multiple words in\n  `luqum.elasticsearch.visitor.elasticsearchquerybuilder`\n- test coverage now check branch\n\n0.7.3 - 2018-06-08\n===================\n\nfixed\n-----\n\n- on elasticsearch query transformation, luqum was interpreting wildcards in phrases where as it should not\n\n0.7.2 - 2018-05-14\n===================\n\nfixed\n-----\n\n- adding the `zero_terms_query` to `match_phrase` was a mistake (introduced in 0.7.0).\n\nadded\n-----\n\n- 0.7.0 introduced the `match` query for queries with single words on analyzed fields,\n  whereas before it was using `match_phrase`.\n  although this is more coherent,\n  this may cause difficulties on edge cases\n  as this may leads to results different from previous release.\n\n  this behaviour might be disabled using a new `match_word_as_phrase` parameter\n  to `luqum.elasticsearch.visitor.elasticsearchquerybuilder`.\n  note that this parameter maybe removed in future release.\n  (the `field_options` might be used instead on a per field basis).\n\n\n0.7.1 - 2018-03-20\n==================\n\nfixed\n-----\n\n- version introduced because of a bad upload on pypi (restructured description error)\n\n0.7.0 - 2018-03-20\n==================\n\nadded\n-----\n\n- support for named queries (see `elastic named queries`__)\n- helper to automatically create elasticsearch query builder options from the index configuration,\n  see: `luqum.elasticsearch.schema`\n- a new arg `field_options` on `luqum.elasticsearch.visitor.elasticsearchquerybuilder`\n  allows to add parameters to field queries.\n  it also permits to control the type of query for match queries.\n- now for a query with a single word, if the field is analyzed,\n  the transformation to elastic search query will use a \"match\" query instead of a \"match_phrase\".\n  this is more conform in behaviour to what the expression of \"query_string\" would produce.\n\n\nfixed\n-----\n\n- small fix in utils.treetransformerv2,\n  which was not removing elements from lists or tuple as stated\n- single word matches, are now `match`, and not `match_phrase`\n- `match_phrase` has the `zero_terms_query` field, as for `match`\n\n__ https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-named-queries-and-filters.html\n\nchanged\n--------\n\n- dropped official python 3.3 support\n\n0.6.0 - 2017-12-12\n==================\n\nadded\n-----\n\n- manage object fields in elasicsearch transformation\n\nfixed\n-----\n\n- minor fix, getting better error message when parsing error is at the end of content\n\nchanged\n--------\n\n- better handling of nested fields may lead to shorter requests\n\n0.5.3 - 2017-08-21\n==================\n\nadded\n-----\n\n- a class to transform smartly replace implicit operations with explicit one (*or* or *and*)\n\nfixed\n-----\n\n- handling of fields names with numbers followed by a number\n  (better handling of time in expressions)\n\nchanged\n-------\n\n- now using ply 3.10\n\n0.5.2 - 2017-05-29\n==================\n\nchanged\n-------\n\n- better recursion in the tree transformer util (api change)\n\nfixed\n-----\n\n- handling of empty phrases for elasticsearch query builder\n\n0.5.1 - 2017-04-10\n==================\n\na minor release\n\nchanged\n-------\n\n- better handling of the implicit operator on printing\n\n0.5.0 - 2017-04-04\n==================\n\nchanged\n-------\n\n- operations are now supporting multiple operands (instead of only two).\n  this mitigate the construction of very deep trees.\n\nfixed\n-----\n\n- fixes and improvement of documentation\n\n0.4.0 - 2016-12-05\n==================\n\nchanged\n-------\n\n- the lucene query checker now checks nested fields before transformation to prevent bad usage\n\n0.3.1 - 2016-11-23\n==================\n\nadded\n-----\n\n- support for nested fields in elastic search queries\n\nchanged\n-------\n\n- improved performances by adding a cache to the tree visitor utility\n\n0.3 - 2016-11-21\n=================\n\n(note that 0.2 version was skipped)\n\nadded\n-----\n\n- transforming lucene queries to elastic search queries\n- added a new tree visitor `treevisitorv2` more easy to use\n\nfixed\n-----\n- improved first tree visitor utility and its tests (api change)\n\n\n0.1 - 2016-05-17\n=================\n\nthis was the initial release of luqum.\n\nadded\n------\n\n- the parser and the tree structure\n- the visitor and transformer utils\n- the lucene query consistency checker\n- the prettify for pretty printing\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "luqum",
  "package_url": "https://pypi.org/project/luqum/",
  "project_url": "https://pypi.org/project/luqum/",
  "project_urls": {
    "Homepage": "https://github.com/jurismarches/luqum"
  },
  "release_url": "https://pypi.org/project/luqum/0.13.0/",
  "requires_dist": [
    "ply (>=3.11)"
  ],
  "requires_python": "",
  "summary": "a lucene query parser generating elasticsearch queries and more !",
  "version": "0.13.0",
  "releases": [],
  "developers": [
    "contact@jurismarches.com",
    "jurismarches"
  ],
  "kwds": "lucene elasticsearch lucenetreevisitor lucenetreetransformer elasticsearchquerybuilder",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_luqum",
  "homepage": "https://github.com/jurismarches/luqum",
  "release_count": 23,
  "dependency_ids": [
    "pypi_ply"
  ]
}