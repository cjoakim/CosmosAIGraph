{
  "classifiers": [
    "license :: osi approved :: mit license",
    "operating system :: os independent",
    "programming language :: python :: 3"
  ],
  "description": "# simple dwd weather forecast\n\n[![buymecoffee][buymecoffeebadge]][buymecoffee]\n\ndisclaimer: this project is a private open source project and doesn't have any connection with deutscher wetterdienst.\n\n## weather data\n\nthis is a python package for simple access to hourly forecast data for the next 10 days. the data is updated every six hours and updated when needed. some stations also have actual reported weather, which you can also retrieve.\n\navailable station-ids can be found [here](simple_dwd_weatherforecast/stations.json) or you can use the method `dwdforecast.get_nearest_station_id(latitude, longitude)` which tries to find it for you.\n\nforecasted weather conditions are evaluated using this [table](https://www.dwd.de/de/leistungen/opendata/help/schluessel_datenformate/kml/mosmix_element_weather_xls.xlsx?__blob=publicationfile&v=4) and then converted into these possible weather conditions:\n\n- cloudy\n- fog\n- lightning-rainy\n- partlycloudy\n- pouring\n- rainy\n- snowy\n- snowy-rainy\n- sunny\n\nthe reported weather is delayed (roughly one hour), so have a close look at the time within the presented data.\n\nthe weather report for the region which is available on the dwd homepage (see an example [here](https://www.dwd.de/dwd/wetter/wv_allg/deutschland/text/vhdl13_dwoh.html)) can also be retrieved via a method which maps the station to the relevant region.\n\n## weather maps\n\nyou can also retrieve weather maps from the dwd geoserver with this package.\n\n## installation\n\n```python\npython3 -m pip install simple_dwd_weatherforecast\n```\n\n## usage\n\n### weather data\n\n#### usage example\n```python\nfrom simple_dwd_weatherforecast import dwdforecast\nfrom datetime import datetime, timedelta, timezone\n\n#find nearest station-id automatically\n#id = dwdforecast.get_nearest_station_id(50.1109221, 8.6821267)\n\ndwd_weather = dwdforecast.weather(\"10385\") # station-id for berlin-schoenefeld\ntime_now = datetime.now(timezone.utc)\ntemperature_now = dwd_weather.get_forecast_data(dwdforecast.weatherdatatype.temperature, time_now)\ntime_tomorrow = datetime.now(timezone.utc)+timedelta(days=1)\ntemperature_tomorrow = dwd_weather.get_forecast_data(dwdforecast.weatherdatatype.temperature, time_tomorrow)\n```\n\n#### available methods\n\nall methods return their values as string. the datetime value has to be in utc. if no data is available for this datetime, none will be returned. with the optional boolean `shouldupdate` an automated check for new updates can be prevented by setting this parameter to `false`. otherwise data is updated if new data is available with every function call.\n\nthere is also data available which is updated every hour by dwd. be careful though, as this will download each time roughly 37mb of data. furthermore, some elements are missing from this data:\n- precipitation_probability\n- precipitation_duration\n\nyou can use this data by using the optional parameter `force_hourly=true`.\n\n```python\nis_valid_station_id(station_id) #checks if given station_id is valid\n\nget_nearest_station_id(latitude, longitude) #returns nearest station-id for the coordinates. latitude and longitude expect float values.\n\nupdate(optional bool force_hourly) #force fetch of new data from the dwd server. with this parameter set to true, there will be missing the precipitation forecast. see above.\n\nclass weatherdatatype(enum):\n    condition = \"condition\"\n    temperature = \"ttt\" # unit: k\n    dewpoint = \"td\" # unit: k\n    pressure = \"pppp\" # unit: pa\n    wind_speed = \"ff\" # unit: m/s\n    wind_direction = \"dd\" # unit: degrees\n    wind_gusts = \"fx1\" # unit: m/s\n    precipitation = \"rr1c\" # unit: kg/m2\n    precipitation_probability = \"wwp\" # unit: % (0..100)\n    precipitation_duration = \"drr1\" # unit: s\n    cloud_coverage = \"n\" # unit: % (0..100)\n    visibility = \"vv\" # unit: m\n    sun_duration = \"sund1\" # unit: s\n    sun_irradiance = \"rad1h\" # unit: w/m2\n    fog_probability = \"wwm\" # unit: % (0..100)\n    humidity = \"humidity\"  # unit: %\n\nclass weather:\n\n    get_station_name(optional bool shouldupdate) # return station name\n\n    get_forecast_data(weatherdatatype: see weatherdatatype, datetime, optional bool shouldupdate) # returns the requested weather data\n\n    get_get_reported_weather(weatherdatatype: see weatherdatatype, optional bool shouldupdate) # returns the latest actual reported value if available for this station\n\n    get_daily_max(weatherdatatype: see weatherdatatype, datetime, optional bool shouldupdate) # returns the maximum daily value\n\n    get_timeframe_max(weatherdatatype: see weatherdatatype, datetime, timeframe: hours after datetime as int, optional bool shouldupdate) # returns the maximum of that value within the time frame\n\n    get_daily_min(weatherdatatype: see weatherdatatype, datetime, optional bool shouldupdate) # returns the minimum daily value\n\n    get_timeframe_min(weatherdatatype: see weatherdatatype, datetime, timeframe: hours after datetime as int, optional bool shouldupdate) # returns the minimum of that value within the time frame\n\n    get_daily_sum(weatherdatatype: see weatherdatatype, datetime, optional bool shouldupdate) # returns the daily sum of that value\n\n    get_timeframe_sum(weatherdatatype: see weatherdatatype, datetime, timeframe: hours after datetime as int, optional bool shouldupdate) # returns the sum of that value within the time frame\n\n    get_timeframe_avg(weatherdatatype: see weatherdatatype, datetime, timeframe: hours after datetime as int, optional bool shouldupdate) # returns the average of that value within the time frame\n\n    get_forecast_condition(datetime, optional bool shouldupdate) # result is condition as text\n\n    get_daily_condition(datetime, optional bool shouldupdate) # result is an approximate \"feeled\" condition at this day\n\n    get_timeframe_condition(datetime, timeframe: hours after datetime as int, optional bool shouldupdate) # result is an approximate \"feeled\" condition at this time frame\n\n    get_weather_report(optional bool shouldupdate) # returns the weather report for the geographical region of the station as html\n\n    update(self, optional bool force_hourly (default: false), optional bool with_forecast (default: true), optional bool with_measurements (default: false), optional bool with_report (default: false)) # updates the weather data\n```\n\n#### advanced usage\n\nif you want to access the forecast data for the next 10 days directly for further processing, you can do so. all data is stored in dictonary and can be accessed like this:\n\n```python\nfrom simple_dwd_weatherforecast import dwdforecast\n\ndwd_weather\u200b \u200b=\u200b \u200bdwdforecast\u200b.\u200bweather\u200b(\u200b\"10385\"\u200b) # station-id for berlin-schoenefeld\u200b\ndwd_weather.update() # this has to be done manually to fetch the data from the dwd server\naccess_forecast_dict = dwd_weather.forecast_data # dwd_weather.forecast_data contains the forecast as a dict\n```\n\nkeep in mind that the weather condition is stored as the original digit value as provided by dwd. so if you want to use them, you have to convert these yourself. you can use my simplified conversion from the source code in the variable `weather_codes` or the original conversion available [here](https://www.dwd.de/de/leistungen/opendata/help/schluessel_datenformate/kml/mosmix_element_weather_xls.xlsx?__blob=publicationfile&v=4).\n\n## weather maps\n\nyou can download weather maps from the dwd geoserver with this package. there are different options for the displayed foreground and background data. see below for further information.\n\n![example picture of a map produced with this package](/map_example.png?raw=true \"example picture of a map produced with this package\")\n\n#### usage example\n```python\nfrom simple_dwd_weatherforecast import dwdmap\n\ndwdmap.get_from_location(51.272, 8.84, radius_km=100, map_type=dwdmap.weathermaptype.niederschlagsradar, background_type=dwdmap.weatherbackgroundmaptype.bundeslaender, file_name=\"map.png\")\n\ndwdmap.get_germany(map_type=dwdmap.weathermaptype.uvindex, width=520, height=580, filename=\"germany.png\")\n```\n\n#### available methods\n\n```python\n\nclass weathermaptype(enum):\n    niederschlagsradar = \"dwd:niederschlagsradar\"\n    maxtemp = \"dwd:gefuehltetempmax\"\n    uvindex = \"dwd:uvi_cs\"\n    pollenflug = \"dwd:pollenflug\"\n    satellite_rgb = \"dwd:satellite_meteosat_1km_euat_rgb_day_hrv_and_night_ir108_3h\"\n    satellite_ir = \"dwd:satellite_worldmosaic_3km_world_ir108_3h\"\n    warnungen_gemeinden = \"dwd:warnungen_gemeinden\"\n    warnungen_kreise = \"dwd:warnungen_landkreise\"\n\nclass weatherbackgroundmaptype(enum):\n    laender = \"dwd:laender\"\n    bundeslaender = \"dwd:warngebiete_bundeslaender\"\n    kreise = \"dwd:warngebiete_kreise\"\n    gemeinden = \"dwd:warngebiete_gemeinden\"\n    satellit = \"dwd:bluemarble\"\n\ndef get_from_location(longitude, latitude, radius_km, map_type: weathermaptype, background_type: weatherbackgroundmaptype, optional integer image_width, optional integer image_height, optional string filename (default:\"map.png\")) #saves map with given radius from coordinates\n\nget_germany(map_type: weathermaptype, optional integer image_width, optional integer image_height, optional string filename (default:\"map.png\")) #saves map of whole germany\n\nget_map(minx,miny,maxx,maxy, map_type: weathermaptype, background_type: weatherbackgroundmaptype, optional integer image_width, optional integer image_height, optional string filename (default:\"map.png\")) #map retrieval\n```\n\n## help and contribution\n\nfeel free to open an issue if you find one and i will do my best to help you. if you want to contribute, your help is appreciated! if you want to add a new feature, add a pull request first so we can chat about the details.\n\n## licenses\n\nthis package uses public data from [dwd opendata](https://www.dwd.de/de/leistungen/opendata/opendata.html). the copyright can be viewed [here](https://www.dwd.de/de/service/copyright/copyright_node.html).\n\n[buymecoffee]: https://www.buymeacoffee.com/fl550\n[buymecoffeebadge]: https://img.shields.io/badge/buy%20me%20a%20coffee-donate-yellow?style=for-the-badge\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "simple-dwd-weatherforecast",
  "package_url": "https://pypi.org/project/simple-dwd-weatherforecast/",
  "project_url": "https://pypi.org/project/simple-dwd-weatherforecast/",
  "project_urls": {
    "Homepage": "https://github.com/FL550/simple_dwd_weatherforecast.git"
  },
  "release_url": "https://pypi.org/project/simple-dwd-weatherforecast/2.0.24/",
  "requires_dist": [
    "lxml",
    "requests",
    "Pillow",
    "arrow"
  ],
  "requires_python": ">=3.6",
  "summary": "a simple tool to retrieve a weather forecast from dwd opendata",
  "version": "2.0.24",
  "releases": [],
  "developers": [
    "max_fermor"
  ],
  "kwds": "get_weather_report get_get_reported_weather get_forecast_condition get_nearest_station_id access_forecast_dict",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_simple_dwd_weatherforecast",
  "homepage": "https://github.com/fl550/simple_dwd_weatherforecast.git",
  "release_count": 61,
  "dependency_ids": [
    "pypi_arrow",
    "pypi_lxml",
    "pypi_pillow",
    "pypi_requests"
  ]
}