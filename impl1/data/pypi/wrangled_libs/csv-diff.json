{
  "classifiers": [
    "development status :: 4 - beta",
    "intended audience :: developers",
    "intended audience :: end users/desktop",
    "intended audience :: science/research",
    "license :: osi approved :: apache software license",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7"
  ],
  "description": "# csv-diff\n\n[![pypi](https://img.shields.io/pypi/v/csv-diff.svg)](https://pypi.org/project/csv-diff/)\n[![changelog](https://img.shields.io/github/v/release/simonw/csv-diff?include_prereleases&label=changelog)](https://github.com/simonw/csv-diff/releases)\n[![tests](https://github.com/simonw/csv-diff/workflows/test/badge.svg)](https://github.com/simonw/csv-diff/actions?query=workflow%3atest)\n[![license](https://img.shields.io/badge/license-apache%202.0-blue.svg)](https://github.com/simonw/csv-diff/blob/main/license)\n\ntool for viewing the difference between two csv, tsv or json files. see [generating a commit log for san francisco\u2019s official list of trees](https://simonwillison.net/2019/mar/13/tree-history/) (and the [sf-tree-history repo commit log](https://github.com/simonw/sf-tree-history/commits)) for background information on this project.\n\n## installation\n\n    pip install csv-diff\n\n## usage\n\nconsider two csv files:\n\n`one.csv`\n\n    id,name,age\n    1,cleo,4\n    2,pancakes,2\n\n`two.csv`\n\n    id,name,age\n    1,cleo,5\n    3,bailey,1\n\n`csv-diff` can show a human-readable summary of differences between the files:\n\n    $ csv-diff one.csv two.csv --key=id\n    1 row changed, 1 row added, 1 row removed\n\n    1 row changed\n\n      row 1\n        age: \"4\" => \"5\"\n\n    1 row added\n\n      id: 3\n      name: bailey\n      age: 1\n\n    1 row removed\n\n      id: 2\n      name: pancakes\n      age: 2\n\nthe `--key=id` option means that the `id` column should be treated as the unique key, to identify which records have changed.\n\nthe tool will automatically detect if your files are comma- or tab-separated. you can over-ride this automatic detection and force the tool to use a specific format using `--format=tsv` or `--format=csv`.\n\nyou can also feed it json files, provided they are a json array of objects where each object has the same keys. use `--format=json` if your input files are json.\n\nuse `--show-unchanged` to include full details of the unchanged values for rows with at least one change in the diff output:\n\n    % csv-diff one.csv two.csv --key=id --show-unchanged\n    1 row changed\n\n      id: 1\n        age: \"4\" => \"5\"\n\n        unchanged:\n          name: \"cleo\"\n\nyou can use the `--json` option to get a machine-readable difference:\n\n    $ csv-diff one.csv two.csv --key=id --json\n    {\n        \"added\": [\n            {\n                \"id\": \"3\",\n                \"name\": \"bailey\",\n                \"age\": \"1\"\n            }\n        ],\n        \"removed\": [\n            {\n                \"id\": \"2\",\n                \"name\": \"pancakes\",\n                \"age\": \"2\"\n            }\n        ],\n        \"changed\": [\n            {\n                \"key\": \"1\",\n                \"changes\": {\n                    \"age\": [\n                        \"4\",\n                        \"5\"\n                    ]\n                }\n            }\n        ],\n        \"columns_added\": [],\n        \"columns_removed\": []\n    }\n\n## as a python library\n\nyou can also import the python library into your own code like so:\n\n    from csv_diff import load_csv, compare\n    diff = compare(\n        load_csv(open(\"one.csv\"), key=\"id\"),\n        load_csv(open(\"two.csv\"), key=\"id\")\n    )\n\n`diff` will now contain the same data structure as the output in the `--json` example above.\n\nif the columns in the csv have changed, those added or removed columns will be ignored when calculating changes made to specific rows.\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "apache license, version 2.0",
  "name": "csv-diff",
  "package_url": "https://pypi.org/project/csv-diff/",
  "project_url": "https://pypi.org/project/csv-diff/",
  "project_urls": {
    "Homepage": "https://github.com/simonw/csv-diff"
  },
  "release_url": "https://pypi.org/project/csv-diff/1.1/",
  "requires_dist": [
    "click",
    "dictdiffer",
    "pytest ; extra == 'test'"
  ],
  "requires_python": "",
  "summary": "python cli tool and library for diffing csv and json files",
  "version": "1.1",
  "releases": [],
  "developers": [
    "simon_willison"
  ],
  "kwds": "csv_diff csv changelog load_csv workflows",
  "license_kwds": "apache license, version 2.0",
  "libtype": "pypi",
  "id": "pypi_csv_diff",
  "homepage": "https://github.com/simonw/csv-diff",
  "release_count": 9,
  "dependency_ids": [
    "pypi_click",
    "pypi_dictdiffer",
    "pypi_pytest"
  ]
}