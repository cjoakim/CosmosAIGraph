{
  "classifiers": [
    "development status :: 3 - alpha",
    "intended audience :: science/research",
    "license :: osi approved :: mit license",
    "programming language :: python :: 3 :: only",
    "topic :: scientific/engineering :: information analysis"
  ],
  "description": "# c/w/l evaluation script\nan evaluation script based on the c/w/l framework\nthat is trec compatible and provides a replacement\nfor inst_eval, rbp_eval, tbg_eval, umeasure, trec_eval.\n\n\n## install\n\ninstall either via `pip install cwl-eval` or ``git clone https://github.com/ireval/cwl.git``.\n`cwl-eval` requires python 3 and numpy.\n\n\n## usage\n\nonce you have installed the c/w/l evaluation framework using `pip install`, you should be able to use the `cwl-eval` as shown below.\nif you have used `git clone` to install the framework, then you will need to run `cwl_eval.py` directly.\n\n    usage: cwl-eval <gain_file> <result_file> -c <cost_file> -m <metrics_file> -b <bibtex_file>\n\n    usage: cwl-eval <gain_file> <result_file> -c <cost_file> -m <metrics_file>\n\n    usage: cwl-eval <gain_file> <result_file>\n\n    usage: cwl-eval -h\n\n- <gain_file>   : a trec formatted qrel file with relevance scores used as gains (float)\n                four column tab/space sep file with fields: topic_id unused doc_id gain\n\n- <cost_file>   : costs associated with element type\n\n- <cost_file>   : if not specified, costs default to one for all elements\n                two column tab/space sep file with fields: element_type element_cost\n\n- <result_file> : a trec formatted result file\n                six column tab/space sep file with fields: topic_id element_type doc_id rank score run_id\n\n- <metrics_file>: the list of metrics that are to be reported\n                if not specified, a set of default metrics will be reported\n                tab/space sep file with fields: metric_name params\n\n- <bibtex_file>: specify this file if you would like the bibtex associated with the measures specified to be\n               output to a file called <bibtex_file>\n\n- -n: add -n flag to output column names (e.g. topic, metric, eu, etu, ec, etc, ed)\n\n- -r: add -r flag to also output residuals for each measurement.\n\n- --max_n <value>: specify the depth of the calculation of the metrics (default=1000). \n\n- --max_gain <value>: specify the maximum value of the gain (default=1.0). note some metrics have restrictions on the maximum allowable value. this is also used when computing the residuals.\n\n- --min_gain <value>: specify the minimum value of the gain (default=0.0). note some metrics have restrictions on the minimum allowable value.\n\n\n\n**example without using a cost file**\nwhen no costs are specified the cost per item is assumed to be 1.0, and ec and i will be equal.\n\n    cwl-eval qrel_file result_file\n\n\n**example with using a cost file**\n\n    cwl-eval qrel_file result_file -c cost_file\n\n\n\n**output**\na seven column tab/space separated file that contains:\n\n- topic id\n- metric name\n- expected utility per item (eu)\n- expected utility (etu)\n- expected cost per item (ec)\n- expected cost (etc)\n- expected depth (ed)\n\nif the `-r` flag is included, then another five columns will be included: reseu, resetu, resec, resetc, resed. \nthese report the residual values for each of the measures (i.e. the difference between the best case and worse case for un-judged items).\n\n\n\ncwl citation\n------------\nplease consider citing the following paper when using our code for your evaluations:\n\n        @inproceedings{azzopardi2019cwl,\n            author = {azzopardi, leif and thomas, paul and moffat, alistair},\n            title = {cwl\\_eval: an evaluation tool for information retrieval},\n            booktitle = {proc. of the 42nd international acm sigir conference},\n            series = {sigir '19},\n            year = {2019}\n        } \n\n\n\nmetrics within cwl eval\n-----------------------\nfor each of the metrics provided in cwl_eval.py, the user model for each\nmeasure has been extracted and encoded within the c/w/l framework.\n\nall weightings have been converted to probabilities.\n\nas a result, all metrics report a series of values (not a single value):\n - expected utility per item examined (eu),\n - expected total utility (etu),\n - expected cost per item examined (ec),\n - expected total cost (etc)\n - expected number of items to be examined i.e expected depth (ed)\n\nall the values are related, such that:\n\netu = eu * ed\n\nand\n\netc = ec * ed\n\nif the cost per item is 1.0, then the expected cost per item is 1.0,\nand the expected cost ec will be equal to i.\n\ncosts can be specified in whatever unit is desired. i.e seconds, characters, words, etc.\n\n\n**list of metrics**\n\n- rr - (expected) reciprocal rank\n- p@k - precision at k\n- ap - average precision\n- rbp - rank biased precision\n- inst t\n- insq t\n- ndcg@k - normalized discounted cumulative gain at k\n- bpm-static - bejewelled player model  - static\n- bpm-dynamic - bejewelled player model - dynamic\n- umeasure - u-measure\n- tbg - time biased gain\n- ift-c1 - information foraging theory (goal)\n- ift-c2 - information foraging theory (rate)\n- ift-c1-c2 - information foraging theory (goal and rate)\n- nerreq8 - not/nearly err(eq8)@k using gain based stopping with truncation k\n- nerreq9 - not/nearly err(eq9)@k using gain based stopping and discount with truncation k\n- nerreq10 - not/nearly err(eq10)@phi using gain based stopping and rbp patience (phi)\n- nerreq11 - not/nearly err(eq11)@t using gain based stopping and inst goal (t)\n\n\n\n**sample output from cwl_eval.py where costs per item = 1.0**\n\n    cwl-eval qrel_file result_file\n\n| topic| metric                                             | eu | etu | ec | etc | ed |\n|------|---------------------------------------------------|-------|-------|-------|--------|--------|\n| t1   | p@20                                              | 0.150 | 3.000 | 1.000 | 20.000 | 20.000 |\n| t1   | p@10                                              | 0.300 | 3.000 | 1.000 | 10.000 | 10.000 |\n| t1   | p@5                                               | 0.360 | 1.800 | 1.000 | 5.000  | 5.000  |\n| t1   | p@1                                               | 1.000 | 1.000 | 1.000 | 1.000  | 1.000  |\n| t1   | rbp@0.5                                           | 0.566 | 1.132 | 1.000 | 2.000  | 2.000  |\n| t1   | rbp@0.9                                           | 0.214 | 2.136 | 1.000 | 10.000 | 10.000 |\n| t1   | sdcg-k@10                                         | 0.380 | 1.726 | 1.000 | 4.544  | 4.544  |\n| t1   | sdcg-k@5                                          | 0.461 | 1.358 | 1.000 | 2.948  | 2.948  |\n| t1   | rr                                                | 1.000 | 1.000 | 1.000 | 1.000  | 1.000  |\n| t1   | ap                                                | 0.397 | 1.907 | 1.000 | 4.800  | 4.800  |\n| t1   | inst-t=2                                          | 0.401 | 1.303 | 1.000 | 3.242  | 3.247  |\n| t1   | inst-t=1                                          | 0.680 | 1.071 | 1.000 | 1.574  | 1.575  |\n| t1   | insq-t=2                                          | 0.316 | 1.428 | 1.000 | 4.509  | 4.525  |\n| t1   | insq-t=1                                          | 0.465 | 1.198 | 1.000 | 2.572  | 2.576  |\n| t1   | bpm-static-t=1-k=1000                             | 1.000 | 1.000 | 1.000 | 1.000  | 1.000  |\n| t1   | bpm-static-t=1000-k=10                            | 0.300 | 3.000 | 1.000 | 10.000 | 10.000 |\n| t1   | bpm-static-t=1.2-k=10                             | 0.400 | 1.200 | 1.000 | 3.000  | 3.000  |\n| t1   | bpm-dynamic-t=1-k=1000-hb=1.0-hc=1.0              | 1.000 | 1.000 | 1.000 | 1.000  | 1.000  |\n| t1   | bpm-dynamic-t=1000-k=10-hb=1.0-hc=1.0             | 0.300 | 3.000 | 1.000 | 10.000 | 10.000 |\n| t1   | bpm-dynamic-t=1.2-k=10-hb=1.0-hc=1.0              | 0.400 | 1.200 | 1.000 | 3.000  | 3.000  |\n| t1   | u-l@50                                            | 0.109 | 2.772 | 1.000 | 25.500 | 25.500 |\n| t1   | u-l@10                                            | 0.338 | 1.860 | 1.000 | 5.500  | 5.500  |\n| t1   | tbg-h@22                                          | 0.083 | 2.676 | 1.000 | 32.242 | 32.242 |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@1                          | 0.456 | 1.323 | 1.000 | 2.903  | 2.903  |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@10                         | 0.308 | 2.078 | 1.000 | 6.738  | 6.738  |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@100                        | 0.289 | 2.224 | 1.000 | 7.698  | 7.698  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@1                          | 0.463 | 1.255 | 1.000 | 2.711  | 2.711  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@10                         | 0.293 | 2.040 | 1.000 | 6.965  | 6.965  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@100                        | 0.197 | 2.994 | 1.000 | 15.208 | 15.208 |\n| t1   | ift-c1-c2-t@2.0-b1@0.9-r1@10-a@2.0-b2@0.9-r2@10   | 0.329 | 1.804 | 1.000 | 5.487  | 5.487  |\n| t1   | ift-c1-c2-t@2.0-b1@0.9-r1@100-a@2.0-b2@0.9-r2@100 | 0.289 | 2.223 | 1.000 | 7.697  | 7.697  |\n\n\n**sample output from cwl-eval where costs are set based on cost_file**\n\n    cwl-eval qrel_file result_file -c cost_file\n\n| topic| metric                                             | eu   | etu   | ec     | etc   | ed     |\n|------|---------------------------------------------------|-------|-------|-------|--------|--------|\n| t1   | p@20                                              | 0.150 | 3.000 | 1.650 | 33.000 | 20.000 |\n| t1   | p@10                                              | 0.300 | 3.000 | 2.300 | 23.000 | 10.000 |\n| t1   | p@5                                               | 0.360 | 1.800 | 2.400 | 12.000 | 5.000  |\n| t1   | p@1                                               | 1.000 | 1.000 | 2.000 | 2.000  | 1.000  |\n| t1   | rbp@0.5                                           | 0.566 | 1.132 | 1.951 | 3.902  | 2.000  |\n| t1   | rbp@0.9                                           | 0.214 | 2.136 | 1.776 | 17.765 | 10.000 |\n| t1   | sdcg-k@10                                         | 0.380 | 1.726 | 2.188 | 9.943  | 4.544  |\n| t1   | sdcg-k@5                                          | 0.461 | 1.358 | 2.224 | 6.557  | 2.948  |\n| t1   | rr                                                | 1.000 | 1.000 | 2.000 | 2.000  | 1.000  |\n| t1   | ap                                                | 0.397 | 1.907 | 1.958 | 9.400  | 4.800  |\n| t1   | inst-t=2                                          | 0.401 | 1.303 | 1.884 | 6.113  | 3.247  |\n| t1   | inst-t=1                                          | 0.680 | 1.071 | 1.955 | 3.077  | 1.575  |\n| t1   | insq-t=2                                          | 0.316 | 1.428 | 1.799 | 8.125  | 4.525  |\n| t1   | insq-t=1                                          | 0.465 | 1.198 | 1.887 | 4.855  | 2.576  |\n| t1   | bpm-static-t=1-k=1000                             | 1.000 | 1.000 | 2.000 | 2.000  | 1.000  |\n| t1   | bpm-static-t=1000-k=10                            | 0.360 | 1.800 | 2.400 | 12.000 | 5.000  |\n| t1   | bpm-static-t=1.2-k=10                             | 0.400 | 1.200 | 1.667 | 5.000  | 3.000  |\n| t1   | bpm-dynamic-t=1-k=1000-hb=1.0-hc=1.0              | 1.000 | 1.000 | 2.000 | 2.000  | 1.000  |\n| t1   | bpm-dynamic-t=1000-k=10-hb=1.0-hc=1.0             | 0.360 | 1.800 | 2.400 | 12.000 | 5.000  |\n| t1   | bpm-dynamic-t=1.2-k=10-hb=1.0-hc=1.0              | 0.400 | 1.200 | 1.667 | 5.000  | 3.000  |\n| t1   | u-l@50                                            | 0.162 | 2.552 | 1.654 | 26.000 | 15.720 |\n| t1   | u-l@10                                            | 0.444 | 1.420 | 2.094 | 6.700  | 3.200  |\n| t1   | tbg-h@22                                          | 0.143 | 2.339 | 2.046 | 33.508 | 16.375 |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@1                          | 0.456 | 1.323 | 1.971 | 5.723  | 2.903  |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@10                         | 0.308 | 2.078 | 2.080 | 14.017 | 6.738  |\n| t1   | ift-c1-t@2.0-b1@0.9-r1@100                        | 0.289 | 2.224 | 2.068 | 15.922 | 7.698  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@1                          | 0.516 | 1.180 | 1.958 | 4.481  | 2.289  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@10                         | 0.404 | 1.368 | 2.011 | 6.802  | 3.382  |\n| t1   | ift-c2-a@0.2-b2@0.9-r2@100                        | 0.360 | 1.786 | 2.388 | 11.832 | 4.954  |\n| t1   | ift-c1-c2-t@2.0-b1@0.9-r1@10-a@2.0-b2@0.9-r2@10   | 0.413 | 1.361 | 1.990 | 6.552  | 3.293  |\n| t1   | ift-c1-c2-t@2.0-b1@0.9-r1@100-a@2.0-b2@0.9-r2@100 | 0.360 | 1.786 | 2.388 | 11.832 | 4.954  |\n\n\n**using the metrics_file to specify the metrics**\n\n    cwl-eval qrel_file result_file -m metrics_file\n\nif a metrics_file is not specified, cwl eval will default to a set of metrics\ndefined in `ruler/measures/cwl_ruler.py`\n\nif the metrics_file is specified, cwl eval will instantiate and use the metrics listed.\nan example test_metrics_file is provided, which includes the following:\n\n    precisioncwlmetric(k=1)\n    precisioncwlmetric(k=5)\n    precisioncwlmetric(k=10)\n    precisioncwlmetric(k=20)\n    rbpcwlmetric(theta=0.9)\n    ndcgcwlmetric(k=10)\n    rrcwlmetric()\n    apcwlmetric()\n    instcwlmetric(t=1.0)\n    insqcwlmetric(t=1.0)\n    bpmcwlmetric(t=1.0,k=20)\n    bpmcwlmetric(t=2.0,k=10)\n    bpmdcwlmetric(t=1,20)\n    bpmdcwlmetric(t=2.0,k=10)\n    umeasurecwlmetric(l=50)\n    umeasurecwlmetric(l=10)\n    tbgcwlmetric(halflife=22)\n    iftgoalcwlmetric(t=2.0, b1=0.9, r1=10)\n    iftgoalcwlmetric(t=2.0, b1=0.9, r1=100)\n    iftratecwlmetric(a=0.2, b2=0.9, r2=10)\n    iftratecwlmetric(a=0.2, b2=0.9, r2=100)\n    iftgoalratecwlmetric(t=2.0, b1=0.9, r1=10, a=0.2, b2=0.9, r2=10)\n    iftgoalratecwlmetric(t=2.0, b1=0.9, r1=100, a=0.2, b2=0.9, r2=100)\n    nerreq8cwlmetric(k=10)\n    nerreq9cwlmetric(k=10)\n    nerreq10cwlmetric(phi=0.8)\n    nerreq11cwlmetric(t=2.0)\n\nto specify which metric you desire, inspect the metrics classes in `ruler/measures/`\nto see what metrics are available, and how the parameterize them.\n\nfor example if you only wanted precision based measures then you can list them as follows:\n\n    precisioncwlmetric(1)\n    precisioncwlmetric(2)\n    precisioncwlmetric(3)\n    precisioncwlmetric(4)\n    precisioncwlmetric(5)\n    precisioncwlmetric(6)\n    precisioncwlmetric(7)\n    precisioncwlmetric(8)\n    precisioncwlmetric(9)\n    precisioncwlmetric(10)\n    precisioncwlmetric(11)\n    precisioncwlmetric(12)\n    precisioncwlmetric(13)\n    precisioncwlmetric(14)\n    precisioncwlmetric(15)\n    precisioncwlmetric(16)\n    precisioncwlmetric(17)\n    precisioncwlmetric(18)\n    precisioncwlmetric(19)\n    precisioncwlmetric(20)\n\nwhile if you only wanted rank biased precision measures, then you can vary the patience parameter:\n\n    rbpcwlmetric(0.1)\n    rbpcwlmetric(0.2)\n    rbpcwlmetric(0.3)\n    rbpcwlmetric(0.4)\n    rbpcwlmetric(0.5)\n    rbpcwlmetric(0.6)\n    rbpcwlmetric(0.7)\n    rbpcwlmetric(0.8)\n    rbpcwlmetric(0.9)\n    rbpcwlmetric(0.95)\n    rbpcwlmetric(0.99)\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "cwl-eval",
  "package_url": "https://pypi.org/project/cwl-eval/",
  "project_url": "https://pypi.org/project/cwl-eval/",
  "project_urls": {
    "Homepage": "https://github.com/ireval/cwl"
  },
  "release_url": "https://pypi.org/project/cwl-eval/1.0.12/",
  "requires_dist": [],
  "requires_python": ">=3",
  "summary": "an information retrieval evaluation script based on the c/w/l framework that is trec compatible and provides a replacement for inst_eval, rbp_eval, tbg_eval, umeasure and trec_eval scripts. all measurements are reported in the same units making all metrics directly comparable.",
  "version": "1.0.12",
  "releases": [],
  "developers": [
    "ammoffat@unimelb.edu.au",
    "leif_azzopardi",
    "leifos@acm.org",
    "pathom@microsoft.com"
  ],
  "kwds": "trec_eval cwl_eval inst_eval rbp_eval tbg_eval",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_cwl_eval",
  "homepage": "https://github.com/ireval/cwl",
  "release_count": 9,
  "dependency_ids": []
}