{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3.6"
  ],
  "description": "# avalara avatax python sdk\n[![build status](https://travis-ci.org/avadev/avatax-rest-v2-python-sdk.svg?branch=master)](https://travis-ci.org/avadev/avatax-rest-v2-python-sdk)\n[![pypi](https://img.shields.io/pypi/v/avalara.svg)](https://pypi.python.org/pypi/avalara)\n\nthis github repository is the python sdk for avalara's world-class tax service, avatax.  it uses the avatax rest v2 api, which is a fully rest implementation and provides a single client for all avatax functionality.  for more information about avatax rest v2, please visit [avalara's developer network](http://developer.avalara.com/) or view the [online swagger documentation](https://sandbox-rest.avatax.com/swagger/ui/index.html).\n\n\n## installation:\n\ninstall simply with pip.\n```pip install avalara```\n\n**or**\n\n1. clone this repository to your local machine.\n```\n$ git clone https://github.com/avadev/avatax-rest-v2-python-sdk.git\n```\n2. once downloaded, cd into the ```avatax-rest-v2-python-sdk``` directory.\n```\n$ cd avatax-rest-v2-python-sdk\n```\n3. begin a new virtual environment with python 3 and activate it.\n```\navatax-rest-v2-python-sdk $ python3 -m venv env\navatax-rest-v2-python-sdk $ source env/bin/activate\n```\n4. [pip](https://pip.pypa.io/en/stable) install this package as well as the testing set of extras into your virtual enviroment.\n```\n(env) avatax-rest-v2-python-sdk $ pip install -e .\n(env) avatax-rest-v2-python-sdk $ pip install -e .[testing]\n```\n\n## usage:\n\n### create a transaction\n\n\n**import the avataxclient from the avalara module**\n\nfirst thing to do is to import the avataxclient constructor module to your name space, or your python script.\n\n```\nfrom avalara import avataxclient\n```\n\n**now we are ready to construct a client object**\n\ncreate a new avataxclient object:\n```\n    client = avataxclient('my test app',\n                          'ver 0.0',\n                          'my test machine',\n                          'sandbox')\n```\nthe client constructor takes four string parameters, in squence they are `app_name(required)`, `app_version(required)`, `machine_name(optional)`, and `environment(required)`.\nthe app_name, app_version, machine_name will be used to construct the [client header](https://developer.avalara.com/avatax/client-headers/) associated with each call made by this client. it will be returned within the response object to help you keep track of the api calls.\nthe `environment` variable can be either `\"sandbox\"` or `production`, they correspond to the two different environments for avatax service.\nif you are a regular or free trial customer please use `\"production\"`. if you don't have an account, you can sign up for a free trail account on our [developer site](https://developer.avalara.com/avatax/signup/), this will be a production account as well.\nif you wish to obtain a sandbox account, please contact your [customer account manager](https://help.avalara.com/frequently_asked_questions/avalara_avatax_faq/how_do_i_get_access_to_our_development%2f%2fsandbox_account%3f)\n\n\n**ping the service**\n\nnow we have a client object, we can ping the avatax rest v2 server to ensure connectivity.\n```\n  response = client.ping()\n\n  # to view respnse text\n  print(response.text())\n\n  # to view json version of the response\n  print(response.json())\n\n  # to view the status code\n  print(response.status_code())\n\n  # to view the raw response\n  print(response.raw())\n```\nnote that the response from all rest calls made using this sdk will be [request](http://docs.python-requests.org/en/master/user/quickstart/#response-content) object, which contains status code, response text, raw josn, and more information on the respnse.\n\n\n**add credentials to your client object**\n\nunlike `ping`, most methods in our rest v2 api requires you to be authenticated in order to associate those information provided by you with your account.\nto find out if a method requires authentication, visit our [api reference](https://developer.avalara.com/api-reference/avatax/rest/v2/methods/transactions/) page.\nto add credential on the current client object:\n```\n  client = client.add_credentials('username/account_id', 'password/license_key')\n```\nthe `add_credential` method will hash your username/password, or account_id/license_key pair and attach to every call made by your client object, meaning you only have to add credential once to each client you prepare to use.\n\nto verify that you have added a valid credential, simply call the `ping` method again, this time in the response text you should see `\"authenticated\": true`.\n\n\n**to create a transaction using your client object**\n\nnow our client object is authenticated, we can call the create_transaction method which calls the [createtransaction api](https://developer.avalara.com/api-reference/avatax/rest/v2/methods/transactions/createtransaction/)\n```\n  transaction_response = client.create_transaction(tax_document)\n  print(transaction_response.text())\n\n  tax_document = {\n      'addresses': {'singlelocation': {'city': 'irvine',\n                                       'country': 'us',\n                                       'line1': '123 main street',\n                                       'postalcode': '92615',\n                                       'region': 'ca'}},\n      'commit': false,\n      'companycode': 'default',\n      'currencycode': 'usd',\n      'customercode': 'abc',\n      'date': '2017-04-12',\n      'description': 'yarn',\n      'lines': [{'amount': 100,\n                'description': 'yarn',\n                 'itemcode': 'y0001',\n                 'number': '1',\n                 'quantity': 1,\n                 'taxcode': 'ps081282'}],\n      'purchaseorderno': '2017-04-12-001',\n      'type': 'salesinvoice'}\n\n```  \nthe create_transaction method takes in a model, in python it's a dictionary type object. which you will fill out to include all of your transaction information. in this case, we are using the [transactionmodel](https://developer.avalara.com/api-reference/avatax/rest/v2/models/transactionmodel/)\nfor information on other models use by avatax apis, visit our information page [here](https://developer.avalara.com/api-reference/avatax/rest/v2/models)\n\n\n### use other methods\n\nlike our sdks in other languages, the python sdk includes all methods offered by the avatax rest v2 api. to find a mehtod corresponding to a specific api endpoint, simply visit this [code page](https://github.com/avadev/avatax-rest-v2-python-sdk/blob/master/src/client_methods.py)\nto learn more about integrating our rest api into your system, visit our [developer guide](https://developer.avalara.com/avatax/dev-guide/getting-started-with-avatax/) that contains information on using the powerful features offered by our api.\n\n\n### use transaction builder\n\nwe realize that having to format the transactionmodel can be complicated and time consuming, thus we created a tool called transaction builder to help you put together a transaction model, and create it!\nfirst import the transaction builder constructor into your name space:\n```from avalara.transaction_builder import transactionbuilder```\n\nthen, let's create a transaction builder object:\n```\n  tb = transactionbuilder(client, \"default\", \"salesinvoice\", \"abc\")\n```\nthe builder takes four required parameters, in sequence they are\n- the client object\n- company name(created through avatax portal or by calling [createcompany api](https://developer.avalara.com/api-reference/avatax/rest/v2/methods/companies/createcompanies/))\n- the type of transaction, a [full list](https://developer.avalara.com/api-reference/avatax/rest/v2/models/enums/documenttype/) of options. \n- the customer code, an unique code identifying the customer that requested this transaction.\n\nnow you are free to add transaction details to this object, by using methods like `with_address`, `with_line`, `with_parameter`.\nfor a fulll list of transaction builder methods available and the parameters they take in, visit the [code page](https://github.com/avadev/avatax-rest-v2-python-sdk/blob/master/src/transaction_builder_methods.py)\nin the end, you may call the `create` method on your builder object, which will call the createtransaction api with the transaction model you have build so far, and return back the response.\n\n\n### setup test credentials\n\nif you wish to run the integration and unit testings, you must store a pair of credentials in the current enviroment.\nadd the following to the ```activate``` file in your environment, and restart bash.\nor simply ```export``` them directly:\n\n```\nexport sandbox_username='your_sandbox_username'\nexport sandbox_password='your_sandbox_password'\n\n# or\nsandbox_accountid='your_sandbox_account_id'\nsandbox_licensekey='your_sandbox_license_key'\n```\nnote: only *sandbox credentials* should be used for testing, as the test case will commit/adjust/void dummy transactions on the account to verify functionalities.  \n\n### logging\n\nlogging is implemented using standard python logging framework.\n\n1. all relevant methods from `avataxclient` class are decorated with `ava_log` decorator.(this is achieved using another decorator at class level, `decorate_all_methods`)\n2. `ava_log` decorator collects relevant request data, response data useful for instrumentation and logs error data in case of exception.\n3. `avataxclient` constructor is modified with optional parameter, `is_log_req_resp_allowed` (defaulted to false), to control if log entry should contain request and response objects.\n4. sdk consumer code can also set logger property of `avataxclient` to use already configured logger instance. e.g. \n```\nfrom logging import config \n\n# configure logging using file config or dictconfig \n# or by setting basicconfig (this is default in case no logger is set)\nconfig.fileconfig(\"logger_config.conf\")\n\nlogger = logging.getlogger()\n\n# set logger property\nclient.logger = logger\n```\n    \n\n## issue or suggestion\n\nuser feedbacks are highly valued here at avalara, we want to ensure the best experience for every customer using our services. if you have any concern with this sdk or avatax in general, please post your queston/suggestion on our [developer relation forum](https://community.avalara.com/avalara/category_sets/developers) as we will reply to you in a timely manner.\nif you wish to contribute to this sdk, please fork the [repository](https://github.com/avadev/avatax-rest-v2-python-sdk) and submit your pull request from the forked version. we are happy to review your contribution, and merge them if all checks has passed!\n\n\n## original contributors\n\n[han bao](https://www.linkedin.com/in/hbao2016)\n\n[philip werner](https://www.linkedin.com/in/philip-werner-421aa66a)\n\n[robert bronson](https://www.linkedin.com/in/robert-bronson)\n\n[adrienne karnoski](https://www.linkedin.com/in/adrienne-karnoski)\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "avalara",
  "package_url": "https://pypi.org/project/Avalara/",
  "project_url": "https://pypi.org/project/Avalara/",
  "project_urls": {
    "Homepage": "https://github.com/avadev/AvaTax-REST-V2-Python-SDK"
  },
  "release_url": "https://pypi.org/project/Avalara/23.11.0/",
  "requires_dist": [
    "requests",
    "pytest; extra == \"test\"",
    "pytest-cov; extra == \"test\"",
    "tox; extra == \"test\""
  ],
  "requires_python": "",
  "summary": "avalara tax python sdk.",
  "version": "23.11.0",
  "releases": [],
  "developers": [
    "han.bao@avalara.com",
    "han_bao"
  ],
  "kwds": "avataxclient avatax avalara_avatax_faq avalara api",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_avalara",
  "homepage": "https://github.com/avadev/avatax-rest-v2-python-sdk",
  "release_count": 60,
  "dependency_ids": [
    "pypi_pytest",
    "pypi_pytest_cov",
    "pypi_requests",
    "pypi_tox"
  ]
}