{
  "classifiers": [
    "development status :: 5 - production/stable",
    "environment :: console",
    "intended audience :: developers",
    "intended audience :: other audience",
    "license :: osi approved :: gnu lesser general public license v3 (lgplv3)",
    "natural language :: english",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3.5",
    "programming language :: python :: implementation :: cpython",
    "programming language :: python :: implementation :: pypy"
  ],
  "description": "[![travis status](https://travis-ci.com/josch/img2pdf.svg?branch=main)](https://app.travis-ci.com/josch/img2pdf)\n[![appveyor status](https://ci.appveyor.com/api/projects/status/2kws3wkqvi526llj/branch/main?svg=true)](https://ci.appveyor.com/project/josch/img2pdf/branch/main)\n\nimg2pdf\n=======\n\nlossless conversion of raster images to pdf. you should use img2pdf if your\npriorities are (in this order):\n\n 1. **always lossless**: the image embedded in the pdf will always have the\n    exact same color information for every pixel as the input\n 2. **small**: if possible, the difference in filesize between the input image\n    and the output pdf will only be the overhead of the pdf container itself\n 3. **fast**: if possible, the input image is just pasted into the pdf document\n    as-is without any cpu hungry re-encoding of the pixel data\n\nconventional conversion software (like imagemagick) would either:\n\n 1. not be lossless because lossy re-encoding to jpeg\n 2. not be small because using wasteful flate encoding of raw pixel data\n 3. not be fast because input data gets re-encoded\n\nanother advantage of not having to re-encode the input (in most common\nsituations) is, that img2pdf is able to handle much larger input than other\nsoftware, because the raw pixel data never has to be loaded into memory.\n\nthe following table shows how img2pdf handles different input depending on the\ninput file format and image color space.\n\n| format                                | colorspace                     | result        |\n| ------------------------------------- | ------------------------------ | ------------- |\n| jpeg                                  | any                            | direct        |\n| jpeg2000                              | any                            | direct        |\n| png (non-interlaced, no transparency) | any                            | direct        |\n| tiff (ccitt group 4)                  | monochrome                     | direct        |\n| any                                   | any except cmyk and monochrome | png paeth     |\n| any                                   | monochrome                     | ccitt group 4 |\n| any                                   | cmyk                           | flate         |\n\nfor jpeg, jpeg2000, non-interlaced png and tiff images with ccitt group 4\nencoded data, img2pdf directly embeds the image data into the pdf without\nre-encoding it. it thus treats the pdf format merely as a container format for\nthe image data. in these cases, img2pdf only increases the filesize by the size\nof the pdf container (typically around 500 to 700 bytes). since data is only\ncopied and not re-encoded, img2pdf is also typically faster than other\nsolutions for these input formats.\n\nfor all other input types, img2pdf first has to transform the pixel data to\nmake it compatible with pdf. in most cases, the png paeth filter is applied to\nthe pixel data. for monochrome input, ccitt group 4 is used instead. only for\ncmyk input no filter is applied before finally applying flate compression.\n\nusage\n-----\n\nthe images must be provided as files because img2pdf needs to seek in the file\ndescriptor.\n\nif no output file is specified with the `-o`/`--output` option, output will be\ndone to stdout. a typical invocation is:\n\n\t$ img2pdf img1.png img2.jpg -o out.pdf\n\nthe detailed documentation can be accessed by running:\n\n\t$ img2pdf --help\n\nbugs\n----\n\n - if you find a jpeg, jpeg2000, png or ccitt group 4 encoded tiff file that,\n   when embedded into the pdf cannot be read by the adobe acrobat reader,\n   please contact me.\n\n - an error is produced if the input image is broken. this commonly happens if\n   the input image has an invalid exif orientation value of zero. even though\n   only nine different values from 1 to 9 are permitted, anroid phones and\n   canon dslr cameras produce jpeg images with the invalid value of zero.\n   either fix your input images with `exiftool` or similar software before\n   passing the jpeg to `img2pdf` or run `img2pdf` with `--rotation=ifvalid`\n   (if you run img2pdf from the commandline) or by passing\n   `rotation=img2pdf.rotation.ifvalid` as an argument to `convert()` when using\n   img2pdf as a library.\n\n - img2pdf uses pil (or pillow) to obtain image meta data and to convert the\n   input if necessary. to prevent decompression bomb denial of service attacks,\n   pillow limits the maximum number of pixels an input image is allowed to\n   have. if you are sure that you know what you are doing, then you can disable\n   this safeguard by passing the `--pillow-limit-break` option to img2pdf. this\n   allows one to process even very large input images.\n\ninstallation\n------------\n\non a debian- and ubuntu-based systems, img2pdf can be installed from the\nofficial repositories:\n\n\t$ apt install img2pdf\n\nif you want to install it using pip, you can run:\n\n\t$ pip3 install img2pdf\n\nif you prefer to install from source code use:\n\n\t$ cd img2pdf/\n\t$ pip3 install .\n\nto test the console script without installing the package on your system,\nuse virtualenv:\n\n\t$ cd img2pdf/\n\t$ virtualenv ve\n\t$ ve/bin/pip3 install .\n\nyou can then test the converter using:\n\n\t$ ve/bin/img2pdf -o test.pdf src/tests/test.jpg\n\nif you don't want to setup python on windows, then head to the\n[releases](/josch/img2pdf/releases) section and download the latest\n`img2pdf.exe`.\n\ngui\n---\n\nthere exists an experimental gui with all settings currently disabled. you can\ndirectly convert images to pdf but you cannot set any options via the gui yet.\nif you are interested in adding more features to the pdf, please submit a merge\nrequest. the gui is based on tkinter and works on linux, windows and macos.\n\n![](screenshot.png)\n\nlibrary\n-------\n\nthe package can also be used as a library:\n\n\timport img2pdf\n\n\t# opening from filename\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert('test.jpg'))\n\n\t# opening from file handle\n\twith open(\"name.pdf\",\"wb\") as f1, open(\"test.jpg\") as f2:\n\t\tf1.write(img2pdf.convert(f2))\n\n\t# opening using pathlib\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(pathlib.path('test.jpg')))\n\n\t# using in-memory image data\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(\"\\x89png...\")\n\n\t# multiple inputs (variant 1)\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(\"test1.jpg\", \"test2.png\"))\n\n\t# multiple inputs (variant 2)\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert([\"test1.jpg\", \"test2.png\"]))\n\n\t# convert all files ending in .jpg inside a directory\n\tdirname = \"/path/to/images\"\n\timgs = []\n\tfor fname in os.listdir(dirname):\n\t\tif not fname.endswith(\".jpg\"):\n\t\t\tcontinue\n\t\tpath = os.path.join(dirname, fname)\n\t\tif os.path.isdir(path):\n\t\t\tcontinue\n\t\timgs.append(path)\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(imgs))\n\n\t# convert all files ending in .jpg in a directory and its subdirectories\n\tdirname = \"/path/to/images\"\n\timgs = []\n\tfor r, _, f in os.walk(dirname):\n\t\tfor fname in f:\n\t\t\tif not fname.endswith(\".jpg\"):\n\t\t\t\tcontinue\n\t\t\timgs.append(os.path.join(r, fname))\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(imgs))\n\n\n\t# convert all files matching a glob\n\timport glob\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(glob.glob(\"/path/to/*.jpg\")))\n\n\t# convert all files matching a glob using pathlib.path\n\tfrom pathlib import path\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert(*path(\"/path\").glob(\"**/*.jpg\")))\n\n\t# ignore invalid rotation values in the input images\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert('test.jpg'), rotation=img2pdf.rotation.ifvalid)\n\n\t# writing to file descriptor\n\twith open(\"name.pdf\",\"wb\") as f1, open(\"test.jpg\") as f2:\n\t\timg2pdf.convert(f2, outputstream=f1)\n\n\t# specify paper size (a4)\n\ta4inpt = (img2pdf.mm_to_pt(210),img2pdf.mm_to_pt(297))\n\tlayout_fun = img2pdf.get_layout_fun(a4inpt)\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert('test.jpg', layout_fun=layout_fun))\n\n\t# use a fixed dpi of 300 instead of reading it from the image\n\tdpix = dpiy = 300\n\tlayout_fun = img2pdf.get_fixed_dpi_layout_fun((dpix, dpiy))\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert('test.jpg', layout_fun=layout_fun))\n\n\t# create a pdf/a-1b compliant document by passing an icc profile\n\twith open(\"name.pdf\",\"wb\") as f:\n\t\tf.write(img2pdf.convert('test.jpg', pdfa=\"/usr/share/color/icc/srgb.icc\"))\n\ncomparison to imagemagick\n-------------------------\n\ncreate a large test image:\n\n\t$ convert logo: -resize 8000x original.jpg\n\nconvert it into pdf using imagemagick and img2pdf:\n\n\t$ time img2pdf original.jpg -o img2pdf.pdf\n\t$ time convert original.jpg imagemagick.pdf\n\nnotice how imagemagick took an order of magnitude longer to do the conversion\nthan img2pdf. it also used twice the memory.\n\nnow extract the image data from both pdf documents and compare it to the\noriginal:\n\n\t$ pdfimages -all img2pdf.pdf tmp\n\t$ compare -metric ae original.jpg tmp-000.jpg null:\n\t0\n\t$ pdfimages -all imagemagick.pdf tmp\n\t$ compare -metric ae original.jpg tmp-000.jpg null:\n\t118716\n\nto get lossless output with imagemagick we can use zip compression but that\nunnecessarily increases the size of the output:\n\n\t$ convert original.jpg -compress zip imagemagick.pdf\n\t$ pdfimages -all imagemagick.pdf tmp\n\t$ compare -metric ae original.jpg tmp-000.png null:\n\t0\n\t$ stat --format=\"%s %n\" original.jpg img2pdf.pdf imagemagick.pdf\n\t1535837 original.jpg\n\t1536683 img2pdf.pdf\n\t9397809 imagemagick.pdf\n\ncomparison to pdflatex\n----------------------\n\npdflatex performs a lossless conversion from included images to pdf by default.\nif the input is a jpeg, then it simply embeds the jpeg into the pdf in the same\nway as img2pdf does it. but for other image formats it uses flate compression\nof the plain pixel data and thus needlessly increases the output file size:\n\n\t$ convert logo: -resize 8000x original.png\n\t$ cat << end > pdflatex.tex\n\t\\documentclass{article}\n\t\\usepackage{graphicx}\n\t\\begin{document}\n\t\\includegraphics{original.png}\n\t\\end{document}\n\tend\n\t$ pdflatex pdflatex.tex\n\t$ stat --format=\"%s %n\" original.png pdflatex.pdf\n\t4500182 original.png\n\t9318120 pdflatex.pdf\n\ncomparison to podofoimg2pdf\n---------------------------\n\nlike pdflatex, podofoimg2pdf is able to perform a lossless conversion from jpeg\nto pdf by plainly embedding the jpeg data into the pdf container. but just like\npdflatex it uses flate compression for all other file formats, thus sometimes\nresulting in larger files than necessary.\n\n\t$ convert logo: -resize 8000x original.png\n\t$ podofoimg2pdf out.pdf original.png\n\tstat --format=\"%s %n\" original.png out.pdf\n\t4500181 original.png\n\t9335629 out.pdf\n\nit also only supports jpeg, png and tif as input and lacks many of the\nconvenience features of img2pdf like page sizes, borders, rotation and\nmetadata.\n\ncomparison to tesseract ocr\n---------------------------\n\ntesseract ocr comes closest to the functionality img2pdf provides. it is able\nto convert jpeg and png input to pdf without needlessly increasing the filesize\nand is at the same time lossless. so if your input is jpeg and png images, then\nyou should safely be able to use tesseract instead of img2pdf. for other input,\ntesseract might not do a lossless conversion. for example it converts cmyk\ninput to rgb and removes the alpha channel from images with transparency. for\nmultipage tiff or animated gif, it will only convert the first frame.\n\ncomparison to econvert from exactimage\n--------------------------------------\n\nlike pdflatex and podofoimg2pf, econvert is able to embed jpeg images into pdf\ndirectly without re-encoding but when given other file formats, it stores them\njust using flate compressen, which unnecessarily increases the filesize.\nfurthermore, it throws an error with cmyk tif input. it also doesn't store cmyk\njpeg files as cmyk but converts them to rgb, so it's not lossless. when trying\nto feed it 16bit files, it errors out with unhandled bps/spp combination. it\nalso seems to choose jpeg encoding when using it on some file types (like\npalette images) making it again not lossless for that input as well.\n",
  "docs_url": null,
  "keywords": "jpeg pdf converter",
  "license": "lgpl",
  "name": "img2pdf",
  "package_url": "https://pypi.org/project/img2pdf/",
  "project_url": "https://pypi.org/project/img2pdf/",
  "project_urls": {
    "Download": "https://gitlab.mister-muffin.de/josch/img2pdf/repository/archive.tar.gz?ref=0.5.1",
    "Homepage": "https://gitlab.mister-muffin.de/josch/img2pdf"
  },
  "release_url": "https://pypi.org/project/img2pdf/0.5.1/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "convert images to pdf via direct jpeg inclusion.",
  "version": "0.5.1",
  "releases": [],
  "developers": [
    "johannes_schauer_marin_rodrigues",
    "josch@mister-muffin.de"
  ],
  "kwds": "img2pdf pdfimages imagemagick pdf podofoimg2pdf",
  "license_kwds": "lgpl",
  "libtype": "pypi",
  "id": "pypi_img2pdf",
  "homepage": "https://gitlab.mister-muffin.de/josch/img2pdf",
  "release_count": 22,
  "dependency_ids": []
}