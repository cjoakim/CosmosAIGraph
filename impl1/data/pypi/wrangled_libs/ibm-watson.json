{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "license :: osi approved :: apache software license",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 2",
    "programming language :: python :: 3",
    "topic :: software development :: libraries :: application frameworks",
    "topic :: software development :: libraries :: python modules"
  ],
  "description": "# watson developer cloud python sdk\n\n[![build and test](https://github.com/watson-developer-cloud/python-sdk/workflows/build%20and%20test/badge.svg?branch=master)](https://github.com/watson-developer-cloud/python-sdk/actions?query=workflow%3a\"build+and+test\")\n[![deploy and publish](https://github.com/watson-developer-cloud/python-sdk/workflows/deploy%20and%20publish/badge.svg?branch=master)](https://github.com/watson-developer-cloud/python-sdk/actions?query=workflow%3a%22deploy+and+publish%22)\n[![slack](https://wdc-slack-inviter.mybluemix.net/badge.svg)](https://wdc-slack-inviter.mybluemix.net)\n[![latest stable version](https://img.shields.io/pypi/v/ibm-watson.svg)](https://pypi.python.org/pypi/ibm-watson)\n[![cla assistant](https://cla-assistant.io/readme/badge/watson-developer-cloud/python-sdk)](https://cla-assistant.io/watson-developer-cloud/python-sdk)\n\n## deprecated builds\n\n[![build status](https://travis-ci.org/watson-developer-cloud/python-sdk.svg?branch=master)](https://travis-ci.org/watson-developer-cloud/python-sdk)\n\npython client library to quickly get started with the various [watson apis][wdc] services.\n\n## before you begin\n\n- you need an [ibm cloud][ibm-cloud-onboarding] account. we now only support `python 3.5` and above\n\n## installation\n\nto install, use `pip` or `easy_install`:\n\n```bash\npip install --upgrade ibm-watson\n```\n\nor\n\n```bash\neasy_install --upgrade ibm-watson\n```\n\nnote the following:\na) versions prior to 3.0.0 can be installed using:\n\n```bash\npip install --upgrade watson-developer-cloud\n```\n\nb) if you run into permission issues try:\n\n```bash\nsudo -h pip install --ignore-installed six ibm-watson\n```\n\nfor more details see [#225](https://github.com/watson-developer-cloud/python-sdk/issues/225)\n\nc) in case you run into problems installing the sdk in dsx, try\n\n```\n!pip install --upgrade pip\n```\n\nrestarting the kernel\n\nfor more details see [#405](https://github.com/watson-developer-cloud/python-sdk/issues/405)\n\n## examples\n\nthe [examples][examples] folder has basic and advanced examples. the examples within each service assume that you already have [service credentials](#getting-credentials).\n\n## running in ibm cloud\n\nif you run your app in ibm cloud, the sdk gets credentials from the [`vcap_services`][vcap_services] environment variable.\n\n## authentication\n\nwatson services are migrating to token-based identity and access management (iam) authentication.\n\n- with some service instances, you authenticate to the api by using **[iam](#iam)**.\n- in other instances, you authenticate by providing the **[username and password](#username-and-password)** for the service instance.\n\n### getting credentials\n\nto find out which authentication to use, view the service credentials. you find the service credentials for authentication the same way for all watson services:\n\n1. go to the ibm cloud [dashboard](https://cloud.ibm.com/) page.\n1. either click an existing watson service instance in your [resource list](https://cloud.ibm.com/resources) or click [**create resource > ai**](https://cloud.ibm.com/catalog?category=ai) and create a service instance.\n1. click on the **manage** item in the left nav bar of your service instance.\n\non this page, you should be able to see your credentials for accessing your service instance.\n\n### supplying credentials\n\nthere are three ways to supply the credentials you found above to the sdk for authentication.\n\n#### credential file\n\nwith a credential file, you just need to put the file in the right place and the sdk will do the work of parsing and authenticating. you can get this file by clicking the **download** button for the credentials in the **manage** tab of your service instance.\n\nthe file downloaded will be called `ibm-credentials.env`. this is the name the sdk will search for and **must** be preserved unless you want to configure the file path (more on that later). the sdk will look for your `ibm-credentials.env` file in the following places (in order):\n\n- the top-level directory of the project you're using the sdk in\n- your system's home directory\n\nas long as you set that up correctly, you don't have to worry about setting any authentication options in your code. so, for example, if you created and downloaded the credential file for your discovery instance, you just need to do the following:\n\n```python\ndiscovery = discoveryv1(version='2019-04-30')\n```\n\nand that's it!\n\nif you're using more than one service at a time in your code and get two different `ibm-credentials.env` files, just put the contents together in one `ibm-credentials.env` file and the sdk will handle assigning credentials to their appropriate services.\n\nif you would like to configure the location/name of your credential file, you can set an environment variable called `ibm_credentials_file`. **this will take precedence over the locations specified above.** here's how you can do that:\n\n```bash\nexport ibm_credentials_file=\"<path>\"\n```\n\nwhere `<path>` is something like `/home/user/downloads/<file_name>.env`.\n\n#### environment variables\n\nsimply set the environment variables using <service name>\\_<variable name> syntax. for example, using your favourite terminal, you can set environment variables for assistant service instance:\n\n```bash\nexport assistant_apikey=\"<your apikey>\"\nexport assistant_auth_type=\"iam\"\n```\n\nthe credentials will be loaded from the environment automatically\n\n```python\nassistant = assistantv1(version='2018-08-01')\n```\n\n#### manually\n\nif you'd prefer to set authentication values manually in your code, the sdk supports that as well. the way you'll do this depends on what type of credentials your service instance gives you.\n\n### iam\n\nibm cloud has migrated to token-based identity and access management (iam) authentication. iam authentication uses a service api key to get an access token that is passed with the call. access tokens are valid for approximately one hour and must be regenerated.\n\nyou supply either an iam service **api key** or a **bearer token**:\n\n- use the api key to have the sdk manage the lifecycle of the access token. the sdk requests an access token, ensures that the access token is valid, and refreshes it if necessary.\n- use the access token if you want to manage the lifecycle yourself. for details, see [authenticating with iam tokens](https://cloud.ibm.com/docs/watson?topic=watson-iam).\n- use a server-side to generate access tokens using your iam api key for untrusted environments like client-side scripts. the generated access tokens will be valid for one hour and can be refreshed.\n\n#### supplying the api key\n\n```python\nfrom ibm_watson import discoveryv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\n# in the constructor, letting the sdk manage the token\nauthenticator = iamauthenticator('apikey',\n                                 url='<iam_url>') # optional - the default value is https://iam.cloud.ibm.com/identity/token\ndiscovery = discoveryv1(version='2019-04-30',\n                        authenticator=authenticator)\ndiscovery.set_service_url('<url_as_per_region>')\n```\n\n#### generating bearer tokens using api key\n\n```python\nfrom ibm_watson import iamtokenmanager\n\n# in your api endpoint use this to generate new bearer tokens\niam_token_manager = iamtokenmanager(apikey='<apikey>')\ntoken = iam_token_manager.get_token()\n```\n\n##### supplying the bearer token\n\n```python\nfrom ibm_watson import discoveryv1\nfrom ibm_cloud_sdk_core.authenticators import bearertokenauthenticator\n\n# in the constructor, assuming control of managing the token\nauthenticator = bearertokenauthenticator('your bearer token')\ndiscovery = discoveryv1(version='2019-04-30',\n                        authenticator=authenticator)\ndiscovery.set_service_url('<url_as_per_region>')\n```\n\n### username and password\n\n```python\nfrom ibm_watson import discoveryv1\nfrom ibm_cloud_sdk_core.authenticators import basicauthenticator\n\nauthenticator = basicauthenticator('username', 'password')\ndiscovery = discoveryv1(version='2019-04-30', authenticator=authenticator)\ndiscovery.set_service_url('<url_as_per_region>')\n```\n\n### no authentication\n\n```python\nfrom ibm_watson import discoveryv1\nfrom ibm_cloud_sdk_core.authenticators import noauthauthenticator\n\nauthenticator = noauthauthenticator()\ndiscovery = discoveryv1(version='2019-04-30', authenticator=authenticator)\ndiscovery.set_service_url('<url_as_per_region>')\n```\n\n## python version\n\ntested on python 3.9, 3.10, and 3.11.\n\n## questions\n\nif you have issues with the apis or have a question about the watson services, see [stack overflow](https://stackoverflow.com/questions/tagged/ibm-watson+python).\n\n## configuring the http client (supported from v1.1.0)\n\nto set client configs like timeout use the `set_http_config()` function and pass it a dictionary of configs. see this [documentation](https://2.python-requests.org/en/master/api/#requests.request) for more information about the options. all options shown except `method`, `url`, `headers`, `params`, `data`, and `auth` are configurable via `set_http_config()`. for example for a assistant service instance\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\nauthenticator = iamauthenticator('your apikey')\nassistant = assistantv1(\n    version='2021-11-27',\n    authenticator=authenticator)\nassistant.set_service_url('https://api.us-south.assistant.watson.cloud.ibm.com')\n\nassistant.set_http_config({'timeout': 100})\nresponse = assistant.message(workspace_id=workspace_id, input={\n    'text': 'what\\'s the weather like?'}).get_result()\nprint(json.dumps(response, indent=2))\n```\n\n### use behind a corporate proxy\n\nto use the sdk with any proxies you may have they can be set as shown below. for documentation on proxies see [here](https://2.python-requests.org/en/latest/user/advanced/#proxies)\n\nsee this example configuration:\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\nauthenticator = iamauthenticator('your apikey')\nassistant = assistantv1(\n    version='2021-11-27',\n    authenticator=authenticator)\nassistant.set_service_url('https://api.us-south.assistant.watson.cloud.ibm.com')\n\nassistant.set_http_config({'proxies': {\n  'http': 'http://10.10.1.10:3128',\n  'https': 'http://10.10.1.10:1080',\n}})\n```\n\n### sending custom certificates\n\nto send custom certificates as a security measure in your request, use the cert property of the https agent.\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\nauthenticator = iamauthenticator('your apikey')\nassistant = assistantv1(\n    version='2021-11-27',\n    authenticator=authenticator)\nassistant.set_service_url('https://api.us-south.assistant.watson.cloud.ibm.com')\n\nassistant.set_http_config({'cert': ('path_to_cert_file','path_to_key_file')})\n```\n\n## disable ssl certificate verification\n\nfor icp(ibm cloud private), you can disable the ssl certificate verification by:\n\n```python\nservice.set_disable_ssl_verification(true)\n```\n\nor can set it from extrernal sources. for example set in the environment variable.\n\n```\nexport <service name>_disable_ssl=true\n```\n\n## setting the service url\n\nto set the base service to be used when contacting the service\n\n```python\nservice.set_service_url('my_new_service_url')\n```\n\nor can set it from extrernal sources. for example set in the environment variable.\n\n```\nexport <service name>_url=\"<your url>\"\n```\n\n## sending request headers\n\ncustom headers can be passed in any request in the form of a `dict` as:\n\n```python\nheaders = {\n    'custom-header': 'custom_value'\n}\n```\n\nfor example, to send a header called `custom-header` to a call in watson assistant, pass\nthe headers parameter as:\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\nauthenticator = iamauthenticator('your apikey')\nassistant = assistantv1(\n    version='2018-07-10',\n    authenticator=authenticator)\nassistant.set_service_url('https://gateway.watsonplatform.net/assistant/api')\n\nresponse = assistant.list_workspaces(headers={'custom-header': 'custom_value'}).get_result()\n```\n\n## parsing http response information\n\nif you would like access to some http response information along with the response model, you can set the `set_detailed_response()` to `true`. since python sdk `v2.0`, it is set to `true`\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import iamauthenticator\n\nauthenticator = iamauthenticator('your apikey')\nassistant = assistantv1(\n    version='2018-07-10',\n    authenticator=authenticator)\nassistant.set_service_url('https://gateway.watsonplatform.net/assistant/api')\n\nassistant.set_detailed_response(true)\nresponse = assistant.list_workspaces(headers={'custom-header': 'custom_value'}).get_result()\nprint(response)\n```\n\nthis would give an output of `detailedresponse` having the structure:\n\n```python\n{\n    'result': <response returned by service>,\n    'headers': { <http response headers> },\n    'status_code': <http status code>\n}\n```\n\nyou can use the `get_result()`, `get_headers()` and get_status_code() to return the result, headers and status code respectively.\n\n## getting the transaction id\n\nevery sdk call returns a response with a transaction id in the `x-global-transaction-id` header. together the service instance region, this id helps support teams troubleshoot issues from relevant logs.\n\n### suceess\n\n```python\nfrom ibm_watson import assistantv1\n\nservice = assistantv1(authenticator={my_authenticator})\nresponse_headers = service.my_service_call().get_headers()\nprint(response_headers.get('x-global-transaction-id'))\n```\n\n### failure\n\n```python\nfrom ibm_watson import assistantv1, apiexception\n\ntry:\n    service = assistantv1(authenticator={my_authenticator})\n    service.my_service_call()\nexcept apiexception as e:\n    print(e.global_transaction_id)\n    # or\n    print(e.http_response.headers.get('x-global-transaction-id'))\n```\n\nhowever, the transaction id isn't available when the api doesn't return a response for some reason. in that case, you can set your own transaction id in the request. for example, replace `<my-unique-transaction-id>` in the following example with a unique transaction id.\n\n```python\nfrom ibm_watson import assistantv1\n\nservice = assistantv1(authenticator={my_authenticator})\nservice.my_service_call(headers={'x-global-transaction-id': '<my-unique-transaction-id>'})\n```\n\n## using websockets\n\nthe text to speech service supports synthesizing text to spoken audio using web sockets with the `synthesize_using_websocket`. the speech to text service supports recognizing speech to text using web sockets with the `recognize_using_websocket`. these methods need a custom callback class to listen to events. below is an example of `synthesize_using_websocket`. note: the service accepts one request per connection.\n\n```py\nfrom ibm_watson.websocket import synthesizecallback\n\nclass mysynthesizecallback(synthesizecallback):\n    def __init__(self):\n        synthesizecallback.__init__(self)\n\n    def on_audio_stream(self, audio_stream):\n        return audio_stream\n\n    def on_data(self, data):\n        return data\n\nmy_callback = mysynthesizecallback()\nservice.synthesize_using_websocket('i like to pet dogs',\n                                   my_callback,\n                                   accept='audio/wav',\n                                   voice='en-us_allisonvoice'\n                                  )\n```\n\n## cloud pak for data\n\nif your service instance is of cp4d, below are two ways of initializing the assistant service.\n\n### 1) supplying the username, password and authentication url\n\nthe sdk will manage the token for the user\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import cloudpakfordataauthenticator\n\nauthenticator = cloudpakfordataauthenticator(\n    '<your username>',\n    '<your password>',\n    '<authentication url>', # should be of the form https://{icp_cluster_host}{instance-id}/api\n    disable_ssl_verification=true) # disable ssl verification for authenticator\n\nassistant = assistantv1(\n    version='<version>',\n    authenticator=authenticator)\nassistant.set_service_url('<service url>') # should be of the form https://{icp_cluster_host}/{deployment}/assistant/{instance-id}/api\nassistant.set_disable_ssl_verification(true) # make sure ssl verification is disabled\n```\n\n### 2) supplying the access token\n\n```python\nfrom ibm_watson import assistantv1\nfrom ibm_cloud_sdk_core.authenticators import bearertokenauthenticator\n\nauthenticator = bearertokenauthenticator('your managed access token')\nassistant = assistantv1(version='<version>',\n                        authenticator=authenticator)\nassistant.set_service_url('<service url>') # should be of the form https://{icp_cluster_host}/{deployment}/assistant/{instance-id}/api\nassistant.set_disable_ssl_verification(true) # make sure ssl verification is disabled\n```\n\n## logging\n\n### enable logging\n\n```python\nimport logging\nlogging.basicconfig(level=logging.debug)\n```\n\nthis would show output of the form:\n\n```\ndebug:urllib3.connectionpool:starting new https connection (1): iam.cloud.ibm.com:443\ndebug:urllib3.connectionpool:https://iam.cloud.ibm.com:443 \"post /identity/token http/1.1\" 200 1809\ndebug:urllib3.connectionpool:starting new https connection (1): gateway.watsonplatform.net:443\ndebug:urllib3.connectionpool:https://gateway.watsonplatform.net:443 \"post /assistant/api/v1/workspaces?version=2018-07-10 http/1.1\" 201 none\ndebug:urllib3.connectionpool:starting new https connection (1): gateway.watsonplatform.net:443\ndebug:urllib3.connectionpool:https://gateway.watsonplatform.net:443 \"get /assistant/api/v1/workspaces/883a2a44-eb5f-4b1a-96b0-32a90b475ea8?version=2018-07-10&export=true http/1.1\" 200 none\ndebug:urllib3.connectionpool:starting new https connection (1): gateway.watsonplatform.net:443\ndebug:urllib3.connectionpool:https://gateway.watsonplatform.net:443 \"delete /assistant/api/v1/workspaces/883a2a44-eb5f-4b1a-96b0-32a90b475ea8?version=2018-07-10 http/1.1\" 200 28\n```\n\n### low level request and response dump\n\nto get low level information of the requests/ responses:\n\n```python\nfrom http.client import httpconnection\nhttpconnection.debuglevel = 1\n```\n\n## dependencies\n\n- [requests]\n- `python_dateutil` >= 2.5.3\n- [responses] for testing\n- following for web sockets support in speech to text\n  - `websocket-client` 1.1.0\n- `ibm_cloud_sdk_core` >= 3.16.2\n\n## contributing\n\nsee [contributing.md][contributing].\n\n## license\n\nthis library is licensed under the [apache 2.0 license][license].\n",
  "docs_url": null,
  "keywords": "language,vision,question and answer tone_analyzer,natural language classifier,text to speech,language translation,language identification,concept expansion,machine translation,personality insights,message resonance,watson developer cloud,wdc,watson,ibm,dialog,user modeling,tone analyzer,speech to text,visual recognition",
  "license": "apache 2.0",
  "name": "ibm-watson",
  "package_url": "https://pypi.org/project/ibm-watson/",
  "project_url": "https://pypi.org/project/ibm-watson/",
  "project_urls": {
    "Homepage": "https://github.com/watson-developer-cloud/python-sdk"
  },
  "release_url": "https://pypi.org/project/ibm-watson/7.0.1/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "client library to use the ibm watson services",
  "version": "7.0.1",
  "releases": [],
  "developers": [
    "ibm_watson",
    "watdevex@us.ibm.com"
  ],
  "kwds": "ibm_watson watsonplatform workflows watson workflow",
  "license_kwds": "apache 2.0",
  "libtype": "pypi",
  "id": "pypi_ibm_watson",
  "homepage": "https://github.com/watson-developer-cloud/python-sdk",
  "release_count": 40,
  "dependency_ids": []
}