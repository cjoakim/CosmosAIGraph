{
  "classifiers": [
    "development status :: 5 - production/stable",
    "license :: osi approved :: mit license",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "# azure datalake service client library for python\noverview\n\nthis preview package for python includes adls gen2 specific api support made available in storage sdk. this includes:\n1. new directory level operations (create, rename, delete) for hierarchical namespace enabled (hns) storage account. for hns enabled accounts, the rename/move operations are atomic.\n2. permission related operations (get/set acls) for hierarchical namespace enabled (hns) accounts.\n\n\n[source code](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/storage/azure-storage-file-datalake/azure/storage/filedatalake)\n| [package (pypi)](https://pypi.org/project/azure-storage-file-datalake/)\n| [package (conda)](https://anaconda.org/microsoft/azure-storage/)\n| [api reference documentation](https://aka.ms/azsdk-python-storage-filedatalake-ref)\n| [product documentation](https://docs.microsoft.com/azure/storage/)\n| [samples](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/storage/azure-storage-file-datalake/samples)\n\n\n## getting started\n\n### prerequisites\n* python 3.7 or later is required to use this package. for more details, please read our page on [azure sdk for python version support policy](https://github.com/azure/azure-sdk-for-python/wiki/azure-sdks-python-version-support-policy).\n* you must have an [azure subscription](https://azure.microsoft.com/free/) and an\n[azure storage account](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-quickstart-create-account) to use this package.\n\n### install the package\ninstall the azure datalake storage client library for python with [pip](https://pypi.org/project/pip/):\n\n```bash\npip install azure-storage-file-datalake --pre\n```\n\n### create a storage account\nif you wish to create a new storage account, you can use the\n[azure portal](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-quickstart-create-account#create-an-account-using-the-azure-portal),\n[azure powershell](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-quickstart-create-account#create-an-account-using-powershell),\nor [azure cli](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-quickstart-create-account#create-an-account-using-azure-cli):\n\n```bash\n# create a new resource group to hold the storage account -\n# if using an existing resource group, skip this step\naz group create --name my-resource-group --location westus2\n\n# install the extension 'storage-preview'\naz extension add --name storage-preview\n\n# create the storage account\naz storage account create --name my-storage-account-name --resource-group my-resource-group --sku standard_lrs --kind storagev2 --hierarchical-namespace true\n```\n\n### authenticate the client\n\ninteraction with datalake storage starts with an instance of the datalakeserviceclient class. you need an existing storage account, its url, and a credential to instantiate the client object.\n\n#### get credentials\n\nto authenticate the client you have a few options:\n1. use a sas token string\n2. use an account shared access key\n3. use a token credential from [azure.identity](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/identity/azure-identity)\n\nalternatively, you can authenticate with a storage connection string using the `from_connection_string` method. see example: [client creation with a connection string](#client-creation-with-a-connection-string).\n\nyou can omit the credential if your account url already has a sas token.\n\n#### create client\n\nonce you have your account url and credentials ready, you can create the datalakeserviceclient:\n\n```python\nfrom azure.storage.filedatalake import datalakeserviceclient\n\nservice = datalakeserviceclient(account_url=\"https://<my-storage-account-name>.dfs.core.windows.net/\", credential=credential)\n```\n\n## key concepts\n\ndatalake storage offers four types of resources:\n* the storage account\n* a file system in the storage account\n* a directory under the file system\n* a file in a the file system or under directory\n\n### async clients \nthis library includes a complete async api supported on python 3.5+. to use it, you must\nfirst install an async transport, such as [aiohttp](https://pypi.org/project/aiohttp/).\nsee\n[azure-core documentation](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/core/azure-core/client_library_developer.md#transport)\nfor more information.\n\nasync clients and credentials should be closed when they're no longer needed. these\nobjects are async context managers and define async `close` methods.\n\n#### clients\n\nthe datalake storage sdk provides four different clients to interact with the datalake service:\n1. **datalakeserviceclient** - this client interacts with the datalake service at the account level.\n    it provides operations to retrieve and configure the account properties\n    as well as list, create, and delete file systems within the account.\n    for operations relating to a specific file system, directory or file, clients for those entities\n    can also be retrieved using the `get_file_client`, `get_directory_client` or `get_file_system_client` functions.\n2. **filesystemclient** - this client represents interaction with a specific\n    file system, even if that file system does not exist yet. it provides operations to create, delete, or\n    configure file systems and includes operations to list paths under file system, upload, and delete file or\n    directory in the file system.\n    for operations relating to a specific file, the client can also be retrieved using\n    the `get_file_client` function.\n    for operations relating to a specific directory, the client can be retrieved using\n    the `get_directory_client` function.\n3. **datalakedirectoryclient** - this client represents interaction with a specific\n    directory, even if that directory does not exist yet. it provides directory operations create, delete, rename,\n    get properties and set properties operations.\n3. **datalakefileclient** - this client represents interaction with a specific\n    file, even if that file does not exist yet. it provides file operations to append data, flush data, delete,\n    create, and read file.\n4. **datalakeleaseclient** - this client represents lease interactions with a filesystemclient, datalakedirectoryclient\n    or datalakefileclient. it provides operations to acquire, renew, release, change, and break leases on the resources.\n\n## examples\n\nthe following sections provide several code snippets covering some of the most common storage datalake tasks, including:\n\n* [client creation with a connection string](#client-creation-with-a-connection-string)\n* [uploading a file](#uploading-a-file)\n* [downloading a file](#downloading-a-file)\n* [enumerating paths](#enumerating-paths)\n\n\n### client creation with a connection string\ncreate the datalakeserviceclient using the connection string to your azure storage account.\n\n```python\nfrom azure.storage.filedatalake import datalakeserviceclient\n\nservice = datalakeserviceclient.from_connection_string(conn_str=\"my_connection_string\")\n```\n\n### uploading a file\nupload a file to your file system.\n\n```python\nfrom azure.storage.filedatalake import datalakefileclient\n\ndata = b\"abc\"\nfile = datalakefileclient.from_connection_string(\"my_connection_string\",\n                                                 file_system_name=\"myfilesystem\", file_path=\"myfile\")\nfile.create_file ()\nfile.append_data(data, offset=0, length=len(data))\nfile.flush_data(len(data))\n```\n\n### downloading a file\ndownload a file from your file system.\n\n```python\nfrom azure.storage.filedatalake import datalakefileclient\n\nfile = datalakefileclient.from_connection_string(\"my_connection_string\",\n                                                 file_system_name=\"myfilesystem\", file_path=\"myfile\")\n\nwith open(\"./blockdestination.txt\", \"wb\") as my_file:\n    download = file.download_file()\n    download.readinto(my_file)\n```\n\n### enumerating paths\nlist the paths in your file system.\n\n```python\nfrom azure.storage.filedatalake import filesystemclient\n\nfile_system = filesystemclient.from_connection_string(\"my_connection_string\", file_system_name=\"myfilesystem\")\n\npaths = file_system.get_paths()\nfor path in paths:\n    print(path.name + '\\n')\n```\n\n## optional configuration\n\noptional keyword arguments that can be passed in at the client and per-operation level.\n\n### retry policy configuration\n\nuse the following keyword arguments when instantiating a client to configure the retry policy:\n\n* __retry_total__ (int): total number of retries to allow. takes precedence over other counts.\npass in `retry_total=0` if you do not want to retry on requests. defaults to 10.\n* __retry_connect__ (int): how many connection-related errors to retry on. defaults to 3.\n* __retry_read__ (int): how many times to retry on read errors. defaults to 3.\n* __retry_status__ (int): how many times to retry on bad status codes. defaults to 3.\n* __retry_to_secondary__ (bool): whether the request should be retried to secondary, if able.\nthis should only be enabled of ra-grs accounts are used and potentially stale data can be handled.\ndefaults to `false`.\n\n### other client / per-operation configuration\n\nother optional configuration keyword arguments that can be specified on the client or per-operation.\n\n**client keyword arguments:**\n\n* __connection_timeout__ (int): the number of seconds the client will wait to establish a connection to the server.\ndefaults to 20 seconds.\n* __read_timeout__ (int): the number of seconds the client will wait, between consecutive read operations, for a\nresponse from the server. this is a socket level timeout and is not affected by overall data size. client-side read \ntimeouts will be automatically retried. defaults to 60 seconds.\n* __transport__ (any): user-provided transport to send the http request.\n\n**per-operation keyword arguments:**\n\n* __raw_response_hook__ (callable): the given callback uses the response returned from the service.\n* __raw_request_hook__ (callable): the given callback uses the request before being sent to service.\n* __client_request_id__ (str): optional user specified identification of the request.\n* __user_agent__ (str): appends the custom value to the user-agent header to be sent with the request.\n* __logging_enable__ (bool): enables logging at the debug level. defaults to false. can also be passed in at\nthe client level to enable it for all requests.\n* __logging_body__ (bool): enables logging the request and response body. defaults to false. can also be passed in at\nthe client level to enable it for all requests.\n* __headers__ (dict): pass in custom headers as key, value pairs. e.g. `headers={'customvalue': value}`\n\n## troubleshooting\n### general\ndatalake storage clients raise exceptions defined in [azure core](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/core/azure-core/readme.md).\n\nthis list can be used for reference to catch thrown exceptions. to get the specific error code of the exception, use the `error_code` attribute, i.e, `exception.error_code`.\n\n### logging\nthis library uses the standard\n[logging](https://docs.python.org/3/library/logging.html) library for logging.\nbasic information about http sessions (urls, headers, etc.) is logged at info\nlevel.\n\ndetailed debug level logging, including request/response bodies and unredacted\nheaders, can be enabled on a client with the `logging_enable` argument:\n```python\nimport sys\nimport logging\nfrom azure.storage.filedatalake import datalakeserviceclient\n\n# create a logger for the 'azure.storage.filedatalake' sdk\nlogger = logging.getlogger('azure.storage')\nlogger.setlevel(logging.debug)\n\n# configure a console output\nhandler = logging.streamhandler(stream=sys.stdout)\nlogger.addhandler(handler)\n\n# this client will log detailed information about its http sessions, at debug level\nservice_client = datalakeserviceclient.from_connection_string(\"your_connection_string\", logging_enable=true)\n```\n\nsimilarly, `logging_enable` can enable detailed logging for a single operation,\neven when it isn't enabled for the client:\n```python\nservice_client.list_file_systems(logging_enable=true)\n```\n\n## next steps\n\n### more sample code\n\nget started with our [azure datalake samples](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/storage/azure-storage-file-datalake/samples).\n\nseveral datalake storage python sdk samples are available to you in the sdk's github repository. these samples provide example code for additional scenarios commonly encountered while working with datalake storage:\n\n* [`datalake_samples_access_control.py`](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/storage/azure-storage-file-datalake/samples/datalake_samples_access_control.py) - examples for common datalake storage tasks:\n    * set up a file system\n    * create a directory\n    * set/get access control for the directory\n    * create files under the directory\n    * set/get access control for each file\n    * delete file system\n\n* [`datalake_samples_upload_download.py`](https://github.com/azure/azure-sdk-for-python/tree/main/sdk/storage/azure-storage-file-datalake/samples/datalake_samples_upload_download.py) - examples for common datalake storage tasks:\n    * set up a file system\n    * create file\n    * append data to the file\n    * flush data to the file\n    * download the uploaded data\n    * delete file system\n\n\n### additional documentation\n\ntable for [adls gen1 to adls gen2 api mapping](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/storage/azure-storage-file-datalake/gen1_gen2_mapping.md)\nfor more extensive rest documentation on data lake storage gen2, see the [data lake storage gen2 documentation](https://docs.microsoft.com/rest/api/storageservices/datalakestoragegen2/filesystem) on docs.microsoft.com.\n\n\n## contributing\nthis project welcomes contributions and suggestions.  most contributions require you to agree to a contributor license agreement (cla) declaring that you have the right to, and actually do, grant us the rights to use your contribution. for details, visit https://cla.microsoft.com.\n\nwhen you submit a pull request, a cla-bot will automatically determine whether you need to provide a cla and decorate the pr appropriately (e.g., label, comment). simply follow the instructions provided by the bot. you will only need to do this once across all repos using our cla.\n\nthis project has adopted the [microsoft open source code of conduct](https://opensource.microsoft.com/codeofconduct/). for more information see the [code of conduct faq](https://opensource.microsoft.com/codeofconduct/faq/) or contact [opencode@microsoft.com](mailto:opencode@microsoft.com) with any additional questions or comments.\n",
  "docs_url": null,
  "keywords": "azure,azure sdk",
  "license": "mit license",
  "name": "azure-storage-file-datalake",
  "package_url": "https://pypi.org/project/azure-storage-file-datalake/",
  "project_url": "https://pypi.org/project/azure-storage-file-datalake/",
  "project_urls": {
    "Homepage": "https://github.com/Azure/azure-sdk-for-python"
  },
  "release_url": "https://pypi.org/project/azure-storage-file-datalake/12.14.0/",
  "requires_dist": [
    "azure-core<2.0.0,>=1.28.0",
    "azure-storage-blob<13.0.0,>=12.19.0",
    "typing-extensions>=4.3.0",
    "isodate>=0.6.1",
    "azure-core[aio]<2.0.0,>=1.28.0; extra == \"aio\""
  ],
  "requires_python": ">=3.7",
  "summary": "microsoft azure file datalake storage client library for python",
  "version": "12.14.0",
  "releases": [],
  "developers": [
    "ascl@microsoft.com",
    "microsoft_corporation"
  ],
  "kwds": "datalakedirectoryclient storageservices datalakefileclient datalakestoragegen2 datalakeserviceclient",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_azure_storage_file_datalake",
  "homepage": "https://github.com/azure/azure-sdk-for-python",
  "release_count": 45,
  "dependency_ids": [
    "pypi_azure_core",
    "pypi_azure_storage_blob",
    "pypi_isodate",
    "pypi_typing_extensions"
  ]
}