{
  "classifiers": [
    "license :: osi approved :: bsd license",
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": ".. image:: https://img.shields.io/pypi/v/tbump.svg\n  :target: https://pypi.org/project/tbump/\n\n.. image:: https://img.shields.io/github/license/dmerejkowsky/tbump.svg\n  :target: https://github.com/dmerejkowsky/tbump/blob/main/license\n\n.. image:: https://github.com/dmerejkowsky/tbump/workflows/tests/badge.svg\n   :target: https://github.com/dmerejkowsky/tbump/actions\n\n.. image:: https://github.com/dmerejkowsky/tbump/workflows/linters/badge.svg\n   :target: https://github.com/dmerejkowsky/tbump/actions\n\n.. image:: https://img.shields.io/badge/code%20style-black-black.svg\n   :target: https://github.com/psf/black\n\n.. image:: https://img.shields.io/badge/mypy-checked-blue.svg\n   :target: https://mypy-lang.org\n\n\ntbump: bump software releases\n=============================\n\ntbump helps you bump the version of your project easily.\n\nnote\n----\n\nthis project was originally hosted on the `tankerhq\n<https://github.com/tankerhq>`_ organization, which was my employer from 2016\nto 2021. they kindly agreed to give me back ownership of this project. thanks!\n\ninstallation\n------------\n\nthe recommended way to install ``tbump`` is to use `pipx <https://pipxproject.github.io/pipx/>`_\n\n* make sure to have python **3.7** or later installed.\n* install ``pipx``\n* run ``pipx install tbump``.\n\n``tbump`` is also available on ``pypi`` and can be installed with ``pip`` if you know what you are doing.\n\nscreenshot\n-----------\n\nhere's what a typical usage of ``tbump`` looks like:\n\n.. code-block:: console\n\n    $ tbump 5.0.5\n    :: bumping from 5.0.4 to 5.0.5\n    => would patch these files\n    - setup.py:14 version=\"5.0.4\",\n    + setup.py:14 version=\"5.0.5\",\n    - tbump.toml:2 current = \"5.0.4\"\n    + tbump.toml:2 current = \"5.0.5\"\n    => would run these hooks before commit\n    * (1/2) $ ./test.sh\n    * (2/2) $ grep -q -f 5.0.5 changelog.rst\n    => would run these git commands\n     * git add --update\n     * git commit --message bump to 5.0.5\n     * git tag --annotate --message v5.0.5 v5.0.5\n     * git push origin master\n     * git push origin v5.0.5\n    => would run these hooks after push\n    * (1/1) $ ./publish.sh\n    :: looking good? (y/n)\n    y\n    => patching files\n    ...\n    => running hooks before commit\n    ...\n    => making bump commit and push matching tags\n    ...\n    => running hooks after push\n    ...\n    done \u2713\n\n\n\nusage\n------\n\nfirst, run ``tbump init <current_version>``, where ``current_version``\nis the current version of your program. this will create a\n``tbump.toml`` file looking like this:\n\n.. code-block:: ini\n\n    [version]\n    current = \"1.2.41\"\n    regex = '''\n      (?p<major>\\d+)\n      \\.\n      (?p<minor>\\d+)\n      \\.\n      (?p<patch>\\d+)\n    '''\n\n    [git]\n    message_template = \"bump to {new_version}\"\n    tag_template = \"v{new_version}\"\n\n    [[file]]\n    src = \"setup.py\"\n\n\n.. note::\n\n * the file uses `toml syntax <https://github.com/toml-lang/toml>`_.\n * strings should be templated using curly brackets, to be used with\n   python's built-in ``.format()`` method.\n * paths may contain unix-style `globs\n   <https://docs.python.org/3/library/glob.html>`_, e.g. ``src =\n   \"a/**/script.?s\"`` matches both ``a/b/script.js`` and\n   ``a/b/c/script.ts``.\n * the version regular expression will be used in `verbose mode\n   <https://docs.python.org/3/library/re.html#re.verbose>`_ and can\n   contain named groups (see below).\n * tbump will also look for a ``[tool.tbump]`` section in the\n   `pyproject.toml` file if its exists. you can use ``tbump init`` with\n   the ``--pyproject`` option to append the configuration in this file\n   instead of creating a new file.\n\n\nthen run:\n\n.. code-block:: console\n\n    $ tbump 1.2.42\n\n``tbump`` will:\n\n* replace the string ``1.2.41`` by ``1.2.42`` in every file listed in the\n  configuration\n\n* make a commit based on the ``message_template``.\n\n* make an **annotated** tag based on the ``tag_template``\n\n* push the current branch and the tag.\n\nnote that by default, ``tbump`` will display all the changes and stop to ask if they are correct before performing any action, allowing you to abort and re-try the bump if something is not right.\nyou can use ``--non-interactive`` to disable this behavior.\n\nif you only want to bump the files without performing any git actions or running the hook commands, use the ``--only-patch`` option.\n\nthe current version of the project can be found using the command:\n\n.. code-block:: console\n\n    $ tbump current-version\n\nadvanced configuration\n----------------------\n\ncommand-line options\n++++++++++++++++++++\n\nsee:\n\n.. code-block:: console\n\n   tbump --help\n\n\nrestricting the lines that are replaced\n+++++++++++++++++++++++++++++++++++++++\n\n\nsometimes you want to make sure only the line matching a given pattern is replaced. for instance, with the following ``package.json``:\n\n.. code-block:: js\n\n    /* in package.json */\n    {\n       \"name\": \"foo\",\n       \"version\": \"0.42\",\n       \"dependencies\": {\n         \"some-dep\": \"0.42\",\n         \"other-dep\": \"1.3\",\n       }\n    }\n\nyou'll want to make sure that when you bump from ``0.42`` to ``0.43``, that the line containing ``some-dep`` does not change.\n\nin this case, you can set a ``search`` option in the ``file`` section:\n\n.. code-block:: ini\n\n    # in tbump.toml\n\n    [[file]]\n    src = \"package.json\"\n    search = '\"version\": \"{current_version}\"'\n\nnote that the search string is actually a full regular expression, except for the ``{current_version}`` marker which is substituted as plain text.\n\n\nusing a custom version template\n+++++++++++++++++++++++++++++++\n\nif you are using a version schema like ``1.2.3-alpha-4``, you may want to expose a variable that only contains the \"public\" part of the version string. (``1.2.3`` in this case).\n\nto do so, add a ``version_template`` option in the ``file`` section. the names used in the format string should match the group names in the regular expression.\n\n\n.. code-block:: js\n\n      /* in version.js */\n\n      export full_version = '1.2.3-alpha-4';\n      export public_version = '1.2.3';\n\n.. code-block:: ini\n\n\n      [[file]]\n      src = \"version.js\"\n      version_template = \"{major}.{minor}.{patch}\"\n      search = \"export public_version = '{current_version}'\"\n\n      [[file]]\n      src = \"version.js\"\n      search = \"export full_version = '{current_version}'\"\n\n\nrunning commands before commit\n++++++++++++++++++++++++++++++\n\nyou can specify a list of hooks to be run after the file have changed, but before the commit is made and pushed.\n\nthis is useful if some of the files under version control are generated through an external program.\n\nhere's an example:\n\n\n.. code-block:: ini\n\n    [[before_commit]]\n    name = \"check changelog\"\n    cmd = \"grep -q -f {new_version} changelog.rst\"\n\n\nthe name is mandatory. the command will be executed via the shell, after the  ``{new_version}``  placeholder is replaced with the new version.\n\nany hook that fails will interrupt the bump. you may want to run ``git reset --hard`` before trying again to undo the changes made in the files.\n\nrunning commands after push\n+++++++++++++++++++++++++++\n\nyou can specify a list of hooks to be run right after the tag has been pushed, using an `[[after_push]]` section.\n\nthis is useful if you need the command to run on a clean repository, without un-committed changes, for instance to publish ``rust`` packages:\n\n.. code-block:: ini\n\n    [[after_push]]\n    name = \"publish to crates.io\"\n    cmd = \"cargo publish\"\n\n\nsetting default values for version fields\n+++++++++++++++++++++++++++++++++++++++++\n\n\n(added in 6.6.0)\n\nif you have a ``version_template`` that includes fields that don't always have a match\n(e.g. prerelease info),\nyou can set a default value to use instead of ``none``,\nwhich would raise an error.\n\nfor example:\n\n.. code-block:: ini\n\n    [version]\n    current = \"1.2.3\"\n    regex = \"\"\"\n      (?p<major>\\d+)\n      \\.\n      (?p<minor>\\d+)\n      \\.\n      (?p<patch>\\d+)\n      (\\-\n        (?p<extra>.+)\n      )?\n      \"\"\"\n\n    [[file]]\n    src = \"version.py\"\n    version_template = '({major}, {minor}, {patch}, \"{extra}\")'\n    search = \"version_info = {current_version}\"\n\n    [[field]]\n    # the name of the field\n    name = \"extra\"\n    # the default value to use, if there is no match\n    default = \"\"\n\n\nworking with git providers that don't support --atomic\n++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\nif the push destination does not support ``--atomic``,\nadd ``atomic_push=false`` to the config file,\nunder the ``[git]`` section:\n\n..code-block:: ini\n\n  [git]\n  atomic_push = false\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "bsd-3-clause",
  "name": "tbump",
  "package_url": "https://pypi.org/project/tbump/",
  "project_url": "https://pypi.org/project/tbump/",
  "project_urls": {
    "Changelog": "https://github.com/dmerejkowsky/tbump/blob/main/Changelog.rst",
    "Homepage": "https://github.com/dmerejkowsky/tbump",
    "Issues": "https://github.com/dmerejkowsky/tbump/issues",
    "Repository": "https://github.com/dmerejkowsky/tbump"
  },
  "release_url": "https://pypi.org/project/tbump/6.11.0/",
  "requires_dist": [
    "docopt (>=0.6.2,<0.7.0)",
    "cli-ui (>=0.10.3)",
    "schema (>=0.7.1,<0.8.0)",
    "tomlkit (>=0.11,<0.12)"
  ],
  "requires_python": ">=3.7,<4.0",
  "summary": "bump software releases",
  "version": "6.11.0",
  "releases": [],
  "developers": [
    "dimitri@dmerej.info",
    "dimitri_merejkowsky"
  ],
  "kwds": "badge tbump svg shields template",
  "license_kwds": "bsd-3-clause",
  "libtype": "pypi",
  "id": "pypi_tbump",
  "homepage": "https://github.com/dmerejkowsky/tbump",
  "release_count": 40,
  "dependency_ids": [
    "pypi_cli_ui",
    "pypi_docopt",
    "pypi_schema",
    "pypi_tomlkit"
  ]
}