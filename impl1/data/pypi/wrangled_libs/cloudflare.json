{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "license :: osi approved :: mit license",
    "programming language :: python :: 3",
    "topic :: software development :: libraries :: python modules"
  ],
  "description": "# cloudflare-python\n\n## installation\n\ntwo methods are provided to install this software.\nuse pypi (see [package](https://pypi.python.org/pypi/cloudflare) details) or github (see [package](https://github.com/cloudflare/python-cloudflare) details).\n\n### via pypi\n\n```bash\n    $ sudo pip install cloudflare\n    $\n```\n\nyes - that simple! (the sudo may not be needed in some cases).\n\n### via github\n\n```bash\n    $ git clone https://github.com/cloudflare/python-cloudflare\n    $ cd python-cloudflare\n    $ ./setup.py build\n    $ sudo ./setup.py install\n    $\n```\n\nor whatever variance of that you want to use.\nthere is a makefile included.\n\n## cloudflare name change - dropping the capital f\n\nin sepember/october 2016 the company modified its company name and dropped the capital f.\nhowever, for now (and for backward compatibility reasons) the class name stays the same.\n\n## cloudflare api version 4\n\nthe cloudflare api can be found [here](https://api.cloudflare.com/).\neach api call is provided via a similarly named function within the **cloudflare** class.\na full list is provided below.\n\n## example code\n\nall example code is available on github (see [package](https://github.com/cloudflare/python-cloudflare) in the [examples](https://github.com/cloudflare/python-cloudflare/tree/master/examples) folder).\n\n## blog\n\nthis package was initially introduced [here](https://blog.cloudflare.com/python-cloudflare/) via cloudflare's [blog](https://blog.cloudflare.com/).\n\n## getting started\n\na very simple listing of zones within your account; including the ipv6 status of the zone.\n\n```python\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare()\n    zones = cf.zones.get()\n    for zone in zones:\n        zone_id = zone['id']\n        zone_name = zone['name']\n        print(\"zone_id=%s zone_name=%s\" % (zone_id, zone_name))\n\nif __name__ == '__main__':\n    main()\n```\n\nthis example works when there are less than 50 zones (50 is the default number of values returned from a query like this).\n\nnow lets expand on that and add code to show the ipv6 and ssl status of the zones. lets also query 100 zones.\n\n```python\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare()\n    zones = cf.zones.get(params = {'per_page':100})\n    for zone in zones:\n        zone_id = zone['id']\n        zone_name = zone['name']\n\n        settings_ssl = cf.zones.settings.ssl.get(zone_id)\n        ssl_status = settings_ssl['value']\n\n        settings_ipv6 = cf.zones.settings.ipv6.get(zone_id)\n        ipv6_status = settings_ipv6['value']\n\n        print(\"zone_id=%s zone_name=%s\" % (zone_id, zone_name))\n        print(\"ssl_status=%s ipv6_status=%s\" % (ssl_status, ipv6_status))\n\nif __name__ == '__main__':\n    main()\n```\n\nin order to query more than a single page of zones, we would have to use the raw mode (described more below).\nwe can loop over many get calls and pass the page parameter to facilitate the paging.\n\nraw mode is only needed when a get request has the possibility of returning many items.\n\n```python\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare(raw=true)\n    page_number = 0\n    while true:\n        page_number += 1\n        raw_results = cf.zones.get(params={'per_page':5,'page':page_number})\n        zones = raw_results['result']\n\n        for zone in zones:\n            zone_id = zone['id']\n            zone_name = zone['name']\n            print(\"zone_id=%s zone_name=%s\" % (zone_id, zone_name))\n\n        total_pages = raw_results['result_info']['total_pages']\n        if page_number == total_pages:\n            break\n\nif __name__ == '__main__':\n    main()\n```\n\na more complex example follows.\n\n```python\nimport cloudflare\n\ndef main():\n    zone_name = 'example.com'\n\n    cf = cloudflare.cloudflare()\n\n    # query for the zone name and expect only one value back\n    try:\n        zones = cf.zones.get(params = {'name':zone_name,'per_page':1})\n    except cloudflare.exceptions.cloudflareapierror as e:\n        exit('/zones.get %d %s - api call failed' % (e, e))\n    except exception as e:\n        exit('/zones.get - %s - api call failed' % (e))\n\n    if len(zones) == 0:\n        exit('no zones found')\n\n    # extract the zone_id which is needed to process that zone\n    zone = zones[0]\n    zone_id = zone['id']\n\n    # request the dns records from that zone\n    try:\n        dns_records = cf.zones.dns_records.get(zone_id)\n    except cloudflare.exceptions.cloudflareapierror as e:\n        exit('/zones/dns_records.get %d %s - api call failed' % (e, e))\n\n    # print the results - first the zone name\n    print(\"zone_id=%s zone_name=%s\" % (zone_id, zone_name))\n\n    # then all the dns records for that zone\n    for dns_record in dns_records:\n        r_name = dns_record['name']\n        r_type = dns_record['type']\n        r_value = dns_record['content']\n        r_id = dns_record['id']\n        print('\\t', r_id, r_name, r_type, r_value)\n\n    exit(0)\n\nif __name__ == '__main__':\n    main()\n```\n\n## providing cloudflare username and api key\n\nwhen you create a **cloudflare** class you can pass some combination of these four core parameters.\n\n * `email` - the account email (only if an api key is being used)\n * `api` - the api key (if coding prior to issue-114 being merged)\n * `token` - the api token (if coding after to issue-114)\n * `certtoken` - optional origin-ca certificate token\n\nthis parameter controls how the data is returned from a successful call (see notes below).\n\n * `raw` - an optional raw flag (true/false) - defaults to false\n\ntimeouts (10s) and retries (5) are configured by default. should you wish to override them, use these settings:\n* `global_request_timeout` - how long before each api call to cloudflare should time out (in seconds)\n* `max_requests_retries` - how many times to retry an api call when dns lookups, socket connections, or connect timeouts occur.\n> note: `max_request_retries` is only available when `use_sessions` is not disabled.\n\nthe following paramaters are for debug and/or development usage\n\n * `debug` - an optional debug flag (true/false) - defaults to false\n * `use_sessions` - an optional use-sessions flag (true/false) - defaults to true\n * `profile` - an optional profile name (the default is `cloudflare`)\n * `base_url` - an optional base url (only used for development)\n\nemail=none, key=none, token=none, certtoken=none, debug=false, raw=false, use_sessions=true, profile=none, base_url=none):\n\n### issue-114\n\nafter [issue-114](https://github.com/cloudflare/python-cloudflare/issues/114) was coded and merged, the use of `token` and `key` changed; however, is backward compatible (amazingly!).\n\nif you are using only the api token, then don't include the api email. if you are coding prior to issue-114, then the api key can also be used as an api token if the api email is not used.\n\n### python code to create class\n\n```python\nimport cloudflare\n\n    # a minimal call - reading values from environment variables or configuration file\n    cf = cloudflare.cloudflare()\n\n    # a minimal call with debug enabled\n    cf = cloudflare.cloudflare(debug=true)\n\n    # an authenticated call using an api token (note the missing email)\n    cf = cloudflare.cloudflare(token='00000000000000000000000000000000')\n\n    # an authenticated call using an api email and api key\n    cf = cloudflare.cloudflare(email='user@example.com', key='00000000000000000000000000000000')\n\n    # an authenticated call using an api token and ca-origin info\n    cf = cloudflare.cloudflare(token='00000000000000000000000000000000', certtoken='v1.0-...')\n\n    # an authenticated call using an api email, api key, and ca-origin info\n    cf = cloudflare.cloudflare(email='user@example.com', key='00000000000000000000000000000000', certtoken='v1.0-...')\n\n    # an authenticated call using using a stored profile (see below)\n    cf = cloudflare.cloudflare(profile=\"companyx\"))\n```\n\nif the account email and api key are not passed when you create the class, then they are retrieved from either the users exported shell environment variables or the .cloudflare.cfg or ~/.cloudflare.cfg or ~/.cloudflare/cloudflare.cfg files, in that order.\n\nif you're using an api token, any `cloudflare.cfg` file must either not contain an `email` and `key` attribute (or they can be zero length strings) and the `cloudflare_email` `cloudflare_api_key` environment variable must be unset (or zero length strings), otherwise the token (`cloudflare_api_token` or `token` attribute) will not be used.\n\nthere is one call that presently doesn't need any email or token certification (the */ips* call); hence you can test without any values saved away.\n\n### using shell environment variables\n\nnote (for latest version of code):\n\n * `cloudflare_email` has replaced `cf_api_email`.\n * `cloudflare_api_key` has replaced `cf_api_key`.\n * `cloudflare_api_token` has replaced `cf_api_token`.\n * `cloudflare_api_certkey` has replaced `cf_api_certkey`.\n\nadditionally, these two variables are available for testing purposes:\n\n * `cloudflare_api_extras` has replaced `cf_api_extras`.\n * `cloudflare_api_url` has replaced `cf_api_url`.\n\nthe older environment variable names can still be used.\n\n```bash\n$ export cloudflare_email='user@example.com'\n$ export cloudflare_api_key='00000000000000000000000000000000'\n$ export cloudflare_api_certkey='v1.0-...'\n$\n```\n\nor if using api token.\n\n```bash\n$ export cloudflare_api_token='00000000000000000000000000000000'\n$ export cloudflare_api_certkey='v1.0-...'\n$\n```\nthese are optional environment variables; however, they do override the values set within a configuration file.\n\n### using configuration file to store email and keys\n\nthe default profile name is `cloudflare` for obvious reasons.\n\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[cloudflare]\nemail = user@example.com # do not set if using an api token\nkey = 00000000000000000000000000000000\ncerttoken = v1.0-...\nextras =\n$\n```\n\nmore than one profile can be stored within that file.\nhere's an example for a work and home setup (in this example work has an api token and home uses email/key).\n\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[work]\ntoken = 00000000000000000000000000000000\n[home]\nemail = home@example.com\nkey = 00000000000000000000000000000000\n$\n```\n\nto select a profile, use the `--profile profile-name` option for `cli4` command or use `profile=\"profile-name\"` in the library call.\n\n```bash\n$ cli4 --profile work /zones | jq '.[]|.name' | wc -l\n      13\n$\n\n$ cli4 --profile home /zones | jq '.[]|.name' | wc -l\n       1\n$\n```\n\nhere is the same in code.\n\n```python\n#!/usr/bin/env python\n\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare(profile=\"work\")\n    ...\n```\n\n### advanced use of configuration file for authentication based on method\n\nthe configuration file can have values that are both generic and specific to the method.\nhere's an example where a project has a different api token for reading and writing values.\n\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[work]\ntoken = 0000000000000000000000000000000000000000\ntoken.get = 0123456789012345678901234567890123456789\n$\n```\n\nwhen a get call is processed then the second token is used. for all other calls the first token is used.\nhere's a more explict verion of that config:\n\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[work]\ntoken.delete = 0000000000000000000000000000000000000000\ntoken.get = 0123456789012345678901234567890123456789\ntoken.patch = 0000000000000000000000000000000000000000\ntoken.post = 0000000000000000000000000000000000000000\ntoken.put = 0000000000000000000000000000000000000000\n$\n```\n\nthis can be used with email values also.\n\n### about /certificates and certtoken\n\nthe *cloudflare_api_certkey* or *certtoken* values are used for the origin-ca */certificates* api calls.\nyou can leave *certtoken* in the configuration with a blank value (or omit the option variable fully).\n\nthe *extras* values are used when adding api calls outside of the core codebase.\ntechnically, this is only useful for internal testing within cloudflare.\nyou can leave *extras* in the configuration with a blank value (or omit the option variable fully).\n\n## exceptions and return values\n\n### response data\n\nthe response is build from the json in the api call.\nit contains the **results** values; but does not contain the paging values.\n\nyou can return all the paging values by calling the class with raw=true. here's an example without paging.\n\n```python\n#!/usr/bin/env python\n\nimport json\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare()\n    zones = cf.zones.get(params={'per_page':5})\n    print(\"len=%d\" % (zones.length()))\n\nif __name__ == '__main__':\n    main()\n```\n\nthe results are as follows.\n\n```\n5\n```\n\nwhen you add the raw option; the apis full structure is returned. this means the paging values can be seen.\n\n```python\n#!/usr/bin/env python\n\nimport json\nimport cloudflare\n\ndef main():\n    cf = cloudflare.cloudflare(raw=true)\n    zones = cf.zones.get(params={'per_page':5})\n    print(\"len=%d\" % (zones.length()))\n    print(json.dumps(zones, indent=4, sort_keys=true))\n\nif __name__ == '__main__':\n    main()\n```\n\nthis produces.\n\n```\n5\n{\n    \"result\": [\n        ...\n    ],\n    \"result_info\": {\n        \"count\": 5,\n        \"page\": 1,\n        \"per_page\": 5,\n        \"total_count\": 31,\n        \"total_pages\": 7\n    }\n}\n```\n\na full example of paging is provided below.\n\n### exceptions\n\nthe library will raise **cloudflareapierror** when the api call fails.\nthe exception returns both an integer and textual message in one value.\n\n```python\nimport cloudflare\n\n    ...\n    try\n        r = ...\n    except cloudflare.exceptions.cloudflareapierror as e:\n        exit('api error: %d %s' % (e, e))\n    ...\n```\n\nthe other raised response is **cloudflareinternalerror** which can happen when calling an invalid method.\n\nin some cases more than one error is returned. in this case the return value **e** is also an array.\nyou can iterate over that array to see the additional error.\n\n```python\nimport sys\nimport cloudflare\n\n    ...\n    try\n        r = ...\n    except cloudflare.exceptions.cloudflareapierror as e:\n        if len(e) > 0:\n            sys.stderr.write('api error - more than one error value returned!\\n')\n            for x in e:\n                sys.stderr.write('api error: %d %s\\n' % (x, x))\n        exit('api error: %d %s' % (e, e))\n    ...\n```\n\n### exception examples\n\nhere's examples using the cli command `cli4` of the responses passed back in exceptions.\n\nfirst a simple get with a clean (non-error) response.\n\n```\n$ cli4 /zones/:example.com/dns_records | jq -c '.[]|{\"name\":.name,\"type\":.type,\"content\":.content}'\n{\"name\":\"example.com\",\"type\":\"mx\",\"content\":\"something.example.com\"}\n{\"name\":\"something.example.com\",\"type\":\"a\",\"content\":\"10.10.10.10\"}\n$\n```\n\nnext a simple/single error response.\nthis is simulated by providing incorrect authentication information.\n\n```\n$ cloudflare_email='someone@example.com' cli4 /zones/\ncli4: /zones - 9103 unknown x-auth-key or x-auth-email\n$\n```\n\nmore than one call can be done on the same command line. in this mode, the connection is preserved between calls.\n```\n$ cli4 /user/organizations /user/invites\n...\n$\n```\nnote that the output is presently two json structures one after the other - so less useful that you may think.\n\nfinally, a command that provides more than one error response.\nthis is simulated by passing an invalid ipv4 address to a dns record creation.\n\n```\n$ cli4 --post name='foo' type=a content=\"not-a-valid-ip-address\" /zones/:example.com/dns_records\ncli4: /zones/:example.com/dns_records - 9005 content for a record is invalid. must be a valid ipv4 address\ncli4: /zones/:example.com/dns_records - 1004 dns validation error\n$\n```\n\n## included example code\n\nthe [examples](https://github.com/cloudflare/python-cloudflare/tree/master/examples) folder contains many examples in both simple and verbose formats.\n\nyou can see the installed path of these files directly via `cli4 -e` (or `cli4 --examples`) command.\n\n```bash\n$ cli4 -e\npython .py files:\n\t...\n\t/opt/homebrew/lib/python3.11/site-packages/examples/example_always_use_https.py\n\t...\nbash .sh files:\n\t...\n\t/opt/homebrew/lib/python3.11/site-packages/examples/example_paging_thru_zones.sh\n\t...\n$\n```\n\nthe exact path will vary depending on your system.\nthe above example is macos and python 3.9 hence the `/opt/homebrew/lib/python3.11/site-packages/` path.\none linux, the python pip command may install the code is a system location like `/usr/lib/python3/dist-packages` or `~/.local/lib/python3.9/site-packages/` or something different.\nthe `cli4 -e` command will try to decode the location and display the example files.\n\nif you are running release before python 3.9 then you will be asked to install the following:\n\n```bash\n$ pip install importlib_resources\n...\n$\n```\n\nit will show up if you are running on an older system. for example, this is the results from running on win7:\n\n```bash\nu:\\users\\bobby>cli4 -e\nmodule \"importlib_resources\" missing - please \"pip install importlib_resources\" as your python version is lower than 3.9\n\nu:\\users\\bobby>python -v\npython 3.8.3\n\nu:\\users\\bobby>\n```\n\nupgrading from an older version of python is always recommended. upgrading from win7 is by-default even more important!\n\n## a dns zone code example\n\n```python\n#!/usr/bin/env python\n\nimport sys\nimport cloudflare\n\ndef main():\n    zone_name = sys.argv[1]\n    cf = cloudflare.cloudflare()\n    zone_info = cf.zones.post(data={'jump_start':false, 'name': zone_name})\n    zone_id = zone_info['id']\n\n    dns_records = [\n        {'name':'foo', 'type':'aaaa', 'content':'2001:d8b::1'},\n        {'name':'foo', 'type':'a', 'content':'192.168.0.1'},\n        {'name':'duh', 'type':'a', 'content':'10.0.0.1', 'ttl':120},\n        {'name':'bar', 'type':'cname', 'content':'foo'},\n        {'name':'shakespeare', 'type':'txt', 'content':\"what's in a name? that which we call a rose by any other name ...\"}\n    ]\n\n    for dns_record in dns_records:\n        r = cf.zones.dns_records.post(zone_id, data=dns_record)\n    exit(0)\n\nif __name__ == '__main__':\n    main()\n```\n\n## a dns zone delete code example (be careful)\n\n```python\n#!/usr/bin/env python\n\nimport sys\nimport cloudflare\n\ndef main():\n    zone_name = sys.argv[1]\n    cf = cloudflare.cloudflare()\n    zone_info = cf.zones.get(params={'name': zone_name})\n    zone_id = zone_info['id']\n\n    dns_name = sys.argv[2]\n    dns_records = cf.zones.dns_records.get(zone_id, params={'name':dns_name + '.' + zone_name})\n    for dns_record in dns_records:\n        dns_record_id = dns_record['id']\n        r = cf.zones.dns_records.delete(zone_id, dns_record_id)\n    exit(0)\n\nif __name__ == '__main__':\n    main()\n```\n\n## cli\n\nall api calls can be called from the command line via the `cli4` command.\nadditionally, the `cli4` command will convert domain name or account name prefixed with a colon (`:`) into the correct identifier.\ne.g. to view `example.com` you can use `cli4 /zones/:example.com`.\nyou can pass the zone identifier (or account identifier or any identifier) with a colon followed by the identifier as a hex number 32 characters long.\n\n```bash\n$ cli4 [-v|--version] [-h|--help] [-v|--verbose] \\\n    [-e|--examples] \\\n    [-q|--quiet] \\\n    [-j|--json] [-y|--yaml] [-n|--ndjson] [-i|--image] \\\n    [-r|--raw] \\\n    [-d|--dump] \\\n    [-a|--openapi url] \\\n    [-b|--binary] \\\n    [-p|--profile profile-name] \\\n    [--get|--patch|--post|--put|--delete] \\\n    [item=value|item=@filename|@filename ...] /command ...\n```\n\n### cli parameters for post/put/patch\n\nfor api calls that need to pass data or parameters there is various formats to use.\n\nthe simplest form is ```item=value```. this passes the value as a string within the apis json data.\n\nif you need a numeric value passed then **==** can be used to force the value to be treated as a numeric value within the apis json data.\nfor example: ```item==value```.\n\nif you need to pass a list of items; then **[]** can be used. for example:\n\n```\npool_id1=\"11111111111111111111111111111111\"\npool_id2=\"22222222222222222222222222222222\"\npool_id3=\"33333333333333333333333333333333\"\ncli4 --post global_pools=\"[ ${pool_id1}, ${pool_id2}, ${pool_id3} ]\" region_pools=\"[ ]\" /user/load_balancers/maps\n```\n\ndata or parameters can be either named or unnamed.\nit can not be both.\nnamed is the majority format; as described above.\nunnamed parameters simply don't have anything before the **=** sign, as in ```=value```.\nthis format is presently only used by the cloudflare load balancer api calls.\nfor example:\n\n```\ncli4 --put =\"00000000000000000000000000000000\" /user/load_balancers/maps/:00000000000000000000000000000000/region/:wnam\n```\n\ndata can also be uploaded from file contents. using the ```item=@filename``` format will open the file and the contents uploaded in the post.\n\n### cli output\n\nthe default output from the cli command is in json.\nit can also output yaml format (i.e. human readable).\nthis is controled by the `--yaml` or `--json` flags (json is the default).\nthere is also a `--ndjson` flag for use with line based json data - this is mainly used for log data.\n\nadditonally the output can be plain text or binary image format depending on the results from the api call (some calls results in non json results).\nthe `--image` flag will return the data in the same format as the api's results.\n\n### simple cli examples\n\n * ```cli4 /user/billing/profile```\n * ```cli4 /user/invites```\n\n * ```cli4 /zones/:example.com```\n * ```cli4 /zones/:example.com/dnssec```\n * ```cli4 /zones/:example.com/settings/ipv6```\n * ```cli4 --put /zones/:example.com/activation_check```\n * ```cli4 /zones/:example.com/keyless_certificates```\n\n * ```cli4 /zones/:example.com/analytics/dashboard```\n\n### more complex cli examples\n\nhere is the creation of a dns entry, followed by a listing of that entry and then the deletion of that entry.\n\n```bash\n$ $ cli4 --post name=\"test\" type=\"a\" content=\"10.0.0.1\" /zones/:example.com/dns_records\n{\n    \"id\": \"00000000000000000000000000000000\",\n    \"name\": \"test.example.com\",\n    \"type\": \"a\",\n    \"content\": \"10.0.0.1\",\n    ...\n}\n$\n\n$ cli4 /zones/:example.com/dns_records/:test.example.com | jq '{\"id\":.id,\"name\":.name,\"type\":.type,\"content\":.content}'\n{\n  \"id\": \"00000000000000000000000000000000\",\n  \"name\": \"test.example.com\",\n  \"type\": \"a\",\n  \"content\": \"10.0.0.1\"\n}\n\n$ cli4 --delete /zones/:example.com/dns_records/:test.example.com | jq -c .\n{\"id\":\"00000000000000000000000000000000\"}\n$\n```\n\nthere's the ability to handle dns entries with multiple values.\nthis produces more than one api call within the command.\n\n```\n$ cli4 /zones/:example.com/dns_records/:test.example.com | jq -c '.[]|{\"id\":.id,\"name\":.name,\"type\":.type,\"content\":.content}'\n{\"id\":\"00000000000000000000000000000000\",\"name\":\"test.example.com\",\"type\":\"a\",\"content\":\"192.168.0.1\"}\n{\"id\":\"00000000000000000000000000000000\",\"name\":\"test.example.com\",\"type\":\"aaaa\",\"content\":\"2001:d8b::1\"}\n$\n```\n\nhere are the cache purging commands.\n\n```bash\n$ cli4 --delete purge_everything=true /zones/:example.com/purge_cache | jq -c .\n{\"id\":\"00000000000000000000000000000000\"}\n$\n\n$ cli4 --delete files='[http://example.com/css/styles.css]' /zones/:example.com/purge_cache | jq -c .\n{\"id\":\"00000000000000000000000000000000\"}\n$\n\n$ cli4 --delete files='[http://example.com/css/styles.css,http://example.com/js/script.js]' /zones/:example.com/purge_cache | jq -c .\n{\"id\":\"00000000000000000000000000000000\"}\n$\n\n$ cli4 --delete tags='[tag1,tag2,tag3]' /zones/:example.com/purge_cache | jq -c .\ncli4: /zones/:example.com/purge_cache - 1107 only enterprise zones can purge by tag.\n$\n```\n\na somewhat useful listing of available plans for a specific zone.\n\n```bash\n$ cli4 /zones/:example.com/available_plans | jq -c '.[]|{\"id\":.id,\"name\":.name}'\n{\"id\":\"00000000000000000000000000000000\",\"name\":\"pro website\"}\n{\"id\":\"00000000000000000000000000000000\",\"name\":\"business website\"}\n{\"id\":\"00000000000000000000000000000000\",\"name\":\"enterprise website\"}\n{\"id\":\"0feeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",\"name\":\"free website\"}\n$\n```\n\n### cloudflare ca cli examples\n\nhere's some cloudflare ca examples. note the need of the zone_id= parameter with the basic **/certificates** call.\n\n```bash\n$ cli4 /zones/:example.com | jq -c '.|{\"id\":.id,\"name\":.name}'\n{\"id\":\"12345678901234567890123456789012\",\"name\":\"example.com\"}\n$\n\n$ cli4 zone_id=12345678901234567890123456789012 /certificates | jq -c '.[]|{\"id\":.id,\"expires_on\":.expires_on,\"hostnames\":.hostnames,\"certificate\":.certificate}'\n{\"id\":\"123456789012345678901234567890123456789012345678\",\"expires_on\":\"2032-01-29 22:36:00 +0000 utc\",\"hostnames\":[\"*.example.com\",\"example.com\"],\"certificate\":\"-----begin certificate-----\\n ... \"}\n{\"id\":\"123456789012345678901234567890123456789012345678\",\"expires_on\":\"2032-01-28 23:23:00 +0000 utc\",\"hostnames\":[\"*.example.com\",\"example.com\"],\"certificate\":\"-----begin certificate-----\\n ... \"}\n{\"id\":\"123456789012345678901234567890123456789012345678\",\"expires_on\":\"2032-01-28 23:20:00 +0000 utc\",\"hostnames\":[\"*.example.com\",\"example.com\"],\"certificate\":\"-----begin certificate-----\\n ... \"}\n$\n```\n\na certificate can be viewed via a simple get request.\n```bash\n$ cli4 /certificates/:123456789012345678901234567890123456789012345678\n{\n    \"certificate\": \"-----begin certificate-----\\n ... \",\n    \"expires_on\": \"2032-01-29 22:36:00 +0000 utc\",\n    \"hostnames\": [\n        \"*.example.com\",\n        \"example.com\"\n    ],\n    \"id\": \"123456789012345678901234567890123456789012345678\",\n    \"request_type\": \"origin-rsa\"\n}\n$\n```\n\ncreating a certificate. this is done with a **post** request. note the use of **==** in order to pass a decimal number (vs. string) in json. the csr is not shown for simplicity sake.\n```bash\n$ csr=`cat example.com.csr`\n$ cli4 --post hostnames='[\"example.com\",\"*.example.com\"]' requested_validity==365 request_type=\"origin-ecc\" csr=\"$csr\" /certificates\n{\n    \"certificate\": \"-----begin certificate-----\\n ... \",\n    \"csr\": \"-----begin certificate request-----\\n ... \",\n    \"expires_on\": \"2018-09-27 21:47:00 +0000 utc\",\n    \"hostnames\": [\n        \"*.example.com\",\n        \"example.com\"\n    ],\n    \"id\": \"123456789012345678901234567890123456789012345678\",\n    \"request_type\": \"origin-ecc\",\n    \"requested_validity\": 365\n}\n$\n```\n\ndeleting a certificate can be done with a **delete** call.\n```bash\n$ cli4 --delete /certificates/:123456789012345678901234567890123456789012345678\n{\n    \"id\": \"123456789012345678901234567890123456789012345678\",\n    \"revoked_at\": \"0000-00-00t00:00:00z\"\n}\n$\n```\n\n### paging cli examples\n\nthe **--raw** command provides access to the paging returned values.\nsee the api documentation for all the info.\nhere's an example of how to page thru a list of zones (it's included in the examples folder as **example_paging_thru_zones.sh**).\nnote the use of `==` to pass a number vs a string as paramater.\n\n```bash\n:\ntmp=/tmp/$$_\ntrap \"rm ${tmp}; exit 0\" 0 1 2 15\npage=0\nwhile true\ndo\n        cli4 --raw per_page==5 page==${page} /zones > ${tmp}\n        domains=`jq -c '.|.result|.[]|.name' < ${tmp} | tr -d '\"'`\n        result_info=`jq -c '.|.result_info' < ${tmp}`\n        count=`      echo \"${result_info}\" | jq .count`\n        page=`       echo \"${result_info}\" | jq .page`\n        per_page=`   echo \"${result_info}\" | jq .per_page`\n        total_count=`echo \"${result_info}\" | jq .total_count`\n        total_pages=`echo \"${result_info}\" | jq .total_pages`\n        echo count=${count} page=${page} per_page=${per_page} total_count=${total_count} total_pages=${total_pages} -- ${domains}\n        if [ \"${page}\" == \"${total_pages}\" ]\n        then\n                ## last section\n                break\n        fi\n        # grab the next page\n        page=`expr ${page} + 1`\ndone\n```\n\nit produces the following results.\n\n```\ncount=5 page=1 per_page=5 total_count=31 total_pages=7 -- accumsan.example auctor.example consectetur.example dapibus.example elementum.example\ncount=5 page=2 per_page=5 total_count=31 total_pages=7 -- felis.example iaculis.example ipsum.example justo.example lacus.example\ncount=5 page=3 per_page=5 total_count=31 total_pages=7 -- lectus.example lobortis.example maximus.example morbi.example pharetra.example\ncount=5 page=4 per_page=5 total_count=31 total_pages=7 -- porttitor.example potenti.example pretium.example purus.example quisque.example\ncount=5 page=5 per_page=5 total_count=31 total_pages=7 -- sagittis.example semper.example sollicitudin.example suspendisse.example tortor.example\ncount=1 page=7 per_page=5 total_count=31 total_pages=7 -- varius.example vehicula.example velit.example velit.example vitae.example\ncount=5 page=6 per_page=5 total_count=31 total_pages=7 -- vivamus.example\n```\n\n### paging thru lists (using cursors)\n\nsome api calls use cursors to read beyond the initally returned values. see the api page in order to see which api calls do this.\n\n```\n$ account_id=\"00000000000000000000000000000000\"\n$ list_id=\"00000000000000000000000000000000\"\n$\n$ cli4 --raw /accounts/::${account_id}/rules/lists/::${list_id}/items > /tmp/page1.json\n$ after=`jq -r '.result_info.cursors.after' < /tmp/page1.json`\n$ echo \"after=$after\"\nafter=mxm4gvmkjybfjy2vxmpipnjigm1m_s6lcs9abr9wx-rm2a\n$\n```\n\nonce we have the ```after``` value, we can pass it along in order to read the next hunk of values. we finish when ```after``` returns as null (or isn't present).\n\n```\n$ cli4 --raw cursor=\"$after\" /accounts/::${account_id}/rules/lists/::${list_id}/items > /tmp/page2.json\n$ after=`jq -r '.result_info.cursors.after' < /tmp/page2.json`\n$ echo \"after=$after\"\nafter=null\n$\n```\n\nwe can see the results now in two files.\n\n```\n$ jq -c '.result[]' < /tmp/page1.json | wc -l\n      25\n$\n\n$ jq -c '.result[]' < /tmp/page2.json | wc -l\n       5\n$\n\n$ for f in /tmp/page?.json ; do jq -r '.result[]|.id,.ip,.comment' < $f | paste - - - ; done | column -s'   ' -t\n0fe44928258549feb47126a966fbf4a0  0.0.0.0           all zero\n2e1e02120f5e466f8c0e26375e4cf4c8  1.0.0.1           cloudflare dns a\n9ca5fd0ac6f54fdbb9dedd3fb72ce2da  1.1.1.1           cloudflare dns b\nb3654987446743738c782f36ebe074f5  10.0.0.0/8        rfc1918 space\n90bec8ce37d242faa2e27d1e78c1d8e2  103.21.244.0/22   cloudflare ip\n970a3c810cda41af9bef2c36a1892f7e  103.22.200.0/22   cloudflare ip\n3ec8516158bf4f3cac18210f611ee541  103.31.4.0/22     cloudflare ip\nee9d268367204e6bb8e5e4c907f22de8  104.16.0.0/12     cloudflare ip\n93ae02eda9774c45840af367a02fe529  108.162.192.0/18  cloudflare ip\n62891ebf6db44aa494d79a6401af185e  131.0.72.0/22     cloudflare ip\ncac40cd940cc470582b8c912a8a12bea  141.101.64.0/18   cloudflare ip\nf6d5eacd81a2407f8e0d81caee21e7f8  162.158.0.0/15    cloudflare ip\n3d538dfc38ab471d9d3fe78332acfa4e  172.16.0.0/12     rfc1918 space\nf353cb8f98424837ad35382a22b9debe  172.64.0.0/13     cloudflare ip\n78f3e1a0bafc41f88d4d40ad49a642e0  173.245.48.0/20   cloudflare ip\nc23a545475c54c32a7681c6b508d3e80  188.114.96.0/20   cloudflare ip\nf693237c9e294fe481221cbc2d7c20ef  190.93.240.0/20   cloudflare ip\n6d465ab3a0994c07827ebdcf8f34d977  192.168.0.0/16    rfc1918 space\n1ad1e634b3664bac939086185c62faf7  197.234.240.0/22  cloudflare ip\n5d2968e7b3114d8e869a379d71c8ba86  198.41.128.0/17   cloudflare ip\n6a69de60b31448fa864f0a3ac5abe8d0  224.0.0.0/24      multicast\n30749cce89af4ab3a80e308294f46a46  240.0.0.0/4       class e\n2b32c67ea4d044628abe39f28662d8f0  255.255.255.255   all ones\ncc7cd828b2fb4bcfb9391c2d3ef8d068  2400:cb00::/32    cloudflare ip\nb30d4cbd7dcd48729e8ebeda552e48a8  2405:8100::/32    cloudflare ip\n49db60758c8344959c338a74afc9748a  2405:b500::/32    cloudflare ip\n96e9eca1923c40d5a84865145f5a5d6a  2606:4700::/32    cloudflare ip\n21bc52a26e10405d89b7180ddcf49302  2803:f800::/32    cloudflare ip\nff78f842188e4b869eb5389ae9ab8f41  2a06:98c0::/29    cloudflare ip\n0880cdfc40b14f6fa0639522a728859d  2c0f:f248::/32    cloudflare ip\n$\n```\n\nthe ```result_info.cursors``` area also contains a ```before``` value for reverse scrolling.\n\nas with ```per_page``` scrolling, raw mode is used.\n\n### dnssec cli examples\n\n```bash\n$ cli4 /zones/:example.com/dnssec | jq -c '{\"status\":.status}'\n{\"status\":\"disabled\"}\n$\n\n$ cli4 --patch status=active /zones/:example.com/dnssec | jq -c '{\"status\":.status}'\n{\"status\":\"pending\"}\n$\n\n$ cli4 /zones/:example.com/dnssec\n{\n    \"algorithm\": \"13\",\n    \"digest\": \"41600621c65065b09230ebc9556ced937eb7fd86e31635d0025326ccf09a7194\",\n    \"digest_algorithm\": \"sha256\",\n    \"digest_type\": \"2\",\n    \"ds\": \"example.com. 3600 in ds 2371 13 2 41600621c65065b09230ebc9556ced937eb7fd86e31635d0025326ccf09a7194\",\n    \"flags\": 257,\n    \"key_tag\": 2371,\n    \"key_type\": \"ecdsap256sha256\",\n    \"modified_on\": \"2016-05-01t22:42:15.591158z\",\n    \"public_key\": \"mdsswuyr3dpw132moi8v9xeswe8jto0dxcjjnopkl+gqjxpvxckhaef+kkxlbxilfdlut0rak9iuzy1l53ekgq==\",\n    \"status\": \"pending\"\n}\n$\n```\n\n### zone file upload (i.e. import) cli examples (uses bind format files)\n\nrefer to [import dns records](https://api.cloudflare.com/#dns-records-for-a-zone-import-dns-records) on api documentation for this feature.\n\n```bash\n$ cat zone.txt\nexample.com.            in      soa     somewhere.example.com. someone.example.com. (\n                                2017010101\n                                3h\n                                15\n                                1w\n                                3h\n                        )\n\nrecord1.example.com.    in      a       10.0.0.1\nrecord2.example.com.    in      aaaa    2001:d8b::2\nrecord3.example.com.    in      cname   record1.example.com.\nrecord4.example.com.    in      txt     \"some text\"\n$\n\n$ cli4 --post file=@zone.txt /zones/:example.com/dns_records/import\n{\n    \"recs_added\": 4,\n    \"total_records_parsed\": 4\n}\n$\n```\n\n### zone file upload (i.e. import) python examples (uses bind format files)\n\nbecause `import` is a reserved word in python there needs to be a slight workaround to calling this within code.\n\n```\n    #\n    # \"import\" is a reserved word and hence this code - it's ugly; but correct.\n    #\n    dns_records_import = getattr(cf.zones.dns_records, 'import')\n    r = dns_records_import.post(zone_id, files={'file':fd})\n```\n\nsee (examples/example_dns_import.py)[examples/example_dns_import.py] for working code.\n\n### zone file download (i.e. export) cli examples (uses bind format files)\n\nthe following is documented within the **advanced** option of the dns page within the cloudflare portal.\n\n```\n$ cli4 /zones/:example.com/dns_records/export | egrep -v '^;;|^$'\n$origin .\n@       3600    in      soa     example.com.    root.example.com.       (\n                2025552311      ; serial\n                7200            ; refresh\n                3600            ; retry\n                86400           ; expire\n                3600)           ; minimum\nexample.com.    300     in      ns      replace&me$with^your@nameserver.\nrecord4.example.com.    300     in      txt     \"some text\"\nrecord3.example.com.    300     in      cname   record1.example.com.\nrecord1.example.com.    300     in      a       10.0.0.1\nrecord2.example.com.    300     in      aaaa    2001:d8b::2\n$\n```\n\nthe egrep is used for documentation brevity.\n\nthis can also be done via python code with the following example.\n```\n#!/usr/bin/env python\nimport sys\nimport cloudflare\n\ndef main():\n    zone_name = sys.argv[1]\n    cf = cloudflare.cloudflare()\n\n    zones = cf.zones.get(params={'name': zone_name})\n    zone_id = zones[0]['id']\n\n    dns_records = cf.zones.dns_records.export.get(zone_id)\n    for l in dns_records.splitlines():\n        if len(l) == 0 or l[0] == ';':\n            continue\n        print(l)\n    exit(0)\n\nif __name__ == '__main__':\n    main()\n```\n\n### cloudflare workers\n\ncloudflare workers are described on the cloudflare blog at\n[here](https://blog.cloudflare.com/introducing-cloudflare-workers/) and\n[here](https://blog.cloudflare.com/code-everywhere-cloudflare-workers/), with the beta release announced\n[here](https://blog.cloudflare.com/cloudflare-workers-is-now-on-open-beta/).\n\nthe python libraries now support the cloudflare workers api calls. the following javascript is lifted from [https://cloudflareworkers.com/](https://cloudflareworkers.com/) and slightly modified.\n\n```\n$ cat modify-body.js\naddeventlistener(\"fetch\", event => {\n  event.respondwith(fetchandmodify(event.request));\n});\n\nasync function fetchandmodify(request) {\n  console.log(\"got a request:\", request);\n\n  // send the request on to the origin server.\n  const response = await fetch(request);\n\n  // read response body.\n  const text = await response.text();\n\n  // modify it.\n  const modified = text.replace(\n  \"<body>\",\n  \"<body style=\\\"background: #ff0;\\\">\");\n\n  // return modified response.\n  return new response(modified, {\n    status: response.status,\n    statustext: response.statustext,\n    headers: response.headers\n  });\n}\n$\n```\n\nhere's the website with it's simple ```<body>``` statement\n\n```\n$ curl -ss https://example.com/ | fgrep '<body'\n  <body>\n$\n```\n\nnow lets add the script. looking above, you will see that it's simple action is to modify the ```<body>``` statement and make the background yellow.\n\n```\n$ cli4 --put @- /zones/:example.com/workers/script < modify-body.js\n{\n    \"etag\": \"1234567890123456789012345678901234567890123456789012345678901234\",\n    \"id\": \"example-com\",\n    \"modified_on\": \"2018-02-15t00:00:00.000000z\",\n    \"script\": \"addeventlistener(\\\"fetch\\\", event => {\\n  event.respondwith(fetchandmodify(event.request));\\n});\\n\\nasync function fetchandmodify(request) {\\n  console.log(\\\"got a request:\\\", request);\\n\\n  // send the request on to the origin server.\\n  const response = await fetch(request);\\n\\n  // read response body.\\n  const text = await response.text();\\n\\n  // modify it.\\n  const modified = text.replace(\\n  \\\"<body>\\\",\\n  \\\"<body style=\\\\\\\"background: #ff0;\\\\\\\">\\\");\\n\\n  // return modified response.\\n  return new response(modified, {\\n    status: response.status,\\n    statustext: response.statustext,\\n    headers: response.headers\\n  });\\n}\\n\",\n    \"size\": 603\n}\n$\n```\n\nthe following call checks that the script is associated with the zone. in this case, it's the only script added by this user.\n\n```\n$ cli4 /user/workers/scripts\n[\n    {\n        \"created_on\": \"2018-02-15t00:00:00.000000z\",\n        \"etag\": \"1234567890123456789012345678901234567890123456789012345678901234\",\n        \"id\": \"example-com\",\n        \"modified_on\": \"2018-02-15t00:00:00.000000z\"\n    }\n]\n$\n```\n\nnext step is to make sure a route is added for that script on that zone.\n\n```\n$ cli4 --post pattern=\"example.com/*\" script=\"example-com\" /zones/:example.com/workers/routes\n{\n    \"id\": \"12345678901234567890123456789012\"\n}\n$\n\n$ cli4 /zones/:example.com/workers/routes\n[\n    {\n        \"id\": \"12345678901234567890123456789012\",\n        \"pattern\": \"example.com/*\",\n        \"script\": \"example-com\"\n    }\n]\n$\n```\n\nwith that script added to the zone and the route added, we can now see the website has been modified because of the cloudflare worker.\n\n```\n$ curl -ss https://example.com/ | fgrep '<body'\n  <body style=\"background: #ff0;\">\n$\n```\n\nall this can be removed; hence bringing the website back to its initial state.\n\n```\n$ cli4 --delete /zones/:example.com/workers/script\n12345678901234567890123456789012\n$ cli4 --delete /zones/:example.com/workers/routes/:12345678901234567890123456789012\ntrue\n$\n\n$ curl -ss https://example.com/ | fgrep '<body'\n  <body>\n$\n```\n\nrefer to the cloudflare workers api documentation for more information.\n\n\n## cloudflare instant logs\n\nplease see https://developers.cloudflare.com/logs/instant-logs for all the information on how to use this feature.\nthe `cli4` command along with the python libaries can be used to control the instant logs; however, the websocket reading is outside the scope of this library.\n\nto query the states of the instant logs:\n```\n$ cli4 /zones/:example.com/logpush/edge/jobs | jq .\n[]\n$\n```\n\nto add monitoring:\n```\n$ cli4 --post \\\n        ='{\n                \"fields\": \"clientip,clientrequesthost,clientrequestmethod,clientrequesturi,edgeendtimestamp,edgeresponsebytes,edgeresponsestatus,edgestarttimestamp,rayid\",\n                \"sample\": 1,\n                \"filter\": \"\",\n                \"kind\": \"instant-logs\"\n        }' \\\n        /zones/:example.com/logpush/edge/jobs | jq .\n{\n  \"destination_conf\": \"wss://logs.cloudflare.com/instant-logs/ws/sessions/00000000000000000000000000000000\",\n  \"fields\": \"clientip,clientrequesthost,clientrequestmethod,clientrequesturi,edgeendtimestamp,edgeresponsebytes,edgeresponsestatus,edgestarttimestamp,rayid\",\n  \"filter\": \"\",\n  \"kind\": \"instant-logs\",\n  \"sample\": 1,\n  \"session_id\": \"00000000000000000000000000000000\"\n}\n$\n```\n\nto see the results:\n```\n$ cli4 /zones/:example.com/logpush/edge/jobs | jq .\n[\n  {\n    \"fields\": \"clientip,clientrequesthost,clientrequestmethod,clientrequesturi,edgeendtimestamp,edgeresponsebytes,edgeresponsestatus,edgestarttimestamp,rayid\",\n    \"filter\": \"\",\n    \"kind\": \"instant-logs\",\n    \"sample\": 1,\n    \"session_id\": \"00000000000000000000000000000000\"\n  }\n]\n$\n```\n\n## cloudflare graphql\n\nthe graphql interface can be accessed via the command line or via python.\n\n```\n    query=\"\"\"\n      query {\n        viewer {\n            zones(filter: {zonetag: \"%s\"} ) {\n            httprequests1dgroups(limit:40, filter:{date_lt: \"%s\", date_gt: \"%s\"}) {\n              sum { countrymap { bytes, requests, clientcountryname } }\n              dimensions { date }\n            }\n          }\n        }\n      }\n    \"\"\" % (zone_id, date_before[0:10], date_after[0:10])\n\n    r = cf.graphql.post(data={'query':query})\n\n    httprequests1dgroups = zone_info = r['data']['viewer']['zones'][0]['httprequests1dgroups']\n```\n\nsee the [examples/example_graphql.sh](examples/example_graphql.sh) and [examples/example_graphql.py](examples/example_graphql.py) files for working examples.\nhere is the working example of the shell version:\n\n```\n$ examples/example_graphql.sh example.com\n2020-07-14t02:00:00z    34880\n2020-07-14t03:00:00z    18953\n2020-07-14t04:00:00z    28700\n2020-07-14t05:00:00z    2358\n2020-07-14t06:00:00z    34905\n2020-07-14t07:00:00z    779\n2020-07-14t08:00:00z    35450\n2020-07-14t10:00:00z    17803\n2020-07-14t11:00:00z    32678\n2020-07-14t12:00:00z    19947\n2020-07-14t13:00:00z    4956\n2020-07-14t14:00:00z    34585\n2020-07-14t15:00:00z    3022\n2020-07-14t16:00:00z    5224\n2020-07-14t18:00:00z    79482\n2020-07-14t21:00:00z    10609\n2020-07-14t22:00:00z    5740\n2020-07-14t23:00:00z    2545\n2020-07-15t01:00:00z    10777\n$\n```\n\nfor more information on how to use graphql at cloudflare, refer to the [cloudflare graphql analytics api](https://developers.cloudflare.com/analytics/graphql-api).\nit contains a full overview of cloudflare's graphql features and keywords.\n\n## cloudflare ai\n\nsee https://blog.cloudflare.com/workers-ai-update-stable-diffusion-code-llama-workers-ai-in-100-cities/ for the introduction,\nalong with https://developers.cloudflare.com/workers-ai/models/ for the nitty gritty details.\n\nthere are two examples for ai calls included with the code.\n\n```bash\n$ python examples/example_ai_images.py a happy llama running through an orange cloud > /tmp/image.png\n$\n$ file /tmp/image.png\n/tmp/image.png: png image data, 1024 x 1024, 8-bit/color rgb, non-interlaced\n$\n```\n\n```bash\n$ python examples/example_ai_translate.py i\\'ll have an order of the moule frites\nje vais avoir une commande des frites de moule\n$\n```\n\nthis is presently work-in-progress because of the non-python calling method. the syntax could change in the future.\nthe examples will be updated.\n\nthey can also be called via `cli4`.\n\n```bash\n$ cli4 --image --post text=\"i'll have an order of the moule frites\" source_lang=english target_lang=french /accounts/:accountid/ai/run/@cf/meta/m2m100-1.2b\n{'translated_text': 'je vais avoir une commande des frites de moule'}\n$\n```\n\npresently you will need the following in your `cloudflare.cfg` file.\n\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[cloudflare]\nglobal_request_timeout = 120\nmax_request_retries = 1\nextras =\n    /accounts/:id/ai/run/@cf/meta/llama-2-7b-chat-fp16\n    /accounts/:id/ai/run/@cf/meta/llama-2-7b-chat-int8\n    /accounts/:id/ai/run/@cf/mistral/mistral-7b-instruct-v0.1\n    /accounts/:id/ai/run/@cf/openai/whisper\n    /accounts/:id/ai/run/@cf/meta/m2m100-1.2b\n    /accounts/:id/ai/run/@cf/huggingface/distilbert-sst-2-int8\n    /accounts/:id/ai/run/@cf/microsoft/resnet-50\n    /accounts/:id/ai/run/@cf/stabilityai/stable-diffusion-xl-base-1.0\n    /accounts/:id/ai/run/@cf/baai/bge-base-en-v1.5\n    /accounts/:id/ai/run/@cf/baai/bge-large-en-v1.5\n    /accounts/:id/ai/run/@cf/baai/bge-small-en-v1.5\n\n$\n```\n\nalong with a version of the library above `2.14.1`.\n\n## implemented api calls\n\nthe **--dump** argument to cli4 will produce a list of all the call implemented within the library.\n\n```bash\n$ cli4 --dump\n/certificates\n/ips\n/organizations\n...\n/zones/ssl/analyze\n/zones/ssl/certificate_packs\n/zones/ssl/verification\n$\n```\n\n### table of commands\n\nan automatically generated table of commands is provided [here](table-of-commands.md).\n\n## adding extra api calls manually\n\nextra api calls can be added via the configuration file\n```bash\n$ cat ~/.cloudflare/cloudflare.cfg\n[cloudflare]\nextras =\n    /client/v4/command\n    /client/v4/command/:command_identifier\n    /client/v4/command/:command_identifier/settings\n$\n```\n\nwhile it's easy to call anything within cloudflare's api, it's not very useful to add items in here as they will simply return api url errors.\ntechnically, this is only useful for internal testing within cloudflare.\n\n## issues\n\nthe following error can be caused by an out of date ssl/tls library and/or out of date python.\n\n```\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:318: snimissingwarning: an https request has been made, but the sni (subject name indication) extension to tls is not available on this platform. this may cause the server to present an incorrect tls certificate, which can cause validation failures. you can upgrade to a newer version of python to solve this. for more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\n  snimissingwarning\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:122: insecureplatformwarning: a true sslcontext object is not available. this prevents urllib3 from configuring ssl appropriately and may cause certain ssl connections to fail. you can upgrade to a newer version of python to solve this. for more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  insecureplatformwarning\n```\n\nthe solution can be found [here](https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning) and/or [here](http://stackoverflow.com/questions/35144550/how-to-install-cryptography-on-ubuntu).\n\n## python 2.x vs 3.x support\n\nas of may/june 2016 the code is now tested against pylint.\nthis was required in order to move the codebase into python 3.x.\nthe motivation for this came from [danielle madeley (danni)](https://github.com/danni).\n\n~~while the codebase has been edited to run on python 3.x, there's not been enough python 3.x testing performed.~~\n~~if you can help in this regard; please contact the maintainers.~~\n\nas of january 2020 the code is python3 clean.\n\nas of january 2020 the code is shipped up to pypi with python2 support removed.\n\nas of january 2020 the code is python3.8 clean. the new `syntaxwarning` messages (i.e. `syntaxwarning: \"is\" with a literal. did you mean \"==\"?`) meant minor edits were needed.\n\n## pypi and github signed releases\n\nas of october/2022, the code is signed by the maintainers personal email address: `mahtin@mahtin.com` `7ea1 39c4 0c1c 842f 9d41 aaf9 4a34 925d 0517 2859`\n\n## credit\n\nthis is based on work by [felix wong (gnowxilef)](https://github.com/gnowxilef) found [here](https://github.com/cloudflare-api/python-cloudflare-v4).\nit has been seriously expanded upon.\n\n## changelog\n\nan automatically generated changelog is provided [here](changelog.md).\n\n## copyright\n\nportions copyright [felix wong (gnowxilef)](https://github.com/gnowxilef) 2015 and cloudflare 2016 & 2022.\n",
  "docs_url": null,
  "keywords": "cloudflare",
  "license": "mit",
  "name": "cloudflare",
  "package_url": "https://pypi.org/project/cloudflare/",
  "project_url": "https://pypi.org/project/cloudflare/",
  "project_urls": {
    "Homepage": "https://github.com/cloudflare/python-cloudflare"
  },
  "release_url": "https://pypi.org/project/cloudflare/2.14.3/",
  "requires_dist": [
    "requests",
    "pyyaml",
    "jsonlines",
    "beautifulsoup4",
    "pytest; extra == \"test\""
  ],
  "requires_python": "",
  "summary": "python wrapper for the cloudflare v4 api",
  "version": "2.14.3",
  "releases": [],
  "developers": [
    "mahtin@mahtin.com",
    "martin_j"
  ],
  "kwds": "cloudflareapierror cloudflare cloudflareworkers cloudflare_email cloudflare_api_token",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_cloudflare",
  "homepage": "https://github.com/cloudflare/python-cloudflare",
  "release_count": 99,
  "dependency_ids": [
    "pypi_beautifulsoup4",
    "pypi_jsonlines",
    "pypi_pytest",
    "pypi_pyyaml",
    "pypi_requests"
  ]
}