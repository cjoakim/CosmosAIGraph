{
  "classifiers": [
    "development status :: 3 - alpha",
    "environment :: console",
    "intended audience :: developers",
    "license :: osi approved :: bsd license",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: database"
  ],
  "description": "<div align=\"center\">\n  <br/>\n  <br/>\n  <img width=\"360\" src=\"https://raw.githubusercontent.com/redis-developer/redis-om-python/main/images/logo.svg?token=aaaxxhuyl6rhpesrrambjolbsvqxe\" alt=\"redis om\" />\n  <br/>\n  <br/>\n</div>\n\n<p align=\"center\">\n    <p align=\"center\">\n        object mapping, and more, for redis and python\n    </p>\n</p>\n\n---\n\n[![version][version-svg]][package-url]\n[![license][license-image]][license-url]\n[![build status][ci-svg]][ci-url]\n\n**redis om python** makes it easy to model redis data in your python applications.\n\n[redis om .net](https://github.com/redis/redis-om-dotnet) | [redis om node.js](https://github.com/redis/redis-om-node) | [redis om spring](https://github.com/redis/redis-om-spring) | **redis om python**\n\n<details>\n  <summary><strong>table of contents</strong></summary>\n\nspan\n\n<!-- don't edit this section, instead re-run doctoc to update -->\n\n- [\ud83d\udca1 why redis om?](#-why-redis-om)\n- [\ud83d\udcbb installation](#-installation)\n- [\ud83c\udfc1 getting started](#-getting-started)\n- [\ud83d\udcc7 modeling your data](#-modeling-your-data)\n- [\u2713 validating data with your model](#-validating-data-with-your-model)\n- [\ud83d\udd0e rich queries and embedded models](#-rich-queries-and-embedded-models)\n  - [querying](#querying)\n  - [embedded models](#embedded-models)\n- [calling other redis commands](#calling-other-redis-commands)\n- [\ud83d\udcda documentation](#-documentation)\n- [\u26cf\ufe0f troubleshooting](#\ufe0f-troubleshooting)\n- [\u2728 so how do you get redisearch and redisjson?](#-so-how-do-you-get-redisearch-and-redisjson)\n- [\u2764\ufe0f contributing](#\ufe0f-contributing)\n- [\ud83d\udcdd license](#-license)\n\n<!-- end doctoc generated toc please keep comment here to allow auto update -->\n\n</details>\n\n## \ud83d\udca1 why redis om?\n\nredis om provides high-level abstractions that make it easy to model and query data in redis with modern python applications.\n\nthis **preview** release contains the following features:\n\n* declarative object mapping for redis objects\n* declarative secondary-index generation\n* fluent apis for querying redis\n\n## \ud83d\udcbb installation\n\ninstallation is simple with `pip`, poetry, or pipenv.\n\n```sh\n# with pip\n$ pip install redis-om\n\n# or, using poetry\n$ poetry add redis-om\n```\n\n## \ud83c\udfc1 getting started\n\n### starting redis\n\nbefore writing any code you'll need a redis instance with the appropriate redis modules! the quickest way to get this is with docker:\n\n```sh\ndocker run -p 6379:6379 -p 8001:8001 redis/redis-stack\n```\n\nthis launches the [redis-stack](https://redis.io/docs/stack/) an extension of redis that adds all manner of modern data structures to redis. you'll also notice that if you open up http://localhost:8001 you'll have access to the redis-insight gui, a gui you can use to visualize and work with your data in redis.\n\n\n## \ud83d\udcc7 modeling your data\n\nredis om contains powerful declarative models that give you data validation, serialization, and persistence to redis.\n\ncheck out this example of modeling customer data with redis om. first, we create a `customer` model:\n\n```python\nimport datetime\nfrom typing import optional\n\nfrom pydantic import emailstr\n\nfrom redis_om import hashmodel\n\n\nclass customer(hashmodel):\n    first_name: str\n    last_name: str\n    email: emailstr\n    join_date: datetime.date\n    age: int\n    bio: optional[str]\n```\n\nnow that we have a `customer` model, let's use it to save customer data to redis.\n\n```python\nimport datetime\nfrom typing import optional\n\nfrom pydantic import emailstr\n\nfrom redis_om import hashmodel\n\n\nclass customer(hashmodel):\n    first_name: str\n    last_name: str\n    email: emailstr\n    join_date: datetime.date\n    age: int\n    bio: optional[str]\n\n\n# first, we create a new `customer` object:\nandrew = customer(\n    first_name=\"andrew\",\n    last_name=\"brookins\",\n    email=\"andrew.brookins@example.com\",\n    join_date=datetime.date.today(),\n    age=38,\n    bio=\"python developer, works at redis, inc.\"\n)\n\n# the model generates a globally unique primary key automatically\n# without needing to talk to redis.\nprint(andrew.pk)\n# > \"01fjm6ph661hcnnrc884h6k30c\"\n\n# we can save the model to redis by calling `save()`:\nandrew.save()\n\n# expire the model after 2 mins (120 seconds)\nandrew.expire(120)\n\n# to retrieve this customer with its primary key, we use `customer.get()`:\nassert customer.get(andrew.pk) == andrew\n```\n\n**ready to learn more?** check out the [getting started](docs/getting_started.md) guide.\n\nor, continue reading to see how redis om makes data validation a snap.\n\n## \u2713 validating data with your model\n\nredis om uses [pydantic][pydantic-url] to validate data based on the type annotations you assign to fields in a model class.\n\nthis validation ensures that fields like `first_name`, which the `customer` model marked as a `str`, are always strings. **but every redis om model is also a pydantic model**, so you can use pydantic validators like `emailstr`, `pattern`, and many more for complex validations!\n\nfor example, because we used the `emailstr` type for the `email` field, we'll get a validation error if we try to create a `customer` with an invalid email address:\n\n```python\nimport datetime\nfrom typing import optional\n\nfrom pydantic import emailstr, validationerror\n\nfrom redis_om import hashmodel\n\n\nclass customer(hashmodel):\n    first_name: str\n    last_name: str\n    email: emailstr\n    join_date: datetime.date\n    age: int\n    bio: optional[str]\n\n\ntry:\n    customer(\n        first_name=\"andrew\",\n        last_name=\"brookins\",\n        email=\"not an email address!\",\n        join_date=datetime.date.today(),\n        age=38,\n        bio=\"python developer, works at redis, inc.\"\n    )\nexcept validationerror as e:\n    print(e)\n    \"\"\"\n    pydantic.error_wrappers.validationerror: 1 validation error for customer\n     email\n       value is not a valid email address (type=value_error.email)\n    \"\"\"\n```\n\n**any existing pydantic validator should work** as a drop-in type annotation with a redis om model. you can also write arbitrarily complex custom validations!\n\nto learn more, see the [documentation on data validation](docs/validation.md).\n\n## \ud83d\udd0e rich queries and embedded models\n\ndata modeling, validation, and saving models to redis all work regardless of how you run redis.\n\nnext, we'll show you the **rich query expressions** and **embedded models** redis om provides when the [redisearch][redisearch-url] and [redisjson][redis-json-url] modules are installed in your redis deployment, or you're using [redis enterprise][redis-enterprise-url].\n\n**tip**: *wait, what's a redis module?* if you aren't familiar with redis modules, review the [so, how do you get redisearch and redisjson?](#-so-how-do-you-get-redisearch-and-redisjson) section of this readme.\n\n### querying\n\nredis om comes with a rich query language that allows you to query redis with python expressions.\n\nto show how this works, we'll make a small change to the `customer` model we defined earlier. we'll add `field(index=true)` to tell redis om that we want to index the `last_name` and `age` fields:\n\n```python\nimport datetime\nfrom typing import optional\n\nfrom pydantic import emailstr\n\nfrom redis_om import (\n    field,\n    hashmodel,\n    migrator\n)\n\n\nclass customer(hashmodel):\n    first_name: str\n    last_name: str = field(index=true)\n    email: emailstr\n    join_date: datetime.date\n    age: int = field(index=true)\n    bio: optional[str]\n\n\n# now, if we use this model with a redis deployment that has the\n# redisearch module installed, we can run queries like the following.\n\n# before running queries, we need to run migrations to set up the\n# indexes that redis om will use. you can also use the `migrate`\n# cli tool for this!\nmigrator().run()\n\n# find all customers with the last name \"brookins\"\ncustomer.find(customer.last_name == \"brookins\").all()\n\n# find all customers that do not have the last name \"brookins\"\ncustomer.find(customer.last_name != \"brookins\").all()\n\n# find all customers whose last name is \"brookins\" or whose age is\n# 100 and whose last name is \"smith\"\ncustomer.find((customer.last_name == \"brookins\") | (\n        customer.age == 100\n) & (customer.last_name == \"smith\")).all()\n```\n\nthese queries -- and more! -- are possible because **redis om manages indexes for you automatically**.\n\nquerying with this index features a rich expression syntax inspired by the django orm, sqlalchemy, and peewee. we think you'll enjoy it!\n\n**note:** indexing only works for data stored in redis logical database 0.  if you are using a different database number when connecting to redis, you can expect the code to raise a `migrationerror` when you run the migrator.\n\n### embedded models\n\nredis om can store and query **nested models** like any document database, with the speed and power you get from redis. let's see how this works.\n\nin the next example, we'll define a new `address` model and embed it within the `customer` model.\n\n```python\nimport datetime\nfrom typing import optional\n\nfrom redis_om import (\n    embeddedjsonmodel,\n    jsonmodel,\n    field,\n    migrator,\n)\n\n\nclass address(embeddedjsonmodel):\n    address_line_1: str\n    address_line_2: optional[str]\n    city: str = field(index=true)\n    state: str = field(index=true)\n    country: str\n    postal_code: str = field(index=true)\n\n\nclass customer(jsonmodel):\n    first_name: str = field(index=true)\n    last_name: str = field(index=true)\n    email: str = field(index=true)\n    join_date: datetime.date\n    age: int = field(index=true)\n    bio: optional[str] = field(index=true, full_text_search=true,\n                               default=\"\")\n\n    # creates an embedded model.\n    address: address\n\n\n# with these two models and a redis deployment with the redisjson\n# module installed, we can run queries like the following.\n\n# before running queries, we need to run migrations to set up the\n# indexes that redis om will use. you can also use the `migrate`\n# cli tool for this!\nmigrator().run()\n\n# find all customers who live in san antonio, tx\ncustomer.find(customer.address.city == \"san antonio\",\n              customer.address.state == \"tx\")\n```\n\n## calling other redis commands\n\nsometimes you'll need to run a redis command directly.  redis om supports this through the `db` method on your model's class.  this returns a connected redis client instance which exposes a function named for each redis command.  for example, let's perform some basic set operations:\n\n```python\nfrom redis_om import hashmodel\n\nclass demo(hashmodel):\n    some_field: str\n\nredis_conn = demo.db()\n\nredis_conn.sadd(\"myset\", \"a\", \"b\", \"c\", \"d\")\n\n# prints false\nprint(redis_conn.sismember(\"myset\", \"e\"))\n\n# prints true\nprint(redis_conn.sismember(\"myset\", \"b\"))\n```\n\nthe parameters expected by each command function are those documented on the command's page on [redis.io](https://redis.io/commands/).\n\nif you don't want to get a redis connection from a model class, you can also use `get_redis_connection`:\n\n```python\nfrom redis_om import get_redis_connection\n\nredis_conn = get_redis_connection()\nredis_conn.set(\"hello\", \"world\")\n```\n\n## \ud83d\udcda documentation\n\nthe redis om documentation is available [here](docs/index.md).\n\n## \u26cf\ufe0f troubleshooting\n\nif you run into trouble or have any questions, we're here to help!\n\nhit us up on the [redis discord server](http://discord.gg/redis) or [open an issue on github](https://github.com/redis-developer/redis-om-python/issues/new).\n\n## \u2728 so how do you get redisearch and redisjson?\n\nsome advanced features of redis om rely on core features from two source available redis modules: [redisearch][redisearch-url] and [redisjson][redis-json-url].\n\nyou can run these modules in your self-hosted redis deployment, or you can use [redis enterprise][redis-enterprise-url], which includes both modules.\n\nto learn more, read [our documentation](docs/redis_modules.md).\n\n## \u2764\ufe0f contributing\n\nwe'd love your contributions!\n\n**bug reports** are especially helpful at this stage of the project. [you can open a bug report on github](https://github.com/redis/redis-om-python/issues/new).\n\nyou can also **contribute documentation** -- or just let us know if something needs more detail. [open an issue on github](https://github.com/redis/redis-om-python/issues/new) to get started.\n\n## \ud83d\udcdd license\n\nredis om uses the [mit license][license-url].\n\n<!-- badges -->\n\n[version-svg]: https://img.shields.io/pypi/v/redis-om?style=flat-square\n[package-url]: https://pypi.org/project/redis-om/\n[ci-svg]: https://github.com/redis/redis-om-python/actions/workflows/ci.yml/badge.svg\n[ci-url]: https://github.com/redis/redis-om-python/actions/workflows/ci.yml\n[license-image]: https://img.shields.io/badge/license-mit-green.svg?style=flat-square\n[license-url]: license\n<!-- links -->\n\n[redis-om-website]: https://developer.redis.com\n[redis-om-js]: https://github.com/redis-om/redis-om-js\n[redis-om-dotnet]: https://github.com/redis-om/redis-om-dotnet\n[redis-om-spring]: https://github.com/redis-om/redis-om-spring\n[redisearch-url]: https://redis.io/docs/stack/search/\n[redis-json-url]: https://redis.io/docs/stack/json/\n[pydantic-url]: https://github.com/samuelcolvin/pydantic\n[ulid-url]: https://github.com/ulid/spec\n[redis-enterprise-url]: https://redis.com/try-free/\n",
  "docs_url": null,
  "keywords": "",
  "license": "bsd-3-clause",
  "name": "redis-om",
  "package_url": "https://pypi.org/project/redis-om/",
  "project_url": "https://pypi.org/project/redis-om/",
  "project_urls": {
    "Code": "https://github.com/redis/redis-om-python",
    "Homepage": "https://github.com/redis/redis-om-python",
    "Issue tracker": "https://github.com/redis/redis-om-python/issues",
    "Repository": "https://github.com/redis/redis-om-python"
  },
  "release_url": "https://pypi.org/project/redis-om/0.2.1/",
  "requires_dist": [
    "redis (>=3.5.3,<5.0.0)",
    "pydantic (>=1.10.2,<2.1.0)",
    "click (>=8.0.1,<9.0.0)",
    "types-redis (>=3.5.9,<5.0.0)",
    "python-ulid (>=1.0.3,<2.0.0)",
    "typing-extensions (>=4.4.0,<5.0.0)",
    "hiredis (>=2.2.3,<3.0.0)",
    "more-itertools (>=8.14,<10.0)"
  ],
  "requires_python": ">=3.7,<4.0",
  "summary": "object mappings, and more, for redis.",
  "version": "0.2.1",
  "releases": [],
  "developers": [
    "oss@redis.com",
    "redis_oss"
  ],
  "kwds": "redis redis_modules redis_om redisjson get_redis_connection",
  "license_kwds": "bsd-3-clause",
  "libtype": "pypi",
  "id": "pypi_redis_om",
  "homepage": "https://github.com/redis/redis-om-python",
  "release_count": 30,
  "dependency_ids": [
    "pypi_click",
    "pypi_hiredis",
    "pypi_more_itertools",
    "pypi_pydantic",
    "pypi_python_ulid",
    "pypi_redis",
    "pypi_types_redis",
    "pypi_typing_extensions"
  ]
}