{
  "classifiers": [
    "development status :: 4 - beta",
    "license :: osi approved :: mit license",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "# cognitive services anomaly detector client library for python\n\n[anomaly detector](https://learn.microsoft.com/azure/cognitive-services/anomaly-detector/overview) is an ai service with a set of apis, which enables you to monitor and detect anomalies in your time series data with little machine learning (ml) knowledge, either batch validation or real-time inference.\n\n## getting started\n\n### prerequisites\n\n- python 3.7 or later is required to use this package.\n- you need an [azure subscription][azure_sub] to use this package.\n- an existing cognitive services anomaly detector instance.\n\n### install the package\n\n```bash\npython -m pip install azure-ai-anomalydetector\n```\n\n> note: this version of the client library defaults to the `3.0.0b6` version of the service.\n\nthis table shows the relationship between sdk versions and supported api versions of the service:\n\n|sdk version|supported api version of service |\n|-------------|---------------|\n|3.0.0b6 | 1.1|\n|3.0.0b4, 3.0.0b5| 1.1-preview-1|\n|3.0.0b3 | 1.1-preview|\n|3.0.0b1, 3.0.0b2  | 1.0 |\n\n### authenticate the client\n\n#### get the endpoint\n\nyou can find the endpoint for your anomaly detector service resource using the\n[azure portal](https://ms.portal.azure.com/#create/microsoft.cognitiveservicesanomalydetector)\nor [azure cli](https://learn.microsoft.com/cli/azure/):\n\n```bash\n# get the endpoint for the anomaly detector service resource\naz cognitiveservices account show --name \"resource-name\" --resource-group \"resource-group-name\" --query \"properties.endpoint\"\n```\n\n#### get the api key\n\nyou can get the **api key** from the anomaly detector service resource in the azure portal.\nalternatively, you can use **azure cli** snippet below to get the api key of your resource.\n\n```powershell\naz cognitiveservices account keys list --resource-group <your-resource-group-name> --name <your-resource-name>\n```\n\n#### create a anomalydetectorclient with an api key credential\n\nonce you have the value for the api key, you can pass it as a string into an instance of **azurekeycredential**. use the key as the credential parameter\nto authenticate the client:\n\n```python\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.anomalydetector import anomalydetectorclient\n\ncredential = azurekeycredential(\"<api_key>\")\nclient = anomalydetectorclient(endpoint=\"https://<resource-name>.cognitiveservices.azure.com/\", credential=credential)\n```\n\n## key concepts\n\nwith the anomaly detector, you can either detect anomalies in one variable using **univariate anomaly detection**, or detect anomalies in multiple variables with **multivariate anomaly detection**.\n\n|feature  |description  |\n|---------|---------|\n|univariate anomaly detection | detect anomalies in one variable, like revenue, cost, etc. the model was selected automatically based on your data pattern. |\n|multivariate anomaly detection| detect anomalies in multiple variables with correlations, which are usually gathered from equipment or other complex system. the underlying model used is graph attention network.|\n\n### univariate anomaly detection\n\nthe univariate anomaly detection api enables you to monitor and detect abnormalities in your time series data without having to know machine learning. the algorithms adapt by automatically identifying and applying the best-fitting models to your data, regardless of industry, scenario, or data volume. using your time series data, the api determines boundaries for anomaly detection, expected values, and which data points are anomalies.\n\nusing the anomaly detector doesn't require any prior experience in machine learning, and the rest api enables you to easily integrate the service into your applications and processes.\n\nwith the univariate anomaly detection, you can automatically detect anomalies throughout your time series data, or as they occur in real-time.\n\n|feature  |description  |\n|---------|---------|\n| streaming detection| detect anomalies in your streaming data by using previously seen data points to determine if your latest one is an anomaly. this operation generates a model using the data points you send, and determines if the target point is an anomaly. by calling the api with each new data point you generate, you can monitor your data as it's created. |\n| batch detection | use your time series to detect any anomalies that might exist throughout your data. this operation generates a model using your entire time series data, with each point analyzed with the same model.         |\n| change points detection | use your time series to detect any trend change points that exist in your data. this operation generates a model using your entire time series data, with each point analyzed with the same model.    |\n\n### multivariate anomaly detection\n\nthe **multivariate anomaly detection** apis further enable developers by easily integrating advanced ai for detecting anomalies from groups of metrics, without the need for machine learning knowledge or labeled data. dependencies and inter-correlations between up to 300 different signals are now automatically counted as key factors. this new capability helps you to proactively protect your complex systems such as software applications, servers, factory machines, spacecraft, or even your business, from failures.\n\nwith the multivariate anomaly detection, you can automatically detect anomalies throughout your time series data, or as they occur in real-time. there are three processes to use multivariate anomaly detection.\n\n- **training**: use train model api to create and train a model, then use get model status api to get the status and model metadata.\n- **inference**:\n  - use async inference api to trigger an asynchronous inference process and use get inference results api to get detection results on a batch of data.\n  - you could also use sync inference api to trigger a detection on one timestamp every time.\n- **other operations**: list model api and delete model api are supported in multivariate anomaly detection model for model management.\n\n### thread safety\n\nwe guarantee that all client instance methods are thread-safe and independent of each other ([guideline](https://azure.github.io/azure-sdk/dotnet_introduction.html#dotnet-service-methods-thread-safety)). this ensures that the recommendation of reusing client instances is always safe, even across threads.\n\n## examples\n\nthe following section provides several code snippets covering some of the most common anomaly detector service tasks, including:\n\n- [univariate anomaly detection - batch detection](#batch-detection)\n- [univariate anomaly detection - streaming detection](#streaming-detection)\n- [univariate anomaly detection - detect change points](#detect-change-points)\n- [multivariate anomaly detection](#multivariate-anomaly-detection-sample)\n\n### batch detection\n\n```python\nfrom azure.ai.anomalydetector import anomalydetectorclient\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.anomalydetector.models import *\n\n\nsubscription_key = os.environ[\"anomaly_detector_key\"]\nanomaly_detector_endpoint = os.environ[\"anomaly_detector_endpoint\"]\ntime_series_data_path = os.path.join(\"sample_data\", \"request-data.csv\")\nclient = anomalydetectorclient(anomaly_detector_endpoint, azurekeycredential(subscription_key))\n\nseries = []\ndata_file = pd.read_csv(time_series_data_path, header=none, encoding=\"utf-8\", parse_dates=[0])\nfor index, row in data_file.iterrows():\n    series.append(timeseriespoint(timestamp=row[0], value=row[1]))\n\nrequest = univariatedetectionoptions(\n    series=series,\n    granularity=timegranularity.daily,\n)\n\n\nif any(response.is_anomaly):\n    print(\"an anomaly was detected at index:\")\n    for i, value in enumerate(response.is_anomaly):\n        if value:\n            print(i)\nelse:\n    print(\"no anomalies were detected in the time series.\")\n\n```\n\n### streaming detection\n\n```python\nfrom azure.ai.anomalydetector import anomalydetectorclient\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.anomalydetector.models import *\n\n\nsubscription_key = os.environ[\"anomaly_detector_key\"]\nanomaly_detector_endpoint = os.environ[\"anomaly_detector_endpoint\"]\ntime_series_data_path = os.path.join(\"sample_data\", \"request-data.csv\")\nclient = anomalydetectorclient(anomaly_detector_endpoint, azurekeycredential(subscription_key))\n\nseries = []\ndata_file = pd.read_csv(time_series_data_path, header=none, encoding=\"utf-8\", parse_dates=[0])\nfor index, row in data_file.iterrows():\n    series.append(timeseriespoint(timestamp=row[0], value=row[1]))\n\nrequest = univariatedetectionoptions(\n    series=series,\n    granularity=timegranularity.daily,\n)\nprint(\"detecting the anomaly status of the latest data point.\")\n\nif response.is_anomaly:\n    print(\"the latest point is detected as anomaly.\")\nelse:\n    print(\"the latest point is not detected as anomaly.\")\n```\n\n### detect change points\n\n```python\nfrom azure.ai.anomalydetector import anomalydetectorclient\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.anomalydetector.models import *\n\n\nsubscription_key = os.environ[\"anomaly_detector_key\"]\nanomaly_detector_endpoint = os.environ[\"anomaly_detector_endpoint\"]\ntime_series_data_path = os.path.join(\"sample_data\", \"request-data.csv\")\nclient = anomalydetectorclient(anomaly_detector_endpoint, azurekeycredential(subscription_key))\n\nseries = []\ndata_file = pd.read_csv(time_series_data_path, header=none, encoding=\"utf-8\", parse_dates=[0])\nfor index, row in data_file.iterrows():\n    series.append(timeseriespoint(timestamp=row[0], value=row[1]))\n\nrequest = univariatechangepointdetectionoptions(\n    series=series,\n    granularity=timegranularity.daily,\n)\n\n\nif any(response.is_change_point):\n    print(\"an change point was detected at index:\")\n    for i, value in enumerate(response.is_change_point):\n        if value:\n            print(i)\nelse:\n    print(\"no change point were detected in the time series.\")\n\n```\n\n### multivariate anomaly detection sample\n\nto see how to use anomaly detector library to conduct multivariate anomaly detection, see this [sample](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/sample_multivariate_detect.py).\n\nto get more details of anomaly detector package, refer to this [azure.ai.anomalydetector package](https://azuresdkdocs.blob.core.windows.net/$web/python/azure-ai-anomalydetector/latest/azure.ai.anomalydetector.html#).\n\n## troubleshooting\n\n### general\n\nanomaly detector client library will raise exceptions defined in [azure core](https://azuresdkdocs.blob.core.windows.net/$web/python/azure-core/latest/azure.core.html#module-azure.core.exceptions).\n\n### logging\n\nthis library uses the standard [logging](https://docs.python.org/3/library/logging.html) library for logging.\n\nbasic information about http sessions (urls, headers, etc.) is logged at `info` level.\n\ndetailed `debug` level logging, including request/response bodies and **unredacted**\nheaders, can be enabled on the client or per-operation with the `logging_enable` keyword argument.\n\nsee full sdk logging documentation with examples [here](https://learn.microsoft.com/azure/developer/python/sdk/azure-sdk-logging).\n\n### optional configuration\n\noptional keyword arguments can be passed in at the client and per-operation level.\nthe azure-core [reference documentation](https://azuresdkdocs.blob.core.windows.net/$web/python/azure-core/latest/azure.core.html) describes available configurations for retries, logging, transport protocols, and more.\n\n## next steps\n\nthese code samples show common scenario operations with the azure anomaly detector library. more samples can be found under the [samples](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/) directory.\n\n- univariate anomaly detection - batch detection: [sample_detect_entire_series_anomaly.py](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/sample_detect_entire_series_anomaly.py)\n\n- univariate anomaly detection - streaming detection: [sample_detect_last_point_anomaly.py](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/sample_detect_last_point_anomaly.py)\n\n- univariate anomaly detection - change point detection: [sample_detect_change_point.py](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/sample_detect_change_point.py)\n\n- multivariate anomaly detection: [sample_multivariate_detect.py](https://github.com/azure/azure-sdk-for-python/blob/main/sdk/anomalydetector/azure-ai-anomalydetector/samples/sample_multivariate_detect.py)\n\n### additional documentation\n\nfor more extensive documentation on azure anomaly detector, see the [anomaly detector documentation](https://learn.microsoft.com/azure/cognitive-services/anomaly-detector/overview) on docs.microsoft.com.\n\n## contributing\n\nthis project welcomes contributions and suggestions. most contributions require\nyou to agree to a contributor license agreement (cla) declaring that you have\nthe right to, and actually do, grant us the rights to use your contribution.\nfor details, visit [cla homepage](https://cla.microsoft.com).\n\nwhen you submit a pull request, a cla-bot will automatically determine whether\nyou need to provide a cla and decorate the pr appropriately (e.g., label,\ncomment). simply follow the instructions provided by the bot. you will only\nneed to do this once across all repos using our cla.\n\nthis project has adopted the\n[microsoft open source code of conduct][code_of_conduct]. for more information,\nsee the code of conduct faq or contact opencode@microsoft.com with any\nadditional questions or comments.\n\n<!-- links -->\n[code_of_conduct]: https://opensource.microsoft.com/codeofconduct/\n[azure_sub]: https://azure.microsoft.com/free/\n",
  "docs_url": null,
  "keywords": "azure,azure sdk",
  "license": "mit license",
  "name": "azure-ai-anomalydetector",
  "package_url": "https://pypi.org/project/azure-ai-anomalydetector/",
  "project_url": "https://pypi.org/project/azure-ai-anomalydetector/",
  "project_urls": {
    "Homepage": "https://github.com/Azure/azure-sdk-for-python/tree/main/sdk"
  },
  "release_url": "https://pypi.org/project/azure-ai-anomalydetector/3.0.0b6/",
  "requires_dist": [
    "isodate (<1.0.0,>=0.6.1)",
    "azure-core (<2.0.0,>=1.24.0)",
    "typing-extensions (>=4.3.0) ; python_version < \"3.8.0\""
  ],
  "requires_python": ">=3.7",
  "summary": "microsoft cognitive services anomaly detector client library for python",
  "version": "3.0.0b6",
  "releases": [],
  "developers": [
    "azpysdkhelp@microsoft.com",
    "microsoft_corporation"
  ],
  "kwds": "azure azure_sub azuresdkdocs anomaly_detector_endpoint sample_detect_entire_series_anomaly",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_azure_ai_anomalydetector",
  "homepage": "https://github.com/azure/azure-sdk-for-python/tree/main/sdk",
  "release_count": 6,
  "dependency_ids": [
    "pypi_azure_core",
    "pypi_isodate",
    "pypi_typing_extensions"
  ]
}