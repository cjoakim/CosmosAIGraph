{
  "classifiers": [
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "# db-contrib-tool\n\nthe `db-contrib-tool` - mongodb's tools for contributors.\n\n## table of contents\n\n- [db-contrib-tool](#db-contrib-tool)\n  - [table of contents](#table-of-contents)\n  - [description](#description)\n  - [dependencies](#dependencies)\n  - [installation](#installation)\n  - [usage](#usage)\n  - [contributor's guide (local development)](#contributors-guide-local-development)\n    - [install project dependencies](#install-project-dependencies)\n    - [run command line tool (local development)](#run-command-line-tool-local-development)\n    - [run linters](#run-linters)\n    - [run tests](#run-tests)\n    - [pre-commit](#pre-commit)\n    - [testing changes in mongo](#testing-changes-in-mongo)\n    - [testing changes locally](#testing-changes-locally)\n    - [versioning](#versioning)\n    - [code review](#code-review)\n    - [deployment](#deployment)\n\n## description\n\nthe command line tool with various subcommands:\n- `bisect`\n  - [readme.md](src/db_contrib_tool/evg_aware_bisect/readme.md)\n  - performs an evergreen-aware git-bisect to find the 'last passing version' and 'first failing version' of mongo\n- `setup-repro-env`\n  - [readme.md](src/db_contrib_tool/setup_repro_env/readme.md)\n  - downloads and installs:\n    - particular mongodb versions\n    - debug symbols\n    - artifacts (including resmoke, python scripts etc)\n    - python venv for resmoke, python scripts etc\n- `symbolize`\n  - [readme.md](src/db_contrib_tool/symbolizer/readme.md)\n  - symbolizes stacktraces from recent `mongod` and `mongos` binaries compiled in evergreen, including patch builds, mainline builds, and release/production builds.\n  - requires authenticating to an internal mongodb symbol mapping service.\n\n## dependencies\n\n- python 3.9 or later (python3 from the [mongodb toolchain](https://github.com/10gen/toolchain-builder/blob/master/install.md) is highly recommended)\n\n## installation\n\nmake sure [dependencies](#dependencies) are installed.\nuse [pipx](https://pypa.github.io/pipx/) to install db-contrib-tool that will be available globally on your machine:\n\n```bash\npython3 -m pip install pipx\npython3 -m pipx ensurepath\n```\n\ninstalling db-contrib-tool:\n\n```bash\npython3 -m pipx install db-contrib-tool\n```\n\nupgrading db-contrib-tool:\n\n```bash\npython3 -m pipx upgrade db-contrib-tool\n```\n\nin case of installation errors, some of them may be related to pipx and could be fixed by re-installing pipx.\n\nremoving pipx completely (warning! this will delete everything that is installed and managed by pipx):\n\n```bash\npython3 -m pip uninstall pipx\nrm -rf ~/.local/pipx  # in case you're using the default pipx home directory\n```\n\nnow you can try to install again from scratch.\n\n## usage\n\nprint out help message:\n\n```bash\ndb-contrib-tool --help\n```\n\nfor more information see [description](#description) section.\n\n## contributor's guide (local development)\n\n### install project dependencies\n\nthis project uses [poetry](https://python-poetry.org/) for dependency management.\n\n```bash\npoetry install\n```\n\n### run command line tool (local development)\n\nsome subcommands like `bisect` and `symbolize` could be tested from the db-contrib-tool repo root:\n\n```bash\npoetry run db-contrib-tool --help\n```\n\nfor `setup-repro-env` some features can also be tested from the db-contrib-tool repo root,\nbut full features are available when running from mongo repo root.\nsee [testing changes locally](#testing-changes-locally) section.\n\n### run linters\n\n```bash\npoetry run isort src tests\npoetry run black src tests\n```\n\n### run tests\n\n```bash\npoetry run pytest\n```\n\n### pre-commit\n\nthis project has [pre-commit](https://pre-commit.com/) configured. pre-commit will run\nconfigured checks at git commit time.<br>\nto enable pre-commit on your local repository run:\n```bash\npoetry run pre-commit install\n```\n\nto run pre-commit manually:\n```bash\npoetry run pre-commit run\n```\n\n### testing changes in mongo\n\nthis tool is used to help run tests in the mongodb/mongo repository. on occasion, it may be\ndesirable to run a mongodb-mongo-* patch build with in-flight changes to this repository. the\nfollowing steps can be taken to accomplish that.\n\n- create a branch with the changes you wish to test.\n- push the branch to the origin repository: `git push -u origin <branch_name>`.\n- in the \"mongo\" repository, edit the [evergreen/prelude_db_contrib_tool.sh](https://github.com/10gen/mongo/blob/bbdc1347cdf2533f81b6fd05715c4ef1a092f5a6/evergreen/prelude_db_contrib_tool.sh#l12)\n  to install from the git repository instead of from pypi:\n\n  ```bash\n  pipx install \"git+ssh://git@github.com/<user_name>/db-contrib-tool.git@<branch_name>\" || exit 1\n  ```\n\n- create a patch build.\n\nthe patch build should now pull down the changes from your branch instead of using the published\ndb-contrib-tool.\n\n**note**: since the db-contrib-tool is pulled from your branch, if you need to make additional\nchanges to the tool, you can just push to the branch and then restart the desired tasks. there is\nno need to create an additional patch build unless you also need to make updates to the mongo\nrepository.\n\n### testing changes locally\n\npipx installation recommendations can be found in [installation](#installation) section.\n\nthe tool can be installed via pipx from your local repo:\n\n```bash\npython3 -m pipx install /path/to/db-contrib-tool/repo/root/dir\n```\n\nif the tool is already installed you can force install an updated version using --force flag:\n\n```bash\npython3 -m pipx install --force /path/to/db-contrib-tool/repo/root/dir\n```\n\nafter these steps you can run in-development version of db-contrib-tool from any directory:\n\n```bash\ndb-contrib-tool --help\n```\n\n### versioning\n\nthis project uses [semver](https://semver.org/) for versioning.\nplease include a description what is added for each new version in `changelog.md`.\n\n### code review\n\nplease open a github pull request for code review.\nthis project uses the [evergreen commit queue](https://docs.devprod.prod.corp.mongodb.com/evergreen/project-configuration/commit-queue).\nadd a pr comment with `evergreen merge` to trigger a merge.\n\n### deployment\n\ndeployment to pypi is done by [deploy](https://spruce.mongodb.com/commits/db-contrib-tool?tasknames=deploy)\ntask of `db-contrib-tool` project in evergreen.\na new version in evergreen is created on merges to `main` branch.\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "db-contrib-tool",
  "package_url": "https://pypi.org/project/db-contrib-tool/",
  "project_url": "https://pypi.org/project/db-contrib-tool/",
  "project_urls": {
    "Homepage": "https://github.com/10gen/db-contrib-tool",
    "Repository": "https://github.com/10gen/db-contrib-tool"
  },
  "release_url": "https://pypi.org/project/db-contrib-tool/0.6.11/",
  "requires_dist": [
    "distro (==1.6.0)",
    "PyYAML (==6.0.1)",
    "requests (==2.26.0)",
    "structlog (==21.4.0)",
    "PyGithub (==1.55)",
    "evergreen.py (==3.6.14)",
    "analytics-python (==1.4.0)",
    "pkce (==1.0.3)",
    "oauthlib (==3.1.1)",
    "requests-oauthlib (==1.3.0)",
    "pydantic (==1.8.2)",
    "Inject (>=4.3.1,<5.0.0)",
    "tenacity (>=8.0.1,<9.0.0)",
    "click (>=8.1.3,<9.0.0)",
    "packaging (>=23.0,<24.0)",
    "retry (>=0.9.2,<0.10.0)"
  ],
  "requires_python": ">=3.7,<4.0",
  "summary": "the `db-contrib-tool` - mongodb's tool for contributors.",
  "version": "0.6.11",
  "releases": [],
  "developers": [
    "dag_team",
    "dev-prod-dag@mongodb.com"
  ],
  "kwds": "db_contrib_tool mongodb prelude_db_contrib_tool mongod mongo",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_db_contrib_tool",
  "homepage": "https://github.com/10gen/db-contrib-tool",
  "release_count": 55,
  "dependency_ids": [
    "pypi_analytics_python",
    "pypi_click",
    "pypi_distro",
    "pypi_evergreen.py",
    "pypi_inject",
    "pypi_oauthlib",
    "pypi_packaging",
    "pypi_pkce",
    "pypi_pydantic",
    "pypi_pygithub",
    "pypi_pyyaml",
    "pypi_requests",
    "pypi_requests_oauthlib",
    "pypi_retry",
    "pypi_structlog",
    "pypi_tenacity"
  ]
}