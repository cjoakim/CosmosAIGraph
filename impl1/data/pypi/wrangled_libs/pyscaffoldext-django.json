{
  "classifiers": [
    "development status :: 4 - beta",
    "programming language :: python"
  ],
  "description": ".. image:: https://api.cirrus-ci.com/github/pyscaffold/pyscaffoldext-django.svg?branch=master\n    :alt: built status\n    :target: https://cirrus-ci.com/github/pyscaffold/pyscaffoldext-django\n.. image:: https://readthedocs.org/projects/pyscaffoldext-django/badge/?version=latest\n    :alt: readthedocs\n    :target: https://pyscaffold.org/projects/django/en/latest/\n.. image:: https://img.shields.io/coveralls/github/pyscaffold/pyscaffoldext-django/master.svg\n    :alt: coveralls\n    :target: https://coveralls.io/r/pyscaffold/pyscaffoldext-django\n.. image:: https://img.shields.io/pypi/v/pyscaffoldext-django.svg\n    :alt: pypi-server\n    :target: https://pypi.org/project/pyscaffoldext-django/\n.. image:: https://pepy.tech/badge/pyscaffoldext-django/month\n    :alt: monthly downloads\n    :target: https://pepy.tech/project/pyscaffoldext-django\n\n====================\npyscaffoldext-django\n====================\n\n\n    integration of **django**'s built-in generator (``django-admin``)\n    into **pyscaffold**\n\n`pyscaffold`_ is a development tool focused in distributable python packages.\nthis extension allows the development of `django`_ websites using\npyscaffold sensible project structure, by tapping into the `django-admin`_ cli.\n\n    **looking for contributors** - if you use pyscaffold or django and would\n    like to help us as a contributor (or even as one of the maintainers) for\n    this extension, please send us an email or open an issue, we would love to\n    have you on board.\n\n\nquickstart\n==========\n\nthis extension can be directly installed with ``pip``:\n\n.. code-block:: bash\n\n    pip install pyscaffoldext-django\n\nor, if you prefer ``pipx``:\n\n.. code-block:: shell\n\n    pipx install pyscaffold  # if you haven't installed pyscaffold yet\n    pipx inject pyscaffold pyscaffoldext-django\n\nnote that, after the installation, ``putup -h`` will show a new option\n``--django``. use this option to indicate when you are trying to create a\ndjango app. for example:\n\n.. code-block:: shell\n\n    putup --django myapp\n\nplease refer to `django-admin`_ documentation for more details.\n\n\nalternative procedure\n=====================\n\nusing django extension in pyscaffold is roughly equivalent to first create\nan app using `django-admin`_ and then convert it to pyscaffold.\nthe following manual procedure can be used to replace ``pyscaffoldext-django``:\n\n.. code-block:: bash\n\n    django-admin startproject myapp\n    mkdir myapp/src\n    mv myapp/myapp myapp/src\n    mv myapp/manage.py myapp/src/myapp/__main__.py\n\n    # edit the location of the database in myapp/src/myapp/setttings.py\n    # to point to one directory up, similar to:\n    #\n    #   project_dir = os.path.dirname(base_dir)\n    #   databases = {'default': { ..., 'name': os.path.join(project_dir, 'db.sqlite3')}}\n\n    putup myapp --force\n\nwe move/rename the ``manage.py`` file to ``myapp/src/myapp/__main__.py``. this\nmakes it possible to manage the application using ``python -m myapp`` when\nit is installed as a package (instead of ``python manage.py``).\nall the arguments remain the same.\nplease check the next section for more information.\n\nrunning the script with ``python -m`` requires your package to be installed\n(a simple ``pip install -e .`` will suffice), however we also generate a new\n``manage.py`` file that is a simple stub pointing to the ``__main__.py`` and\nworks without explicit installation.\n\nfor complex use cases, maybe a better option is to do the conversion\nmanually. if you find problems running pyscaffold with ``--django``\nplease try to execute this procedure.\n\n\ndistributable django packages\n=============================\n\ndjango is a framework for creating web applications, and pyscaffold is a tool\nthat helps to build re-usable, distributable packages - which most of the time\ncorrespond to libraries or command line tools.\n\n.. _dependencies:\n\nwhile those two definitions are not mutually exclusive, it is a bit tricky to\ncreate a package with pyscaffold that serves a django app.\nthe first reason is that applications usually require concrete dependencies\n(pinned version numbers), while libraries are more relaxed and tend to use\nabstract dependencies (ranges of version numbers). you can read all about the\ndifferences between those two approaches in `pyscaffold's documentation`_,\nhowever the main point is: when creating packages for webapps you have two options\n\n:use concrete dependencies: pin the exact version number for your\n  dependencies to avoid bugs (*it works on my machine*\\ :sup:`tm`), but\n  instruct your users that the package should be installed within a\n  **dedicated** `virtual environment`_ to avoid dependency hell; or\n:use abstract dependencies: prefer relaxed dependency ranges (e.g. relying\n  on stable apis of  dependencies that use `semver`_), but test extensively\n  your module against different installed versions to make sure nothing breaks\n  (`tox`_ and `nox`_ are good tools for that).\n\n.. _managepy:\n\nthe second reason is that django expects the user of your application to have\ncontrol on where the source code is placed, and this simply doesn't go well with\npip installing locations deeply hidden somewhere in the file system (e.g.\n``/home/username/my-venvs/web-app/lib/python3.6/site-packages/my-web-app``)\u2026\n\nfor example, before starting a django application server you are supposed to run\nmigrations to prepare the correct structure in the database to receive your\ndata. this is usually achieved by running ``python manage.py migrate`` at the\nroot of your directory, however, if someone is installing your app using pip,\nhow does this person knows where to find the ``manage.py`` file?\n\nto solve this problem, ``pyscaffoldext-django`` renames ``manage.py`` to\n|mainpy|_ and moves it inside your web application package. since it becomes\npart of your package, the script will be accessible via ``python -m your_package_name\n<commands>`` from everywhere in the system, and therefore no one installing it\nwith pip needs to know where it is.\n\n.. _database:\n\nanother example of the same behaviour is the default sqlite database django\ncreates. if you simply turn an django app that was not created with pyscaffold into a\npackage, install it and run the migrations, django will generate an sqlite file\nin an arbitrary location in your disk. pyscaffold cannot automatically solve\nthis problem for you. instead you can follow a few approaches:\n\n#. (*not recommended*) place your sqlite database inside your package and\n   distribute it as a `package data`_, accessing it via `importlib.resources`_.\n   (please note resources are supposed to be immutable and not re-written to disk)\n#. allow the person installing your package to specify a different\n   configuration via environment variables. according to the `mozilla's\n   tutorials`_, the library `dj-database-url`_ is good for that.\n#. place your sqlite database `somewhere in the user home`_.\n\nfor the sake of pragmatism, pyscaffold will reconfigure ``settings.py`` to\nplace the database inside the project root in the development environment, but\nit is your responsibility to change this when going into production.\n\n.. _multiple-apps:\n\nfinally, it is important to notice that, while it is popular in the django community\nto create separated top-level folders for independent applications, this is more or less\nincompatible with the concept of a python package...\none entry in pypi should install a single package in your machine. ideally, if\nyou use `multiple apps`_, you should deploy a different package for each of\nthem and declare them as dependencies of your main project.\nalternatively you can also deploy new applications nested inside of your main\nproject package (the one generated by pyscaffold/``django-admin startproject``).\ntherefore, caution is required when using ``python manage.py startapp`` (you\nshould either provide the optional ``directory`` parameter as somewhere inside\nof your main package, or skip it completely).\none example on how to use nested apps is:\n\n.. code-block:: bash\n\n    putup --django website\n    cd website\n    # \u2026 do some coding\n    mkdir src/website/subapp\n    python manage.py startapp subapp src/website/subapp\n    # or python -m website startapp subapp src/website/subapp\n    #    if you have the package installed in the dev environment\n    # \u2026 then you can add \"website.subapp\" to installed_apps in src/website/settings.py\n    # \u2026 remeber to use relative imports or the full package name \"website.subapp\" when needed\n\n\ntips\n====\n\n#. have a look on `django's guides`_, but remember that pyscaffold already do\n   the heavy lifting for you (no need to write packaging configuration from\n   scratch) and that we use a `src-based layout`_\n#. do not assume anything about the file system where the package will be\n   installed.\n#. if you really need to write things to disk, you can follow the `xdg standards`_\n   and write to ``$xdg_data_home`` (the package `appdirs`_ might help).\n#. accept configurations via environment variables, and throw meaningful errors\n   when they are not provided. even if you prefer reading configurations from a\n   file, you can always let the person installing your package to specify a\n   location for this file as an environment variable.\n#. use environment variables as flags/switches to enable/disable features or\n   select alternative implementations.\n#. be extra careful to not store secrets and confidential info in your source\n   repository.\n#. be extra careful with secrets and confidential info **in general**.\n   if really required to store them, use well known cryptography techniques and\n   tweak file/folder permissions in your operating system (e.g. the command\n   ``chmod og-rwx`` is your friend, but you can also consider ``400``\n   permissions). instructing the person installing your package to create a\n   separated system account to run your web app with limited privileges might\n   also be good.\n#. provide extensive documentation on how your users are supposed to install\n   and run your app (e.g. virtualenv installation instructions,\n   ngnix/apache/systemd configuration examples, etc...)\n\n\n.. _pyscaffold-notes:\n\nmaking changes & contributing\n=============================\n\nthis project uses `pre-commit`_, please make sure to install it before making any\nchanges::\n\n    pip install pre-commit\n    cd pyscaffoldext-django\n    pre-commit install\n\nit is a good idea to update the hooks to the latest version::\n\n    pre-commit autoupdate\n\nplease also check pyscaffold's `contribution guidelines`_,\n\nnote\n====\n\nthis project has been set up using pyscaffold 4.0a2. for details and usage\ninformation on pyscaffold see https://pyscaffold.org/.\n\n\n.. _pyscaffold: https://pyscaffold.org\n.. _pyscaffold's documentation: https://pyscaffold.org/en/latest/dependencies.html\n.. _django: https://www.djangoproject.com/\n.. _django-admin: https://docs.djangoproject.com/en/3.2/ref/django-admin/\n.. _extension: https://pyscaffold.org/en/latest/extensions.html\n.. _virtual environment: https://docs.python.org/3/tutorial/venv.html\n.. _semver: https://semver.org\n.. _tox: https://tox.readthedocs.io/en/latest/example/basic.html#compressing-dependency-matrix\n.. _nox: https://nox.thea.codes/en/stable/config.html#parametrizing-sessions\n.. |mainpy| replace:: ``__main__.py``\n.. _mainpy: https://docs.python.org/3/library/__main__.html\n.. _package data: https://pyscaffold.org/en/latest/features.html#configuration-packaging-distribution\n.. _importlib.resources: https://docs.python.org/3/library/importlib.html#module-importlib.resources\n.. _mozilla's tutorials: https://developer.mozilla.org/en-us/docs/learn/server-side/django/deployment\n.. _dj-database-url: https://pypi.org/project/dj-database-url/\n.. _xdg standards: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\n.. _somewhere in the user home: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\n.. _appdirs: https://pypi.org/project/appdirs/\n.. _django's guides: https://docs.djangoproject.com/en/3.0/intro/reusable-apps/\n.. _multiple apps: https://developer.mozilla.org/en-us/docs/learn/server-side/django/skeleton_website\n.. _src-based layout: https://blog.ionelmc.ro/2014/05/25/python-packaging/\n.. _pre-commit: https://pre-commit.com/\n.. _contribution guidelines: https://pyscaffold.org/en/latest/contributing.html\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit",
  "name": "pyscaffoldext-django",
  "package_url": "https://pypi.org/project/pyscaffoldext-django/",
  "project_url": "https://pypi.org/project/pyscaffoldext-django/",
  "project_urls": {
    "Documentation": "https://pyscaffoldext-django.readthedocs.io",
    "Download": "https://pypi.org/project/pyscaffoldext-django/#files",
    "Homepage": "https://gitub.com/pyscaffold/pyscaffoldext-django",
    "Source": "https://github.com/pyscaffold/pyscaffoldext-django",
    "Tracker": "https://github.com/pyscaffold/pyscaffoldext-django/issues"
  },
  "release_url": "https://pypi.org/project/pyscaffoldext-django/0.2/",
  "requires_dist": [
    "pyscaffold (<5.0a0,>=4.0b4)",
    "django (<5.0a0,>=4.0.3)",
    "tox ; extra == 'testing'",
    "pre-commit ; extra == 'testing'",
    "setuptools-scm ; extra == 'testing'",
    "virtualenv ; extra == 'testing'",
    "configupdater ; extra == 'testing'",
    "pytest ; extra == 'testing'",
    "pytest-cov ; extra == 'testing'",
    "pytest-xdist ; extra == 'testing'"
  ],
  "requires_python": ">=3.8",
  "summary": "integration of django builtin scaffold cli (django-admin) into pyscaffold",
  "version": "0.2",
  "releases": [],
  "developers": [
    "anderson_bravalheri",
    "andersonbravalheri@gmail.com"
  ],
  "kwds": "pyscaffoldext _pyscaffold pyscaffold _django django",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_pyscaffoldext_django",
  "homepage": "https://gitub.com/pyscaffold/pyscaffoldext-django",
  "release_count": 6,
  "dependency_ids": [
    "pypi_configupdater",
    "pypi_django",
    "pypi_pre_commit",
    "pypi_pyscaffold",
    "pypi_pytest",
    "pypi_pytest_cov",
    "pypi_pytest_xdist",
    "pypi_setuptools_scm",
    "pypi_tox",
    "pypi_virtualenv"
  ]
}