{
  "classifiers": [
    "license :: osi approved :: mit license",
    "operating system :: posix :: linux",
    "programming language :: python :: 2",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.4",
    "programming language :: python :: 3.5",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: utilities"
  ],
  "description": "[![downloads](https://pepy.tech/badge/ttp)](https://pepy.tech/project/ttp)\n[![pypi versions](https://img.shields.io/pypi/pyversions/ttp.svg)](https://pypi.python.org/pypi/ttp/)\n[![documentation status](https://readthedocs.org/projects/ttp/badge/?version=latest)](http://ttp.readthedocs.io/?badge=latest)\n\n# template text parser\n\nttp is a python library for semi-structured text parsing using templates.\n\n## why?\n\nto save ones time on transforming raw text into structured data and beyond.\n\n## how?\n\nregexes, regexes everywhere... but, dynamically formed out of ttp templates with added capabilities to simplify the  process of getting desired outcome.\n\n## what?\n\nin essence ttp can help to:\n  - prepare, sort and load text data for parsing\n  - parse text using regexes dynamically derived out of templates\n  - process matches on the fly using broad set of built-in or custom functions\n  - combine match results in a structure with arbitrary hierarchy\n  - transform results in desired format to ease consumption by humans or machines\n  - return results to various destinations for storage or further processing\n\nreference [documentation](https://ttp.readthedocs.io) for more information.\n\nttp [networktocode slack channel](https://networktocode.slack.com/archives/c018hmjqecb)\n\ncollection of [ttp templates](https://github.com/dmulyalin/ttp_templates)\n\n## example - as simple as it can be\n\nsimple interfaces configuration parsing example\n\n<details><summary>code</summary>\n\n```python\nfrom ttp import ttp\nimport pprint\n\ndata = \"\"\"\ninterface loopback0\n description router-id-loopback\n ip address 192.168.0.113/24\n!\ninterface vlan778\n description cpe_acces_vlan\n ip address 2002::fd37/124\n ip vrf cpe1\n!\n\"\"\"\n\ntemplate = \"\"\"\ninterface {{ interface }}\n ip address {{ ip }}/{{ mask }}\n description {{ description }}\n ip vrf {{ vrf }}\n\"\"\"\n\nparser = ttp(data, template)\nparser.parse()\npprint.pprint(parser.result(), width=100)\n\n# prints:\n# [[[{'description': 'router-id-loopback',\n#     'interface': 'loopback0',\n#     'ip': '192.168.0.113',\n#     'mask': '24'},\n#    {'description': 'cpe_acces_vlan',\n#     'interface': 'vlan778',\n#     'ip': '2002::fd37',\n#     'mask': '124',\n#     'vrf': 'cpe1'}]]]\n```\n</details>\n\n## example - a bit more complicated\n\nfor this example lets say we want to parse bgp peerings output, but combine state with configuration data, at the end we want to get pretty looking text table printed to screen.\n\n<details><summary>code</summary>\n\n```python\ntemplate=\"\"\"\n<doc>\nthis template first parses \"show bgp vrf cust-1 vpnv4 unicast summary\" commands\noutput, forming results for \"bgp_state\" dictionary, where peer ip is a key.\n\nfollowing that, \"show run | section bgp\" output parsed by group \"bgp_cfg\". that\ngroup uses nested groups to form results structure, including absolute path\n\"/bgp_peers*\" with path formatter to produce a list of peers under \"bgp_peers\"\npath.\n\nfor each peer \"hostname\" and local bgp \"local_asn\" added using previous matches.\nadditionally, group lookup function used to lookup peer state from \"bgp_state\"\ngroup results, adding found data to peer results.\n\nfinally, \"bgp_peers\" section of results passed via \"tabulate_outputter\" to\nfrom and print this table to terminal:\n\nhostname           local_asn    vrf_name    peer_ip    peer_asn    uptime    state    description    afi    rpl_in           rpl_out\n-----------------  -----------  ----------  ---------  ----------  --------  -------  -------------  -----  ---------------  ---------------\nucs-core-switch-1  65100        cust-1      192.0.2.1  65101       00:12:33  300      peer-1         ipv4   rpl-1-import-v4  rpl-1-export-v4\nucs-core-switch-1  65100        cust-1      192.0.2.2  65102       03:55:01  idle     peer-2         ipv4   rpl-2-import-v6  rpl-2-export-v6\n\nrun this script with \"python filename.py\"\n</doc>\n\n<vars>\nhostname=\"gethostname\"\nchain_1 = [\n    \"set('vrf_name')\",\n    \"lookup('peer_ip', group='bgp_state', update=true)\"\n]\n</vars>\n\n<group name=\"bgp_state.{{ peer }}\" input=\"bgp_state\">\n{{ peer }}  4 65101      20      21       43    0    0 {{ uptime }} {{ state }}\n</group>\n\n<group name=\"bgp_cfg\" input=\"bgp_config\">\nrouter bgp {{ asn | record(asn) }}\n  <group name=\"vrfs.{{ vrf_name }}\" record=\"vrf_name\">\n  vrf {{ vrf_name }}\n    <group name=\"/bgp_peers*\" chain=\"chain_1\">\n    neighbor {{ peer_ip }}\n      {{ local_asn | set(asn) }}\n      {{ hostname | set(hostname) }}\n      remote-as {{ peer_asn }}\n      description {{ description }}\n      address-family {{ afi }} unicast\n        route-map {{ rpl_in }} in\n        route-map {{ rpl_out }} out\n\t</group>\n  </group>\n</group>\n\n<output\nname=\"tabulate_outputter\"\nformat=\"tabulate\"\npath=\"bgp_peers\"\nreturner=\"terminal\"\nheaders=\"hostname, local_asn, vrf_name, peer_ip, peer_asn, uptime, state, description, afi, rpl_in, rpl_out\"\n/>\n\"\"\"\n\ndata_bgp_state = \"\"\"\nucs-core-switch-1#show bgp vrf cust-1 vpnv4 unicast summary\nneighbor   v    as msgrcvd msgsent   tblver  inq outq up/down  state/pfxrcd\n192.0.2.1  4 65101      32      54       42    0    0 00:12:33       300\n192.0.2.2  4 65101      11      45       99    0    0 03:55:01       idle\n\"\"\"\n\ndata_bgp_config = \"\"\"\nucs-core-switch-1#show run | section bgp\nrouter bgp 65100\n  vrf cust-1\n    neighbor 192.0.2.1\n      remote-as 65101\n      description peer-1\n      address-family ipv4 unicast\n        route-map rpl-1-import-v4 in\n        route-map rpl-1-export-v4 out\n    neighbor 192.0.2.2\n      remote-as 65102\n      description peer-2\n      address-family ipv4 unicast\n        route-map rpl-2-import-v6 in\n        route-map rpl-2-export-v6 out\n\"\"\"\n\nfrom ttp import ttp\n\nparser = ttp()\nparser.add_template(template)\nparser.add_input(data=data_bgp_state, input_name=\"bgp_state\")\nparser.add_input(data=data_bgp_config, input_name=\"bgp_config\")\nparser.parse()\n```\n</details>\n\n# contributions\nfeel free to submit an issue, report a bug or ask a question, feature requests are welcomed. or [buy](https://paypal.me/dmulyalin) author a coffee\n\n# additional resources\n\nlist of additional resources:\n\n- sandbox to test ttp templates - http://textfsm.nornir.tech/ by [tbotnz](https://github.com/tbotnz)\n- videos on ttp - https://pynet.twb-tech.com/videos/ttp/ttp.html by [kirk byers](https://github.com/ktbyers)\n",
  "docs_url": null,
  "keywords": "parsing,ttp,regex",
  "license": "mit",
  "name": "ttp",
  "package_url": "https://pypi.org/project/ttp/",
  "project_url": "https://pypi.org/project/ttp/",
  "project_urls": {
    "Documentation": "https://ttp.readthedocs.io/",
    "Homepage": "https://github.com/dmulyalin/ttp",
    "Repository": "https://github.com/dmulyalin/ttp"
  },
  "release_url": "https://pypi.org/project/ttp/0.9.5/",
  "requires_dist": [
    "cerberus (>=1.3.0,<1.4.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "jinja2 (>=3.0.0,<3.1.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "pyyaml (==6.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "deepdiff (>=5.8.0,<5.9.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "openpyxl (>=3.0.0,<3.1.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "tabulate (>=0.8.0,<0.9.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "ttp_templates (<1.0.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "yangson (>=1.4.0,<1.5.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "n2g (>=0.2.0,<0.3.0) ; (python_version >= \"3.7\") and (extra == \"full\")",
    "readthedocs-sphinx-search (==0.1.1) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "Sphinx (==4.3.0) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinx_rtd_theme (==1.0.0) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-applehelp (==1.0.1) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-devhelp (==1.0.1) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-htmlhelp (==2.0.0) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-jsmath (==1.0.1) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-napoleon (==0.7) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-qthelp (==1.0.2) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-serializinghtml (==1.1.5) ; (python_version >= \"3.7\") and (extra == \"docs\")",
    "sphinxcontrib-spelling (==7.2.1) ; (python_version >= \"3.7\") and (extra == \"docs\")"
  ],
  "requires_python": ">=2.7,<4.0",
  "summary": "template text parser",
  "version": "0.9.5",
  "releases": [],
  "developers": [
    "d.mulyalin@gmail.com",
    "denis_mulyalin"
  ],
  "kwds": "ttp_templates ttp parser parsing parses",
  "license_kwds": "mit",
  "libtype": "pypi",
  "id": "pypi_ttp",
  "homepage": "https://github.com/dmulyalin/ttp",
  "release_count": 19,
  "dependency_ids": [
    "pypi_cerberus",
    "pypi_deepdiff",
    "pypi_jinja2",
    "pypi_n2g",
    "pypi_openpyxl",
    "pypi_pyyaml",
    "pypi_readthedocs_sphinx_search",
    "pypi_sphinx",
    "pypi_sphinx_rtd_theme",
    "pypi_sphinxcontrib_applehelp",
    "pypi_sphinxcontrib_devhelp",
    "pypi_sphinxcontrib_htmlhelp",
    "pypi_sphinxcontrib_jsmath",
    "pypi_sphinxcontrib_napoleon",
    "pypi_sphinxcontrib_qthelp",
    "pypi_sphinxcontrib_serializinghtml",
    "pypi_sphinxcontrib_spelling",
    "pypi_tabulate",
    "pypi_ttp_templates",
    "pypi_yangson"
  ]
}