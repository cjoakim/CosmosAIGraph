{
  "classifiers": [],
  "description": "\r\n==========================\r\nvertica sqlalchemy dialect\r\n==========================\r\n\r\nofficial vertica dialect for sqlalchemy uses the pure-python db-api driver vertica-python, to connect a vertica database and sqlalchemy applications.\r\n\r\n.. warning::\r\n   this dialect currently doesn't not have state-of-the-art features and support maybe limited based on vertica developer availability. however, we encourage you to raise a pr to add new features that may help your sqlalchemy application.\r\n\r\n-------------\r\nprerequisites\r\n-------------\r\n\r\nyou will need the following softwares to run, build and test the dialect. everything apart from python and pip can be installed via pip itself.\r\n\r\n1. python 3.x or higher\r\n2. pip 22 or higher\r\n3. sqlalchemy>=1.3.24,<=1.4.44\r\n4. vertica-python 1.1.1 or higher\r\n\r\n#####################################\r\nvertica-python\r\n#####################################\r\n\r\n`vertica-python \r\n<https://github.com/vertica/vertica-python>`_ is needed to use the vertica-sqlalchemy-dialect. the connector does not need to be installed as the dialect installation takes care of it.\r\n\r\nnote: we recommend using the vertica-python connector. however, the dialect also allows connecting using `pyodbc <https://pypi.org/project/pyodbc/>`_. more instructions are at the end of this readme.\r\n\r\n-------------------------------------\r\ninstalling vertica sqlalchemy dialect\r\n-------------------------------------\r\n\r\nthe vertica sqlalchemy package can be installed from the public pypi repository using `pip`: \r\n::\r\n\r\n    pip install --upgrade vertica-sqlalchemy-dialect\r\n\r\n\r\n`pip` automatically installs all required modules, including vertica-python.\r\n\r\nfor more information on installation and validation check our github page.\r\n\r\n-----------------------\r\nparameters and behavior\r\n-----------------------\r\n\r\nas much as possible, vertica sqlalchemy provides compatible functionality for sqlalchemy applications. \r\nfor information on using sqlalchemy, see the `sqlalchemy documentation\r\n<http://docs.sqlalchemy.org/en/latest/>`_.\r\n\r\nnote: current state of the dialect only supports metadata functions. it is still under development. \r\n\r\nhowever, vertica sqlalchemy also provides specific parameters and behavior, which are described in the following sections.\r\n\r\n#####################\r\nconnection parameters\r\n#####################\r\n\r\nvertica sqlalchemy dialect uses the following syntax for the connection string used to connect to vertica and initiate a session:\r\n::\r\n\r\n    'vertica+vertica_python://<user>:<password>@<host_name>/<database_name>'\r\n\r\n\r\nwhere:\r\n\r\n- `<user>` is the login name for your vertica user.\r\n- `<password>` is the password for your vertica user.\r\n- `<host_name>` is the ip/fqdn of your vertica host.\r\n- `<database_name>` is the name of your vertica database.\r\n\r\n\r\nyou can optionally specify the initial database and schema for the vertica session by including them at the end of the connection string, separated by `/`. you can also specify other supported parameters by vertica-python at the end of the connection string:\r\n::\r\n\r\n    'vertica+vertica_python://<user>:<password>@<host_name>/<database_name>?session_label=sqlalchemy&connection_load_balance=1'\r\n\r\nfor more information, check out the connection `options <https://github.com/vertica/vertica-python#set-properties-with-connection-string>`_ of vertica-python.\r\n\r\n##############################\r\nopening and closing connection\r\n##############################\r\n\r\nopen a connection by executing `engine.connect()`; avoid using `engine.execute()`. make certain to close the connection by executing `connection.close()` before\r\n`engine.dispose()`; otherwise, the python garbage collector removes the resources required to communicate with vertica, preventing the python connector from closing the session properly.\r\n\r\n::\r\n\r\n    engine = create_engine(...)\r\n    connection = engine.connect()\r\n    try:\r\n        connection.execute(<sql>)\r\n    finally:\r\n        connection.close()\r\n        engine.dispose()\r\n\r\n\r\n**using pyodbc instead of vertica-python**\r\n\r\nyou may use pyodbc instead of vertica-python for the connection.\r\n\r\n*create a vertica dsn* \r\n\r\n\r\nyou will need to have a vertica odbc driver installed from `vertica-client-drivers <https://www.vertica.com/download/vertica/client-drivers/>`_. for steps to install odbc for vertica, follow official `vertica docs <https://www.vertica.com/docs/12.0.x/html/content/authoring/connectingtovertica/clientodbc/installingodbc.htm>`_.\r\n\r\nfor example, you will need to configure these files with your credentials:\r\n\r\n`/etc/vertica.ini`\r\n::\r\n\r\n    [driver]\r\n    errormessagespath = /opt/vertica/lib64/\r\n    odbcinstlib = /usr/lib/x86_64-linux-gnu/libodbcinst.so\r\n    drivermanagerencoding=utf-16\r\n\r\n\r\n`~/.odbc.ini`\r\n::\r\n\r\n    [odbc data sources]\r\n    vertica = \"my database\"\r\n\r\n    [verticadsn]\r\n    description = my database\r\n    driver = /opt/vertica/lib64/libverticaodbc.so\r\n    database = docker\r\n    servername = 127.0.0.1\r\n    uid = dbadmin\r\n    pwd =\r\n\r\n\r\n\r\nthen use the vertica dsn in a file like so:\r\n::\r\n\r\n    from sqlalchemy import create_engine\r\n\r\n    engine = sa.create_engine('vertica+pyodbc://@verticadsn')\r\n    try:\r\n        res = engine.connect().scalar('select version();')\r\n        print(res)\r\n    finally:\r\n        connection.close()\r\n        engine.dispose()\r\n\r\nthis should display the vertica version info: \"vertica analytic database v12.0.0-0\".\r\n\r\n\r\n",
  "docs_url": null,
  "keywords": "",
  "license": "apache license 2.0",
  "name": "vertica-sqlalchemy-dialect",
  "package_url": "https://pypi.org/project/vertica-sqlalchemy-dialect/",
  "project_url": "https://pypi.org/project/vertica-sqlalchemy-dialect/",
  "project_urls": {
    "Homepage": "https://github.com/vertica/vertica-sqlalchemy-dialect"
  },
  "release_url": "https://pypi.org/project/vertica-sqlalchemy-dialect/0.0.8.1/",
  "requires_dist": [],
  "requires_python": "",
  "summary": "official vertica dialect for sqlalchemy",
  "version": "0.0.8.1",
  "releases": [],
  "developers": [
    "narendra_prabhu"
  ],
  "kwds": "vertica_python sqlalchemy vertica pip verticadsn",
  "license_kwds": "apache license 2.0",
  "libtype": "pypi",
  "id": "pypi_vertica_sqlalchemy_dialect",
  "homepage": "https://github.com/vertica/vertica-sqlalchemy-dialect",
  "release_count": 9,
  "dependency_ids": []
}