{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "intended audience :: education",
    "intended audience :: information technology",
    "intended audience :: science/research",
    "license :: osi approved :: apache software license",
    "operating system :: posix :: linux",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: scientific/engineering",
    "topic :: scientific/engineering :: artificial intelligence",
    "topic :: scientific/engineering :: mathematics",
    "topic :: software development",
    "topic :: software development :: libraries :: python modules"
  ],
  "description": "<!--\ncopyright (c) 2021 - present / neuralmagic, inc. all rights reserved.\n\nlicensed under the apache license, version 2.0 (the \"license\");\nyou may not use this file except in compliance with the license.\nyou may obtain a copy of the license at\n\n   http://www.apache.org/licenses/license-2.0\n\nunless required by applicable law or agreed to in writing,\nsoftware distributed under the license is distributed on an \"as is\" basis,\nwithout warranties or conditions of any kind, either express or implied.\nsee the license for the specific language governing permissions and\nlimitations under the license.\n-->\n\n<h1><img alt=\"tool icon\" src=\"https://raw.githubusercontent.com/neuralmagic/sparsezoo/main/docs/source/icon-sparsezoo.png\" />&nbsp;&nbsp;sparsezoo</h1>\n\n<h3>neural network model repository for highly sparse and sparse-quantized models with matching sparsification recipes</h3>\n\n<p>\n    <a href=\"https://docs.neuralmagic.com/sparsezoo\">\n        <img alt=\"documentation\" src=\"https://img.shields.io/badge/documentation-darkred?&style=for-the-badge&logo=read-the-docs\" height=25>\n    </a>\n    <a href=\"https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-yboicsiw3l1dmqpjbedurq/\">\n        <img src=\"https://img.shields.io/badge/slack-purple?style=for-the-badge&logo=slack\" height=25>\n    </a>\n    <a href=\"https://github.com/neuralmagic/sparsezoo/issues\">\n        <img src=\"https://img.shields.io/badge/support%20forums-navy?style=for-the-badge&logo=github\" height=25>\n    </a>\n    <a href=\"https://github.com/neuralmagic/sparsezoo/actions/workflows/test-check.yaml\">\n        <img alt=\"main\" src=\"https://img.shields.io/github/workflow/status/neuralmagic/sparsezoo/test%20checks/main?label=build&style=for-the-badge\" height=25>\n    </a>\n    <a href=\"https://github.com/neuralmagic/sparsezoo/releases\">\n        <img alt=\"github release\" src=\"https://img.shields.io/github/release/neuralmagic/sparsezoo.svg?style=for-the-badge\" height=25>\n    </a>\n    <a href=\"https://github.com/neuralmagic/sparsezoo/blob/main/license\">\n        <img alt=\"github\" src=\"https://img.shields.io/github/license/neuralmagic/sparsezoo.svg?color=lightgray&style=for-the-badge\" height=25>\n    </a>\n    <a href=\"https://github.com/neuralmagic/sparsezoo/blob/main/code_of_conduct.md\">\n        <img alt=\"contributor covenant\" src=\"https://img.shields.io/badge/contributor%20covenant-v2.1%20adopted-ff69b4.svg?color=yellow&style=for-the-badge\" height=25>\n    </a>\n    <a href=\"https://www.youtube.com/channel/uco8do_wmgybwcrnj_dxr4ea\">\n        <img src=\"https://img.shields.io/badge/-youtube-red?&style=for-the-badge&logo=youtube&logocolor=white\" height=25>\n    </a>\n     <a href=\"https://medium.com/limitlessai\">\n        <img src=\"https://img.shields.io/badge/medium-%2312100e.svg?&style=for-the-badge&logo=medium&logocolor=white\" height=25>\n    </a>\n    <a href=\"https://twitter.com/neuralmagic\">\n        <img src=\"https://img.shields.io/twitter/follow/neuralmagic?color=darkgreen&label=follow&style=social\" height=25>\n    </a>\n</p>\n\n## overview\n\n[sparsezoo is a constantly-growing repository](https://sparsezoo.neuralmagic.com) of sparsified (pruned and pruned-quantized) models with matching sparsification recipes for neural networks. \nit simplifies and accelerates your time-to-value in building performant deep learning models with a collection of inference-optimized models and recipes to prototype from. \nread [more about sparsification](https://docs.neuralmagic.com/user-guides/sparsification).\n\navailable via api and hosted in the cloud, the sparsezoo contains both baseline and models sparsified to different degrees of inference performance vs. baseline loss recovery. \nrecipe-driven approaches built around sparsification algorithms allow you to use the models as given, transfer-learn from the models onto private datasets, or transfer the recipes to your architectures.\n\nthe [github repository](https://github.com/neuralmagic/sparsezoo) contains the python api code to handle the connection and authentication to the cloud.\n\n<img alt=\"sparsezoo flow\" src=\"https://docs.neuralmagic.com/docs/source/infographics/sparsezoo.png\" width=\"960px\" />\n\n\n## \ud83d\udea8 new sparsezoo models \ud83d\udea8\n### \ud83c\udf83 october 2023 \ud83c\udf83\n**generative ai**\n- sparse mpt models - [21 variants](https://sparsezoo.neuralmagic.com/?architectures=mpt&ungrouped=true)\n    - \u26a1 highlighted model \u26a1 :  [mpt-7b-gsm8k_mpt_pretrain-pruned80_quantized](https://sparsezoo.neuralmagic.com/models/mpt-7b-gsm8k_mpt_pretrain-pruned80_quantized?hardware=deepsparse-c6i.12xlarge&comparison=mpt-7b-gsm8k_mpt_pretrain-base)\n- sparse opt models - [12 variants](https://sparsezoo.neuralmagic.com/?architectures=opt&ungrouped=true)\n    - \u26a1 highlighted model \u26a1 :  [opt-6.7b-opt_pretrain-pruned50_quantw8a8](https://sparsezoo.neuralmagic.com/models/opt-6.7b-opt_pretrain-pruned50_quantw8a8?hardware=deepsparse-c6i.12xlarge&comparison=opt-6.7b-opt_pretrain-base)\n- sparse codegen (mono,multi) models - [10 variants](https://sparsezoo.neuralmagic.com/?ungrouped=true&architectures=codegen_mono%2ccodegen_multi)\n    - \u26a1 highlighted model \u26a1 :  [codegen_multi-350m-bigquery_thepile-pruned50_quantized](https://sparsezoo.neuralmagic.com/models/codegen_multi-350m-bigquery_thepile-pruned50_quantized?hardware=deepsparse-c6i.12xlarge&comparison=codegen_multi-350m-bigquery_thepile-base) \n \n\n## highlights\n\n- [model stub architecture overview](https://docs.neuralmagic.com/sparsezoo/source/models.html)\n- [available model recipes](https://docs.neuralmagic.com/sparsezoo/source/recipes.html)\n- [sparsezoo.neuralmagic.com](https://sparsezoo.neuralmagic.com)\n\n## installation\n\nthis repository is tested on python 3.8-3.11, and linux/debian systems.\nit is recommended to install in a [virtual environment](https://docs.python.org/3/library/venv.html) to keep your system in order.\n\ninstall with pip using:\n\n```bash\npip install sparsezoo\n```\n\n## quick tour\n\nthe sparsezoo python api enables you to search and download sparsified models. code examples are given below.\nwe encourage users to load sparsezoo models by copying a stub directly from a [model page]((https://sparsezoo.neuralmagic.com/)).\n\n### introduction to model class object\n\nthe `model` is a fundamental object that serves as a main interface with the sparsezoo library. \nit represents a sparsezoo model, together with all its directories and files.\n\n#### creating a model class object from sparsezoo stub\n```python\nfrom sparsezoo import model\n\nstub = \"zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned95_quant-none\"\n\nmodel = model(stub)\nprint(str(model))\n\n>> model(stub=zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned95_quant-none)\n```\n\n#### creating a model class object from local model directory\n```python\nfrom sparsezoo import model\n\ndirectory = \".../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0\"\n\nmodel = model(directory)\nprint(str(model))\n\n>> model(directory=.../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0)\n```\n\n#### manually specifying the model download path\n\nunless specified otherwise, the model created from the sparsezoo stub is saved to the local sparsezoo cache directory. \nthis can be overridden by passing the optional `download_path` argument to the constructor:\n\n```python\nfrom sparsezoo import model\n\nstub = \"zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned95_quant-none\"\ndownload_directory = \"./model_download_directory\"\n\nmodel = model(stub, download_path = download_directory)\n```\n#### downloading the model files\nonce the model is initialized from a stub, it may be downloaded either by calling the `download()` method or by invoking a `path` property. both pathways are universal for all the files in sparsezoo. invoking the `path` property will always trigger file download unless the file has already been downloaded.\n\n```python\n# method 1\nmodel.download() \n\n# method 2 \nmodel_path = model.path\n```\n\n#### inspecting the contents of the sparsezoo model\n\nwe call the `available_files` method to inspect which files are present in the sparsezoo model. then, we select a file by calling the appropriate attribute:\n\n```python\nmodel.available_files\n\n>> {'training': directory(name=training), \n>> 'deployment': directory(name=deployment), \n>> 'sample_inputs': directory(name=sample_inputs.tar.gz), \n>> 'sample_outputs': {'framework': directory(name=sample_outputs.tar.gz)}, \n>> 'sample_labels': directory(name=sample_labels.tar.gz), \n>> 'model_card': file(name=model.md), \n>> 'recipes': directory(name=recipe), \n>> 'onnx_model': file(name=model.onnx)}\n```\nthen, we might take a closer look at the contents of the sparsezoo model:\n```python\nmodel_card = model.model_card\nprint(model_card)\n\n>> file(name=model.md)\n```\n```python\nmodel_card_path = model.model_card.path\nprint(model_card_path)\n\n>> .../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0/model.md\n```\n\n\n### model, directory, and file\n\nin general, every file in the sparsezoo model shares a set of attributes: `name`, `path`, `url`, and `parent`:\n- `name` serves as an identifier of the file/directory\n- `path` points to the location of the file/directory \n- `url` specifies the server address of the file/directory in question\n- `parent` points to the location of the parent directory of the file/directory in question\n\na directory is a unique type of file that contains other files. for that reason, it has an additional `files` attribute.\n\n```python\nprint(model.onnx_model)\n\n>> file(name=model.onnx)\n\nprint(f\"file name: {model.onnx_model.name}\\n\"\n      f\"file path: {model.onnx_model.path}\\n\"\n      f\"file url: {model.onnx_model.url}\\n\"\n      f\"parent directory: {model.onnx_model.parent_directory}\")\n      \n>> file name: model.onnx\n>> file path: .../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0/model.onnx\n>> file url: https://models.neuralmagic.com/cv-classification/...\n>> parent directory: .../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0\n```\n\n```python\nprint(model.recipes)\n\n>> directory(name=recipe)\n\nprint(f\"file name: {model.recipes.name}\\n\"\n      f\"contains: {[file.name for file in model.recipes.files]}\\n\"\n      f\"file path: {model.recipes.path}\\n\"\n      f\"file url: {model.recipes.url}\\n\"\n      f\"parent directory: {model.recipes.parent_directory}\")\n      \n>> file name: recipe\n>> contains: ['recipe_original.md', 'recipe_transfer-classification.md']\n>> file path: /home/user/.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0/recipe\n>> file url: none\n>> parent directory: /home/user/.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0\n```\n\n### selecting checkpoint-specific data\n\na sparsezoo model may contain several checkpoints. the model may contain a checkpoint that had been saved before the model was quantized - that checkpoint would be used for transfer learning. another checkpoint might have been saved after the quantization step - that one is usually directly used for inference.\n\nthe recipes may also vary depending on the use case. we may want to access a recipe that was used to sparsify the dense model (`recipe_original`) or the one that enables us to sparse transfer learn from the already sparsified model (`recipe_transfer`). \n\nthere are two ways to access those specific files.\n\n#### accessing recipes (through python api)\n```python\navailable_recipes = model.recipes.available\nprint(available_recipes)\n\n>> ['original', 'transfer-classification']\n\ntransfer_recipe = model.recipes[\"transfer-classification\"]\nprint(transfer_recipe)\n\n>> file(name=recipe_transfer-classification.md)\n\noriginal_recipe = model.recipes.default # recipe defaults to `original`\noriginal_recipe_path = original_recipe.path # downloads the recipe and returns its path\nprint(original_recipe_path)\n\n>> .../.cache/sparsezoo/eb977dae-2454-471b-9870-4cf38074acf0/recipe/recipe_original.md\n```\n\n#### accessing checkpoints (through python api)\nin general, we are expecting the following checkpoints to be included in the model: \n\n- `checkpoint_prepruning`\n- `checkpoint_postpruning`\n- `checkpoint_preqat`\n- `checkpoint_postqat` \n\nthe checkpoint that the model defaults to is the `preqat` state (just before the quantization step).\n\n```python\nfrom sparsezoo import model\n\nstub = \"zoo:nlp/question_answering/bert-base/pytorch/huggingface/squad/pruned_quant_3layers-aggressive_84\"\n\nmodel = model(stub)\navailable_checkpoints = model.training.available\nprint(available_checkpoints)\n\n>> ['preqat']\n\npreqat_checkpoint = model.training.default # recipe defaults to `preqat`\npreqat_checkpoint_path = preqat_checkpoint.path # downloads the checkpoint and returns its path\nprint(preqat_checkpoint_path)\n\n>> .../.cache/sparsezoo/0857c6f2-13c1-43c9-8db8-8f89a548dccd/training\n\n[print(file.name) for file in preqat_checkpoint.files]\n\n>> vocab.txt\n>> special_tokens_map.json\n>> pytorch_model.bin\n>> config.json\n>> training_args.bin\n>> tokenizer_config.json\n>> trainer_state.json\n>> tokenizer.json\n```\n\n\n#### accessing recipes (through stub string arguments)\n\nyou can also directly request a specific recipe/checkpoint type by appending the appropriate url query arguments to the stub:\n```python\nfrom sparsezoo import model\n\nstub = \"zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned95_quant-none?recipe=transfer\"\n\nmodel = model(stub)\n\n# inspect which files are present.\n# note that the available recipes are restricted\n# according to the specified url query arguments\nprint(model.recipes.available)\n\n>> ['transfer-classification']\n\ntransfer_recipe = model.recipes.default # now the recipes default to the one selected by the stub string arguments\nprint(transfer_recipe)\n\n>> file(name=recipe_transfer-classification.md)\n```\n\n### accessing sample data\n\nthe user may easily request a sample batch of data that represents the inputs and outputs of the model.\n\n```python\nsample_data = model.sample_batch(batch_size = 10)\n\nprint(sample_data['sample_inputs'][0].shape)\n>> (10, 3, 224, 224) # (batch_size, num_channels, image_dim, image_dim)\n\nprint(sample_data['sample_outputs'][0].shape)\n>> (10, 1000) # (batch_size, num_classes)\n```\n\n### model search\nthe function `search_models` enables the user to quickly filter the contents of sparsezoo repository to find the stubs of interest:\n\n```python\nfrom sparsezoo import search_models\n\nargs = {\n    \"domain\": \"cv\",\n    \"sub_domain\": \"segmentation\",\n    \"architecture\": \"yolact\",\n}\n\nmodels = search_models(**args)\n[print(model) for model in models]\n\n>> model(stub=zoo:cv/segmentation/yolact-darknet53/pytorch/dbolya/coco/pruned82_quant-none)\n>> model(stub=zoo:cv/segmentation/yolact-darknet53/pytorch/dbolya/coco/pruned90-none)\n>> model(stub=zoo:cv/segmentation/yolact-darknet53/pytorch/dbolya/coco/base-none)\n```\n\n### environmental variables\n\nusers can specify the directory where models (temporarily during download) and its required credentials will be saved in your working machine. \n`sparsezoo_models_path` is the path where the downloaded models will be saved temporarily. default `~/.cache/sparsezoo/`\n`sparsezoo_credentials_path` is the path where `credentials.yaml` will be saved. default `~/.cache/sparsezoo/`\n\n### console scripts\n\nin addition to the python apis, a console script entry point is installed with the package `sparsezoo`.\nthis enables easy interaction straight from your console/terminal.\n\n#### downloading\n\ndownload command help\n\n```shell script\nsparsezoo.download -h\n```\n\n<br>download resnet-50 model\n\n```shell script\nsparsezoo.download zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/base-none\n```\n\n<br>download pruned and quantized resnet-50 model\n\n```shell script\nsparsezoo.download zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned_quant-moderate\n```\n\n#### searching\n\nsearch command help\n\n```shell script\nsparsezoo search -h\n```\n\n<br>searching for all classification mobilenetv1 models in the computer vision domain\n\n```shell script\nsparsezoo search --domain cv --sub-domain classification --architecture mobilenet_v1\n```\n\n<br>searching for all resnet-50 models\n\n```shell script\nsparsezoo search --domain cv --sub-domain classification \\\n    --architecture resnet_v1 --sub-architecture 50\n```\n\nfor a more in-depth read, check out [sparsezoo documentation.](https://docs.neuralmagic.com/sparsezoo/)\n\n## resources\n\n### learning more\n\n- documentation: [sparseml,](https://docs.neuralmagic.com/sparseml/) [sparsezoo,](https://docs.neuralmagic.com/sparsezoo/) [sparsify,](https://docs.neuralmagic.com/sparsify/) [deepsparse](https://docs.neuralmagic.com/deepsparse/)\n- neural magic: [blog,](https://www.neuralmagic.com/blog/) [resources](https://www.neuralmagic.com/resources/)\n\n### release history\n\nofficial builds are hosted on pypi\n\n- stable: [sparsezoo](https://pypi.org/project/sparsezoo/)\n- nightly (dev): [sparsezoo-nightly](https://pypi.org/project/sparsezoo-nightly/)\n\nadditionally, more information can be found via [github releases.](https://github.com/neuralmagic/sparsezoo/releases)\n\n### license\n\nthe project is licensed under the [apache license version 2.0.](https://github.com/neuralmagic/sparsezoo/blob/main/license)\n\n## community\n\n### contribute\n\nwe appreciate contributions to the code, examples, integrations, and documentation as well as bug reports and feature requests! [learn how here.](https://github.com/neuralmagic/sparsezoo/blob/main/contributing.md)\n\n### join\n\nfor user help or questions about sparsezoo, sign up or log in to our [**neural magic community slack**](https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-yboicsiw3l1dmqpjbedurq). we are growing the community member by member and happy to see you there. bugs, feature requests, or additional questions can also be posted to our [github issue queue.](https://github.com/neuralmagic/sparsezoo/issues)\n\nyou can get the latest news, webinar and event invites, research papers, and other ml performance tidbits by [subscribing](https://neuralmagic.com/subscribe/) to the neural magic community.\n\nfor more general questions about neural magic, please fill out this [form.](http://neuralmagic.com/contact/)\n",
  "docs_url": null,
  "keywords": "inference,machine learning,neural network,deep learning model,models,computer vision,nlp,pretrained transfer learning,sparsity,pruning,quantization,sparse models,resnet,mobilenet,yolov3",
  "license": "apache",
  "name": "sparsezoo-nightly",
  "package_url": "https://pypi.org/project/sparsezoo-nightly/",
  "project_url": "https://pypi.org/project/sparsezoo-nightly/",
  "project_urls": {
    "Homepage": "https://github.com/neuralmagic/sparsezoo"
  },
  "release_url": "https://pypi.org/project/sparsezoo-nightly/1.7.0.20231210/",
  "requires_dist": [
    "numpy >=1.0.0",
    "onnx <1.15.0,>=1.5.0",
    "pyyaml >=5.1.0",
    "requests >=2.0.0",
    "tqdm >=4.0.0",
    "pydantic <2.0.0,>=1.8.2",
    "click !=8.0.0,>=7.1.2",
    "protobuf >=3.12.2",
    "pandas >1.3",
    "py-machineid >=0.3.0",
    "geocoder >=1.38.0",
    "beautifulsoup4 ==4.9.3 ; extra == 'dev'",
    "black ==22.12.0 ; extra == 'dev'",
    "flake8 >=3.8.3 ; extra == 'dev'",
    "flaky >=3.7.0 ; extra == 'dev'",
    "isort >=5.7.0 ; extra == 'dev'",
    "pytest >=6.0.0 ; extra == 'dev'",
    "wheel >=0.36.2 ; extra == 'dev'",
    "onnxruntime >=1.0.0 ; extra == 'dev'",
    "matplotlib >=3.0.0 ; extra == 'dev'",
    "m2r2 ~=0.2.7 ; extra == 'docs'",
    "mistune ==0.8.4 ; extra == 'docs'",
    "myst-parser ~=0.14.0 ; extra == 'docs'",
    "rinohtype >=0.4.2 ; extra == 'docs'",
    "sphinx >=3.4.0 ; extra == 'docs'",
    "sphinx-copybutton >=0.3.0 ; extra == 'docs'",
    "sphinx-markdown-tables >=0.0.15 ; extra == 'docs'",
    "sphinx-multiversion ==0.2.4 ; extra == 'docs'",
    "sphinx-rtd-theme ; extra == 'docs'",
    "ipywidgets >=7.0.0 ; extra == 'nb'",
    "jupyter >=1.0.0 ; extra == 'nb'"
  ],
  "requires_python": ">=3.8.0",
  "summary": "neural network model repository for highly sparse and sparse-quantized models with matching sparsification recipes",
  "version": "1.7.0.20231210",
  "releases": [],
  "developers": [
    "neuralmagic",
    "support@neuralmagic.com"
  ],
  "kwds": "imagenet licenses license licensed sparsezoo",
  "license_kwds": "apache",
  "libtype": "pypi",
  "id": "pypi_sparsezoo_nightly",
  "homepage": "https://github.com/neuralmagic/sparsezoo",
  "release_count": 80,
  "dependency_ids": [
    "pypi_beautifulsoup4",
    "pypi_black",
    "pypi_click",
    "pypi_flake8",
    "pypi_flaky",
    "pypi_geocoder",
    "pypi_ipywidgets",
    "pypi_isort",
    "pypi_jupyter",
    "pypi_m2r2",
    "pypi_matplotlib",
    "pypi_mistune",
    "pypi_myst_parser",
    "pypi_numpy",
    "pypi_onnx",
    "pypi_onnxruntime",
    "pypi_pandas",
    "pypi_protobuf",
    "pypi_py_machineid",
    "pypi_pydantic",
    "pypi_pytest",
    "pypi_pyyaml",
    "pypi_requests",
    "pypi_rinohtype",
    "pypi_sphinx",
    "pypi_sphinx_copybutton",
    "pypi_sphinx_markdown_tables",
    "pypi_sphinx_multiversion",
    "pypi_sphinx_rtd_theme",
    "pypi_tqdm",
    "pypi_wheel"
  ]
}