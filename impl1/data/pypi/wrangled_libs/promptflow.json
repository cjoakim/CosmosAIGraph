{
  "classifiers": [
    "license :: osi approved :: mit license",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "\r\n# prompt flow\r\n\r\n[![python package](https://img.shields.io/pypi/v/promptflow)](https://pypi.org/project/promptflow/)\r\n[![python](https://img.shields.io/pypi/pyversions/promptflow.svg?maxage=2592000)](https://pypi.python.org/pypi/promptflow/)\r\n[![pypi - downloads](https://img.shields.io/pypi/dm/promptflow)](https://pypi.org/project/promptflow/)\r\n[![cli](https://img.shields.io/badge/cli-reference-blue)](https://microsoft.github.io/promptflow/reference/pf-command-reference.html)\r\n[![vsc extension](https://img.shields.io/visual-studio-marketplace/i/prompt-flow.prompt-flow?logo=visual%20studio&label=extension%20)](https://marketplace.visualstudio.com/items?itemname=prompt-flow.prompt-flow)\r\n\r\n[![doc](https://img.shields.io/badge/doc-online-green)](https://microsoft.github.io/promptflow/index.html)\r\n[![issue](https://img.shields.io/github/issues/microsoft/promptflow)](https://github.com/microsoft/promptflow/issues/new/choose)\r\n[![discussions](https://img.shields.io/github/discussions/microsoft/promptflow)](https://github.com/microsoft/promptflow/issues/new/choose)\r\n[![contributing](https://img.shields.io/badge/contributing-8a2be2)](https://github.com/microsoft/promptflow/blob/main/contributing.md)\r\n[![license: mit](https://img.shields.io/github/license/microsoft/promptflow)](https://github.com/microsoft/promptflow/blob/main/license)\r\n\r\n> welcome to join us to make prompt flow better by\r\n> participating [discussions](https://github.com/microsoft/promptflow/discussions),\r\n> opening [issues](https://github.com/microsoft/promptflow/issues/new/choose),\r\n> submitting [prs](https://github.com/microsoft/promptflow/pulls).\r\n\r\n**prompt flow** is a suite of development tools designed to streamline the end-to-end development cycle of llm-based ai applications, from ideation, prototyping, testing, evaluation to production deployment and monitoring. it makes prompt engineering much easier and enables you to build llm apps with production quality.\r\n\r\nwith prompt flow, you will be able to:\r\n\r\n- **create and iteratively develop flow**\r\n    - create executable [flows](https://microsoft.github.io/promptflow/concepts/concept-flows.html) that link llms, prompts, python code and other [tools](https://microsoft.github.io/promptflow/concepts/concept-tools.html) together.\r\n    - debug and iterate your flows, especially the [interaction with llms](https://microsoft.github.io/promptflow/concepts/concept-connections.html) with ease.\r\n- **evaluate flow quality and performance**\r\n    - evaluate your flow's quality and performance with larger datasets.\r\n    - integrate the testing and evaluation into your ci/cd system to ensure quality of your flow.\r\n- **streamlined development cycle for production**\r\n    - deploy your flow to the serving platform you choose or integrate into your app's code base easily.\r\n    - (optional but highly recommended) collaborate with your team by leveraging the cloud version of [prompt flow in azure ai](https://learn.microsoft.com/en-us/azure/machine-learning/prompt-flow/overview-what-is-prompt-flow?view=azureml-api-2).\r\n\r\n------\r\n\r\n## installation\r\n\r\nensure you have a python environment, `python=3.9` is recommended.\r\n\r\n```sh\r\npip install promptflow promptflow-tools\r\n```\r\n\r\n## quick start \u26a1\r\n\r\n**create a chatbot with prompt flow**\r\n\r\nrun the command to initiate a prompt flow from a chat template, it creates folder named `my_chatbot` and generates required files within it:\r\n\r\n```sh\r\npf flow init --flow ./my_chatbot --type chat\r\n```\r\n\r\n**setup a connection for your api key**\r\n\r\nfor openai key, establish a connection by running the command, using the `openai.yaml` file in the `my_chatbot` folder, which stores your openai key:\r\n\r\n```sh\r\n# override keys with --set to avoid yaml file changes\r\npf connection create --file ./my_chatbot/openai.yaml --set api_key=<your_api_key> --name open_ai_connection\r\n```\r\n\r\nfor azure openai key, establish the connection by running the command, using the `azure_openai.yaml` file:\r\n\r\n```sh\r\npf connection create --file ./my_chatbot/azure_openai.yaml --set api_key=<your_api_key> api_base=<your_api_base> --name open_ai_connection\r\n```\r\n\r\n**chat with your flow**\r\n\r\nin the `my_chatbot` folder, there's a `flow.dag.yaml` file that outlines the flow, including inputs/outputs, nodes,  connection, and the llm model, etc\r\n\r\n> note that in the `chat` node, we're using a connection named `open_ai_connection` (specified in `connection` field) and the `gpt-35-turbo` model (specified in `deployment_name` field). the deployment_name filed is to specify the openai model, or the azure openai deployment resource.\r\n\r\ninteract with your chatbot by running: (press `ctrl + c` to end the session)\r\n\r\n```sh\r\npf flow test --flow ./my_chatbot --interactive\r\n```\r\n\r\n#### continue to delve deeper into [prompt flow](https://github.com/microsoft/promptflow).\r\n\r\n\r\n# release history\r\n\r\n## 1.2.0 (2023.12.14)\r\n\r\n### features added\r\n- [sdk/cli] support `pfazure run download` to download run data from azure ai.\r\n- [sdk/cli] support `pf run create` to create a local run record from downloaded run data.\r\n\r\n### bugs fixed\r\n\r\n- [sdk/cli] removing telemetry warning when running commands.\r\n- empty node stdout & stderr to avoid large visualize html.\r\n- hide unnecessary fields in run list for better readability.\r\n\r\n## 1.1.1 (2023.12.1)\r\n\r\n### bugs fixed\r\n\r\n- [sdk/cli] fix compatibility issue with `semantic-kernel==0.4.0.dev0` and `azure-ai-ml==1.12.0`.\r\n- [sdk/cli] add back workspace information in cli telemetry.\r\n- [sdk/cli] disable the feature to customize user agent in cli to avoid changes on operation context.\r\n- fix openai metrics calculator to adapt openai v1.\r\n\r\n## 1.1.0 (2023.11.30)\r\n\r\n### features added\r\n- add `pfazure flow show/list` to show or list flows from azure ai.\r\n- display node status in run visualize page graph view.\r\n- add support for image input and output in prompt flow.\r\n- [sdk/cli] sdk/cli will collect telemetry by default, user can use `pf config set telemetry.enabled=false` to opt out.\r\n- add `raise_on_error` for stream run api, by default we raise for failed run.\r\n- flow as function: consume a flow like a function with parameters mapped to flow inputs.\r\n- enable specifying the default output path for run.\r\n  - use `pf config set run.output_path=<output-path>` to specify, and the run output path will be `<output-path>/<run-name>`.\r\n  - introduce macro `${flow_directory}` for `run.output_path` in config, which will be replaced with corresponding flow directory.\r\n  - the flow directory cannot be set as run output path, which means `pf config set run.output_path='${flow_directory}'` is invalid; but you can use child folder, e.g. `pf config set run.output_path='${flow_directory}/.runs'`.\r\n- support pfazure run create with remote flow.\r\n  - for remote workspace flow: `pfazure run create --flow azureml:<flow-name>`\r\n  - for remote registry flow: `pfazure run create --flow azureml://registries/<registry-name>/models/<flow-name>/versions/<flow-version>`\r\n- support set logging level via environment variable `pf_logging_level`, valid values includes `critical`, `error`, `warning`, `info`, `debug`, default to `info`.\r\n- remove openai version restrictions\r\n\r\n### bugs fixed\r\n\r\n- [sdk/cli] fix node test with dict node input will raise \"required input(s) missing\".\r\n- [sdk/cli] will use run name as display name when display name not specified (used flow folder name before).\r\n- [sdk/cli] fix pf flow build created unexpected layer of dist folder\r\n- [sdk/cli] fix deploy prompt flow: connections value may be none\r\n\r\n### improvements\r\n- force 'az login' if using azureml connection provider in cli command.\r\n- add env variable 'pf_no_interactive_login' to disable interactive login if using azureml connection provider in promptflow sdk.\r\n- improved cli invoke time.\r\n- bump `pydash` upper bound to 8.0.0.\r\n- bump `sqlalchemy` upper bound to 3.0.0.\r\n- bump `flask` upper bound to 4.0.0, `flask-restx` upper bound to 2.0.0.\r\n- bump `ruamel.yaml` upper bound to 1.0.0.\r\n\r\n## 1.0.0 (2023.11.09)\r\n\r\n### features added\r\n\r\n- [executor] add `enable_kwargs` tag in tools.json for customer python tool.\r\n- [sdk/cli] support `pfazure flow create`. create a flow on azure ai from local flow folder.\r\n- [sdk/cli] changed column mapping `${run.inputs.xx}`'s behavior, it will refer to run's data columns instead of run's inputs columns.\r\n\r\n### bugs fixed\r\n\r\n- [sdk/cli] keep original format in run output.jsonl.\r\n- [executor] fix the bug that raise an error when an aggregation node references a bypassed node\r\n\r\n### improvements\r\n\r\n- [executor] set the outputs of the bypassed nodes as none\r\n\r\n## 0.1.0b8 (2023.10.26)\r\n\r\n### features added\r\n- [executor] add average execution time and estimated execution time to batch run logs\r\n- [sdk/cli] support `pfazure run archive/restore/update`.\r\n- [sdk/cli] support custom strong type connection.\r\n- [sdk/cli] enable telemetry and won't collect by default, use `pf config set cli.telemetry_enabled=true` to opt in.\r\n- [sdk/cli] exposed function `from promptflow import load_run` to load run object from local yaml file.\r\n- [executor] support `toolprovider` for script tools.\r\n\r\n### bugs fixed\r\n- **pf config set**:\r\n  - fix bug for workspace `connection.provider=azureml` doesn't work as expected.\r\n- [sdk/cli] fix the bug that using sdk/cli to submit batch run did not display the log correctly.\r\n- [sdk/cli] fix encoding issues when input is non-english with `pf flow test`.\r\n- [executor] fix the bug can't read file containing \"private use\" unicode character.\r\n- [sdk/cli] fix string type data will be converted to integer/float.\r\n- [sdk/cli] remove the max rows limitation of loading data.\r\n- [sdk/cli] fix the bug --set not taking effect when creating run from file.\r\n\r\n### improvements\r\n\r\n- [sdk/cli] experience improvements in `pf run visualize` page:\r\n  - add column status.\r\n  - support opening flow file by clicking run id.\r\n\r\n\r\n## 0.1.0b7.post1 (2023.09.28)\r\n\r\n### bug fixed\r\n- fix extra dependency bug when importing `promptflow` without `azure-ai-ml` installed.\r\n\r\n## 0.1.0b7 (2023.09.27)\r\n\r\n### features added\r\n\r\n- **pf flow validate**: support validate flow\r\n- **pf config set**: support set user-level promptflow config.\r\n  - support workspace connection provider, usage: `pf config set connection.provider=azureml://subscriptions/<subscription_id>/resourcegroups/<resource_group>/providers/microsoft.machinelearningservices/workspaces/<workspace_name>`\r\n- support override openai connection's model when submitting a flow. for example: `pf run create --flow ./ --data ./data.jsonl --connection llm.model=xxx --column-mapping url='${data.url}'`\r\n\r\n### bugs fixed\r\n- [flow build] fix flow build file name and environment variable name when connection name contains space.\r\n- reserve `.promptflow` folder when dump run snapshot.\r\n- read/write log file with encoding specified.\r\n- avoid inconsistent error message when executor exits abnormally.\r\n- align inputs & outputs row number in case partial completed run will break `pfazure run show-details`.\r\n- fix bug that failed to parse portal url for run data when the form is an asset id.\r\n- fix the issue of process hanging for a long time when running the batch run.\r\n\r\n### improvements\r\n- [executor][internal] improve error message with more details and actionable information.\r\n- [sdk/cli] `pf/pfazure run show-details`:\r\n  - add `--max-results` option to control the number of results to display.\r\n  - add `--all-results` option to display all results.\r\n- add validation for azure `pfclient` constructor in case wrong parameter is passed.\r\n\r\n## 0.1.0b6 (2023.09.15)\r\n\r\n### features added\r\n\r\n- [promptflow][feature] store token metrics in run properties\r\n\r\n### bugs fixed\r\n\r\n- refine error message body for flow_validator.py\r\n- refine error message body for run_tracker.py\r\n- [executor][internal] add some unit test to improve code coverage of log/metric\r\n- [sdk/cli] update portal link to remove flight.\r\n- [executor][internal] improve inputs mapping's error message.\r\n- [api] resolve warnings/errors of sphinx build\r\n\r\n## 0.1.0b5 (2023.09.08)\r\n\r\n### features added\r\n\r\n- **pf run visualize**: support lineage graph & display name in visualize page\r\n\r\n### bugs fixed\r\n\r\n- add missing requirement `psutil` in `setup.py`\r\n\r\n## 0.1.0b4 (2023.09.04)\r\n\r\n### features added\r\n\r\n- support `pf flow build` commands\r\n\r\n## 0.1.0b3 (2023.08.30)\r\n\r\n- minor bug fixes.\r\n\r\n## 0.1.0b2 (2023.08.29)\r\n\r\n- first preview version with major cli & sdk features.\r\n\r\n### features added\r\n\r\n- **pf flow**: init/test/serve/export\r\n- **pf run**: create/update/stream/list/show/show-details/show-metrics/visualize/archive/restore/export\r\n- **pf connection**: create/update/show/list/delete\r\n- azure ai support:\r\n    - **pfazure run**: create/list/stream/show/show-details/show-metrics/visualize\r\n\r\n\r\n## 0.1.0b1 (2023.07.20)\r\n\r\n- stub version in pypi.\r\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit license",
  "name": "promptflow",
  "package_url": "https://pypi.org/project/promptflow/",
  "project_url": "https://pypi.org/project/promptflow/",
  "project_urls": {
    "Bug Reports": "https://github.com/microsoft/promptflow/issues",
    "Homepage": "https://github.com/microsoft/promptflow",
    "Source": "https://github.com/microsoft/promptflow"
  },
  "release_url": "https://pypi.org/project/promptflow/1.2.0/",
  "requires_dist": [
    "psutil",
    "httpx >=0.25.1",
    "openai",
    "flask <4.0.0,>=2.2.3",
    "sqlalchemy <3.0.0,>=1.4.48",
    "pandas <3.0.0,>=1.5.3",
    "python-dotenv <2.0.0,>=1.0.0",
    "keyring <25.0.0,>=24.2.0",
    "pydash <8.0.0,>=6.0.0",
    "cryptography <42.0.0,>=41.0.3",
    "colorama <0.5.0,>=0.4.6",
    "tabulate <1.0.0,>=0.9.0",
    "filelock <4.0.0,>=3.4.0",
    "marshmallow <4.0.0,>=3.5",
    "pyyaml <7.0.0,>=5.1.0",
    "gitpython <4.0.0,>=3.1.24",
    "tiktoken >=0.4.0",
    "strictyaml <2.0.0,>=1.5.0",
    "waitress <3.0.0,>=2.1.2",
    "opencensus-ext-azure <2.0.0",
    "ruamel.yaml <1.0.0,>=0.17.35",
    "pyarrow <15.0.0,>=14.0.1",
    "pillow <11.0.0,>=10.1.0",
    "filetype >=1.2.0",
    "azure-core <2.0.0,>=1.26.4 ; extra == 'azure'",
    "azure-storage-blob[aio] <13.0.0,>=12.13.0 ; extra == 'azure'",
    "azure-identity <2.0.0,>=1.12.0 ; extra == 'azure'",
    "azure-ai-ml <2.0.0,>=1.11.0 ; extra == 'azure'",
    "pyjwt <3.0.0,>=2.4.0 ; extra == 'azure'",
    "pyinstaller >=5.13.2 ; extra == 'executable'",
    "streamlit >=1.26.0 ; extra == 'executable'",
    "streamlit-quill <0.1.0 ; extra == 'executable'",
    "bs4 ; extra == 'executable'",
    "flask-restx <2.0.0,>=1.2.0 ; extra == 'pfs'"
  ],
  "requires_python": "<4.0,>=3.8",
  "summary": "prompt flow python sdk - build high-quality llm apps",
  "version": "1.2.0",
  "releases": [],
  "developers": [
    "aml-pt-eng@microsoft.com",
    "microsoft_corporation"
  ],
  "kwds": "promptflow prompt prompts cli flow_directory",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_promptflow",
  "homepage": "https://github.com/microsoft/promptflow",
  "release_count": 13,
  "dependency_ids": [
    "pypi_azure_ai_ml",
    "pypi_azure_core",
    "pypi_azure_identity",
    "pypi_azure_storage_blob",
    "pypi_bs4",
    "pypi_colorama",
    "pypi_cryptography",
    "pypi_filelock",
    "pypi_filetype",
    "pypi_flask",
    "pypi_flask_restx",
    "pypi_gitpython",
    "pypi_httpx",
    "pypi_keyring",
    "pypi_marshmallow",
    "pypi_openai",
    "pypi_opencensus_ext_azure",
    "pypi_pandas",
    "pypi_pillow",
    "pypi_psutil",
    "pypi_pyarrow",
    "pypi_pydash",
    "pypi_pyinstaller",
    "pypi_pyjwt",
    "pypi_python_dotenv",
    "pypi_pyyaml",
    "pypi_ruamel.yaml",
    "pypi_sqlalchemy",
    "pypi_streamlit",
    "pypi_streamlit_quill",
    "pypi_strictyaml",
    "pypi_tabulate",
    "pypi_tiktoken",
    "pypi_waitress"
  ]
}