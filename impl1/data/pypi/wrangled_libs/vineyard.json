{
  "classifiers": [
    "development status :: 5 - production/stable",
    "intended audience :: developers",
    "intended audience :: science/research",
    "license :: osi approved :: apache software license",
    "operating system :: macos :: macos x",
    "operating system :: posix",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: software development :: libraries",
    "topic :: system :: distributed computing"
  ],
  "description": "\n.. image:: https://v6d.io/_static/vineyard_logo.png\n   :target: https://v6d.io\n   :align: center\n   :alt: vineyard\n   :width: 397px\n\nvineyard: an in-memory immutable data manager\n---------------------------------------------\n\n|vineyard ci| |coverage| |docs| |faq| |discussion| |slack| |license| |cii best practices| |fossa|\n\n|pypi| |crates.io| |docker hub| |artifact hub| |acm dl|\n\nvineyard (v6d) is an innovative in-memory immutable data manager that offers **out-of-the-box\nhigh-level** abstractions and **zero-copy in-memory** sharing for distributed data in various\nbig data tasks, such as graph analytics (e.g., `graphscope`_), numerical computing\n(e.g., `mars`_), and machine learning.\n\n.. image:: https://v6d.io/_static/cncf-color.svg\n  :width: 400\n  :alt: vineyard is a cncf sandbox project\n\nvineyard is a `cncf sandbox project`_ and indeed made successful by its community.\n\ntable of contents\n-----------------\n\n* `overview <#what-is-vineyard>`_\n* `features of vineyard <#features>`_\n\n  * `efficient sharing for in-memory immutable data <#in-memory-immutable-data-sharing>`_\n  * `out-of-the-box high level data structures <#out-of-the-box-high-level-data-abstraction>`_\n  * `pipelining using stream <#stream-pipelining>`_\n  * `i/o drivers <#drivers>`_\n\n* `getting started with vineyard <#try-vineyard>`_\n* `deploying on kubernetes <#deploying-on-kubernetes>`_\n* `frequently asked questions <#faq>`_\n* `getting involved in our community <#getting-involved>`_\n* `third-party dependencies <#acknowledgements>`_\n\nwhat is vineyard\n----------------\n\nvineyard is specifically designed to facilitate zero-copy data sharing among big data systems. to\nillustrate this, let's consider a typical machine learning task of `time series prediction with lstm`_.\nthis task can be broken down into several steps:\n\n- first, we read the data from the file system as a ``pandas.dataframe``.\n- next, we apply various preprocessing tasks, such as eliminating null values, to the dataframe.\n- once the data is preprocessed, we define the model and train it on the processed dataframe using pytorch.\n- finally, we evaluate the performance of the model.\n\nin a single-machine environment, pandas and pytorch, despite being two distinct systems designed for\ndifferent tasks, can efficiently share data with minimal overhead. this is achieved through an\nend-to-end process within a single python script.\n\n.. image:: https://v6d.io/_static/vineyard_compare.png\n   :alt: comparing the workflow with and without vineyard\n\nwhat if the input data is too large to be processed on a single machine?\n\n   as depicted on the left side of the figure, a common approach is to store the data as tables in\n   a distributed file system (e.g., hdfs) and replace ``pandas`` with etl processes using sql over a\n   big data system such as hive and spark. to share the data with pytorch, the intermediate results are\n   typically saved back as tables on hdfs. however, this can introduce challenges for developers.\n\n1. for the same task, users must program for multiple systems (sql & python).\n\n2. data can be polymorphic. non-relational data, such as tensors, dataframes, and graphs/networks\n   (in `graphscope`_) are becoming increasingly common. tables and sql may not be the most efficient\n   way to store, exchange, or process them. transforming the data from/to \"tables\" between different\n   systems can result in significant overhead.\n\n3. saving/loading the data to/from external storage\n   incurs substantial memory-copies and io costs.\n\nvineyard addresses these issues by providing:\n\n1. **in-memory** distributed data sharing in a **zero-copy** fashion to avoid\n   introducing additional i/o costs by leveraging a shared memory manager derived from plasma.\n\n2. built-in **out-of-the-box high-level** abstractions to share distributed\n   data with complex structures (e.g., distributed graphs)\n   with minimal extra development cost, while eliminating transformation costs.\n\nas depicted on the right side of the above figure, we demonstrate how to integrate\nvineyard to address the task in a big data context.\n\nfirst, we utilize `mars`_ (a tensor-based unified framework for large-scale data\ncomputation that scales numpy, pandas, and scikit-learn) to preprocess the raw data,\nsimilar to the single-machine solution, and store the preprocessed dataframe in vineyard.\n\n+-------------+-----------------------------------------------------------------------------+\n|             | .. code-block:: python                                                      |\n| single      |                                                                             |\n|             |     data_csv = pd.read_csv('./data.csv', usecols=[1])                       |\n+-------------+-----------------------------------------------------------------------------+\n|             | .. code-block:: python                                                      |\n|             |                                                                             |\n|             |     import mars.dataframe as md                                             |\n| distributed |     dataset = md.read_csv('hdfs://server/data_full', usecols=[1])           |\n|             |     # after preprocessing, save the dataset to vineyard                     |\n|             |     vineyard_distributed_tensor_id = dataset.to_vineyard()                  |\n+-------------+-----------------------------------------------------------------------------+\n\nthen, we modify the\ntraining phase to get the preprocessed data from vineyard. here vineyard makes\nthe sharing of distributed data between `mars`_ and pytorch just like a local\nvariable in the single machine solution.\n\n+-------------+-----------------------------------------------------------------------------+\n|             | .. code-block:: python                                                      |\n| single      |                                                                             |\n|             |     data_x, data_y = create_dataset(dataset)                                |\n+-------------+-----------------------------------------------------------------------------+\n|             | .. code-block:: python                                                      |\n|             |                                                                             |\n|             |     client = vineyard.connect(vineyard_ipc_socket)                          |\n| distributed |     dataset = client.get(vineyard_distributed_tensor_id).local_partition()  |\n|             |     data_x, data_y = create_dataset(dataset)                                |\n+-------------+-----------------------------------------------------------------------------+\n\nfinally, we execute the training phase in a distributed manner across the cluster.\n\nfrom this example, it is evident that with vineyard, the task in the big data context can\nbe addressed with only minor adjustments to the single-machine solution. compared to\nexisting approaches, vineyard effectively eliminates i/o and transformation overheads.\n\nfeatures\n--------\n\nefficient in-memory immutable data sharing\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nvineyard serves as an in-memory immutable data manager, enabling efficient data\nsharing across different systems via shared memory without additional overheads.\nby eliminating serialization/deserialization and io costs during data exchange\nbetween systems, vineyard significantly improves performance.\n\nout-of-the-box high-level data abstractions\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ncomputation frameworks often have their own data abstractions for high-level concepts.\nfor example, tensors can be represented as `torch.tensor`, `tf.tensor`, `mxnet.ndarray`, etc.\nmoreover, every `graph processing engine <https://github.com/alibaba/graphscope>`_\nhas its unique graph structure representation.\n\nthe diversity of data abstractions complicates data sharing. vineyard addresses this\nissue by providing out-of-the-box high-level data abstractions over in-memory blobs,\nusing hierarchical metadata to describe objects. various computation systems can\nleverage these built-in high-level data abstractions to exchange data with other systems\nin a computation pipeline concisely and efficiently.\n\nstream pipelining for enhanced performance\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\na computation doesn't need to wait for all preceding results to arrive before starting\nits work. vineyard provides a stream as a special kind of immutable data for pipelining\nscenarios. the preceding job can write immutable data chunk by chunk to vineyard while\nmaintaining data structure semantics. the successor job reads shared-memory chunks from\nvineyard's stream without extra copy costs and triggers its work. this overlapping\nreduces the overall processing time and memory consumption.\n\nversatile drivers for common tasks\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nmany big data analytical tasks involve numerous boilerplate routines that are unrelated\nto the computation itself, such as various io adapters, data partition strategies, and\nmigration jobs. since data structure abstractions usually differ between systems, these\nroutines cannot be easily reused.\n\nvineyard provides common manipulation routines for immutable data as drivers.\nin addition to sharing high-level data abstractions, vineyard extends the capability\nof data structures with drivers, enabling out-of-the-box reusable routines for the\nboilerplate parts in computation jobs.\n\ntry vineyard\n------------\n\nvineyard is available as a `python package`_ and can be effortlessly installed using ``pip``:\n\n.. code:: shell\n\n   pip3 install vineyard\n\nfor comprehensive and up-to-date documentation, please visit https://v6d.io.\n\nif you wish to build vineyard from source, please consult the `installation`_ guide. for\ninstructions on building and running unittests locally, refer to the `contributing`_ section.\n\nafter installation, you can initiate a vineyard instance using the following command:\n\n.. code:: shell\n\n   python3 -m vineyard\n\nfor further details on connecting to a locally deployed vineyard instance, please\nexplore the `getting started`_ guide.\n\ndeploying on kubernetes\n-----------------------\n\nvineyard is designed to efficiently share immutable data between different workloads,\nmaking it a natural fit for cloud-native computing. by embracing cloud-native big data\nprocessing and kubernetes, vineyard enables efficient distributed data sharing in\ncloud-native environments while leveraging the scaling and scheduling capabilities\nof kubernetes.\n\nto effectively manage all components of vineyard within a kubernetes cluster, we have\ndeveloped the vineyard operator. for more information, please refer to the `vineyard\noperator`_ documentation.\n\nfaq\n---\n\nvineyard shares many similarities with other open-source projects, yet it also has\ndistinct features. we often receive the following questions about vineyard:\n\n* q: can clients access the data while the stream is being filled?\n\n  sharing one piece of data among multiple clients is a target scenario for vineyard,\n  as the data stored in vineyard is *immutable*. multiple clients can safely consume\n  the same piece of data through memory sharing, without incurring extra costs or\n  additional memory usage from copying data back and forth.\n\n* q: how does vineyard avoid serialization/deserialization between systems in different\n  languages?\n\n  vineyard provides high-level data abstractions (e.g., ndarrays, dataframes) that can\n  be naturally shared between different processes, eliminating the need for serialization\n  and deserialization between systems in different languages.\n\n* . . . . . .\n\nfor more detailed information, please refer to our `faq`_ page.\n\nget involved\n------------\n\n- join the `cncf slack`_ and participate in the ``#vineyard`` channel for discussions\n  and collaboration.\n- familiarize yourself with our `contribution guide`_ to understand the process of\n  contributing to vineyard.\n- if you encounter any bugs or issues, please report them by submitting a `github\n  issue`_ or engage in a conversation on `github discussion`_.\n- we welcome and appreciate your contributions! submit them using pull requests.\n\nthank you in advance for your valuable contributions to vineyard!\n\npublications\n------------\n\n- wenyuan yu, tao he, lei wang, ke meng, ye cao, diwen zhu, sanhong li, jingren zhou.\n  `vineyard: optimizing data sharing in data-intensive analytics <https://v6d.io/vineyard-sigmod-2023.pdf>`_.\n  acm sig conference on management of data (sigmod), industry, 2023. |acm dl|.\n\nif you use this software, please cite our paper using the following metadata:\n\n.. code:: bibtex\n\n   @article{yu2023vineyard,\n      author = {yu, wenyuan and he, tao and wang, lei and meng, ke and cao, ye and zhu, diwen and li, sanhong and zhou, jingren},\n      title = {vineyard: optimizing data sharing in data-intensive analytics},\n      year = {2023},\n      issue_date = {june 2023},\n      publisher = {association for computing machinery},\n      address = {new york, ny, usa},\n      volume = {1},\n      number = {2},\n      url = {https://doi.org/10.1145/3589780},\n      doi = {10.1145/3589780},\n      journal = {proc. acm manag. data},\n      month = {jun},\n      articleno = {200},\n      numpages = {27},\n      keywords = {data sharing, in-memory object store}\n   }\n\nacknowledgements\n----------------\n\nwe thank the following excellent open-source projects:\n\n- `apache-arrow <https://github.com/apache/arrow>`_, a cross-language development platform for in-memory analytics.\n- `boost-leaf <https://github.com/boostorg/leaf>`_, a c++ lightweight error augmentation framework.\n- `cityhash <https://github.com/google/cityhash>`_, cityhash, a family of hash functions for strings.\n- `dlmalloc <http://gee.cs.oswego.edu/dl/html/malloc.htmlp>`_, doug lea's memory allocator.\n- `etcd-cpp-apiv3 <https://github.com/etcd-cpp-apiv3/etcd-cpp-apiv3>`_, a c++ api for etcd's v3 client api.\n- `flat_hash_map <https://github.com/skarupke/flat_hash_map>`_, an efficient hashmap implementation.\n- `gulrak/filesystem <https://github.com/gulrak/filesystem>`_, an implementation of c++17 std::filesystem.\n- `libcuckoo <https://github.com/efficient/libcuckoo>`_, libcuckoo, a high-performance, concurrent hash table.\n- `mimalloc <https://github.com/microsoft/mimalloc>`_, a general purpose allocator with excellent performance characteristics.\n- `nlohmann/json <https://github.com/nlohmann/json>`_, a json library for modern c++.\n- `pybind11 <https://github.com/pybind/pybind11>`_, a library for seamless operability between c++11 and python.\n- `s3fs <https://github.com/dask/s3fs>`_, a library provide a convenient python filesystem interface for s3.\n- `skywalking-infra-e2e <https://github.com/apache/skywalking-infra-e2e>`_ a generation end-to-end testing framework.\n- `skywalking-swck <https://github.com/apache/skywalking-swck>`_ a kubernetes operator for the apache skywalking.\n- `wyhash <https://github.com/alainesp/wy>`_, c++ wrapper around wyhash and wyrand.\n- `bbhash <https://github.com/rizkg/bbhash>`_, a fast, minimal-memory perfect hash function.\n\nlicense\n-------\n\n**vineyard** is distributed under `apache license 2.0`_. please note that\nthird-party libraries may not have the same license as vineyard.\n\n|fossa status|\n\n.. _mars: https://github.com/mars-project/mars\n.. _graphscope: https://github.com/alibaba/graphscope\n.. _installation: https://github.com/v6d-io/v6d/blob/main/docs/notes/developers/build-from-source.rst\n.. _contributing: https://github.com/v6d-io/v6d/blob/main/contributing.rst\n.. _getting started: https://v6d.io/notes/getting-started.html\n.. _vineyard operator: https://v6d.io/notes/cloud-native/vineyard-operator.html\n.. _apache license 2.0: https://github.com/v6d-io/v6d/blob/main/license\n.. _contribution guide: https://github.com/v6d-io/v6d/blob/main/contributing.rst\n.. _time series prediction with lstm: https://github.com/l1aoxingyu/code-of-learn-deep-learning-with-pytorch/blob/master/chapter5_rnn/time-series/lstm-time-series.ipynb\n.. _python package: https://pypi.org/project/vineyard/\n.. _cncf slack: https://slack.cncf.io/\n.. _github issue: https://github.com/v6d-io/v6d/issues/new\n.. _github discussion: https://github.com/v6d-io/v6d/discussions/new\n.. _faq: https://v6d.io/notes/faq.html\n.. _cncf sandbox project: https://www.cncf.io/sandbox-projects/\n\n.. |vineyard ci| image:: https://github.com/v6d-io/v6d/actions/workflows/build-test.yml/badge.svg\n   :target: https://github.com/v6d-io/v6d/actions/workflows/build-test.yml\n.. |coverage| image:: https://codecov.io/gh/v6d-io/v6d/branch/main/graph/badge.svg\n   :target: https://codecov.io/gh/v6d-io/v6d\n.. |docs| image:: https://img.shields.io/badge/docs-latest-brightgreen.svg\n   :target: https://v6d.io\n.. |faq| image:: https://img.shields.io/badge/-faq-blue?logo=read%20the%20docs\n   :target: https://v6d.io/notes/faq.html\n.. |discussion| image:: https://img.shields.io/badge/discuss-ask%20questions-blue?logo=github\n   :target: https://github.com/v6d-io/v6d/discussions\n.. |slack| image:: https://img.shields.io/badge/slack-join%20%23vineyard-purple?logo=slack\n   :target: https://slack.cncf.io/\n.. |pypi| image:: https://img.shields.io/pypi/v/vineyard?color=blue\n   :target: https://pypi.org/project/vineyard\n.. |crates.io| image:: https://img.shields.io/crates/v/vineyard.svg\n   :target: https://crates.io/crates/vineyard\n.. |docker hub| image:: https://img.shields.io/badge/docker-ready-blue.svg\n   :target: https://hub.docker.com/u/vineyardcloudnative\n.. |artifact hub| image:: https://img.shields.io/endpoint?url=https://artifacthub.io/badge/repository/vineyard\n   :target: https://artifacthub.io/packages/helm/vineyard/vineyard\n.. |cii best practices| image:: https://bestpractices.coreinfrastructure.org/projects/4902/badge\n   :target: https://bestpractices.coreinfrastructure.org/projects/4902\n.. |fossa| image:: https://app.fossa.com/api/projects/git%2bgithub.com%2fv6d-io%2fv6d.svg?type=shield\n   :target: https://app.fossa.com/projects/git%2bgithub.com%2fv6d-io%2fv6d?ref=badge_shield\n.. |fossa status| image:: https://app.fossa.com/api/projects/git%2bgithub.com%2fv6d-io%2fv6d.svg?type=large\n   :target: https://app.fossa.com/projects/git%2bgithub.com%2fv6d-io%2fv6d?ref=badge_large\n.. |license| image:: https://img.shields.io/github/license/v6d-io/v6d\n   :target: https://github.com/v6d-io/v6d/blob/main/license\n\n.. |acm dl| image:: https://img.shields.io/badge/acm%20dl-10.1145%2f3589780-blue\n   :target: https://dl.acm.org/doi/10.1145/3589780\n",
  "docs_url": null,
  "keywords": "",
  "license": "apache license 2.0",
  "name": "vineyard",
  "package_url": "https://pypi.org/project/vineyard/",
  "project_url": "https://pypi.org/project/vineyard/",
  "project_urls": {
    "Documentation": "https://v6d.io",
    "Homepage": "https://v6d.io",
    "Source": "https://github.com/v6d-io/v6d",
    "Tracker": "https://github.com/v6d-io/v6d/issues"
  },
  "release_url": "https://pypi.org/project/vineyard/0.19.3/",
  "requires_dist": [
    "argcomplete",
    "click",
    "etcd-distro",
    "lazy-import",
    "makefun",
    "numpy >=1.18.5",
    "psutil",
    "pyarrow",
    "pyyaml",
    "setuptools",
    "sortedcontainers",
    "treelib",
    "vineyard-bdist ==0.19.3",
    "pandas <1.0.0 ; python_version < \"3.6\"",
    "pandas <1.2.0 ; python_version < \"3.7\"",
    "pickle5 ; python_version <= \"3.7\"",
    "shared-memory38 ; python_version <= \"3.7\"",
    "pandas >=1.0.0 ; python_version >= \"3.7\"",
    "black >=22.3.0 ; extra == 'dev'",
    "breathe ; extra == 'dev'",
    "docutils ==0.20.1 ; extra == 'dev'",
    "flake8 >=4.0.1 ; extra == 'dev'",
    "flake8-comprehensions ; extra == 'dev'",
    "flake8-logging-format ; extra == 'dev'",
    "furo ; extra == 'dev'",
    "isort >=5.10.1 ; extra == 'dev'",
    "jinja2 >=3.1.0 ; extra == 'dev'",
    "libclang ; extra == 'dev'",
    "linkify-it-py ; extra == 'dev'",
    "myst-parser >=0.13.0 ; extra == 'dev'",
    "nbsphinx ; extra == 'dev'",
    "pygments >=2.4.1 ; extra == 'dev'",
    "pytest ; extra == 'dev'",
    "pytest-benchmark ; extra == 'dev'",
    "pytest-cases ; extra == 'dev'",
    "pytest-datafiles ; extra == 'dev'",
    "pytest-timeout ; extra == 'dev'",
    "sphinx >=7.1.2 ; extra == 'dev'",
    "sphinx-copybutton ; extra == 'dev'",
    "sphinx-panels ; extra == 'dev'",
    "sphinxemoji ; extra == 'dev'",
    "sphinxext-opengraph ; extra == 'dev'",
    "scipy ; extra == 'extra'",
    "polars ; extra == 'extra'",
    "kubernetes ; extra == 'kubernetes'"
  ],
  "requires_python": "",
  "summary": "an in-memory immutable data manager",
  "version": "0.19.3",
  "releases": [],
  "developers": [
    "developers@v6d.io",
    "the_vineyard_team"
  ],
  "kwds": "vineyardcloudnative vineyard vineyard_compare to_vineyard _vineyard",
  "license_kwds": "apache license 2.0",
  "libtype": "pypi",
  "id": "pypi_vineyard",
  "homepage": "https://v6d.io",
  "release_count": 115,
  "dependency_ids": [
    "pypi_argcomplete",
    "pypi_black",
    "pypi_breathe",
    "pypi_click",
    "pypi_docutils",
    "pypi_etcd_distro",
    "pypi_flake8",
    "pypi_flake8_comprehensions",
    "pypi_flake8_logging_format",
    "pypi_furo",
    "pypi_isort",
    "pypi_jinja2",
    "pypi_kubernetes",
    "pypi_lazy_import",
    "pypi_libclang",
    "pypi_linkify_it_py",
    "pypi_makefun",
    "pypi_myst_parser",
    "pypi_nbsphinx",
    "pypi_numpy",
    "pypi_pandas",
    "pypi_pickle5",
    "pypi_polars",
    "pypi_psutil",
    "pypi_pyarrow",
    "pypi_pygments",
    "pypi_pytest",
    "pypi_pytest_benchmark",
    "pypi_pytest_cases",
    "pypi_pytest_datafiles",
    "pypi_pytest_timeout",
    "pypi_pyyaml",
    "pypi_scipy",
    "pypi_setuptools",
    "pypi_shared_memory38",
    "pypi_sortedcontainers",
    "pypi_sphinx",
    "pypi_sphinx_copybutton",
    "pypi_sphinx_panels",
    "pypi_sphinxemoji",
    "pypi_sphinxext_opengraph",
    "pypi_treelib",
    "pypi_vineyard_bdist"
  ]
}