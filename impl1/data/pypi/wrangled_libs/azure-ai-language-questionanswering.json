{
  "classifiers": [
    "development status :: 5 - production/stable",
    "license :: osi approved :: mit license",
    "programming language :: python",
    "programming language :: python :: 3",
    "programming language :: python :: 3 :: only",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "# azure cognitive language service question answering client library for python\n\nquestion answering is a cloud-based api service that lets you create a conversational question-and-answer layer over your existing data. use it to build a knowledge base by extracting questions and answers from your semi-structured content, including faq, manuals, and documents. answer users\u2019 questions with the best answers from the qnas in your knowledge base\u2014automatically. your knowledge base gets smarter, too, as it continually learns from users' behavior.\n\n[source code][questionanswering_client_src] | [package (pypi)][questionanswering_pypi_package] | [api reference documentation][questionanswering_refdocs] | [product documentation][questionanswering_docs] | [samples][questionanswering_samples]\n\n## _disclaimer_\n\n_azure sdk python packages support for python 2.7 ended 01 january 2022. for more information and questions, please refer to https://github.com/azure/azure-sdk-for-python/issues/20691_\n\n## getting started\n\n### prerequisites\n\n- python 3.7 or later is required to use this package.\n- an [azure subscription][azure_subscription]\n- a [language service][language_service] resource\n\n### install the package\n\ninstall the azure question answering client library for python with [pip][pip_link]:\n\n```bash\npip install azure-ai-language-questionanswering\n```\n\n> note: this version of the client library defaults to the service api version `2021-10-01`.\n\n### authenticate the client\n\nin order to interact with the question answering service, you'll need to create an instance of the [questionansweringclient][questionanswering_client_class] class or an instance of the [authoringclient][authoring_client_class] for managing projects within your resource. you will need an **endpoint**, and an **api key** to instantiate a client object. for more information regarding authenticating with cognitive services, see [authenticate requests to azure cognitive services][cognitive_auth].\n\n#### get an api key\n\nyou can get the **endpoint** and an **api key** from the language resource in the [azure portal][azure_portal].\n\nalternatively, use the [azure cli][azure_cli] command shown below to get the api key from the language resource.\n\n```powershell\naz cognitiveservices account keys list --resource-group <resource-group-name> --name <resource-name>\n```\n\n#### create questionansweringclient\n\nonce you've determined your **endpoint** and **api key** you can instantiate a [questionansweringclient][questionanswering_client_class]:\n\n```python\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering import questionansweringclient\n\nendpoint = \"https://{myaccount}.api.cognitive.microsoft.com\"\ncredential = azurekeycredential(\"{api-key}\")\n\nclient = questionansweringclient(endpoint, credential)\n```\n\n#### create authoringclient\nwith your endpoint and api key, you can instantiate a [authoringclient][authoring_client_class]:\n\n```python\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering.authoring import authoringclient\n\nendpoint = \"https://{myaccount}.api.cognitive.microsoft.com\"\ncredential = azurekeycredential(\"{api-key}\")\n\nclient = authoringclient(endpoint, credential)\n```\n\n#### create a client with an azure active directory credential\n\nto use an [azure active directory (aad) token credential][cognitive_authentication_aad],\nprovide an instance of the desired credential type obtained from the\n[azure-identity][azure_identity_credentials] library.\nnote that regional endpoints do not support aad authentication. create a [custom subdomain][custom_subdomain]\nname for your resource in order to use this type of authentication.\n\nauthentication with aad requires some initial setup:\n\n- [install azure-identity][install_azure_identity]\n- [register a new aad application][register_aad_app]\n- [grant access][grant_role_access] to the language service by assigning the \"cognitive services language reader\" role to your service principal.\n\nafter setup, you can choose which type of [credential][azure_identity_credentials] from azure.identity to use.\nas an example, [defaultazurecredential][default_azure_credential]\ncan be used to authenticate the client:\n\nset the values of the client id, tenant id, and client secret of the aad application as environment variables:\n`azure_client_id`, `azure_tenant_id`, `azure_client_secret`\n\nuse the returned token credential to authenticate the client:\n\n```python\nfrom azure.ai.language.questionanswering import questionansweringclient\nfrom azure.identity import defaultazurecredential\n\ncredential = defaultazurecredential()\nclient = questionansweringclient(endpoint=\"https://<my-custom-subdomain>.cognitiveservices.azure.com/\", credential=credential)\n```\n\n## key concepts\n\n### questionansweringclient\n\nthe [questionansweringclient][questionanswering_client_class] is the primary interface for asking questions using a knowledge base with your own information, or text input using pre-trained models.\nfor asynchronous operations, an async `questionansweringclient` is in the `azure.ai.language.questionanswering.aio` namespace.\n\n### authoringclient\nthe [authoringclient][authoring_client_class] provides an interface for managing question answering projects. examples of the available operations include creating and deploying projects, updating your knowledge sources, and updating question and answer pairs. it provides both synchronous and asynchronous apis.\n\n## examples\n\n### questionansweringclient\nthe `azure-ai-language-questionanswering` client library provides both synchronous and asynchronous apis.\n\n- [ask a question](#ask-a-question \"ask a question\")\n- [ask a follow-up question](#ask-a-follow-up-question \"ask a follow-up question\")\n- [create a new project](#create-a-new-project \"create a new project\")\n- [add a knowledge source](#add-a-knowledge-source \"add a knowledge source\")\n- [deploy your project](#deploy-your-project \"deploy your project\")\n- [asynchronous operations](#asynchronous-operations \"asynchronous operations\")\n\n#### ask a question\n\nthe only input required to ask a question using a knowledge base is just the question itself:\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering import questionansweringclient\n\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\nclient = questionansweringclient(endpoint, azurekeycredential(key))\n\noutput = client.get_answers(\n    question=\"how long should my surface battery last?\",\n    project_name=\"faq\",\n    deployment_name=\"test\"\n)\nfor candidate in output.answers:\n    print(\"({}) {}\".format(candidate.confidence, candidate.answer))\n    print(\"source: {}\".format(candidate.source))\n\n```\n\nyou can set additional keyword options to limit the number of answers, specify a minimum confidence score, and more.\n\n#### ask a follow-up question\n\nif your knowledge base is configured for [chit-chat][questionanswering_docs_chat], the answers from the knowledge base may include suggested [prompts for follow-up questions][questionanswering_refdocs_prompts] to initiate a conversation. you can ask a follow-up question by providing the id of your chosen answer as the context for the continued conversation:\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering import questionansweringclient\nfrom azure.ai.language.questionanswering import models\n\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\nclient = questionansweringclient(endpoint, azurekeycredential(key))\n\noutput = client.get_answers(\n    question=\"how long should charging take?\",\n    answer_context=models.knowledgebaseanswercontext(\n        previous_qna_id=previous_answer.qna_id\n    ),\n    project_name=\"faq\",\n    deployment_name=\"live\"\n)\nfor candidate in output.answers:\n    print(\"({}) {}\".format(candidate.confidence, candidate.answer))\n    print(\"source: {}\".format(candidate.source))\n```\n\n#### create a new project\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering.authoring import authoringclient\n\n# get service secrets\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\n# create client\nclient = authoringclient(endpoint, azurekeycredential(key))\nwith client:\n\n    # create project\n    project_name = \"issacnewton\"\n    project = client.create_project(\n        project_name=project_name,\n        options={\n            \"description\": \"biography of sir issac newton\",\n            \"language\": \"en\",\n            \"multilingualresource\": true,\n            \"settings\": {\n                \"defaultanswer\": \"no answer\"\n            }\n        })\n\n    print(\"view created project info:\")\n    print(\"\\tname: {}\".format(project[\"projectname\"]))\n    print(\"\\tlanguage: {}\".format(project[\"language\"]))\n    print(\"\\tdescription: {}\".format(project[\"description\"]))\n```\n\n#### add a knowledge source\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering.authoring import authoringclient\n\n# get service secrets\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\n# create client\nclient = authoringclient(endpoint, azurekeycredential(key))\n\nproject_name = \"issacnewton\"\nupdate_sources_poller = client.begin_update_sources(\n    project_name=project_name,\n    sources=[\n        {\n            \"op\": \"add\",\n            \"value\": {\n                \"displayname\": \"issac newton bio\",\n                \"sourceuri\": \"https://wikipedia.org/wiki/isaac_newton\",\n                \"sourcekind\": \"url\"\n            }\n        }\n    ]\n)\nupdate_sources_poller.result()\n\n# list sources\nprint(\"list project sources\")\nsources = client.list_sources(\n    project_name=project_name\n)\nfor source in sources:\n    print(\"project: {}\".format(source[\"displayname\"]))\n    print(\"\\tsource: {}\".format(source[\"source\"]))\n    print(\"\\tsource uri: {}\".format(source[\"sourceuri\"]))\n    print(\"\\tsource kind: {}\".format(source[\"sourcekind\"]))\n```\n\n#### deploy your project\n\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering.authoring import authoringclient\n\n# get service secrets\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\n# create client\nclient = authoringclient(endpoint, azurekeycredential(key))\n\nproject_name = \"issacnewton\"\n\n# deploy project\ndeployment_poller = client.begin_deploy_project(\n    project_name=project_name,\n    deployment_name=\"production\"\n)\ndeployment_poller.result()\n\n# list all deployments\ndeployments = client.list_deployments(\n    project_name=project_name\n)\n\nprint(\"view project deployments\")\nfor d in deployments:\n    print(d)\n```\n\n#### asynchronous operations\n\nthe above examples can also be run asynchronously using the clients in the `aio` namespace:\n\n```python\nimport os\nfrom azure.core.credentials import azurekeycredential\nfrom azure.ai.language.questionanswering.aio import questionansweringclient\n\nendpoint = os.environ[\"azure_questionanswering_endpoint\"]\nkey = os.environ[\"azure_questionanswering_key\"]\n\nclient = questionansweringclient(endpoint, azurekeycredential(key))\n\noutput = await client.get_answers(\n    question=\"how long should my surface battery last?\",\n    project_name=\"faq\",\n    deployment_name=\"production\"\n)\n```\n\n## optional configuration\n\noptional keyword arguments can be passed in at the client and per-operation level. the azure-core [reference documentation][azure_core_ref_docs] describes available configurations for retries, logging, transport protocols, and more.\n\n## troubleshooting\n\n### general\n\nazure question answering clients raise exceptions defined in [azure core][azure_core_readme].\nwhen you interact with the cognitive language service question answering client library using the python sdk, errors returned by the service correspond to the same http status codes returned for [rest api][questionanswering_rest_docs] requests.\n\nfor example, if you submit a question to a non-existent knowledge base, a `400` error is returned indicating \"bad request\".\n\n```python\nfrom azure.core.exceptions import httpresponseerror\n\ntry:\n    client.get_answers(\n        question=\"why?\",\n        project_name=\"invalid-knowledge-base\",\n        deployment_name=\"test\"\n    )\nexcept httpresponseerror as error:\n    print(\"query failed: {}\".format(error.message))\n```\n\n### logging\n\nthis library uses the standard\n[logging][python_logging] library for logging.\nbasic information about http sessions (urls, headers, etc.) is logged at info\nlevel.\n\ndetailed debug level logging, including request/response bodies and unredacted\nheaders, can be enabled on a client with the `logging_enable` argument.\n\nsee full sdk logging documentation with examples [here][sdk_logging_docs].\n\n## next steps\n\n- view our [samples][questionanswering_samples].\n- read about the different [features][questionanswering_docs_features] of the question answering service.\n- try our service [demos][questionanswering_docs_demos].\n\n## contributing\n\nsee the [contributing.md][contributing] for details on building, testing, and contributing to this library.\n\nthis project welcomes contributions and suggestions. most contributions require you to agree to a contributor license agreement (cla) declaring that you have the right to, and actually do, grant us the rights to use your contribution. for details, visit [cla.microsoft.com][cla].\n\nwhen you submit a pull request, a cla-bot will automatically determine whether you need to provide a cla and decorate the pr appropriately (e.g., label, comment). simply follow the instructions provided by the bot. you will only need to do this once across all repos using our cla.\n\nthis project has adopted the [microsoft open source code of conduct][code_of_conduct]. for more information see the [code of conduct faq][coc_faq] or contact [opencode@microsoft.com][coc_contact] with any additional questions or comments.\n\n<!-- links -->\n\n[azure_cli]: https://docs.microsoft.com/cli/azure/\n[azure_portal]: https://portal.azure.com/\n[azure_subscription]: https://azure.microsoft.com/free/\n[language_service]: https://ms.portal.azure.com/#create/microsoft.cognitiveservicestextanalytics\n[cla]: https://cla.microsoft.com\n[coc_contact]: mailto:opencode@microsoft.com\n[coc_faq]: https://opensource.microsoft.com/codeofconduct/faq/\n[code_of_conduct]: https://opensource.microsoft.com/codeofconduct/\n[cognitive_auth]: https://docs.microsoft.com/azure/cognitive-services/authentication/\n[contributing]: https://github.com/azure/azure-sdk-for-python/blob/main/contributing.md\n[python_logging]: https://docs.python.org/3/library/logging.html\n[sdk_logging_docs]: https://docs.microsoft.com/azure/developer/python/azure-sdk-logging\n[azure_core_ref_docs]: https://azuresdkdocs.blob.core.windows.net/$web/python/azure-core/latest/azure.core.html\n[azure_core_readme]: https://github.com/azure/azure-sdk-for-python/blob/main/sdk/core/azure-core/readme.md\n[pip_link]: https://pypi.org/project/pip/\n[questionanswering_client_class]: https://azuresdkdocs.blob.core.windows.net/$web/python/azure-ai-language-questionanswering/latest/azure.ai.language.questionanswering.html#azure.ai.language.questionanswering.questionansweringclient\n[authoring_client_class]: https://aka.ms/azsdk/python/questionansweringauthoringclient\n[questionanswering_refdocs_prompts]: https://azuresdkdocs.blob.core.windows.net/$web/python/azure-ai-language-questionanswering/latest/azure.ai.language.questionanswering.models.html#azure.ai.language.questionanswering.models.knowledgebaseanswerdialog\n[questionanswering_client_src]: https://github.com/azure/azure-sdk-for-python/tree/main/sdk/cognitivelanguage/azure-ai-language-questionanswering/\n[questionanswering_docs]: https://azure.microsoft.com/services/cognitive-services/qna-maker/\n[questionanswering_docs_chat]: https://docs.microsoft.com/azure/cognitive-services/qnamaker/how-to/chit-chat-knowledge-base\n[questionanswering_docs_demos]: https://azure.microsoft.com/services/cognitive-services/qna-maker/#demo\n[questionanswering_docs_features]: https://azure.microsoft.com/services/cognitive-services/qna-maker/#features\n[questionanswering_pypi_package]: https://pypi.org/project/azure-ai-language-questionanswering/\n[questionanswering_refdocs]: https://azuresdkdocs.blob.core.windows.net/$web/python/azure-ai-language-questionanswering/latest/azure.ai.language.questionanswering.html\n[questionanswering_rest_docs]: https://learn.microsoft.com/rest/api/cognitiveservices/questionanswering/question-answering\n[questionanswering_samples]: https://github.com/azure/azure-sdk-for-python/tree/main/sdk/cognitivelanguage/azure-ai-language-questionanswering/samples/readme.md\n[cognitive_authentication_aad]: https://docs.microsoft.com/azure/cognitive-services/authentication#authenticate-with-azure-active-directory\n[azure_identity_credentials]: https://github.com/azure/azure-sdk-for-python/tree/main/sdk/identity/azure-identity#credentials\n[custom_subdomain]: https://docs.microsoft.com/azure/cognitive-services/authentication#create-a-resource-with-a-custom-subdomain\n[install_azure_identity]: https://github.com/azure/azure-sdk-for-python/tree/main/sdk/identity/azure-identity#install-the-package\n[register_aad_app]: https://docs.microsoft.com/azure/cognitive-services/authentication#assign-a-role-to-a-service-principal\n[grant_role_access]: https://docs.microsoft.com/azure/cognitive-services/authentication#assign-a-role-to-a-service-principal\n[default_azure_credential]: https://github.com/azure/azure-sdk-for-python/tree/main/sdk/identity/azure-identity#defaultazurecredential\n\n![impressions](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-python%2fsdk%2ftemplate%2fazure-template%2freadme.png)\n",
  "docs_url": null,
  "keywords": "",
  "license": "mit license",
  "name": "azure-ai-language-questionanswering",
  "package_url": "https://pypi.org/project/azure-ai-language-questionanswering/",
  "project_url": "https://pypi.org/project/azure-ai-language-questionanswering/",
  "project_urls": {
    "Bug Reports": "https://github.com/Azure/azure-sdk-for-python/issues",
    "Homepage": "https://github.com/Azure/azure-sdk-for-python",
    "Source": "https://github.com/Azure/azure-sdk-python"
  },
  "release_url": "https://pypi.org/project/azure-ai-language-questionanswering/1.1.0/",
  "requires_dist": [
    "azure-core (<2.0.0,>=1.24.0)",
    "isodate (<1.0.0,>=0.6.1)"
  ],
  "requires_python": ">=3.7",
  "summary": "microsoft azure question answering client library for python",
  "version": "1.1.0",
  "releases": [],
  "developers": [
    "azuresdkengsysadmins@microsoft.com",
    "microsoft_corporation"
  ],
  "kwds": "azure_questionanswering_endpoint azure_questionanswering_key azuresdkdocs _azure azure",
  "license_kwds": "mit license",
  "libtype": "pypi",
  "id": "pypi_azure_ai_language_questionanswering",
  "homepage": "https://github.com/azure/azure-sdk-for-python",
  "release_count": 6,
  "dependency_ids": [
    "pypi_azure_core",
    "pypi_isodate"
  ]
}