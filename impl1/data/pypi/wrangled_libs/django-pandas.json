{
  "classifiers": [
    "development status :: 3 - alpha",
    "environment :: web environment",
    "framework :: django",
    "intended audience :: developers",
    "license :: osi approved :: bsd license",
    "operating system :: os independent",
    "programming language :: python",
    "programming language :: python :: 2.7",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.3",
    "programming language :: python :: 3.4",
    "programming language :: python :: 3.6",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9"
  ],
  "description": "==============\ndjango pandas\n==============\n   \n.. image:: https://github.com/chrisdev/django-pandas/actions/workflows/test.yml/badge.svg\n   :target: https://github.com/chrisdev/django-pandas/actions/workflows/test.yml\n\n.. image:: https://coveralls.io/repos/chrisdev/django-pandas/badge.png?branch=master\n   :target: https://coveralls.io/r/chrisdev/django-pandas\n\ntools for working with `pandas <http://pandas.pydata.org>`_ in your django\nprojects\n\ncontributors\n============\n* `christopher clarke <https://github.com/chrisdev>`_\n* `bertrand bordage <https://github.com/bertrandbordage>`_\n* `guillaume thomas <https://github.com/gtnx>`_\n* `parbhat puri  <https://parbhatpuri.com/>`_\n* `fredrik burman (coachhippo) <https://www.coachhippo.com>`_\n* `safe hammad <http://safehammad.com>`_\n* `jeff sternber <https://www.linkedin.com/in/jeffsternberg>`_\n* `@middlefork <https://github.com/middlefork>`_\n* `daniel andrlik <https://github.com/andrlik>`_\n* `kevin abbot <https://github.com/kgabbott>`_\n* `yousuf jawwad <https://github.com/ysfjwd>`_\n* `@henhuy <https://github.com/henhuy>`_\n* `h\u00e9lio meira lins <https://github.com/meiralins>`_\n* `@utpyngo <https://github.com/utpyngo>`_\n* `anthony monthe <https://github.com/zulupro>`_\n* `vincent toupet <https://github.com/vtoupet>`_\n* `anton ian sipos <https://github.com/aisipos>`_\n* `thomas grainger <https://github.com/graingert/>`_\n\nwhat's new\n===========\nversion 0.6.5 added support for pandas >= 1.3\nand fixes a number of other issues.\n\ndependencies\n=============\n``django-pandas`` supports `django`_ (>=1.4.5) or later\nand requires `django-model-utils`_ (>= 1.4.0) and `pandas`_ (>= 0.12.0).\n**note** because of problems with the ``requires`` directive of setuptools\nyou probably need to install ``numpy`` in your virtualenv  before you install\nthis package or if you want to run the test suite ::\n\n    pip install numpy\n    pip install -e .[test]\n    python runtests.py\n\nsome ``pandas`` functionality requires parts of the scipy stack.\nyou may wish to consult http://www.scipy.org/install.html\nfor more information on installing the ``scipy`` stack.\n\nyou need to install your preferred version of django.\nas that django 2 does not support python 2.\n\n\n.. _django: http://djangoproject.com/\n.. _django-model-utils: http://pypi.python.org/pypi/django-model-utils\n.. _pandas: http://pandas.pydata.org\n\ncontributing\n============\n\nplease file bugs and send pull requests to the `github repository`_ and `issue\ntracker`_.\n\n.. _github repository: https://github.com/chrisdev/django-pandas/\n.. _issue tracker: https://github.com/chrisdev/django-pandas/issues\n\n\ninstallation\n=============\nstart by creating a new ``virtualenv`` for your project ::\n\n    mkvirtualenv myproject\n\nnext install ``numpy`` and ``pandas`` and optionally ``scipy`` ::\n\n    pip install numpy\n    pip install pandas\n\nyou may want to consult  the `scipy documentation`_ for more information\non installing the ``scipy`` stack.\n\n.. _scipy documentation: http://www.scipy.org/install.html\n\nfinally, install ``django-pandas`` using ``pip``::\n\n    pip install django-pandas\n\nor install the development version from ``github`` ::\n\n    pip install https://github.com/chrisdev/django-pandas/tarball/master\n\nusage\n======\n\n\nio module\n----------\nthe ``django-pandas.io`` module provides some convenience methods to\nfacilitate the creation of dataframes from django querysets.\n\nread_frame\n^^^^^^^^^^^\n\n**parameters**\n\n    - qs: a django queryset.\n\n    - fieldnames: a list of model field names to use in creating the ``dataframe``.\n                  you can span a relationship in the usual django way\n                  by using  double underscores to specify a related field\n                  in another model\n\n    - index_col: use specify the field name to use  for the ``dataframe`` index.\n                 if the index\n                 field is not in the field list it will be appended\n\n    - coerce_float : boolean, defaults to true\n                     attempt to convert values to non-string,\n                     non-numeric objects (like decimal.decimal)\n                     to floating point.\n\n    - verbose:  if  this is ``true`` then populate the dataframe with the\n                human readable versions of any foreign key or choice fields\n                else use the actual values set in the model.\n\n    - column_names: if not none, use to override the column names in the\n                    dateframe\n\nexamples\n^^^^^^^^^\nassume that this is your model::\n\n    class mymodel(models.model):\n\n        full_name = models.charfield(max_length=25)\n        age = models.integerfield()\n        department = models.charfield(max_length=3)\n        wage = models.floatfield()\n\nfirst create a query set::\n\n    from django_pandas.io import read_frame\n    qs = mymodel.objects.all()\n\nto create a dataframe using all the fields in the underlying model ::\n\n    df = read_frame(qs)\n\nthe `df` will contain human readable column values for foreign key and choice\nfields. the `dataframe` will include all the fields in the underlying\nmodel including the primary key.\nto create a dataframe using specified field names::\n\n     df = read_frame(qs, fieldnames=['age', 'wage', 'full_name'])\n\nto set ``full_name`` as the ``dataframe`` index ::\n\n    qs.to_dataframe(['age', 'wage'], index_col='full_name'])\n\nyou can use filters and excludes ::\n\n    qs.filter(age__gt=20, department='it').to_dataframe(index_col='full_name')\n\n\ndataframemanager\n-----------------\n``django-pandas`` provides a custom manager to use with models that\nyou want to render as pandas dataframes. the ``dataframemanager``\nmanager provides the ``to_dataframe`` method that returns\nyour models queryset as a pandas dataframe. to use the dataframemanager, first\noverride the default manager (`objects`) in your model's definition\nas shown in the example below ::\n\n    #models.py\n\n    from django_pandas.managers import dataframemanager\n\n    class mymodel(models.model):\n\n        full_name = models.charfield(max_length=25)\n        age = models.integerfield()\n        department = models.charfield(max_length=3)\n        wage = models.floatfield()\n\n        objects = dataframemanager()\n\n\nthis will give you access to the following queryset methods:\n\n    - ``to_dataframe``\n    - ``to_timeseries``\n    - ``to_pivot_table``\n\nto_dataframe\n^^^^^^^^^^^^^\n\nreturns a dataframe from the queryset\n\n**parameters**\n\n    - fieldnames:  the model field names to utilise in creating the frame.\n                to span a relationship, use the field name of related\n                fields across models, separated by double underscores,\n\n\n    - index: specify the field to use  for the index. if the index\n                field is not in the field list it will be appended\n\n    - coerce_float: attempt to convert the numeric non-string data\n                    like object, decimal etc. to float if possible\n\n    - verbose:  if  this is ``true`` then populate the dataframe with the\n                human readable versions of any foreign key or choice fields\n                else use the actual value set in the model.\n\nexamples\n^^^^^^^^^\n\ncreate a dataframe using all the fields  in your model as follows ::\n\n    qs = mymodel.objects.all()\n\n    df = qs.to_dataframe()\n\nthis will include your primary key. to create a dataframe using specified\nfield names::\n\n     df = qs.to_dataframe(fieldnames=['age', 'department', 'wage'])\n\nto set ``full_name`` as the index ::\n\n    qs.to_dataframe(['age', 'department', 'wage'], index='full_name'])\n\nyou can use filters and excludes ::\n\n    qs.filter(age__gt=20, department='it').to_dataframe(index='full_name')\n\nto_timeseries\n--------------\n\na convenience method for creating a time series i.e the\ndataframe index is instance of a datetime or periodindex\n\n**parameters**\n\n    - fieldnames:  the model field names to utilise in creating the frame.\n        to span a relationship, just use the field name of related\n        fields across models, separated by double underscores,\n\n    - index: specify the field to use  for the index. if the index\n        field is not in the field list it will be appended. this\n        is mandatory.\n\n    - storage:  specify if the queryset uses the `wide` or `long` format\n        for data.\n\n    -  pivot_columns: required once the you specify `long` format\n        storage. this could either be a list or string identifying\n        the field name or combination of field. if the pivot_column\n        is a single column then the unique values in this column become\n        a new columns in the dataframe\n        if the pivot column is a list the values in these columns are\n        concatenated (using the '-' as a separator)\n        and these values are used for the new timeseries columns\n\n    - values: also required if you utilize the `long` storage the\n        values column name is use for populating new frame values\n\n    - freq: the offset string or object representing a target conversion\n\n    - rs_kwargs: arguments based on pandas.dataframe.resample\n\n    - verbose:  if  this is ``true`` then populate the dataframe with the\n                human readable versions of any foreign key or choice fields\n                else use the actual value set in the model.\n\nexamples\n^^^^^^^^^\n\nusing a *long* storage format ::\n\n    #models.py\n\n    class longtimeseries(models.model):\n        date_ix = models.datetimefield()\n        series_name = models.charfield(max_length=100)\n        value = models.floatfield()\n\n        objects = dataframemanager()\n\nsome sample data:::\n\n    ========   =====       =====\n    date_ix    series_name value\n    ========   =====       ======\n    2010-01-01  gdp        204699\n\n    2010-01-01  inflation  2.0\n\n    2010-01-01  wages      100.7\n\n    2010-02-01  gdp        204704\n\n    2010-02-01  inflation  2.4\n\n    2010-03-01  wages      100.4\n\n    2010-02-01  gdp        205966\n\n    2010-02-01  inflation  2.5\n\n    2010-03-01  wages      100.5\n    ==========  ========== ======\n\n\ncreate a queryset ::\n\n    qs = longtimeseries.objects.filter(date_ix__year__gte=2010)\n\ncreate a timeseries dataframe ::\n\n    df = qs.to_timeseries(index='date_ix',\n                          pivot_columns='series_name',\n                          values='value',\n                          storage='long')\n    df.head()\n\n    date_ix      gdp     inflation     wages\n\n    2010-01-01   204966     2.0       100.7\n\n    2010-02-01   204704      2.4       100.4\n\n    2010-03-01   205966      2.5       100.5\n\n\nusing a *wide* storage format ::\n\n    class widetimeseries(models.model):\n        date_ix = models.datetimefield()\n        col1 = models.floatfield()\n        col2 = models.floatfield()\n        col3 = models.floatfield()\n        col4 = models.floatfield()\n\n        objects = dataframemanager()\n\n    qs = widetimeseries.objects.all()\n\n    rs_kwargs = {'how': 'sum', 'kind': 'period'}\n    df = qs.to_timeseries(index='date_ix', pivot_columns='series_name',\n                          values='value', storage='long',\n                          freq='m', rs_kwargs=rs_kwargs)\n\nto_pivot_table\n--------------\na convenience method for creating a pivot table from a queryset\n\n**parameters**\n\n   - fieldnames:  the model field names to utilise in creating the frame.\n        to span a relationship, just use the field name of related\n        fields across models, separated by double underscores,\n   - values : column to aggregate, optional\n   - rows : list of column names or arrays to group on\n        keys to group on the x-axis of the pivot table\n   - cols : list of column names or arrays to group on\n        keys to group on the y-axis of the pivot table\n   - aggfunc : function, default numpy.mean, or list of functions\n        if list of functions passed, the resulting pivot table will have\n        hierarchical columns whose top level are the function names\n        (inferred from the function objects themselves)\n   - fill_value : scalar, default none\n        value to replace missing values with\n   - margins : boolean, default false\n        add all row / columns (e.g. for subtotal / grand totals)\n   - dropna : boolean, default true\n\n**example**\n::\n\n    # models.py\n    class pivotdata(models.model):\n        row_col_a = models.charfield(max_length=15)\n        row_col_b = models.charfield(max_length=15)\n        row_col_c = models.charfield(max_length=15)\n        value_col_d = models.floatfield()\n        value_col_e = models.floatfield()\n        value_col_f = models.floatfield()\n\n        objects = dataframemanager()\n\nusage ::\n\n        rows = ['row_col_a', 'row_col_b']\n        cols = ['row_col_c']\n\n        pt = qs.to_pivot_table(values='value_col_d', rows=rows, cols=cols)\n\n\n.. end-here\n\n\nchanges\n========\n0.6.6 (2012-10-27)\n------------------\nthe main feature of this is release in the use of a gha to\nautomate the publishing of the package to pypi as per pr `#146`_\n(again much thanks @graingert). several other minor issues have also\nbeen addressed.\n\n.. _`#146`: https://github.com/chrisdev/django-pandas/pull/146\n\n0.6.5 (2021-10-15)\n------------------\nthis version added support for pandas >=1.3 (thanks to @graingert)\n\nother changes:\n\n*  migrated from travis to github actions for ci (also @graingert)\n\n* avoid the use of deprecated methods `#139`_ and `#142`_ (again much thanks @graingert)\n\n* fix for issue `#135`_ (thanks @yonimdo)\n\n* silence django 3.2 errors on testing on etc. `#133`_ thanks @whyscream.\n\n.. _`#139`: https://github.com/chrisdev/django-pandas/issues/135\n.. _`#142`: https://github.com/chrisdev/django-pandas/issues/142\n.. _`#135`: https://github.com/chrisdev/django-pandas/issues/135\n.. _`#133`: https://github.com/chrisdev/django-pandas/issues/133\n\n0.6.4 (2021-02-08)\n------------------\nbumped version number as the previous release was incorrectly uploaded\nto pypi\n\n0.6.1 (2020-05-26)\n------------------\nsupports the latest release of pandas 1.0.3\n\n0.6.0 (2019-01-11)\n------------------\nremoves compatibility with django versions < 1.8\n\n\n0.5.2 (2019-01-3)\n-----------------\n**this is the last version that supports django < 1.8**\n\n- improved coerce_float option (thanks @zulupro )\n- ensure compatibility with legacy versions of django ( < 1.8)\n- test pass with django 2+ and python 3.7\n\n0.5.1 (2018-01-26)\n-------------------\n- address unicode decode error when installing with pip3 on docker (thanks @utapyngo)\n\n0.5.0 (2018-01-20)\n------------------\n- django 2.0 compatibility (thanks @meirains)\n\n0.4.5 (2017-10-4)\n-----------------\n- a fix for fieldname deduplication bug thanks to @kgabbott\n\n0.4.4 (2017-07-16)\n-------------------\n- the `verbose` argument now handles more use cases (thanks to @henhuy and\n  kevin abbott)\n- corece float argument add to ```to_timeseries()``` method (thanks yousuf jawwad)\n\n0.4.3 (2017-06-02)\n--------------------\n- fix doc typos and formatting\n- prevent column duplication in read_frame (thanks kevin abbott)\n\n0.4.2 (2017-05-22)\n--------------------\n- compatibility with `pandas 0.20.1`\n- support for python 2.7 and 3.5 with django versions 1.8+\n- suport for python 3.6 and django 1.11\n- we still support legacy versions (python 2.7 and django 1.4)\n\n0.4.1 (2016-02-05)\n-------------------\n- address the incompatibility with django 1.9 due to the removal of\n  specialized query sets like the\n  `valuesqueryset <https://code.djangoproject.com/ticket/24211>`_\n- address the removal of the ``passthrougmanager`` from  ``django-model-utils``\n  version ``2.4``.  we've removed the dependency on django-model-utils and\n  included the passthroughmanger (which was always a standalone tool\n  distributed a part of django-model-utils) for compatibility with\n  earlier versions of django (<= 1.8). for more recent versions of\n  django we're using django's built in ``queryset.as_manager()``.\n- now supports pandas 0.14.1 and above\n- the fall in coverage in this release largely reflects the integration of\n  the passthroughmanager into the code base. we'll add the required test\n  coverage for the passthroughmanager in subsequent releases.\n\n0.3.1 (2015-10-25)\n-------------------\n- extends the ability to span a foreignkey relationship with double underscores\n  to onetoonefield too thanks to safe hammad\n- provide better support for  manytomany and onetomany relations thanks to\n  jeff sternberg and @middlefork\n\n0.3.0 (2015-06-16)\n---------------------\n- this version supports django 1.8\n- support for pandas 0.16\n\n0.2.2 (2015-03-02)\n---------------------\n- added support for django 1.7\n\n0.2.1 (2015-01-28)\n---------------------\n- added support for values querysets\n- support for python 2.6\n- note we still have limited support for django 1.7 but this will be coming in\n  the next release\n\n0.2.0 (2014-06-15)\n--------------------\n\n- added the ``io`` module so that dataframes can be created from any\n  queryset so you don't need to to add a ``dataframe manager`` to your\n  models. this is good for working with legacy projects.\n- added a boolean ``verbose`` argument to all methods (which defaults to ``true``)\n  this populate the dataframe columns with the human readable versions of\n  foreign key or choice fields.\n- improved the performance dataframe creation by removing dependency on\n  ``np.core.records.fromrecords``\n- loads of bug fixes, more tests and improved coverage and better\n  documentation\n\n\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "django-pandas",
  "package_url": "https://pypi.org/project/django-pandas/",
  "project_url": "https://pypi.org/project/django-pandas/",
  "project_urls": {
    "Homepage": "https://github.com/chrisdev/django-pandas/"
  },
  "release_url": "https://pypi.org/project/django-pandas/0.6.6/",
  "requires_dist": [
    "pandas (>=0.14.1)",
    "six (>=1.15.0)",
    "pandas (>=0.20.1) ; extra == 'test'",
    "coverage (==5.4) ; extra == 'test'",
    "semver (==2.10.1) ; extra == 'test'"
  ],
  "requires_python": "",
  "summary": "tools for working with pydata.pandas in your django projects",
  "version": "0.6.6",
  "releases": [],
  "developers": [
    "cclarke@chrisdev.com",
    "christopher_clarke"
  ],
  "kwds": "django_pandas django _django pandas _pandas",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_django_pandas",
  "homepage": "https://github.com/chrisdev/django-pandas/",
  "release_count": 21,
  "dependency_ids": [
    "pypi_coverage",
    "pypi_pandas",
    "pypi_semver",
    "pypi_six"
  ]
}