{
  "classifiers": [
    "development status :: 4 - beta",
    "intended audience :: developers",
    "license :: osi approved :: apache software license",
    "operating system :: macos",
    "operating system :: microsoft :: windows",
    "operating system :: posix",
    "operating system :: posix :: linux",
    "programming language :: python :: 3.10",
    "programming language :: python :: 3.11",
    "programming language :: python :: 3.7",
    "programming language :: python :: 3.8",
    "programming language :: python :: 3.9",
    "topic :: database :: database engines/servers",
    "topic :: database :: front-ends",
    "topic :: software development :: libraries :: python modules",
    "typing :: typed"
  ],
  "description": "<br />\n\n<div align=\"center\">\n    <h1>prisma client python</h1>\n    <p><h3 align=\"center\">type-safe database access for python</h3></p>\n    <div align=\"center\">\n    <a href=\"https://discord.gg/hpfajbepbh\">\n        <img src=\"https://img.shields.io/discord/933860922039099444?color=blue&label=chat&logo=discord\" alt=\"chat on discord\">\n    </a>\n    <a href=\"https://prisma.io\">\n        <img src=\"https://img.shields.io/static/v1?label=prisma&message=5.4.2&color=blue&logo=prisma\" alt=\"supported prisma version is 5.4.2\">\n    </a>\n    <a href=\"https://github.com/grantjenks/blue\">\n        <img src=\"https://camo.githubusercontent.com/dbdbcf26db37abfa1f2ab7e6c28c8b3a199f2dad98e4ef53a50e9c45c7e4ace8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c75652d626c75652e737667\" alt=\"code style: blue\">\n    </a>\n    <a href=\"https://robertcraigie.github.io/prisma-client-py/htmlcov/index.html\">\n        <img src=\"https://raw.githubusercontent.com/robertcraigie/prisma-client-py/static/coverage/coverage.svg\" alt=\"code coverage report\">\n    </a>\n    <img src=\"https://img.shields.io/github/actions/workflow/status/robertcraigie/prisma-client-py/test.yml?branch=main&label=tests\" alt=\"github workflow status (main)\">\n    <img src=\"https://img.shields.io/pypi/pyversions/prisma\" alt=\"supported python versions\">\n    <img src=\"https://img.shields.io/pypi/v/prisma\" alt=\"latest package version\">\n    </div>\n</div>\n\n<hr>\n\n## what is prisma client python?\n\nprisma client python is a next-generation orm built on top of [prisma](https://github.com/prisma/prisma) that has been designed from the ground up for ease of use and correctness.\n\n[prisma](https://www.prisma.io/) is a typescript orm with zero-cost type safety for your database, although don't worry, prisma client python [interfaces](#how-does-prisma-python-interface-with-prisma) with prisma using rust, you don't need node or typescript.\n\nprisma client python can be used in _any_ python backend application. this can be a rest api, a graphql api or _anything_ else that needs a database.\n\n![gif showcasing prisma client python usage](https://raw.githubusercontent.com/robertcraigie/prisma-client-py/main/docs/showcase.gif)\n\n> _note that the only language server that is known to support this form of autocompletion is pylance / pyright._\n\n## why should you use prisma client python?\n\nunlike other python orms, prisma client python is **fully type safe** and offers native support for usage **with and without** `async`. all you have to do is [specify the type of client](https://prisma-client-py.readthedocs.io/en/stable/getting_started/setup/) you would like to use for your project in the [prisma schema file](#the-prisma-schema).\n\nhowever, the arguably best feature that prisma client python provides is [autocompletion support](#auto-completion-for-query-arguments) (see the gif above). this makes writing database queries easier than ever!\n\ncore features:\n\n- [prisma migrate](https://www.prisma.io/docs/concepts/components/prisma-migrate)\n- [full type safety](https://prisma-client-py.readthedocs.io/en/stable/getting_started/type-safety/)\n- [with / without async](https://prisma-client-py.readthedocs.io/en/stable/getting_started/setup/)\n- [recursive and pseudo-recursive types](https://prisma-client-py.readthedocs.io/en/stable/reference/config/#recursive-type-depth)\n- [atomic updates](https://prisma-client-py.readthedocs.io/en/stable/reference/operations/#updating-atomic-fields)\n- [complex cross-relational queries](https://prisma-client-py.readthedocs.io/en/stable/reference/operations/#filtering-by-relational-fields)\n- [partial type generation](https://prisma-client-py.readthedocs.io/en/stable/reference/partial-types/)\n- [batching write queries](https://prisma-client-py.readthedocs.io/en/stable/reference/batching/)\n\nsupported database providers:\n\n- postgresql\n- mysql\n- sqlite\n- cockroachdb\n- mongodb (experimental)\n- sql server (experimental)\n\n## support\n\nhave any questions or need help using prisma? join the [community discord](https://discord.gg/hpfajbepbh)!\n\nif you don't want to join the discord you can also:\n\n- create a new [discussion](https://github.com/robertcraigie/prisma-client-py/discussions/new)\n- ping me on the [prisma slack](https://slack.prisma.io/) `@robert craigie`\n\n## how does prisma work?\n\nthis section provides a high-level overview of how prisma works and its most important technical components. for a more thorough introduction, visit the [documentation](https://prisma-client-py.readthedocs.io).\n\n### the prisma schema\n\nevery project that uses a tool from the prisma toolkit starts with a [prisma schema file](https://www.prisma.io/docs/concepts/components/prisma-schema). the prisma schema allows developers to define their _application models_ in an intuitive data modeling language. it also contains the connection to a database and defines a _generator_:\n\n```prisma\n// database\ndatasource db {\n  provider = \"sqlite\"\n  url      = \"file:database.db\"\n}\n\n// generator\ngenerator client {\n  provider             = \"prisma-client-py\"\n  recursive_type_depth = 5\n}\n\n// data models\nmodel post {\n  id        int     @id @default(autoincrement())\n  title     string\n  content   string?\n  views     int     @default(0)\n  published boolean @default(false)\n  author    user?   @relation(fields: [author_id], references: [id])\n  author_id int?\n}\n\nmodel user {\n  id    int     @id @default(autoincrement())\n  email string  @unique\n  name  string?\n  posts post[]\n}\n```\n\nin this schema, you configure three things:\n\n- **data source**: specifies your database connection. in this case we use a local sqlite database however you can also use an environment variable.\n- **generator**: indicates that you want to generate prisma client python.\n- **data models**: defines your application models.\n\n---\n\non this page, the focus is on the generator as this is the only part of the schema that is specific to prisma client python. you can learn more about [data sources](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-schema/data-sources) and [data models](https://www.prisma.io/docs/concepts/components/prisma-schema/data-model/) on their respective documentation pages.\n\n### prisma generator\n\na prisma schema can define one or more generators, defined by the `generator` block.\n\na generator determines what assets are created when you run the `prisma generate` command. the `provider` value defines which prisma client will be created. in this case, as we want to generate prisma client python, we use the `prisma-client-py` value.\n\nyou can also define where the client will be generated to with the `output` option. by default prisma client python will be generated to the same location it was installed to, whether that's inside a virtual environment, the global python installation or anywhere else that python packages can be imported from.\n\nfor more options see [configuring prisma client python](https://prisma-client-py.readthedocs.io/en/stable/reference/config/).\n\n---\n\n### accessing your database with prisma client python\n\njust want to play around with prisma client python and not worry about any setup? you can try it out online on [gitpod](https://gitpod.io/#https://github.com/robertcraigie/prisma-py-async-quickstart).\n\n#### installing prisma client python\n\nthe first step with any python project should be to setup a virtual environment to isolate installed packages from your other python projects, however that is out of the scope for this page.\n\nin this example we'll use an asynchronous client, if you would like to use a synchronous client see [setting up a synchronous client](https://prisma-client-py.readthedocs.io/en/stable/getting_started/setup/#synchronous-client).\n\n```sh\npip install -u prisma\n```\n\n#### generating prisma client python\n\nnow that we have prisma client python installed we need to actually generate the client to be able to access the database.\n\ncopy the prisma schema file shown above to a `schema.prisma` file in the root directory of your project and run:\n\n```sh\nprisma db push\n```\n\nthis command will add the data models to your database and generate the client, you should see something like this:\n\n```\nprisma schema loaded from schema.prisma\ndatasource \"db\": sqlite database \"database.db\" at \"file:database.db\"\n\nsqlite database database.db created at file:database.db\n\n\n\ud83d\ude80  your database is now in sync with your schema. done in 26ms\n\n\u2714 generated prisma client python to ./.venv/lib/python3.9/site-packages/prisma in 265ms\n```\n\nit should be noted that whenever you make changes to your `schema.prisma` file you will have to re-generate the client, you can do this automatically by running `prisma generate --watch`.\n\nthe simplest asynchronous prisma client python application will either look something like this:\n\n```py\nimport asyncio\nfrom prisma import prisma\n\nasync def main() -> none:\n    prisma = prisma()\n    await prisma.connect()\n\n    # write your queries here\n    user = await prisma.user.create(\n        data={\n            'name': 'robert',\n            'email': 'robert@craigie.dev'\n        },\n    )\n\n    await prisma.disconnect()\n\nif __name__ == '__main__':\n    asyncio.run(main())\n```\n\nor like this:\n\n```py\nimport asyncio\nfrom prisma import prisma\nfrom prisma.models import user\n\nasync def main() -> none:\n    db = prisma(auto_register=true)\n    await db.connect()\n\n    # write your queries here\n    user = await user.prisma().create(\n        data={\n            'name': 'robert',\n            'email': 'robert@craigie.dev'\n        },\n    )\n\n    await db.disconnect()\n\nif __name__ == '__main__':\n    asyncio.run(main())\n```\n\n#### query examples\n\nfor a more complete list of queries you can perform with prisma client python see the [documentation](https://prisma-client-py.readthedocs.io/en/stable/reference/operations/).\n\nall query methods return [pydantic models](https://pydantic-docs.helpmanual.io/usage/models/).\n\n**retrieve all `user` records from the database**\n\n```py\nusers = await db.user.find_many()\n```\n\n**include the `posts` relation on each returned `user` object**\n\n```py\nusers = await db.user.find_many(\n    include={\n        'posts': true,\n    },\n)\n```\n\n**retrieve all `post` records that contain `\"prisma\"`**\n\n```py\nposts = await db.post.find_many(\n    where={\n        'or': [\n            {'title': {'contains': 'prisma'}},\n            {'content': {'contains': 'prisma'}},\n        ]\n    }\n)\n```\n\n**create a new `user` and a new `post` record in the same query**\n\n```py\nuser = await db.user.create(\n    data={\n        'name': 'robert',\n        'email': 'robert@craigie.dev',\n        'posts': {\n            'create': {\n                'title': 'my first post from prisma!',\n            },\n        },\n    },\n)\n```\n\n**update an existing `post` record**\n\n```py\npost = await db.post.update(\n    where={\n        'id': 42,\n    },\n    data={\n        'views': {\n            'increment': 1,\n        },\n    },\n)\n```\n\n#### usage with static type checkers\n\nall prisma client python methods are fully statically typed, this means you can easily catch bugs in your code without having to run it!\n\nfor more details see the [documentation](https://prisma-client-py.readthedocs.io/en/stable/getting_started/type-safety/).\n\n#### how does prisma client python interface with prisma?\n\nprisma client python connects to the database and executes queries using prisma's rust-based query engine, of which the source code can be found here: https://github.com/prisma/prisma-engines.\n\nprisma client python exposes a cli interface which wraps the [prisma cli](https://www.prisma.io/docs/reference/api-reference/command-reference). this works by downloading a node binary, if you don't already have node installed on your machine, installing the cli with `npm` and running the cli using node.\n\nthe cli interface is the exact same as the standard [prisma cli](https://www.prisma.io/docs/reference/api-reference/command-reference) with [some additional commands](https://prisma-client-py.readthedocs.io/en/stable/reference/command-line/).\n\n## affiliation\n\nprisma client python is _not_ an official prisma product although it is very generously sponsored by prisma.\n\n## room for improvement\n\nprisma client python is a fairly new project and as such there are some features that are missing or incomplete.\n\n### auto completion for query arguments\n\nprisma client python query arguments make use of `typeddict` types. support for completion of these types within the python ecosystem is now fairly widespread. this section is only here for documenting support.\n\nsupported editors / extensions:\n\n- vscode with [pylance](https://marketplace.visualstudio.com/items?itemname=ms-python.vscode-pylance) v2021.9.4 or higher\n- sublime text with [lsp-pyright](https://github.com/sublimelsp/lsp-pyright) v1.1.196 or higher\n- pycharm [2022.1 eap 3](<https://youtrack.jetbrains.com/articles/py-a-233537928/pycharm-2022.1-eap-3-(221.4994.44-build)-release-notes>) added support for completing `typeddict`s\n  - this does not yet work for prisma client python unfortunately, see [this issue](https://youtrack.jetbrains.com/issue/py-54151/typeddict-completion-at-callee-does-not-work-for-methods)\n- any editor that supports the language server protocol and has an extension supporting pyright v1.1.196 or higher\n  - vim and neovim with [coc.nvim](https://github.com/fannheyward/coc-pyright)\n  - [emacs](https://github.com/emacs-lsp/lsp-pyright)\n\n```py\nuser = await db.user.find_first(\n    where={\n        '|'\n    }\n)\n```\n\ngiven the cursor is where the `|` is, an ide should suggest the following completions:\n\n- id\n- email\n- name\n- posts\n\n### performance\n\nwhile there has currently not been any work done on improving the performance of prisma client python queries, they should be reasonably fast as the core query building and connection handling is performed by prisma.\nperformance is something that will be worked on in the future and there is room for massive improvements.\n\n### supported platforms\n\nwindows, macos and linux are all officially supported.\n\n## version guarantees\n\nprisma client python is _not_ stable.\n\nbreaking changes will be documented and released under a new **minor** version following this format.\n\n`major`.`minor`.`patch`\n\nnew releases are scheduled bi-weekly, however as this is a solo project, no guarantees are made that this schedule will be stuck to.\n\n## contributing\n\nwe use [conventional commits](https://www.conventionalcommits.org) (also known as semantic commits) to ensure consistent and descriptive commit messages.\n\nsee the [contributing documentation](https://prisma-client-py.readthedocs.io/en/stable/contributing/contributing/) for more information.\n\n## attributions\n\nthis project would not be possible without the work of the amazing folks over at [prisma](https://www.prisma.io).\n\nmassive h/t to [@steebchen](https://github.com/steebchen) for his work on [prisma-client-go](https://github.com/prisma/prisma-client-go) which was incredibly helpful in the creation of this project.\n\nthis readme is also heavily inspired by the readme in the [prisma/prisma](https://github.com/prisma/prisma) repository.\n\n\n",
  "docs_url": null,
  "keywords": "orm,mysql,typing,prisma,sqlite,database,postgresql",
  "license": "apache",
  "name": "prisma",
  "package_url": "https://pypi.org/project/prisma/",
  "project_url": "https://pypi.org/project/prisma/",
  "project_urls": {
    "Documentation": "https://prisma-client-py.readthedocs.io",
    "Homepage": "https://github.com/RobertCraigie/prisma-client-py",
    "Source": "https://github.com/RobertCraigie/prisma-client-py",
    "Tracker": "https://github.com/RobertCraigie/prisma-client-py/issues"
  },
  "release_url": "https://pypi.org/project/prisma/0.11.0/",
  "requires_dist": [
    "httpx (>=0.19.0)",
    "jinja2 (>=2.11.2)",
    "pydantic (<3,>=1.8.0)",
    "click (>=7.1.2)",
    "python-dotenv (>=0.12.0)",
    "typing-extensions (>=4.0.1)",
    "tomlkit",
    "nodeenv",
    "cached-property ; python_version < \"3.8\"",
    "nodejs-bin ; extra == 'all'",
    "nodejs-bin ; extra == 'node'"
  ],
  "requires_python": ">=3.7.0",
  "summary": "prisma client python is an auto-generated and fully type-safe database client",
  "version": "0.11.0",
  "releases": [],
  "developers": [
    "robert@craigie.dev",
    "robert_craigie"
  ],
  "kwds": "sqlite database discord db prisma",
  "license_kwds": "apache",
  "libtype": "pypi",
  "id": "pypi_prisma",
  "homepage": "https://github.com/robertcraigie/prisma-client-py",
  "release_count": 26,
  "dependency_ids": [
    "pypi_cached_property",
    "pypi_click",
    "pypi_httpx",
    "pypi_jinja2",
    "pypi_nodeenv",
    "pypi_nodejs_bin",
    "pypi_pydantic",
    "pypi_python_dotenv",
    "pypi_tomlkit",
    "pypi_typing_extensions"
  ]
}