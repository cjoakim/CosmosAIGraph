{
  "classifiers": [],
  "description": "tinybird cli\n============\n\nthe tinybird command-line tool allows you to use all the tinybird functionality directly from the command line. additionally, it includes several functions to create and manage data projects easily.\n\nchangelog\n\n---------\n\n2.0.0\n************\n\nreleased new version 2.0.0 with all these changes:\n\n- `changed` all commands exit with 1 when there's an exception\n- `removed` prefixes are not supported anymore ([context](https://www.tinybird.co/changelog/2023-10-09-versions), and [how to migrate](https://www.tinybird.co/docs/guides/staging-and-production-workspaces.html#migrating-from-prefixes))\n- `removed` `tb pipe create`\n\n\n2.0.0.dev2\n************\n\n- `changed` all commands exit with 1 when there's an exception\n- `removed` `tb pipe create`\n\n2.0.0.dev1\n************\n\n- `removed` prefixes are not supported anymore\n\n\n1.3.0\n************\n\nreleased new version 1.3.0 with all these changes:\n\n- `added` support for copy pipes in `tb fmt`\n- `added` support for `.datasource.incl` files in `tb fmt` \n- `fixed` `tb auth use` to move between regions saved in the config file\n- `fixed` skip `regression.yaml` in `tb test run` since it's reserved for regression tests\n- `fixed` skip replacing `.incl` files in `tb fmt`\n\n1.2.1.dev6\n************\n\n- `fixed` skip replacing `.incl` files in `tb fmt`\n\n1.2.1.dev5\n************\n\n- `added` support for copy pipes in `tb fmt` \n\n1.2.1.dev4\n************\n\n- `fixed` `tb auth use` to move between regions saved in the config file\n\n1.2.1.dev3\n************\n\n- `added` support for `.datasource.incl` files in `tb fmt` \n\n1.2.1.dev2\n************\n\n- `changed` internal change\n\n1.2.1.dev1\n************\n\n- `fixed` skip `regression.yaml` in `tb test run` since it's reserved for regression tests\n\n1.2.0\n************\n\nreleased new version 1.2.0 with all these changes:\n\n- `changed` upgrade cicd version templates for `tb init --git`\n- `changed` support `tb release` commands in environments\n- `fixed` correct paths for triggering cicd generated by `tb init --git`\n- `fixed` rolled back the version of the snowflake-connectors-python package.\n- `fixed` do not print data branching summary in `tb env create <env_name>`\n\n\n1.1.1dev6\n************\n\n- `fixed` correct paths for triggering cicd generated by `tb init --git`\n\n1.1.1dev5\n************\n\n- `changed` upgrade cicd version templates for `tb init --git`\n\n1.1.1dev4\n************\n\n- `changed` support `tb release` commands in environments\n\n1.1.1dev3\n************\n\n- `fixed` rolled back the version of the snowflake-connectors-python package.\n\n1.1.1.dev2\n************\n\n- `fixed` do not print data branching summary in `tb env create <env_name>`\n\n1.1.1.dev1\n************\n\n- `changed` internal releases management.\n\n1.1.1.dev0\n************\n\n- `changed` internal releases management.\n\n1.1.0\n************\n\nreleased new version 1.1.0 with all these changes:\n\n- `added` support `skip` individual regression tests through the regression.yaml configuration file. ci/cd guide at https://www.tinybird.co/docs/guides/continuous-integration.html \n- `added` fail `tb env regression-tests` if no tests are run for any pipe, use `skip` to avoid the error\n- `added` skip post requests by default in `tb env regression-tests` until it's supported\n- `added` support append `--fixtures` to shared data sources in environments\n- `added` support `--assert-max-time` in `tb env regression-tests` so that serves as threshold for response time and avoid flakiness on fast endpoints.\n- `added` support `tb env regression-tests --main -f regression.yaml` so you can run regression tests agains the main environment together with a configuration file.\n- `added` `tb env regression-tests coverage --main` runs coverage regression tests in the main environment. this command is experimental and undocumented.\n- `changed` `tb init --git --folder <folder>` includes the `<folder>` in the ci/cd templates as `data_project_dir` and in the paths to track changes so ci and cd only run when there's a change on that folder. if `<folder>` is not provided then it is set to the current directory `.`\n- `changed` force `tb init --git` to run in the `main` or `master` git branch\n- `changed` the creation of the cd/ci workflow when running `tb init --git` to use the admin workspace token instead of the token of your admin user.\n- `changed` expose resources and ids when removing releases `tb release rm`\n- `changed` `--override-commit` option to not require needing to pass the `--git` option as well. now, running `tb init --override-commit` should work as expected.\n- `changed` copy and sink on-demand jobs now return the job url.\n- `changed` allow workspace admin tokens for ci/cd workflows. previously, you were asked for user admin token. you can update your tb_admin_token to be the workspace admin token instead the admin token from a specific user. ci/cd guide at https://www.tinybird.co/docs/guides/continuous-integration.html \n- `changed` improve ci/cd output. added warning hint in custom deployments.\n- `fixed` `tb deploy` raises an error if it detects resources renamed in git\n- `fixed` on `tb push --force --yes` a bigquery data source, it updates both the `schema` and connector settings.\n- `fixed` connection settings of bigquery data sources are preserved in environments, although the connection does not sync by design, to ingest data use `--fixtures`\n- `removed` warning message that recommended not using the admin token for ci/cd workflows as we introduced a fix in the version 1.0.1 to avoid the problems that the admin token was causing.\n- `removed` fallback when running `tb pipe regression-test` does was doing requests to `/v0/pipes/xxx/requests` as it was mostly not used. this endpoint was being called when there weren't requests in `tinybird.pipe_stats_rt` in the last 7 days. this endpoint was really heavy and most of the time wouldn't return any actual data as endpoint not being called after 7 days most likely are not in production.\n- `removed` `async` parameter in the `/v0/environments` requests as it's not being used.\n\n\n1.0.2dev17\n************\n\n- `changed` `tb init --git --folder <folder>` includes the `<folder>` in the ci/cd templates as `data_project_dir` and in the paths to track changes so ci and cd only run when there's a change on that folder. if `<folder>` is not provided then it is set to the current directory `.`\n\n1.0.2dev16\n************\n\n- `changed` force `tb init --git` to run in the `main` or `master` git branch\n\n1.0.2dev15\n************\n\n- `added` support `skip` individual regression tests through the regression.yaml configuration file\n- `added` fail `tb env regression-tests` if no tests are run for any pipe, use `skip` to avoid the error\n- `added` skip post requests by default in `tb env regression-tests` until it's supported\n\n1.0.2dev14\n************\n\n- `added` support append `--fixtures` to shared data sources in environments\n\n1.0.2dev13\n************\n\n- `added` support `--assert-max-time` in `tb env regression-tests` so that serves as threshold for response time and avoid flakiness on fast endpoints.\n- `added` support `tb env regression-tests --main -f regression.yaml` so you can run regression tests agains the main environment together with a configuration file.\n\n1.0.2dev12\n************\n\n- `change` the creation of the cd/ci workflow when running `tb init --git` to use the admin workspace token instead of the token of your admin user.\n\n1.0.2dev11\n************\n\n- `fixed` `tb deploy` raises an error if it detects resources renamed in git\n\n1.0.2dev10\n************\n\n- `changed` expose resources and ids when removing releases `tb release rm`\n\n1.0.2dev9\n************\n\n- `fixed` on `tb push --force --yes` a bigquery data source, it updates both the `schema` and connector settings.\n- `fixed` connection settings of bigquery data sources are preserved in environments, although the connection does not sync by design, to ingest data use `--fixtures`\n\n1.0.2dev8\n************\n\n- `changed` `--override-commit` option to not require needing to pass the `--git` option as well. now, running `tb init --override-commit` should work as expected.\n\n1.0.2dev7\n************\n\n- `removed` warning message that recommended not using the admin token for ci/cd workflows as we introduced a fix in the version 1.0.1 to avoid the problems that the admin token was causing.\n\n1.0.2dev6\n************\n\n- `changed` copy and sink on-demand jobs now return the job url.\n\n1.0.2dev5\n************\n\n- `added` `tb env regression-tests coverage --main` runs coverage regression tests in the main environment. this command is experimental and undocumented.\n\n1.0.2dev4\n************\n\n- `removed` fallback when running `tb pipe regression-test` does was doing requests to `/v0/pipes/xxx/requests` as it was mostly not used. this endpoint was being called when there weren't requests in `tinybird.pipe_stats_rt` in the last 7 days. this endpoint was really heavy and most of the time wouldn't return any actual data as endpoint not being called after 7 days most likely are not in production.\n\n1.0.2dev3\n************\n\n- `removed` `async` parameter in the `/v0/environments` requests as it's not being used.\n\n1.0.2dev2\n************\n\n- `changed` allow workspace admin token for ci/cd workflows\n\n\n1.0.2dev1\n************\n\n- `changed` improve ci/cd output. added warning hint in custom deployments.\n\n1.0.1\n************\n\nreleased new version 1.0.1 with all these changes:\n\n- `added` google cloud storage as a data source connector (beta)\n- `added` support for fixtures using parquet format. also, we have modified the message when no fixture is found. before it would show something like `** warning: datasources/fixtures/current_events.ndjson file not found` as it was the last format was looking for, now it will display `** warning: no fixture found for the datasource current_events`\n- `added` `tb deploy` output now exposes what is detecting for deploying\n- `added` `tb env regression-tests` commands now support flag `--skip-regression-tests` or `export tb_skip_regression=1` to skip execution of regression tests. handy for ci environments were regression tests might be flaky\n- `changed` `tb init --git` uses v2.3.0 of the ci/cd templates. see [release notes](https://github.com/tinybirdco/ci/releases/tag/v2.3.0)\n- `changed` `tb auth info` to give better information in case of authentication problems\n- `changed` when running `tb init --git` for the first time the `exec_test.sh` script to run fixtures tests now includes an environment variable `export tb_version_warning=0` to skip the cli version warning\n- `changed` support `obfuscate_regex_pattern` and `obfuscate_pattern_separator` environment variables to define a regex pattern and a separator (in case of a single string with multiple regex) to obfuscate secrets in the cli output\n- `changed` update clickhouse-toolset to 0.28.dev0\n- `fixed` skip error when `tb deploy --populate --wait` and a copy pipe has been deployed\n- `fixed` typo when there is an error with a connection\n- `fixed` that all the http requests follow the environment variable `tb_disable_ssl_checks`. this environment variable allows users to disable the ssl verification if needed. by default is not disabled. before this version, some http request were not disabling the ssl validation\n- `fixed` `tb env rm` and `tb env use` when using the admin workspace token. before when using these command and using the admin token, this command would return an error saying that the workspace was not found. now, these commands should work as expected\n- `fixed` `tb connection ls` now lists bigquery connections\n- `fixed` `tb pull` and `tb diff` now respect multiline in `import_query`\n\n\n\n1.0.1.dev18\n************\n\n- `changed` update clickhouse-toolset to 0.28.dev0\n\n\n1.0.1.dev17\n************\n\n- `fixed` typo when there is an error with a connection\n\n1.0.1.dev16\n************\n\n- `added` support for fixtures using parquet format. also, we have modified the message when no fixture is found. before it would show something like `** warning: datasources/fixtures/current_events.ndjson file not found` as it was the last format was looking for, now it will display `** warning: no fixture found for the datasource current_events`\n\n1.0.1.dev15\n************\n\n- `fixed` that all the http requests follow the environment variable `tb_disable_ssl_checks`. this environment variable allows users to disable the ssl verification if needed. by default is not disabled. before this version, some http request were not disabling the ssl validation.\n\n1.0.1.dev14\n************\n\n- `fixed` `tb env rm` and `tb env use` when using the admin workspace token. before when using these command and using the admin token, this command would return an error saying that the workspace was not found. now, these commands should work as expected.\n\n1.0.1.dev13\n************\n\n- `fixed` `tb auth` bug related with a previous authentication.\n\n1.0.1.dev12\n************\n\n- `changed` `tb auth` commands to use an improved config mechanism.\n\n1.0.1.dev11\n************\n\n- `changed` `tb init --git` uses v2.3.0 of the ci/cd templates. see [release notes](https://github.com/tinybirdco/ci/releases/tag/v2.3.0)\n\n1.0.1.dev10\n************\n\n- `added` google cloud storage as a data source connector\n\n1.0.1.dev9\n************\n\n- `fixed` `tb connection ls` now lists bigquery connections\n\n1.0.1.dev8\n************\n\n- `fixed` `tb pull` and `tb diff` now respect multiline in `import_query`\n\n1.0.1.dev7\n************\n\n- `changed` `tb auth info` to give better information in case of authentication problems.\n\n1.0.1.dev6\n************\n\n- `fixed` skip error when `tb deploy --populate --wait` and a copy pipe has been deployed\n\n1.0.1.dev5\n************\n\n- `added` `tb release generate --semver <semver>` as a helper to create a custom deployment. see guide => https://www.tinybird.co/docs/guides/deployment-strategies.html#custom-deployments\n\n1.0.1.dev4\n************\n\n- `added` `tb deploy` output now exposes what is detecting for deploying.\n\n1.0.1.dev3\n************\n\n- `added` `tb env regression-tests` commands now support flag `--skip-regression-tests` or `export tb_skip_regression=1` to skip execution of regression tests. handy for ci environments were regression tests might be flaky.\n\n1.0.1.dev2\n************\n\n- `changed` when running `tb init --git` for the first time the `exec_test.sh` script to run fixtures tests now includes an environment variable `export tb_version_warning=0` to skip the cli version warning.\n\n1.0.1.dev1\n************\n\n- `changed` support `obfuscate_regex_pattern` and `obfuscate_pattern_separator` environment variables to define a regex pattern and a separator (in case of a single string with multiple regex) to obfuscate secrets in the cli output\n\n1.0.0\n*******\n\n- `released` version 1.0.0, from now on the tinybird-cli package uses the standard semver convention for stable versions. development versions will be tagged as with the `.devx` suffix where `x` is an integer number.\n\n1.0.0b448\n*********\n\n- `changed` better error feedback when environment is not ready for `tb deploy`\n\n1.0.0b447\n*********\n\n- `added` `tb datasource delete` new option `dry-run` to check number of maching rows before execute\n\n1.0.0b446\n*********\n\n- `added` `tb token ls` to list all the available tokens\n- `added` `tb token copy` to copy a token to the clipboard\n- `added` `tb token rm` to remove a token\n- `added` `tb token refresh` to refresh a token\n- `added` `tb token scopes` to list the scopes of a token\n\n1.0.0b445\n*********\n\n- `changed` `tb env create` waits job by default. use `--no-wait` in case you wan't to avoid waiting.\n- `changed` better error feedback for `tb deploy` when environment creation is not completed\n\n1.0.0b444\n*********\n\n- `fixed`: data sources definition: default column modifier not allowed when there's json paths\n\n1.0.0b443\n*********\n\n- `changed` bump ci/cd release to v2.2.0 => https://github.com/tinybirdco/ci/releases/tag/v2.2.0\n\n1.0.0b442\n*********\n\n- `fixed` check if not main when creating an environment\n\n1.0.0b441\n*********\n\n- `changed` `tb token --git` unhidden\n\n1.0.0b440\n*********\n\n- `changed` `tb token rm` needs to be confirmed or run with `--yes` flag to be removed\n\n1.0.0b439\n*********\n\n- `added` references to the latest release of our ci/cd actions\n\n1.0.0b438\n*********\n\n- `fixed` `tb diff` just using progressbar in `tb init --git`\n- `fixed` `tb env rm` returns proper error when trying to remove from another environment\n- `changed` `tb auth` better output suggesting to use region host\n\n1.0.0b437\n*********\n\n- `fixed` `tb check` compatility with tokens datafiles\n- `fixed` `tb token rm` returns proper error when token does not exists\n\n1.0.0b436\n*********\n\n- `changed` internal changes\n\n1.0.0b435\n*********\n\n- `fixed` `tb init --git` fails if diffs detected and not executing `tb pull --auto --force`\n\n1.0.0b434\n*********\n\n- `changed` versions gitlab ci/cd pipeline to ensure temporal envs are removed\n\n1.0.0b433\n*********\n\n- `addded` `tb deploy` exposes `git diff` output before pushing resources.\n\n1.0.0b432\n*********\n\n- `changed` multiple dependencies to be less strict:\n    - click: from ``==8.1.6`` to ``>=8.1.6,<8.2``\n    - cryptography: from ``==3.4.8`` to ``>=3.4.8``\n    - pyyaml: from ``==6.0`` to ``>=6.0,<6.1``\n    - requests: from ``==2.28.1`` to ``>=2.28.1,<3``\n    - urllib3: from ``==1.26.14`` to ``>=1.26.14,<2``\n\n1.0.0b431\n*********\n\n- `changed` `tb pull` defaults now to `--auto` true, that means that it preserves the data project default folder structure. you can still pull all files to the current folder by using the `--no-auto` flag.\n\n1.0.0b430\n*********\n\n- `deprecated` `tb pipe new` command is deprecated\n\n1.0.0b429\n*********\n\n- `changed` `--prefix` deprecation message to indicate next eol on 20th dec.\n\n1.0.0b428\n*********\n\n- `added` support for the new versions feature.\n\n1.0.0b427\n*********\n\n- `changed` `tb pull` omits `insertion_date` meta-column\n\n1.0.0b426\n*********\n\n- `added` commands for the new versions feature (https://www.tinybird.co/blog-posts/git-for-real-time-data-projects).\n\n1.0.0b425\n*********\n\n- `changed` don't run regression checks on `tb deploy`\n\n1.0.0b424\n*********\n\n- `fixed` bug in `tb env regression-tests` when `--no-assert-result-rows-count` provided\n\n1.0.0b423\n*********\n\n- tokens are hidden in the output by default\n- `added` option to show token values in the output using the `--show-tokens` flag.\n- deprecated to hide token values in the output using the `--hide-tokens` flag.\n\n1.0.0b422\n*********\n\n- `fixed` errors in the last release.\n\n1.0.0b421\n*********\n\n- `fixed` provide feedback error message for erroneous commit on 'tb deploy'\n\n1.0.0b420\n*********\n\n- `changed` the way the command `tb workspace connect` handles connections.\n\n1.0.0b419\n*********\n\n- `fixed` `tb init` avoid to create example tests when tests folder already exists\n\n1.0.0b418\n*********\n\n- `added` option '--commit' to provide and force git commit reference to 'tb init --git'\n\n1.0.0b417\n*********\n\n- `fixed` 'tb push' and 'tb deploy' just pushes pipe endpoints at the end when no forward deps\n\n1.0.0b416\n*********\n\n- `added` `tb init --git` checks that .diff_tmp is added to .gitignore. throws an error if it's not.\n\n1.0.0b415\n*********\n\n- `changed` the behaviour of `tb pull`, `tb datasource ls` and `tb pipe ls` to not detect the prefixes in the resources by default. in case, you want to use `tb pull`, `tb datasource ls` or `tb pipe ls` in the same way as before, you will need to specify which prefix you want to detect using `--prefix`.\n\n1.0.0b414\n*********\n\n- `fixed` `tb init --git` unexpected error when using token not associated to user\n\n1.0.0b413\n*********\n\n- `changed` improved error outputs working with environments\n\n1.0.0b412\n*********\n\n- `changed` `tb init --git` cicd files are generated after release is finished\n\n1.0.0b411\n*********\n\n- `added` `tb test` pipe endpoint test example on 'tb init' data project generation\n\n1.0.0b410\n*********\n\n- `changed` `tb init --git` order of execution to be more reliable\n\n1.0.0b409\n*********\n\n- `changed` `tb deploy --fixtures` to append the fixtures instead of replacing the data.\n- `fixed` `tb deploy --fxitures` to append the fixtures even if there is no other change\n\n1.0.0b408\n*********\n\n- `deprecated` hide and deprecate warning for the `--prefix` flag in all commands. the prefix feature is superseded by workspaces, use `tb workspace create` instead.\n\n1.0.0b407\n*********\n\n- `fixed` `tb token copy` not working properly in linux\n\n1.0.0b406\n*********\n\n- `fixed` fail `tb init --git` if there are untracked files in project paths\n\n1.0.0b405\n*********\n\n- `added` extra information about the current token and host to the ``tb auth info`` command.\n\n1.0.0b404\n*********\n\n- `fixed` command `tb workspace create` when running in a ci environment.\n\n1.0.0b403\n*********\n\n- `changed` behaviour of `tb push` to only execute the `shared_with` logic when passing the `--user_token` option\n\n1.0.0b402\n*********\n\n- `fixed` pushing a token with sql condition\n\n1.0.0b401\n*********\n\n- `changed` shows instructions snippet when creating a snowflake connection and password not provided.\n\n1.0.0b400\n*********\n\n- `added` support settings clause in query definition. only a few of them are enabled in the backend.\n\n1.0.0b399\n*********\n\n- `added` allow to copy data between data sources releases\n\n1.0.0b398\n*********\n\n- `fixed` not shared resources now go to the correct folder when doing `tb pull --auto`\n\n1.0.0b397\n*********\n\n- `added` experimental token management from the cli (feature in development. it requires access)\n\n1.0.0b396\n*********\n\n- `changed` remove s3 feature flags\n\n1.0.0b395\n*********\n\n- `added` support to `sink` pipes in `tb push` command (feature in development. it requires access)\n\n1.0.0b393\n*********\n\n- `changed` upgrade version of generated cicd templates \n\n1.0.0b393\n*********\n\n- `fixed` `tb diff` now shows the correct message when one of its arguments is deprecated\n\n1.0.0b392\n*********\n\n- `changed` internal changes\n\n1.0.0b391\n*********\n\n- `changed` internal changes\n\n1.0.0b390\n*********\n\n- `improve` feedback messages on `tb init`\n\n1.0.0b389\n*********\n\n- `changed` python 3.7 is no longer supported. the minimum supported version is now python 3.8.\n\n1.0.0b388\n*********\n\n- `fixed` `tb fmt` when used with include files that contains nodes that are not being used in the parent pipe\n\n1.0.0b387\n*********\n\n- `changed` creation of gcs connection when creating data connector for sinks to `gcs_hmac` from `gcs`\n\n1.0.0b386\n*********\n\n- `fixed` adding a column to kafka data sources with `tb push -f`\n\n1.0.0b385\n*********\n\n- `changed` added an 'end of support for python 3.7 starting on 2023-08-01' notice.\n\n1.0.0b384\n*********\n\n- `fixed` integration and stage are not prompted anymore when creating a snowflake connection\n\n1.0.0b383\n*********\n\n- `fixed` bug introduced in version `1.0.0b375` causing the regression-test to fail when the size of the response length was different\n\n1.0.0b382\n*********\n\n- `fix` environments minor fixes\n\n1.0.0b381\n*********\n\n- `improve` feedback messages in different commands\n\n1.0.0b380\n*********\n\n- `fix` small bug when trying to unshare a datasource from all the workspaces removing the `shared_with` entry\n\n1.0.0b379\n*********\n\n- `added` s3 connector creation\n\n1.0.0b378\n*********\n\n- `added` support of `shared_with` in `tb pull` and `tb diff`\n\n1.0.0b377\n*********\n\n- `update` click package dependency from 8.1.3 to 8.1.6\n\n1.0.0b376\n*********\n\n- `changed` `tb init` now creates additional folders\n\n1.0.0b375\n*********\n\n- `changed` internal changes\n\n1.0.0b374\n*********\n\n- `fixed`  overriding a pipe when changing nodes from endpoint to copy and vice versa when running `tb push` with the `--force` flag\n\n1.0.0b373\n*********\n\n- `changed` internal changes\n\n1.0.0b372\n*********\n\n- `changed` internal changes\n\n\n1.0.0b371\n*********\n\n- `changed` internal changes\n\n1.0.0b370\n*********\n\n- `changed` internal improvements.\n\n1.0.0b369\n*********\n\n- `changed` filter requests with environment parameters in regression tests when running `tb push` or `tb pipe regression-test`\n\n1.0.0b368\n*********\n\n- `fixed` `plain` default `--sasl-mechanism` value in `tb connection create kafka` command\n\n1.0.0b367\n*********\n\n- `changed` internal changes\n\n1.0.0b366\n*********\n\n- `fixed` `tb append` now returns the correct message when the append is successful\n\n1.0.0b365\n*********\n\n- `fixed` `tb fmt` removes empty space after empty comment\n\n1.0.0b364\n*********\n\n- `changed` internal changes\n\n1.0.0b363\n*********\n\n- `changed` internal changes\n\n1.0.0b362\n*********\n\n- when passing `--token` parameter, refresh credentials to be able to rely on them\n\n1.0.0b361\n*********\n\n- `changed` internal changes\n\n1.0.0b360\n*********\n\n- `changed` internal changes\n\n1.0.0b359\n*********\n- `changed` internal changes\n\n1.0.0b358\n*********\n\n- `added` option `--ignore-datasources` not to attach data in environments for specified datasources\n\n1.0.0b357\n*********\n\n- `changed` internal changes\n\n1.0.0b356\n*********\n\n- `changed` internal changes\n\n1.0.0b355\n*********\n\n- `changed` filter requests with errors in regression tests when running `tb push` or `tb pipe regression-test`\n\n1.0.0b354\n*********\n\n- `fixed` allow not having git executable\n\n1.0.0b353\n*********\n\n- `changed` improve `tb env regression-tests` output\n\n1.0.0b352\n*********\n\n- `added` `tb fmt --diff` which exits 1 if local and formatted files are different. useful for ci/cd pipelines.\n- `fixed` some fixes in `tb fmt` regarding empty newlines.\n\n1.0.0b351\n*********\n\n- internal enhancements\n\n1.0.0b350\n*********\n\n- `fixed` `tb fmt` now formats datafiles properly when attributes are present in include\n\n1.0.0b349\n*********\n\n- `fixed` report shared data sources as `shared` on `tb diff`\n\n1.0.0b348\n*********\n\n- `added` copy pipe commands\n\n1.0.0b347\n*********\n\n- `fixed` node renaming when pushing a copy pipe\n\n1.0.0b346\n*********\n\n- `fixed` message after reaching limits of a copy pipe\n\n1.0.0b345\n*********\n\n- `fixed` `tb pull` omits the `__value` column in kafka data sources if they are created with ndjson format\n- `fixed` `tb fmt` finishes with an end line break\n- `fixed` node renaming when pushing a copy pipe\n\n1.0.0b344\n*********\n\n- `added` compatibility with clickhouse 23.5 functions and syntax\n\n1.0.0b343\n*********\n\n- `fixed` message after pushing a copy pipe without schedule\n\n1.0.0b342\n*********\n\n- `fixed` copy schedule is deleted when cron is not present in .pipe file\n\n\n1.0.0b341\n*********\n\n- `fixed` error handling when copy pipes reach the maximum number of executions\n\n1.0.0b340\n*********\n\n- `added` `tb pipe rm <localfile.pipe>` now supports a local file to a pipe file to remove it from the remote server\n\n1.0.0b339\n*********\n\n- `added` versioning support for copy pipes\n\n1.0.0b338\n*********\n\n- `fixed` `tb test run` handles properly executions with errors\n\n1.0.0b337\n*********\n\n- added support for single line comments in schema definitions.\n\n1.0.0b336\n*********\n\n- `fixed` `tb pull` didn't work properly when pulling the latest version of a remote resource\n\n1.0.0b335\n*********\n\n- `added` `integration` and `stage` fields to snowflake connection configuration\n\n1.0.0b334\n*********\n\n- `added` `tb test` not supports a new `pipe` directive to perform data quality tests over pipes published as endpoints\n\n1.0.0b333\n*********\n\n- `added` resume/pause actions to scheduled copy pipes\n\n1.0.0b332\n*********\n\n- `fixed` format `engine_ttl` expression on `tb diff` to match the one in the remote server\n\n1.0.0b331\n*********\n\n- `fixed` requests to `v0/tokens` now send data in the body when the uri is too long\n\n1.0.0b330\n*********\n\n- `fixed` `tb push --push-deps` to push endpoints in the correct order when there are multiple dependent endpoints\n\n1.0.0b329\n*********\n\n- `fixed` a bug when pushing pipes with tokens that affected versions from 1.0.0b326 to 1.0.0b328. if you are using one of these versions, please upgrade to 1.0.0b329 and review your tokens scopes.\n\n1.0.0b328\n*********\n\n- `added` support to `tb pull` when the pipe has type `copy`\n\n1.0.0b327\n*********\n\n- `changed` requests to `tb pipe data` now send data in the body when the uri is too long\n\n1.0.0b326\n*********\n\n- `changed` requests to `v0/tokens` now send data in the body\n\n1.0.0b325\n*********\n\n- rename `tb branch` to `tb env`\n\n1.0.0b324\n*********\n\n- `tb diff` improvements. it does not diff meta columns in kafka data sources or automatically added `engine_partition_key`.\n- `tb diff` just diffs mutable attributes in a `.datasource` file: `engine_ttl`, `schema`, `token`, `version`.\n- `tb pull` now downloads `token` with scope `append` if the data source had it in the workspace.\n\n1.0.0b323\n*********\n\n- validate kafka connection settings when pushing a kafka data source\n\n1.0.0b322\n*********\n\n- fix to create and use branches with the workspace admin token\n\n1.0.0b321\n*********\n\n- fix on `tb pull` and `tb diff` when a workspace has prefixed resources\n\n1.0.0b320\n*********\n\n- internal enhancements\n\n\n1.0.0b319\n*********\n\n- fix python3.7 compatibility\n\n1.0.0b318\n*********\n\n- add croniter dependency to the cli\n\n1.0.0b315\n*********\n\n- changed default cron expression for connectors.\n\n1.0.0b314\n*********\n\n- fix a bug that was impeding some users to push bigquery-connected datasources.\n\n1.0.0b313\n*********\n\n- internal enhancements\n\n1.0.0b312\n*********\n\n- branching experimental feature commands\n\n1.0.0b311\n*********\n\n- allow to change engine of a kafka data source\n\n1.0.0b310\n*********\n\n- internal enhancements.\n\n1.0.0b309\n*********\n\n- internal enhancements.\n\n1.0.0b308\n*********\n\n- removing tabulate dependency in the cli\n\n1.0.0b307\n*********\n\n- upgrade toposort dependency from 1.5 to 1.10\n\n1.0.0b306\n*********\n\n- internal enhancements.\n\n1.0.0b305\n*********\n\n- remove requests-toolbelt dependency\n\n1.0.0b304\n*********\n\n- internal improvements in regression-tests\n\n1.0.0b303\n*********\n\n- fix a bug in `tb diff` that made indentation not work properly\n\n1.0.0b302\n*********\n\n- break execution when `tb workspace create`` fails\n\n1.0.0b301\n*********\n\n- minor internal fixes\n\n1.0.0b300\n*********\n\n- remove code incompatible with python 3.7\n\n1.0.0b299\n*********\n\n- fix an issue when sending certain telemetry data to tinybird.\n\n1.0.0b298\n*********\n\n- improve error messages when pushing pipe files when the file is missing a node name, data source name or a sql query\n\n1.0.0b297\n*********\n\n- when pushing a datasource with `shared_with`, we support the option `--workspace_map`. this is useful if you have multiple workspaces where you replicate the same project like ci or staging environment\n\n1.0.0b296\n*********\n\n- internal improvements.\n\n1.0.0b295\n*********\n\n- internal regression-tests improvements.\n\n1.0.0b294\n*********\n\n- upgrade click package from 8.0.0 to 8.1.3\n\n1.0.0b293\n*********\n\n- internal regression-tests improvements.\n\n1.0.0b292\n*********\n\n- send params to the alter data source api in the body to avoid a 414 error when the url is too long\n\n1.0.0b291\n*********\n\n- improve `tb push --push-deps` to always push pipe endpoints the last when they are not a dependency of a materialized node. fixed a bug.\n\n1.0.0b290\n*********\n\n- improve `tb push --push-deps` to always push pipe endpoints the last when they are not a dependency of a materialized node\n\n1.0.0b289\n*********\n\n- add retry to `tb pipe regression-test` to retry 3 times to avoid false alerts when comparing endpoints that have continuos ingestion\n\n1.0.0b288\n*********\n\n- internal telemetry improvements.\n\n1.0.0b287\n*********\n\n- fixed adding new columns to a data source if the ttl is set to false.\n\n1.0.0b286\n*********\n\n- internal fixes.\n\n1.0.0b285\n*********\n\n- you can share a datasource directly when doing `tb push --user_token <user_token>` and the datafile contains the entry `shared_with`\n\n1.0.0b284\n*********\n\n- improved error message when `tb auth` command fails.\n\n1.0.0b283\n*********\n\n- internal improvements on regression-tests.\n\n1.0.0b282\n*********\n\n- adds `tb diff --no-verbose` to be able to run `tb diff` without showing the diff output.\n\n1.0.0b281\n*********\n\n- internal improvements on regression-tests.\n\n1.0.0b280\n*********\n\n- fix error raised when pushing copy pipes\n\n1.0.0b279\n*********\n\n- internal fixes.\n\n1.0.0b278\n*********\n\n- list bigquery connections in `tb connection ls` command\n\n1.0.0b277\n*********\n\n- added bigquery option in `tb connection create --help` command\n\n1.0.0b276\n*********\n\n- internal improvements in regression-tests.\n\n1.0.0b275\n*********\n\n- internal improvements in regression-tests.\n\n1.0.0b274\n*********\n\n- added option `--confirm_hard_delete` to be able to remove a workspace without soft delete and directly remove workspace\n\n1.0.0b273\n*********\n\n- disabling the telemetry allowing to raise the exceptions properly\n\n1.0.0b272\n*********\n\n- the cli sends telemetry data to tinybird. telemetry data helps out team understand how the commands are used so we can improve your experience. for more information and how to opt-out for this feature, please refer to our [cli docs](https://www.tinybird.co/docs/cli.html#cli-telemetry).\n\n1.0.0b271\n*********\n\n- internal change to use a new version of an internal endpoint\n\n1.0.0b270\n*********\n\n- `tb test run` outputs the information following a table\n- when a test from `tb test run` fails, the cli will raise an exception to exit 1\n\n1.0.0b269\n*********\n\n- internal improvements in regression-tests.\n\n1.0.0b268\n*********\n\n- added `tb datasource unshare` to be able to unshare a datasource.\n\n1.0.0b267\n*********\n\n- internal fixes.\n\n1.0.0b266\n*********\n\n- update clickhouse-toolset to 0.25.dev0: newer ch compatibilty and better error messages\n\n1.0.0b265\n*********\n\n- fix compatibility with python 3.7\n\n1.0.0b264\n*********\n\n- fix a bug in `tb fmt` that replaced single quotes by double quotes breaking some queries\n\n1.0.0b263\n*********\n\n- fix issue when parsing the import_query parameter.\n\n1.0.0b262\n*********\n\n- internal improvements in regression-tests.\n\n1.0.0b261\n*********\n\n- fix issue when pushing resources with `tb push --fixtures`\n\n1.0.0b260\n*********\n\n- enable `-f` option along `--force` option in `tb pull/init` to match `tb push`.\n\n1.0.0b259\n*********\n\n- docker image updated with no python dependencies defined on it.\n- pin `urllib3` and `cryptography` dependencies for more reproducible installations.\n\n1.0.0b258\n*********\n\n- improved error messages in the ``tb connection create bigquery`` command.\n\n1.0.0b257\n*********\n\n- improve error message when trying to share a datasource that does not exists.\n\n1.0.0b256\n*********\n\n- fix authentication problems when using the cli from the docker images.\n\n1.0.0b255\n*********\n\n- allow using the cli with python 3.11.\n\n1.0.0b254\n*********\n\n- improve error message when trying to push a pipe with unclosed `{% if %}`\n\n1.0.0b253\n*********\n\n- internal improvements in ``tb push`` command.\n\n1.0.0b252\n*********\n\n- minor internal improvements.\n\n1.0.0b251\n*********\n\n- `tb pipe stats` support formatting the result in json\n\n1.0.0b250\n*********\n\n- replace cydifflib by difflib\n\n1.0.0b249\n*********\n\n- fixing error when trying to run a huge sql doing `tb sql`\n\n1.0.0b248\n*********\n\n- minor changes to `tb diff`. now it shows a message when downloading remote resources, change the remote file description and remote resources are downloaded at once.\n\n1.0.0b247\n*********\n\n- `tb check` supports running validation pointing to directories\n\n1.0.0b246\n*********\n\n- minor internal improvements.\n\n1.0.0b245\n*********\n\n- minor internal improvements.\n\n1.0.0b244\n*********\n\n- fixing retry mechanism when uploading file using multipart that was raising a http timeout error\n\n1.0.0b243\n*********\n\n- fix handle exception on `tb diff`\n\n1.0.0b242\n*********\n\n- update clickhouse-toolset to 0.24.dev0: better performance, smaller size.\n\n1.0.0b241\n*********\n\n- add `--pipeline` to `tb sql` to run a sql query that refers a node in the current `--pipeline` passed as an argument. see [api docs](https://www.tinybird.co/docs/api-reference/query-api.html#id5).\n- add `--pipe` and `--node` to `tb sql` to run the sql query of a node of a pipe.\n\n1.0.0b240\n*********\n\n- minor internal improvements.\n\n1.0.0b239\n*********\n\n- minor internal improvements.\n\n1.0.0b238\n*********\n\n- minor internal improvements.\n\n1.0.0b237\n*********\n\n- fix `--ignore-order` on `tb push` or `tb pipe regression-test` to support sorting with mix of columns with null and actual values\n\n1.0.0b236\n*********\n\n- minor changes\n\n1.0.0b235\n*********\n\n- change `tb diff` to support `version`, `include` and diff folders, for instance, `tb diff pipes`\n\n1.0.0b234\n*********\n\n- fixes a bug where the cli would raise an exception if it tries to show an empty table when the terminal is small.\n\n1.0.0b233\n*********\n\n- fix `tb fmt` data sources `description` is now included\n\n1.0.0b232\n*********\n\n- add `tb prompt` with instructions on how to include info about the cli in the shell prompt\n\n1.0.0b231\n*********\n\n- fix bug for `tb workspace current` and `tb workspace clear` when working with admin workspace token.\n\n1.0.0b230\n*********\n\n- minor changes\n\n1.0.0b229\n*********\n\n- minor changes\n\n1.0.0b228\n*********\n\n- minor changes\n\n1.0.0b227\n*********\n\n- make `tb diff` format files by default, so only changes are diffed\n\n1.0.0b226\n*********\n\n- add `--unlink-on-populate-error` to automatically unlink a materialized view if a populate job fails. by default materialized views are unlinked the first time a populate job fails. see [docs](https://www.tinybird.co/docs/api-reference/pipe-api.html#post--v0-pipes-(.+)-nodes-(.+)-population) for more details.\n\n1.0.0b225\n*********\n\n- adds `tb diff` command to compare local with remote files\n\n1.0.0b224\n*********\n\n- minor improvements\n\n1.0.0b223\n*********\n\n- improve support for remote disconnect exception\n\n1.0.0b222\n*********\n\n- improve feedback message for when using `tb push --fixtures`\n\n1.0.0b221\n*********\n\n- minor changes\n\n1.0.0b220\n*********\n\n- when pushing a resource, skip it if the version of the resource exist even thought is not the lastest instead of raising an exception like we currently do.\n\n1.0.0b219\n*********\n\n- minor changes\n\n1.0.0b218\n*********\n\n- upgrade of python dependencies: requests and requests-toolbelt\n\n1.0.0b217\n*********\n\n- minor changes\n\n1.0.0b216\n*********\n\n- minor changes\n\n1.0.0b215\n*********\n\n- minor changes\n\n1.0.0b214\n*********\n\n- better `tb create workspace` help, it explains what `--user_token` does\n- display the name prompt when needed, and not requesting a non-valid option\n\n\n1.0.0b213\n*********\n\n- fix `tb fmt` with files that have `version 0`\n\n1.0.0b212\n*********\n\n- fixed json output format for `tb pipe data --format json ...`\n\n1.0.0b211\n*********\n\n- added automatic retries in timeout errors from server.\n- updated the error message handling for unsuccesful requests for populate status: this separates confirmed errors and cancellations from other possible errors where the state of the job is not known.\n\n1.0.0b210\n*********\n\n- added warning messages when pushing a materialized pipe.\n\n1.0.0b209\n*********\n\n- fixed erroneous populate when running push pipe force if the source datasource file is not found locally.\n\n1.0.0b208\n*********\n\n- skipping `.incl` files when running `tb push` as they are included files that shouldn't need to be pushed\n\n1.0.0b207\n*********\n\n- fixed url to api host in auth success reminder message.\n- fixed url to ui host with user tokens in auth interactive prompt.\n\n1.0.0b206\n*********\n\n- added -h alias for commands help\n\n1.0.0b205\n*********\n\n- improved handling of some sql queries.\n\n1.0.0b204\n*********\n\n- fix `tb test run <file> --fail` to show only failed tests.\n\n1.0.0b203\n*********\n\n- append a new node to a pipe fixed: `tb pipe append`.\n\n1.0.0b202\n*********\n\n- when running `tb auth --host xxxx`, we strip the host parameter to keep just the domain (https://xxxx.tinybird.co)\n\n1.0.0b201\n*********\n\n- improved how we deal with `workspace_map` replacements, making it more flexible, and less prone to errors.\n\n1.0.0b200\n*********\n\n- revisited the `tb test` suite, now reduced to `tb test [init,run,parse]`, simplified the tests, and based in the yaml format.\n\n1.0.0b199\n*********\n\n- better error message on missing arguments to `tb datasource append`.\n\n1.0.0b198\n*********\n\n- when running the pipe checker, we were checking that the processed bytes of the new version not to increase more than 25%. now, this validation will be optional.\n\n1.0.0b197\n*********\n\n- when running the pipe checker, we were checking that the processed bytes of the new version not to increase more than 25%. now, this validation will be optional.\n\n1.0.0b196\n*********\n\n- improve delete data source prompt message when they are the target of materialized views.\n\n1.0.0b195\n*********\n\n- minor internal fixes and improvements.\n\n1.0.0b194\n*********\n\n- support for role management using the subcommand `tb workspace members set-role`.\n\n1.0.0b193\n*********\n\n- improve `tb fmt`, now python code is better formatted\n\n1.0.0b192\n*********\n\n- allow to hide token values in the output using the `--hide-tokens` flag.\n\n1.0.0b191\n*********\n\n- add data source dependency information to `tb datasource rm`, also allowing data source forced deletion if it is the target of a materialized view.\n\n1.0.0b190\n*********\n\n- pipe checker to support non-json endpoints (.ndjson, .csv)\n\n1.0.0b189\n*********\n\n- minor internal fixes and improvements.\n\n1.0.0b188\n*********\n\n- improve error reporting when `tb push pipe_file` and there's a timeout\n\n1.0.0b187\n*********\n\n- minor fixes in `tb fmt`\n\n1.0.0b186\n*********\n\n- added a workspace creation wizard, triggered by calling `tb workspace create` without additional arguments.\n- added the new option `--starter-kit` to the `tb workspace create` command to allow applying an starter kit during workspace creation.\n\n1.0.0b185\n*********\n\n- minor fix in `tb fmt` to better report usage\n\n1.0.0b184\n*********\n\n- add `tb fmt datafile_path` to format a local datafile\n\n1.0.0b183\n*********\n\n- fix `tb pipe data` to actually respect the query pass as parameter\n\n1.0.0b182\n*********\n\n- fix when running `regression-test`\n\n1.0.0b181\n*********\n\n- add option to truncate all depending data sources in cascade using a new flag `tb truncate --cascade ds_name`\n\n1.0.0b180\n*********\n\n- remove when running `tb push` or `tb regression-test`  the validation of response time not increasing > 25% as the response time can variate according the the status of the cluster. instead we have added a validation of the bytes read as it remains constant\n\n1.0.0b179\n*********\n\n- improve error reporting\n\n1.0.0b178\n*********\n\n- fix issue when dealing with server gateway errors\n\n1.0.0b177\n*********\n\n- internal improvements when dealing with server gateway errors\n\n1.0.0b176\n*********\n\n- added `--override-datasource` to `tb push` to override an existing data source by a new one with different settings when creating a materialized view\n\n1.0.0b175\n*********\n\n- avoid requesting `used_by` field when doing calls to `/v0/datasources` to avoid unncessary work\n\n1.0.0b174\n*********\n\n- added `--ignore-empty` to `tb datasource replace` to not throw error if the data is empty\n\n1.0.0b173\n*********\n\n- fix: avoid removing a pipe when running `tb push --force` and the push fails because there's an error in any node. if the pipe can't be overridden, the current pipe remains untouched.\n- fix: avoid removing the data source of a materialized view when running `tb push --force`. the materialized view gets unlinked, but the data source won't be removed.\n\n1.0.0b172\n*********\n\n- added support for codecs when using json schemas in .datasource files\n\n1.0.0b171\n*********\n\n- when doing `tb push` or `tb regression-test`, the pipe checker will verify if new versions of the endpoint does not have a degradation of respose time.\n\n1.0.0b170\n*********\n\n- update clickhouse-toolset to 0.21.dev0 to provide better dependency detection when pushing projects.\n\n1.0.0b169\n*********\n\n- added `api` column to `tb auth ls` output.\n\n1.0.0b168\n*********\n\n- fix encoding when pushing a pipe.\n\n1.0.0b167\n*********\n\n- added new workspace members management commands.\n\n1.0.0b166\n*********\n\n- fix `tb datasource append` command by making url not mandatory.\n\n1.0.0b165\n*********\n\n- add mandatory target data source argument for most `tb datasource x` commands.\n\n1.0.0b164\n*********\n\n- fix bug `tb workspace delete` should ask for a user token if not provided.\n\n1.0.0b163\n*********\n\n- add `--token` as a valid flag for `tb auth`.\n\n1.0.0b162\n*********\n\n- internal fix\n\n1.0.0b161\n*********\n\n- add support for modifying the data source ttl\n\n1.0.0b160\n*********\n\n- fix default array values in data source schemas: `arr array(string) default ['-']`\n\n1.0.0b159\n*********\n- added `tb datasource share` to be able to share a datasource with another workspace\n- added `--fork` option to `tb workspace create` to share all the datasources when the workspace gets created\n\n1.0.0b158\n*********\n\n- change `tb workspace clear` to skip shared data sources correctly.\n\n1.0.0b157\n*********\n\n- remove `--populate-sql-condition` alias since it was misleading, it's enough with `tb push pipe --populate --sql-condition \"the_condition\"``\n\n1.0.0b156\n*********\n\n- improved `tb auth`. now it automatically selects the proper region based on the provided token.\n\n1.0.0b155\n*********\n\n- partially fix a bug that makes comments and sql formatting to change before pushing a datafile\n\n1.0.0b154\n*********\n\n- fixed problem with update version warning being displayed when using `--token`. now the update version warning is never displayed with this command.\n\n1.0.0b153\n*********\n\n- new `tb pipe populate` command\n\n1.0.0b152\n*********\n\n- deprecate engine_full option.\n\n1.0.0b151\n*********\n\n- update command `tb workspace clear`. now deletes all files in the workspace, not only the ones you have in your local folder.\n\n\n1.0.0b150\n*********\n\n- added option `--sample-by-params` when running `tb push -f` or `tb pipe regression-test` to specify the number of sample calls to validate against. for each combination of query parameters, we will sample the data and validate the results.\n\n1.0.0b149\n*********\n\n- update clickhouse-toolset to 0.20.dev0\n\n1.0.0b148\n*********\n\n- add `tb pipe publish` and `tb pipe unpublish` commands\n\n1.0.0b147\n*********\n\n- add `--recursive` flag to `tb dependencies` to get recursive dependencies\n- add `--populate-sql-condition` as an alias for `tb push pipe --populate --sql-condition`\n\n1.0.0b146\n*********\n\n- improved documentation on `tb test` commands\n- improved readibility of `tb test`\n- `tb test run` return non-zero exit code on failure\n- `--fixtures` option ndjson fixtures (only csv was supported before)\n\n1.0.0b145\n*********\n\n- add `--sql-condition` to send an arbitrary sql condition together with the `--populate` flag when pushing a materialized pipe. see `tb push --help` for usage information.\n\n1.0.0b144\n*********\n\n- report errors 500\n\n1.0.0b143\n*********\n\n- add support to create/update tokens from datasource definition\n\n1.0.0b142\n*********\n\n- when running the pipe checker, checker endpoints will added to the token scope if token is specified\n\n1.0.0b141\n*********\n\n- publishing docker images for linux/arm64 arch next to the existing linux/amd64 arch\n\n1.0.0b140\n*********\n\n- fix cli for os without clickhouse-toolset available\n\n1.0.0b139\n*********\n\n- add force format option (json) to datasource / pipe ls\n\n1.0.0b138\n*********\n\n- fix cli for os without clickhouse-toolset available\n\n1.0.0b137\n*********\n\n- drop support for `--skip-table-checks`\n\n1.0.0b136\n*********\n\n- deprecate `--skip-table-checks`\n\n1.0.0b135\n*********\n\n- update clickhouse-toolset to 0.19.dev2\n\n1.0.0b134\n*********\n\n- update clickhouse-toolset to 0.19.dev0: improved performance and better checks around clickhouse functions\n\n1.0.0b133\n*********\n\n- now `tb check` verifies also query syntax\n\n1.0.0b132\n*********\n\n- upgraded click package from version 7.0.0 to 8.0.0\n\n1.0.0b131\n*********\n\n- new tb test feature.\n\n1.0.0b130\n*********\n\n- fix tinybird-cli releases for python 3.10\n\n1.0.0b129\n*********\n\n- connectors performing multiple appends at once but honoring gcp limitations\n\n1.0.0b128\n*********\n\n- changed the http client for the cli\n\n1.0.0b127\n*********\n\n- added new metrics about endpoint response times (max,min,mean,median an p90) on `pipe` command `regression-test`\n\n1.0.0b126\n*********\n\n- connectors fixes and improvements\n\n1.0.0b125\n*********\n\n- connectors performing multiple appends at once to improve performance\n\n1.0.0b124\n*********\n\n- fixes in `tb materialize`\n- now `tb materialize` properly supports `--prefix` and datafiles with `version`\n- removed unneeded prompts, the command does not ask you to override resources when it's not necessary\n- changed command prompts so they explain better the action to be performed\n- added `tb materialize` documentation\n\n1.0.0b123\n*********\n\n- revert to 1.0.0b121\n\n1.0.0b122\n*********\n\n- update clickhouse-toolset to 0.17.dev2: improved performance and better checks around clickhouse functions\n\n1.0.0b121\n*********\n\n- connectors fix and improvements\n\n1.0.0b120\n*********\n\n- added `--failfast/-ff` and `--ignore-order` to `tb pipe regression-test` and `tb push`\n\n1.0.0b119\n*********\n\n- add support for creating/deleting workspaces\n\n1.0.0b118\n*********\n\n- improved syntax error reporting\n\n1.0.0b117\n*********\n\n- fix dependencies check on `tb push`\n\n1.0.0b116\n*********\n\n- return better error when accessing wrong resources\n\n1.0.0b115\n*********\n\n- `tb materialize` command now is interactive\n\n1.0.0b114\n*********\n\n- add support for description in datasources\n\n1.0.0b113\n*********\n\n- fixed problem with tb push datasource\n\n1.0.0b112\n*********\n\n- fixed problem with web requests on windows\n\n1.0.0b111\n*********\n\n- requests send by the checker will be tag to avoid running always, so we can ignore them if run again the checker\n- now checker will run a sample of requests by each group of params. this way, we improve the coverage of the endpoints\n- improve checker diff to provide much more feedback when something is different between original result and checker one\n\n1.0.0b110\n*********\n\n- nodes with type materialized won't be published as endpoints anymore. this was a historic design decision we are changing due to multiple side effects.\n- this change adds a breaking change: if you had a pipe using the name of a materialized node, and the materialized node is not published as an endpoint the pipe won't work. to fix the issue you have to make your pipes depend on the materialized node target data source.\n\n1.0.0b109\n*********\n\n- improve feedback if server returns something that the http client can not parse\n\n1.0.0b108\n*********\n\n- replace `--populate --sample` by `--populate --subset`, since `sample` was misleading.\n\n1.0.0b107\n*********\n\n- add option --skip-incompatible-partition-key when replacing a data source with condition, i.e: `tb datasource replace <name> --skip-incompatible-partition-key`\n\n1.0.0b106\n*********\n\n- fixed push kafka ds with custom columns (!3079)\n\n1.0.0b105\n*********\n\n- change `tb pipe ls`, now it returns when a pipe was modified and not just when it was created\n\n1.0.0b104\n*********\n\n- fix cli format auto detection with urls (!3054)\n\n1.0.0b103\n*********\n\n- fix `tb push path/` allowing to push the content of a directory.\n\n1.0.0b102\n*********\n\n- add option to clear the workspace by running `tb workspace clear`\n\n1.0.0b101\n*********\n\n- add support for parquet files\n\n1.0.0b100\n*********\n\n- add `tb materialize path/to/pipe.pipe node_name`. it analyzes the `node_name` sql query to generate the `.datasource` and `.pipe` files needed to push a new materialize view.\n\n1.0.0b99\n********\n\n- fix broken release 1.0.0b98. the published package missed one dependency required for some commands.\n\n1.0.0b98\n********\n\n- `tb auth --interactive` now supports custom regions\n\n1.0.0b97\n********\n\n- add `--sample` option for `--populate`\n\n1.0.0b96\n********\n\n- use 'replace' instead of 'append' when pushing fixtures.\n\n1.0.0b95\n********\n\n- fix broken release 1.0.0b94.\n\n1.0.0b94\n********\n\n- changed the name for workspace plans.\n\n1.0.0b93\n********\n\n- improved error message format pushing a pipe.\n\n1.0.0b92\n********\n\n- added a new command to perform regression tests. see `tb pipe regression-test --help` for more information about the new command.\n\n1.0.0b91\n********\n\n- update clickhouse-toolset to 0.15dev1: performance improvements in query parsing and replacement and fixes an issue with the m1 build depending on system libraries.\n\n1.0.0b90\n********\n\n- rollback to 1.0.0b88\n\n1.0.0b89\n********\n\n- update clickhouse-toolset to 0.15dev0: performance improvements in query parsing and replacement and fixes an issue with the m1 build depending on system libraries.\n\n\n1.0.0b88\n********\n\n- increased timeout for `tb dependencies` for situations where a data source contains a large number of dependent data sources.\n\n\n1.0.0b87\n********\n\n- added a way to check the dependencies of a data source that would be affected by a partial replace. example: `tb dependencies --datasource my_datasource --check-for-partial-replace`\n\n1.0.0b86\n********\n\n- return 1 as an exit code (not zero) in case of a problem appending to a datasource\n\n1.0.0b85\n********\n\n- checker should raise an error when fails retrieving most common requests while performing regression tests\n\n1.0.0b84\n********\n\n- improved error message suggesting `--skip-table-checks`\n- return file path for `push` errors\n\n1.0.0b83\n********\n\n- fixed a bug when pushing a pipe with the `token` command\n\n1.0.0b82\n********\n\n- forcing checker to be a standard pipe even when pushing with force a materialized view pipe\n\n1.0.0b81\n********\n\n- improve message showed in imports/replaces when the operation is not correctly configured.\n\n1.0.0b80\n********\n\n- when pulling a resource with versioned dependencies, dependecy names are correctly replaced by the original names\n\n1.0.0b78\n********\n\n- when pushing a new resource with versioning, sucessful create message displays the name with the version\n\n1.0.0b77\n********\n- changed dry-run prompts to include resources versions\n\n1.0.0b76\n********\n- fix authentication using localhost without http/https prefix\n\n1.0.0b75\n********\n- add `delete` subcommand to datasource to delete rows matching a sql condition\n\n1.0.0b74\n********\n- fixed problem with new version warning not being displayed\n\n1.0.0b73\n********\n- added shortcut `-i` to `tb auth --interactive`\n- removed explorations folder as it is not used and cause confusion\n\n1.0.0b72\n********\n- update clickhouse-toolset to 0.14dev1.\n\n1.0.0b71\n********\n- fix table macro to work with shared data sources\n\n1.0.0b70\n********\n- update clickhouse-toolset to 0.14dev0.\n\n1.0.0b69\n********\n- removed `--skip_update_validation` in favor of `--version_warning`\n\n1.0.0b68\n********\n- fix installation when the toolset binary dependency isn't available. improve osx 11 support.\n\n1.0.0b67\n********\n- add support to validate and replace queries locally (on selected architectures and oss).\n\n1.0.0b66\n********\n- added support for multi-region auth\n\n1.0.0b65\n********\n- fixes a problem when pushing a kafka data source with the new `kafka_store_raw_value` key.\n- improved the message shown when a user tries to `push --force` a kafka data source.\n- when using snowflake connector, the csv exported to tb will be represented by and empty space between delimeters ( ex: `,,`)\n\n1.0.0b64\n********\n- fixes tb auth when already ran a sucessful auth\n\n1.0.0b63\n********\n- fix auth error when trying to remove datasource/pipe\n\n1.0.0b62\n********\n- added `--timeout` option when running `tb push <pipe>`\n\n1.0.0b61\n********\n- cli client will retry when reach request limit (http code 429)\n\n1.0.0b60\n********\n- `push`, `pull` and `append` now work with ndjson\n\n1.0.0b59\n********\n- improve cli message when gcs compose does not have data because sql query did not return any\n\n1.0.0b58\n********\n- added option `--skip-update-validation` to skip the update validation that the cli does to check for a new version\n\n1.0.0b57\n********\n- support `--token` and `--host` param for `auth` and `workspace` commands. this is useful when you want to automate commands via shell scripts or similar and you want to pass those parameters via environment variables without having to do `tb auth` with the token prompt. for instance `tb --token <token> workspace ls` will list the workspaces for the token passed as a parameter.\n\n1.0.0b56\n********\n- fixed push when shared datasources are used in a sql. shared datasources names are pushed as-is.\n\n1.0.0b55\n********\n- removed the following 'tb auth' commands: 'tb auth use', 'tb auth ls', 'tb auth add', and 'tb auth rm'.\n- fixed 'tb workspace ls' command to list correctly the workspaces a user has access to.\n- added 'tb workspace use' command to switch between the workspaces a user has access to.\n\n1.0.0b54\n********\n- fixed push pipes with escaped quotes\n- bump snowflake client to 2.6.1\n\n1.0.0b53\n********\n- changed `tb datasource generate` and `tb datasource analyze` to use the new `v0/analyze` api. it works with local and remote csv and ndjson files and snowflake tables.\n\n1.0.0b52\n********\n- added the posibility of using env variables in a template. for example, you can have a statements like this\n\n```\ninclude \"includes/${env}_secrests.incl\"\n```\n\nand call tb like this\n\n```\nenv=test tb push file.datasource\n```\n- added --no-versions to push so dependencies versions are not used. useful for data migrations.\n\n\n\n1.0.0b51\n********\n- changed internal user authentication.\n- added the possibility to use a workspace as a dependecy. see `tb push --workspace` option.\n\n1.0.0b50\n********\n- ``fixed`` fixed duplicated rows in snowflake connector import\n\n1.0.0b49\n********\n- fixed snowflake secrets file generation when running `tb auth --connector snowflake` wizard\n\n1.0.0b48\n********\n- when new version available, the message will return the pip command to execute\n\n\n1.0.0b47\n********\n- fix error given when trying to delete a non-existent data source\n- add flag to save data sources and pipes into their own directories, it respects the default behaviour\n- instead of avoid push an already defined data source from a materialized node, only raise an error if the schema and the engine don't match\n- capture error properly during a populate job that fails\n\n\n1.0.0b46\n********\n- enable connection commands\n- support push and pull kafka data sources\n\n1.0.0b45\n********\n- add `shared from` to the `datasource ls` command to show data source's original workspace.\n\n\n1.0.0b44\n********\n\n- support sql in nodes with no indentation\n- standardize `ls` command output\n- add `--only-response-times` flag when pushing a pipe. it'll just run regression tests related to check response times\n\n\n1.0.0b43\n********\n\n- improve pull command to make it able to interact with shared data sources.\n\n\n1.0.0b42\n********\n\n- improve parser's error handling of files: add line number\n\n\n1.0.0b41\n********\n\n- fix url escaping with tb generate\n\n\n1.0.0b40\n********\n\n- automatically prettify .tinyb files\n\n\n1.0.0b39\n********\n\n- improved host option. you can use urls ended with a backslash or not. example: `tb --host https://my-host/ auth`\n\n\n1.0.0b38\n********\n\n- fixed misleading warnings when pushing a pipe, related to join tables.\n- fixed a bug parsing the data sources statistics when running ``tb datasource ls``\n- changed error message in case the datasource pushed has incorrect syntax, now it gives hints on the part of the schema that is wrong.\n\n\n1.0.0b37\n********\n\n- gives better error messages in case the sql in a node exceeds the current size limits (8kb).\n\n\n1.0.0b36\n********\n\n- the option `--ignore-sql-errors` in `tb push` is no longer needed as we have fixed one of the underlying issues that was forcing its use on certain occasions.\n\n\n1.0.0b35\n********\n\n- added ``tb connection' commands``. supported connectors: kafka\n- added ``tb datasource connect <id>`` command. supported connectors: kafka\n\n1.0.0b34\n********\n\n- improved the message showed in case a pipe being pushed gets removed in the middle of the operation.\n- improved the way the cli detect changes when working with resources with and without prefixes.\n\n\n1.0.0b33\n********\n\n- enables the possibility to add new columns to an existing datasource.\n\n\n1.0.0b32\n********\n\n- fix ``drop-prefix`` command, now it drops first pipes and its dependencies and then source data sources\n\n\n1.0.0b31\n********\n\n- do no report negative lines on append\n- auth improvements and changes. credentials precendence set to `--token` => `tb_token` envvar => `.tinyb` file.\n\n\n1.0.0b30\n********\n\n- improve server error handling and sort datasource's dependencies.\n- fix the job tracking in cli operations when the job enters cancelled status.\n- fix returning an error if there are wrong options when creating a data source\n\n\n1.0.0b29\n********\n\n- added support for python 3.9\n\n\n1.0.0b28\n********\n\n- changed ``--skip-table-check`` error message to indicate how to use the flag\n- fixed checking content-type header\n\n\n1.0.0b27\n********\n\n- added flag ``--skip-table-check`` to skip materialized view and table checks\n\n1.0.0b26\n********\n\n- fix regression tests execution.\n\n1.0.0b25\n********\n\n- added support for job cancellation `tb job cancel <job_id>`\n\n1.0.0b24\n********\n\n- added support for `ingesting data from snowflake <https://docs.tinybird.co/cli/snowflake.html>`_\n\n\n1.0.0b23\n********\n\n- added support for truncate operations `tb datasource truncate <datasource_name>`\n- added support for replace operations `tb datasource replace <datasource_name> <url or file>`\n- added support for replace with condition operations `tb datasource replace <datasource_name> <url or file> --sql-condition=\"country='es'\"`\n- added support for `ingesting data from bigquery <https://docs.tinybird.co/cli/bigquery.html>`_\n- fix --wait option on populate\n- report progress bar when waiting for a populate job to finish\n- pull also resources with prefixes\n- disable detecting token envvar\n- fix auth from other commands\n\n\n1.0.0b22\n********\n\n- add support for ``engine_settings`` and ``engine_ttl``\n\n\n1.0.0b21\n********\n\n- added population time to populate pipe option. it returns the actual population time from the population job when debug is used along with populate and wait options.\n\n1.0.0b20\n********\n\n- add missing dependency. it fixes version 1.0.0b19\n\n1.0.0b19\n********\n\n- remove red color on pull (#847) (!1243)\n- change color palette feedback (!1243)\n- when doing a query against a datasource that doesn't exist, the cli returns a proper error (#846) (!1243)\n- fix 'blog_log' key error when pulling (#656) (!1243)\n- make tb commands async (!1243)\n- display a warning if there is a more recent version (#950) (!1243)\n\n1.0.0b18\n********\n\n- fix sql command (!1264)\n\n1.0.0b17\n********\n\n- fix auth cli workspace commands (!1256)\n\n1.0.0b16\n********\n\n- add cli workspace commands (!1246)\n\n1.0.0b15\n********\n\n- support for csv and json output to \"sql\" cli command\n- fixed ``datasource rm`` command not working when there is a mv pointing to the datasource being removed\n\n\n1.0.0b14\n********\n\n- added missed dependency. it fixes version 1.0.0b13.\n\n\n1.0.0b13\n********\n\n- added wait option to push command for waiting the populate job to finish.\n- fixed appending large files (more than 2gb). now, files are uploaded using multipart and without loading the whole file in memory. (!833)(!1221)\n- added feedback about appended rows, total rows and errors to append command output  (!1205)\n\n1.0.0b12\n********\n\n- added support for `engine options to match the api parameters <https://docs.tinybird.co/api-reference/datasource-api.html#engines-parameters-and-options>`_\n- deprecating engine_full, sorting_key, primary_key, sampling_key, and ttl options.\n- added job commands to list jobs and see job details\n- added pipe_stats command\n- new set of tokens are created per prefix\n- fixed drop-prefix to remove resources in the right order\n\n1.0.0b11\n********\n\n- better error reporting when a table for a data source does not exist (!1020)\n\n1.0.0b10\n********\n\n- better error reporting when pushing a not supported file extension (!966)\n\n1.0.0b9\n*******\n\n- fix parsing schemas in datasource files when using aggregate function (!956)\n\n1.0.0b8\n*******\n\n- fix cli error when pushing fixtures (!938)\n\n2020-08-28 1.0.0b7\n******************\n\n- support for python versions 3.6, 3.7 and 3.8 for both macosx and linux\n\n2020-08-26: 1.0.0b6\n*******************\n\n- fixes saving pipe descriptions on pull and push\n\n\n2020-08-24: 1.0.0b5\n*******************\n- fixes appending a datasource from a url\n\n\n2020-08-10: 1.0.0b4\n*******************\n- fixes the version parser.\n\n2020-08-10: 1.0.0b3\n*******************\n- limited the amount of rows fetched when running ``tb sql`` to 100. added ``--row-limit``.\n- fixed warning when pipes use internal tables like ``datasources_ops_log``\n- raise an error when ``insert`` sql statement is used.\n",
  "docs_url": null,
  "keywords": "",
  "license": "",
  "name": "tinybird-cli",
  "package_url": "https://pypi.org/project/tinybird-cli/",
  "project_url": "https://pypi.org/project/tinybird-cli/",
  "project_urls": {
    "Homepage": "https://docs.tinybird.co/cli.html"
  },
  "release_url": "https://pypi.org/project/tinybird-cli/2.0.0/",
  "requires_dist": [
    "click (<8.2,>=8.1.6)",
    "clickhouse-toolset (==0.28.dev0)",
    "colorama (==0.4.6)",
    "cryptography (>=3.4.8)",
    "croniter (==1.3.8)",
    "GitPython (==3.1.29)",
    "humanfriendly (==8.2)",
    "pyperclip (==1.8.2)",
    "pyyaml (<6.1,>=6.0)",
    "requests (<3,>=2.28.1)",
    "shandy-sqlfmt (==0.11.1)",
    "shandy-sqlfmt[jinjafmt] (==0.11.1)",
    "toposort (==1.10)",
    "tornado (==5.1.1)",
    "urllib3 (<2,>=1.26.14)",
    "wheel",
    "packaging (<24,>=23.1)",
    "gsutil (==4.58) ; extra == 'bigquery'",
    "google-api-python-client (==2.0.2) ; extra == 'bigquery'",
    "google-auth (==1.27.1) ; extra == 'bigquery'",
    "google-auth-httplib2 (==0.1.0) ; extra == 'bigquery'",
    "google-cloud-storage (==2.4.0) ; extra == 'bigquery'",
    "google-cloud-bigquery (==2.11.0) ; extra == 'bigquery'",
    "snowflake-connector-python (==2.7.1) ; extra == 'snowflake'",
    "gsutil (==4.58) ; extra == 'snowflake'",
    "google-api-python-client (==2.0.2) ; extra == 'snowflake'",
    "google-auth (==1.27.1) ; extra == 'snowflake'",
    "google-auth-httplib2 (==0.1.0) ; extra == 'snowflake'",
    "google-cloud-storage (==2.4.0) ; extra == 'snowflake'",
    "oauth2client (==3.0.0) ; extra == 'snowflake'",
    "chardet (<4,>=3.0.2) ; extra == 'snowflake'",
    "pyOpenSSL (<20.0.0,>=16.2.0) ; extra == 'snowflake'"
  ],
  "requires_python": ">=3.8, <3.12",
  "summary": "tinybird command line tool",
  "version": "2.0.0",
  "releases": [],
  "developers": [
    "support@tinybird.co",
    "tinybird"
  ],
  "kwds": "tinybird tinybirdco migrate migrating migrations",
  "license_kwds": "",
  "libtype": "pypi",
  "id": "pypi_tinybird_cli",
  "homepage": "https://docs.tinybird.co/cli.html",
  "release_count": 487,
  "dependency_ids": [
    "pypi_chardet",
    "pypi_click",
    "pypi_clickhouse_toolset",
    "pypi_colorama",
    "pypi_croniter",
    "pypi_cryptography",
    "pypi_gitpython",
    "pypi_google_api_python_client",
    "pypi_google_auth",
    "pypi_google_auth_httplib2",
    "pypi_google_cloud_bigquery",
    "pypi_google_cloud_storage",
    "pypi_gsutil",
    "pypi_humanfriendly",
    "pypi_oauth2client",
    "pypi_packaging",
    "pypi_pyopenssl",
    "pypi_pyperclip",
    "pypi_pyyaml",
    "pypi_requests",
    "pypi_shandy_sqlfmt",
    "pypi_snowflake_connector_python",
    "pypi_toposort",
    "pypi_tornado",
    "pypi_urllib3",
    "pypi_wheel"
  ]
}