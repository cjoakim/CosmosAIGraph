{
  "libtype": "npm",
  "libname": "ioredis",
  "url": "https://github.com/luin/ioredis#readme",
  "html": "<!DOCTYPE html><html  lang=\"en\"    data-color-mode=\"auto\" data-light-theme=\"light\" data-dark-theme=\"dark\"  data-a11y-animated-images=\"system\" data-a11y-link-underlines=\"true\"  >  <head>    <meta charset=\"utf-8\">  <link rel=\"dns-prefetch\" href=\"https://github.githubassets.com\">  <link rel=\"dns-prefetch\" href=\"https://avatars.githubusercontent.com\">  <link rel=\"dns-prefetch\" href=\"https://github-cloud.s3.amazonaws.com\">  <link rel=\"dns-prefetch\" href=\"https://user-images.githubusercontent.com/\">  <link rel=\"preconnect\" href=\"https://github.githubassets.com\" crossorigin>  <link rel=\"preconnect\" href=\"https://avatars.githubusercontent.com\">    <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/light-0eace2597ca3.css\" /><link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/dark-a167e256da9c.css\" /><link data-color-theme=\"dark_dimmed\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_dimmed-d11f2cf8009b.css\" /><link data-color-theme=\"dark_high_contrast\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_high_contrast-ea7373db06c8.css\" /><link data-color-theme=\"dark_colorblind\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_colorblind-afa99dcf40f7.css\" /><link data-color-theme=\"light_colorblind\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/light_colorblind-af6c685139ba.css\" /><link data-color-theme=\"light_high_contrast\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/light_high_contrast-578cdbc8a5a9.css\" /><link data-color-theme=\"light_tritanopia\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/light_tritanopia-5cb699a7e247.css\" /><link data-color-theme=\"dark_tritanopia\" crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" data-href=\"https://github.githubassets.com/assets/dark_tritanopia-9b32204967c6.css\" />    <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/primer-primitives-2ef2a46b27ee.css\" />    <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/primer-711f412bb361.css\" />    <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/global-4803cd254267.css\" />    <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/github-f4d857cbc96a.css\" />  <link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/repository-6247ca238fd4.css\" /><link crossorigin=\"anonymous\" media=\"all\" rel=\"stylesheet\" href=\"https://github.githubassets.com/assets/code-6d7b4ef0ea51.css\" />    <script type=\"application/json\" id=\"client-env\">{\"locale\":\"en\",\"featureFlags\":[\"code_vulnerability_scanning\",\"copilot_conversational_ux_history_refs\",\"copilot_chat_attach_knowledge\",\"copilot_chat_knowledge_base_copy\",\"copilot_smell_icebreaker_ux\",\"copilot_implicit_context\",\"docset_management_ui\",\"copilot_chat_settings\",\"failbot_handle_non_errors\",\"geojson_azure_maps\",\"image_metric_tracking\",\"marketing_forms_api_integration_contact_request\",\"marketing_pages_search_explore_provider\",\"turbo_experiment_risky\",\"sample_network_conn_type\",\"no_character_key_shortcuts_in_inputs\",\"custom_inp\",\"remove_child_patch\"]}</script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/wp-runtime-47578fb192fd.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_dompurify_dist_purify_js-6890e890956f.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-a4c183-79f9611c275b.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-6a10dd-e66ebda625fb.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-479802999bcc.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/environment-fe7570f3bc38.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-9f960d9b217c.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js-086f7a27bac0.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-c76945c5961a.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-29dc30-a2a71f11a507.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-12366198e7a5.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-8a621df59e80.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-b7d8f4-654130b7cde5.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-5dccdf-e5e2b9fa3c0c.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/github-elements-e4eda4896b4e.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/element-registry-b99c9d8fad1d.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-978abc0-add939c751ce.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-5b376145beff.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_alive-client_dist-bf5aa2-1b562c29ab8e.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_morphdom_dist_morphdom-esm_js-5bff297a06de.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-c91f4ad18b62.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-72c9fbde5ad4.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_scroll-anchoring_dist_scro-231ccf-aa129238d13b.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_dimensions_js-node_modules_github_jtml_lib_index_js-95b84ee6bc34.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_session-resume_dist_index_js-node_modules_primer_behaviors_dist_e-da6ec6-3f39339c9d98.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_github_quote-select-67e0dc-1aa35af077a4.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_updatable-content_ts-ee3fc84d7fb0.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_onfocus_ts-app_ass-421cec-9de4213015af.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-94209c43e6af.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-467754-f9bd433e9591.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-9285faa0e011.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_blob-anchor_ts-app_assets_modules_github_filter-sort_ts-app_assets_-c96432-da3733f430b8.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/behaviors-1fb9e5061509.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-d0256ebff5cd.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/notifications-global-352d84c6cc82.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_virtualized-list_es_index_js-node_modules_github_template-parts_lib_index_js-878844713bc9.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-c537341-c7f6a41a084c.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_github_ref-selector_ts-b593b93f23f5.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/codespaces-1a8626dd714a.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_mini-throt-08ab15-3e0517baca99.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_github_mini-th-55cf52-e14cb4b719b4.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/repositories-69068e0899f9.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/code-menu-614feb194539.js\"></script>    <title>GitHub - redis/ioredis: \ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js.</title>  <meta name=\"route-pattern\" content=\"/:user_id/:repository\" data-turbo-transient>  <meta name=\"route-controller\" content=\"files\" data-turbo-transient>  <meta name=\"route-action\" content=\"disambiguate\" data-turbo-transient>      <meta name=\"current-catalog-service-hash\" content=\"82c569b93da5c18ed649ebd4c2c79437db4611a6a1373e805a3cb001c64130b7\">  <meta name=\"request-id\" content=\"CBD3:82CA:9AD090:E461C8:65E793EB\" data-pjax-transient=\"true\"/><meta name=\"html-safe-nonce\" content=\"762831904f39c4dcedf2b00a52d4f4b61a08f5e4c3c6afb091c661537b8ee626\" data-pjax-transient=\"true\"/><meta name=\"visitor-payload\" content=\"eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiJDQkQzOjgyQ0E6OUFEMDkwOkU0NjFDODo2NUU3OTNFQiIsInZpc2l0b3JfaWQiOiI0NjAzMjA1OTIzNjA3NTMxIiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=\" data-pjax-transient=\"true\"/><meta name=\"visitor-hmac\" content=\"8dcc5f0a9558c41e77d3bab826c107c72f838e2c012b7664f77fba2211ec438f\" data-pjax-transient=\"true\"/>    <meta name=\"hovercard-subject-tag\" content=\"repository:33293613\" data-turbo-transient>  <meta name=\"github-keyboard-shortcuts\" content=\"repository,copilot\" data-turbo-transient=\"true\" />    <meta name=\"selected-link\" value=\"repo_source\" data-turbo-transient>  <link rel=\"assets\" href=\"https://github.githubassets.com/\">    <meta name=\"google-site-verification\" content=\"c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY\">  <meta name=\"google-site-verification\" content=\"KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU\">  <meta name=\"google-site-verification\" content=\"ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA\">  <meta name=\"google-site-verification\" content=\"GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc\">  <meta name=\"google-site-verification\" content=\"Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I\"><meta name=\"octolytics-url\" content=\"https://collector.github.com/github/collect\" />  <meta name=\"analytics-location\" content=\"/&lt;user-name&gt;/&lt;repo-name&gt;\" data-turbo-transient=\"true\" />        <meta name=\"user-login\" content=\"\">      <meta name=\"viewport\" content=\"width=device-width\">          <meta name=\"description\" content=\"\ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js. - redis/ioredis\">      <link rel=\"search\" type=\"application/opensearchdescription+xml\" href=\"/opensearch.xml\" title=\"GitHub\">    <link rel=\"fluid-icon\" href=\"https://github.com/fluidicon.png\" title=\"GitHub\">    <meta property=\"fb:app_id\" content=\"1401488693436528\">    <meta name=\"apple-itunes-app\" content=\"app-id=1477376905, app-argument=https://github.com/redis/ioredis\" />      <meta name=\"twitter:image:src\" content=\"https://opengraph.githubassets.com/93a3be58aa9a9214fe9258314cdae90ed29d94eeb224fe59a008d234b2c0c464/redis/ioredis\" /><meta name=\"twitter:site\" content=\"@github\" /><meta name=\"twitter:card\" content=\"summary_large_image\" /><meta name=\"twitter:title\" content=\"GitHub - redis/ioredis: \ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js.\" /><meta name=\"twitter:description\" content=\"\ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js. - redis/ioredis\" />      <meta property=\"og:image\" content=\"https://opengraph.githubassets.com/93a3be58aa9a9214fe9258314cdae90ed29d94eeb224fe59a008d234b2c0c464/redis/ioredis\" /><meta property=\"og:image:alt\" content=\"\ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js. - redis/ioredis\" /><meta property=\"og:image:width\" content=\"1200\" /><meta property=\"og:image:height\" content=\"600\" /><meta property=\"og:site_name\" content=\"GitHub\" /><meta property=\"og:type\" content=\"object\" /><meta property=\"og:title\" content=\"GitHub - redis/ioredis: \ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js.\" /><meta property=\"og:url\" content=\"https://github.com/redis/ioredis\" /><meta property=\"og:description\" content=\"\ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js. - redis/ioredis\" />              <meta name=\"hostname\" content=\"github.com\">        <meta name=\"expected-hostname\" content=\"github.com\">  <meta http-equiv=\"x-pjax-version\" content=\"b9fa4cafade57d606c6dcfafff1d08bd597980af7b9837ed473fdf0cdea8a3bc\" data-turbo-track=\"reload\">  <meta http-equiv=\"x-pjax-csp-version\" content=\"5dcfbec3488c5fd5a334e287ce6a17058b7d4beb91db2d4d184e4d55bbf1d7d7\" data-turbo-track=\"reload\">  <meta http-equiv=\"x-pjax-css-version\" content=\"d33c7c2fcff40783f3002896023f41e2c17ec62b12ddbe7434e2001d743fb853\" data-turbo-track=\"reload\">  <meta http-equiv=\"x-pjax-js-version\" content=\"4ba4a7cc07194c8d5f24291dea4fbc790ffd83ba40beacaf8d0117187b571b4d\" data-turbo-track=\"reload\">  <meta name=\"turbo-cache-control\" content=\"no-preview\" data-turbo-transient=\"\">      <meta data-hydrostats=\"publish\">  <meta name=\"go-import\" content=\"github.com/redis/ioredis git https://github.com/redis/ioredis.git\">  <meta name=\"octolytics-dimension-user_id\" content=\"1529926\" /><meta name=\"octolytics-dimension-user_login\" content=\"redis\" /><meta name=\"octolytics-dimension-repository_id\" content=\"33293613\" /><meta name=\"octolytics-dimension-repository_nwo\" content=\"redis/ioredis\" /><meta name=\"octolytics-dimension-repository_public\" content=\"true\" /><meta name=\"octolytics-dimension-repository_is_fork\" content=\"false\" /><meta name=\"octolytics-dimension-repository_network_root_id\" content=\"33293613\" /><meta name=\"octolytics-dimension-repository_network_root_nwo\" content=\"redis/ioredis\" />    <link rel=\"canonical\" href=\"https://github.com/redis/ioredis\" data-turbo-transient>  <meta name=\"turbo-body-classes\" content=\"logged-out env-production page-responsive\">  <meta name=\"browser-stats-url\" content=\"https://api.github.com/_private/browser/stats\">  <meta name=\"browser-errors-url\" content=\"https://api.github.com/_private/browser/errors\">  <link rel=\"mask-icon\" href=\"https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg\" color=\"#000000\">  <link rel=\"alternate icon\" class=\"js-site-favicon\" type=\"image/png\" href=\"https://github.githubassets.com/favicons/favicon.png\">  <link rel=\"icon\" class=\"js-site-favicon\" type=\"image/svg+xml\" href=\"https://github.githubassets.com/favicons/favicon.svg\"><meta name=\"theme-color\" content=\"#1e2327\"><meta name=\"color-scheme\" content=\"light dark\" />  <link rel=\"manifest\" href=\"/manifest.json\" crossOrigin=\"use-credentials\">  </head>  <body class=\"logged-out env-production page-responsive\" style=\"word-wrap: break-word;\">    <div data-turbo-body class=\"logged-out env-production page-responsive\" style=\"word-wrap: break-word;\">          <div class=\"position-relative js-header-wrapper \">      <a href=\"#start-of-content\" class=\"px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content\">Skip to content</a>      <span data-view-component=\"true\" class=\"progress-pjax-loader Progress position-fixed width-full\">    <span style=\"width: 0%;\" data-view-component=\"true\" class=\"Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis\"></span></span>              <script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Button_IconButton_js-node_modules_primer_react_lib--23bcad-a89698f38643.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/keyboard-shortcuts-dialog-a23eda2bcf8d.js\"></script><react-partial  partial-name=\"keyboard-shortcuts-dialog\"  data-ssr=\"false\">    <script type=\"application/json\" data-target=\"react-partial.embeddedData\">{\"props\":{}}</script>  <div data-target=\"react-partial.reactRoot\"></div></react-partial>                          <script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-94fd67-99519581d0f8.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/sessions-585a7232e50a.js\"></script><header class=\"Header-old header-logged-out js-details-container Details position-relative f4 py-3\" role=\"banner\" data-color-mode=light data-light-theme=light data-dark-theme=dark>  <button type=\"button\" class=\"Header-backdrop d-lg-none border-0 position-fixed top-0 left-0 width-full height-full js-details-target\" aria-label=\"Toggle navigation\">    <span class=\"d-none\">Toggle navigation</span>  </button>  <div class=\" d-flex flex-column flex-lg-row flex-items-center p-responsive height-full position-relative z-1\">    <div class=\"d-flex flex-justify-between flex-items-center width-full width-lg-auto\">      <a class=\"mr-lg-3 color-fg-inherit flex-order-2\" href=\"https://github.com/\" aria-label=\"Homepage\" data-ga-click=\"(Logged out) Header, go to homepage, icon:logo-wordmark\">        <svg height=\"32\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" data-view-component=\"true\" class=\"octicon octicon-mark-github\">    <path d=\"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z\"></path></svg>      </a>      <div class=\"flex-1\">        <a href=\"/login?return_to=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis\"          class=\"d-inline-block d-lg-none flex-order-1 f5 no-underline border color-border-default rounded-2 px-2 py-1 color-fg-inherit\"          data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"299a3cce93f109b4d3cc3651aa70f09196450518c691352117b115cffbe66c53\"          data-ga-click=\"(Logged out) Header, clicked Sign in, text:sign-in\">          Sign in        </a>      </div>      <div class=\"flex-1 flex-order-2 text-right\">        <button aria-label=\"Toggle navigation\" aria-expanded=\"false\" type=\"button\" data-view-component=\"true\" class=\"js-details-target Button--link Button--medium Button d-lg-none color-fg-inherit p-1\">  <span class=\"Button-content\">    <span class=\"Button-label\"><div class=\"HeaderMenu-toggle-bar rounded my-1\"></div>            <div class=\"HeaderMenu-toggle-bar rounded my-1\"></div>            <div class=\"HeaderMenu-toggle-bar rounded my-1\"></div></span>  </span></button>      </div>    </div>    <div class=\"HeaderMenu--logged-out p-responsive height-fit position-lg-relative d-lg-flex flex-column flex-auto pt-7 pb-4 top-0\">      <div class=\"header-menu-wrapper d-flex flex-column flex-self-end flex-lg-row flex-justify-between flex-auto p-3 p-lg-0 rounded rounded-lg-0 mt-3 mt-lg-0\">          <nav class=\"mt-0 px-3 px-lg-0 mb-3 mb-lg-0\" aria-label=\"Global\">            <ul class=\"d-lg-flex list-style-none\">                <li class=\"HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item\">      <button type=\"button\" class=\"HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-3 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target\" aria-expanded=\"false\">        Product        <svg opacity=\"0.5\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-chevron-down HeaderMenu-icon ml-1\">    <path d=\"M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z\"></path></svg>      </button>      <div class=\"HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 py-2 py-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 d-lg-flex dropdown-menu-wide\">          <div class=\"px-lg-4 border-lg-right mb-4 mb-lg-0 pr-lg-7\">            <ul class=\"list-style-none f5\" >                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}\" href=\"/features/actions\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-workflow color-fg-subtle mr-3\">    <path d=\"M1 3a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2H7v4.063C7 16.355 7.644 17 8.438 17H12.5v-2.5a2 2 0 0 1 2-2H21a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-2.5H8.437A2.939 2.939 0 0 1 5.5 15.562V11.5H3a2 2 0 0 1-2-2Zm2-.5a.5.5 0 0 0-.5.5v6.5a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5ZM14.5 14a.5.5 0 0 0-.5.5V21a.5.5 0 0 0 .5.5H21a.5.5 0 0 0 .5-.5v-6.5a.5.5 0 0 0-.5-.5Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Actions</div>        Automate any workflow      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}\" href=\"/features/packages\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-package color-fg-subtle mr-3\">    <path d=\"M12.876.64V.639l8.25 4.763c.541.313.875.89.875 1.515v9.525a1.75 1.75 0 0 1-.875 1.516l-8.25 4.762a1.748 1.748 0 0 1-1.75 0l-8.25-4.763a1.75 1.75 0 0 1-.875-1.515V6.917c0-.625.334-1.202.875-1.515L11.126.64a1.748 1.748 0 0 1 1.75 0Zm-1 1.298L4.251 6.34l7.75 4.474 7.75-4.474-7.625-4.402a.248.248 0 0 0-.25 0Zm.875 19.123 7.625-4.402a.25.25 0 0 0 .125-.216V7.639l-7.75 4.474ZM3.501 7.64v8.803c0 .09.048.172.125.216l7.625 4.402v-8.947Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Packages</div>        Host and manage packages      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}\" href=\"/features/security\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-shield-check color-fg-subtle mr-3\">    <path d=\"M16.53 9.78a.75.75 0 0 0-1.06-1.06L11 13.19l-1.97-1.97a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5-5Z\"></path><path d=\"m12.54.637 8.25 2.675A1.75 1.75 0 0 1 22 4.976V10c0 6.19-3.771 10.704-9.401 12.83a1.704 1.704 0 0 1-1.198 0C5.77 20.705 2 16.19 2 10V4.976c0-.758.489-1.43 1.21-1.664L11.46.637a1.748 1.748 0 0 1 1.08 0Zm-.617 1.426-8.25 2.676a.249.249 0 0 0-.173.237V10c0 5.46 3.28 9.483 8.43 11.426a.199.199 0 0 0 .14 0C17.22 19.483 20.5 15.461 20.5 10V4.976a.25.25 0 0 0-.173-.237l-8.25-2.676a.253.253 0 0 0-.154 0Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Security</div>        Find and fix vulnerabilities      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}\" href=\"/features/codespaces\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-codespaces color-fg-subtle mr-3\">    <path d=\"M3.5 3.75C3.5 2.784 4.284 2 5.25 2h13.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 18.75 13H5.25a1.75 1.75 0 0 1-1.75-1.75Zm-2 12c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v4a1.75 1.75 0 0 1-1.75 1.75H3.25a1.75 1.75 0 0 1-1.75-1.75ZM5.25 3.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h13.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Zm-2 12a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h17.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25Z\"></path><path d=\"M10 17.75a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Codespaces</div>        Instant dev environments      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}\" href=\"/features/copilot\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-copilot color-fg-subtle mr-3\">    <path d=\"M23.922 16.992c-.861 1.495-5.859 5.023-11.922 5.023-6.063 0-11.061-3.528-11.922-5.023A.641.641 0 0 1 0 16.736v-2.869a.841.841 0 0 1 .053-.22c.372-.935 1.347-2.292 2.605-2.656.167-.429.414-1.055.644-1.517a10.195 10.195 0 0 1-.052-1.086c0-1.331.282-2.499 1.132-3.368.397-.406.89-.717 1.474-.952 1.399-1.136 3.392-2.093 6.122-2.093 2.731 0 4.767.957 6.166 2.093.584.235 1.077.546 1.474.952.85.869 1.132 2.037 1.132 3.368 0 .368-.014.733-.052 1.086.23.462.477 1.088.644 1.517 1.258.364 2.233 1.721 2.605 2.656a.832.832 0 0 1 .053.22v2.869a.641.641 0 0 1-.078.256ZM12.172 11h-.344a4.323 4.323 0 0 1-.355.508C10.703 12.455 9.555 13 7.965 13c-1.725 0-2.989-.359-3.782-1.259a2.005 2.005 0 0 1-.085-.104L4 11.741v6.585c1.435.779 4.514 2.179 8 2.179 3.486 0 6.565-1.4 8-2.179v-6.585l-.098-.104s-.033.045-.085.104c-.793.9-2.057 1.259-3.782 1.259-1.59 0-2.738-.545-3.508-1.492a4.323 4.323 0 0 1-.355-.508h-.016.016Zm.641-2.935c.136 1.057.403 1.913.878 2.497.442.544 1.134.938 2.344.938 1.573 0 2.292-.337 2.657-.751.384-.435.558-1.15.558-2.361 0-1.14-.243-1.847-.705-2.319-.477-.488-1.319-.862-2.824-1.025-1.487-.161-2.192.138-2.533.529-.269.307-.437.808-.438 1.578v.021c0 .265.021.562.063.893Zm-1.626 0c.042-.331.063-.628.063-.894v-.02c-.001-.77-.169-1.271-.438-1.578-.341-.391-1.046-.69-2.533-.529-1.505.163-2.347.537-2.824 1.025-.462.472-.705 1.179-.705 2.319 0 1.211.175 1.926.558 2.361.365.414 1.084.751 2.657.751 1.21 0 1.902-.394 2.344-.938.475-.584.742-1.44.878-2.497Z\"></path><path d=\"M14.5 14.25a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Zm-5 0a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Copilot</div>        Write better code with AI      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}\" href=\"/features/code-review\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-code-review color-fg-subtle mr-3\">    <path d=\"M10.3 6.74a.75.75 0 0 1-.04 1.06l-2.908 2.7 2.908 2.7a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 0 1 1.06.04Zm3.44 1.06a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.908-2.7-2.908-2.7Z\"></path><path d=\"M1.5 4.25c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v12.5a1.75 1.75 0 0 1-1.75 1.75h-9.69l-3.573 3.573A1.458 1.458 0 0 1 5 21.043V18.5H3.25a1.75 1.75 0 0 1-1.75-1.75ZM3.25 4a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 .75.75v3.19l3.72-3.72a.749.749 0 0 1 .53-.22h10a.25.25 0 0 0 .25-.25V4.25a.25.25 0 0 0-.25-.25Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Code review</div>        Manage code changes      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center pb-lg-3\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}\" href=\"/features/issues\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-issue-opened color-fg-subtle mr-3\">    <path d=\"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Zm9.5 2a2 2 0 1 1-.001-3.999A2 2 0 0 1 12 14Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Issues</div>        Plan and track work      </div>    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}\" href=\"/features/discussions\">      <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-comment-discussion color-fg-subtle mr-3\">    <path d=\"M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z\"></path><path d=\"M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z\"></path></svg>      <div>        <div class=\"color-fg-default h4\">Discussions</div>        Collaborate outside of code      </div>    </a></li>            </ul>          </div>          <div class=\"px-lg-4\">              <span class=\"d-block h4 color-fg-default my-1\" id=\"product-explore-heading\">Explore</span>            <ul class=\"list-style-none f5\" aria-labelledby=\"product-explore-heading\">                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to All features&quot;,&quot;label&quot;:&quot;ref_cta:All features;&quot;}\" href=\"/features\">      All features    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Documentation&quot;,&quot;label&quot;:&quot;ref_cta:Documentation;&quot;}\" href=\"https://docs.github.com\">      Documentation    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to GitHub Skills&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Skills;&quot;}\" href=\"https://skills.github.com/\">      GitHub Skills    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Blog&quot;,&quot;label&quot;:&quot;ref_cta:Blog;&quot;}\" href=\"https://github.blog\">      Blog    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>            </ul>          </div>      </div></li>                <li class=\"HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item\">      <button type=\"button\" class=\"HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-3 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target\" aria-expanded=\"false\">        Solutions        <svg opacity=\"0.5\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-chevron-down HeaderMenu-icon ml-1\">    <path d=\"M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z\"></path></svg>      </button>      <div class=\"HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 py-2 py-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 px-lg-4\">          <div class=\"border-bottom pb-3 mb-3\">              <span class=\"d-block h4 color-fg-default my-1\" id=\"solutions-for-heading\">For</span>            <ul class=\"list-style-none f5\" aria-labelledby=\"solutions-for-heading\">                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Enterprise&quot;,&quot;label&quot;:&quot;ref_cta:Enterprise;&quot;}\" href=\"/enterprise\">      Enterprise    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Teams&quot;,&quot;label&quot;:&quot;ref_cta:Teams;&quot;}\" href=\"/team\">      Teams    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Startups&quot;,&quot;label&quot;:&quot;ref_cta:Startups;&quot;}\" href=\"/enterprise/startups\">      Startups    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Education&quot;,&quot;label&quot;:&quot;ref_cta:Education;&quot;}\" href=\"https://education.github.com\">      Education    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>            </ul>          </div>          <div class=\"border-bottom pb-3 mb-3\">              <span class=\"d-block h4 color-fg-default my-1\" id=\"solutions-by-solution-heading\">By Solution</span>            <ul class=\"list-style-none f5\" aria-labelledby=\"solutions-by-solution-heading\">                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to CI/CD &amp;amp; Automation&quot;,&quot;label&quot;:&quot;ref_cta:CI/CD &amp;amp; Automation;&quot;}\" href=\"/solutions/ci-cd/\">      CI/CD &amp; Automation    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to DevOps&quot;,&quot;label&quot;:&quot;ref_cta:DevOps;&quot;}\" href=\"/solutions/devops/\">      DevOps    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to DevSecOps&quot;,&quot;label&quot;:&quot;ref_cta:DevSecOps;&quot;}\" href=\"https://resources.github.com/devops/fundamentals/devsecops/\">      DevSecOps    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>            </ul>          </div>          <div class=\"\">              <span class=\"d-block h4 color-fg-default my-1\" id=\"solutions-resources-heading\">Resources</span>            <ul class=\"list-style-none f5\" aria-labelledby=\"solutions-resources-heading\">                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Learning Pathways&quot;,&quot;label&quot;:&quot;ref_cta:Learning Pathways;&quot;}\" href=\"https://resources.github.com/learn/pathways/\">      Learning Pathways    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to White papers, Ebooks, Webinars&quot;,&quot;label&quot;:&quot;ref_cta:White papers, Ebooks, Webinars;&quot;}\" href=\"https://resources.github.com/\">      White papers, Ebooks, Webinars    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Customer Stories&quot;,&quot;label&quot;:&quot;ref_cta:Customer Stories;&quot;}\" href=\"/customer-stories\">      Customer Stories    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" target=\"_blank\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Solutions&quot;,&quot;action&quot;:&quot;click to go to Partners&quot;,&quot;label&quot;:&quot;ref_cta:Partners;&quot;}\" href=\"https://partner.github.com/\">      Partners    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle\">    <path d=\"M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z\"></path></svg></a></li>            </ul>          </div>      </div></li>                <li class=\"HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item\">      <button type=\"button\" class=\"HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-3 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target\" aria-expanded=\"false\">        Open Source        <svg opacity=\"0.5\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-chevron-down HeaderMenu-icon ml-1\">    <path d=\"M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z\"></path></svg>      </button>      <div class=\"HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 py-2 py-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 px-lg-4\">          <div class=\"border-bottom pb-3 mb-3\">            <ul class=\"list-style-none f5\" >                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}\" href=\"/sponsors\">            <div>        <div class=\"color-fg-default h4\">GitHub Sponsors</div>        Fund open source developers      </div>    </a></li>            </ul>          </div>          <div class=\"border-bottom pb-3 mb-3\">            <ul class=\"list-style-none f5\" >                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}\" href=\"/readme\">            <div>        <div class=\"color-fg-default h4\">The ReadME Project</div>        GitHub community articles      </div>    </a></li>            </ul>          </div>          <div class=\"\">              <span class=\"d-block h4 color-fg-default my-1\" id=\"open-source-repositories-heading\">Repositories</span>            <ul class=\"list-style-none f5\" aria-labelledby=\"open-source-repositories-heading\">                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to Topics&quot;,&quot;label&quot;:&quot;ref_cta:Topics;&quot;}\" href=\"/topics\">      Topics    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to Trending&quot;,&quot;label&quot;:&quot;ref_cta:Trending;&quot;}\" href=\"/trending\">      Trending    </a></li>                <li>  <a class=\"HeaderMenu-dropdown-link lh-condensed d-block no-underline position-relative py-2 Link--secondary\" data-analytics-event=\"{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to Collections&quot;,&quot;label&quot;:&quot;ref_cta:Collections;&quot;}\" href=\"/collections\">      Collections    </a></li>            </ul>          </div>      </div></li>                <li class=\"HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item\">    <a class=\"HeaderMenu-link no-underline px-0 px-lg-2 py-3 py-lg-2 d-block d-lg-inline-block\" data-analytics-event=\"{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}\" href=\"/pricing\">Pricing</a></li>            </ul>          </nav>        <div class=\"d-lg-flex flex-items-center mb-3 mb-lg-0 text-center text-lg-left ml-3\" style=\"\">                <qbsearch-input class=\"search-input\" data-scope=\"repo:redis/ioredis\" data-custom-scopes-path=\"/search/custom_scopes\" data-delete-custom-scopes-csrf=\"HneWkxxNkGF4JCvZ8Rw-DtAv62wHngEEgUmXxDw8jAhGKAmWw5gIo_l3OAIhz4IC2WAgRZEWqUkLbQ5Vh1SKGg\" data-max-custom-scopes=\"10\" data-header-redesign-enabled=\"false\" data-initial-value=\"\" data-blackbird-suggestions-path=\"/search/suggestions\" data-jump-to-suggestions-path=\"/_graphql/GetSuggestedNavigationDestinations\" data-current-repository=\"redis/ioredis\" data-current-org=\"redis\" data-current-owner=\"\" data-logged-in=\"false\" data-copilot-chat-enabled=\"false\" data-blackbird-indexed-repo-csrf=\"<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=nm3nwufy9XU%2BLosLwequ2154jSJxOCtyKKd1gzVgrSc9yVWFhfXyY17dLHL1mCzFoNlj6qEwPS2bbTJbCRDS6j7FJSIlXqbO6cYCj%2FTMkGMfOWAcxYFgyLSr9ArMLzQcBubNqFYF%2FemRFByWbYgMeFJ3FmEEso%2FBtqL1K%2BEpJ3Yikjn8clQxca0UIgDHLaH3q9DMBln6WwJldgvuK6mo7VXyv63CpeHEH2RlhqxZ%2B2jzv8mNtSDbfFTXBaWT2Se9VOIxAaTknXnpXWUGgDk%2FEKQmFbBBHlWlxqXpfwo8g4bNEHfSc1iG0RDhMa1Yf9e1yxyh6NonCGzOgDMWGEYGtut%2BCNFXf%2FmY52%2BsEoMmhNfgO%2BgvsPvmKDa%2BKUYD7hWr30mjU82OZSMrQCappK%2FdjWcHiQq6lo1QfZcu3FaRUxBqXe3k4ncdMv7tjCSkGztRMPzygEevE%2B7U64jQ00Pg0qAK0er%2FWtjDJQZC56mINf%2FjmVg%2FGYwf%2BLfv%2ByQDqA9wVMFgAw5LNEfuCg%3D%3D--ufgdIFhboOZDqWj2--z%2FKAtlwFnzYKGyWp%2FBTtlQ%3D%3D&quot; />\">  <div    class=\"search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center mr-4 rounded\"    data-action=\"click:qbsearch-input#searchInputContainerClicked\"  >      <button        type=\"button\"        class=\"header-search-button placeholder  input-button form-control d-flex flex-1 flex-self-stretch flex-items-center no-wrap width-full py-0 pl-2 pr-0 text-left border-0 box-shadow-none\"        data-target=\"qbsearch-input.inputButton\"        placeholder=\"Search or jump to...\"        data-hotkey=s,/        autocapitalize=\"off\"        data-action=\"click:qbsearch-input#handleExpand\"      >        <div class=\"mr-2 color-fg-muted\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search\">    <path d=\"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z\"></path></svg>        </div>        <span class=\"flex-1\" data-target=\"qbsearch-input.inputButtonText\">Search or jump to...</span>          <div class=\"d-flex\" data-target=\"qbsearch-input.hotkeyIndicator\">            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"20\" aria-hidden=\"true\" class=\"mr-1\"><path fill=\"none\" stroke=\"#979A9C\" opacity=\".4\" d=\"M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z\"></path><path fill=\"#979A9C\" d=\"M11.8 6L8 15.1h-.9L10.8 6h1z\"></path></svg>          </div>      </button>    <input type=\"hidden\" name=\"type\" class=\"js-site-search-type-field\">    <div class=\"Overlay--hidden \" data-modal-dialog-overlay>  <modal-dialog data-action=\"close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose\" data-target=\"qbsearch-input.searchSuggestionsDialog\" role=\"dialog\" id=\"search-suggestions-dialog\" aria-modal=\"true\" aria-labelledby=\"search-suggestions-dialog-header\" data-view-component=\"true\" class=\"Overlay Overlay--width-large Overlay--height-auto\">      <h1 id=\"search-suggestions-dialog-header\" class=\"sr-only\">Search code, repositories, users, issues, pull requests...</h1>    <div class=\"Overlay-body Overlay-body--paddingNone\">                <div data-view-component=\"true\">        <div class=\"search-suggestions position-fixed width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container\"          style=\"border-radius: 12px;\"          data-target=\"qbsearch-input.queryBuilderContainer\"          hidden        >          <!-- '\"` --><!-- </textarea></xmp> --></option></form><form id=\"query-builder-test-form\" action=\"\" accept-charset=\"UTF-8\" method=\"get\">  <query-builder data-target=\"qbsearch-input.queryBuilder\" id=\"query-builder-query-builder-test\" data-filter-key=\":\" data-view-component=\"true\" class=\"QueryBuilder search-query-builder\">    <div class=\"FormControl FormControl--fullWidth\">      <label id=\"query-builder-test-label\" for=\"query-builder-test\" class=\"FormControl-label sr-only\">        Search      </label>      <div        class=\"QueryBuilder-StyledInput width-fit \"        data-target=\"query-builder.styledInput\"      >          <span id=\"query-builder-test-leadingvisual-wrap\" class=\"FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap\">            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search FormControl-input-leadingVisual\">    <path d=\"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z\"></path></svg>          </span>        <div data-target=\"query-builder.styledInputContainer\" class=\"QueryBuilder-StyledInputContainer\">          <div            aria-hidden=\"true\"            class=\"QueryBuilder-StyledInputContent\"            data-target=\"query-builder.styledInputContent\"          ></div>          <div class=\"QueryBuilder-InputWrapper\">            <div aria-hidden=\"true\" class=\"QueryBuilder-Sizer\" data-target=\"query-builder.sizer\"></div>            <input id=\"query-builder-test\" name=\"query-builder-test\" value=\"\" autocomplete=\"off\" type=\"text\" role=\"combobox\" spellcheck=\"false\" aria-expanded=\"false\" aria-describedby=\"validation-1e8d934c-eb82-43cf-a54d-f8e918882c9f\" data-target=\"query-builder.input\" data-action=\"          input:query-builder#inputChange          blur:query-builder#inputBlur          keydown:query-builder#inputKeydown          focus:query-builder#inputFocus        \" data-view-component=\"true\" class=\"FormControl-input QueryBuilder-Input FormControl-medium\" />          </div>        </div>          <span class=\"sr-only\" id=\"query-builder-test-clear\">Clear</span>          <button role=\"button\" id=\"query-builder-test-clear-button\" aria-labelledby=\"query-builder-test-clear query-builder-test-label\" data-target=\"query-builder.clearButton\" data-action=\"                click:query-builder#clear                focus:query-builder#clearButtonFocus                blur:query-builder#clearButtonBlur              \" variant=\"small\" hidden=\"hidden\" type=\"button\" data-view-component=\"true\" class=\"Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x-circle-fill Button-visual\">    <path d=\"M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z\"></path></svg></button>      </div>      <template id=\"search-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-search\">    <path d=\"M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z\"></path></svg></template><template id=\"code-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code\">    <path d=\"m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z\"></path></svg></template><template id=\"file-code-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-file-code\">    <path d=\"M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg></template><template id=\"history-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-history\">    <path d=\"m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z\"></path></svg></template><template id=\"repo-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo\">    <path d=\"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z\"></path></svg></template><template id=\"bookmark-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-bookmark\">    <path d=\"M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z\"></path></svg></template><template id=\"plus-circle-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-plus-circle\">    <path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z\"></path></svg></template><template id=\"circle-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-dot-fill\">    <path d=\"M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"></path></svg></template><template id=\"trash-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-trash\">    <path d=\"M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z\"></path></svg></template><template id=\"team-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-people\">    <path d=\"M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z\"></path></svg></template><template id=\"project-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-project\">    <path d=\"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z\"></path></svg></template><template id=\"pencil-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-pencil\">    <path d=\"M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z\"></path></svg></template><template id=\"copilot-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-copilot\">    <path d=\"M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z\"></path><path d=\"M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z\"></path></svg></template><template id=\"workflow-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-workflow\">    <path d=\"M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z\"></path></svg></template><template id=\"book-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-book\">    <path d=\"M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z\"></path></svg></template><template id=\"code-review-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code-review\">    <path d=\"M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z\"></path></svg></template><template id=\"codespaces-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-codespaces\">    <path d=\"M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z\"></path><path d=\"M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z\"></path></svg></template><template id=\"comment-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-comment\">    <path d=\"M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z\"></path></svg></template><template id=\"comment-discussion-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-comment-discussion\">    <path d=\"M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z\"></path></svg></template><template id=\"organization-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-organization\">    <path d=\"M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z\"></path></svg></template><template id=\"rocket-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-rocket\">    <path d=\"M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg></template><template id=\"shield-check-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-shield-check\">    <path d=\"m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z\"></path></svg></template><template id=\"heart-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-heart\">    <path d=\"m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z\"></path></svg></template><template id=\"server-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-server\">    <path d=\"M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z\"></path></svg></template><template id=\"globe-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-globe\">    <path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z\"></path></svg></template><template id=\"issue-opened-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-issue-opened\">    <path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path><path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z\"></path></svg></template><template id=\"device-mobile-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-mobile\">    <path d=\"M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\"></path></svg></template><template id=\"package-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-package\">    <path d=\"m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z\"></path></svg></template><template id=\"credit-card-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-credit-card\">    <path d=\"M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z\"></path><path d=\"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z\"></path></svg></template><template id=\"play-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-play\">    <path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z\"></path></svg></template><template id=\"gift-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-gift\">    <path d=\"M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z\"></path></svg></template><template id=\"code-square-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code-square\">    <path d=\"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z\"></path></svg></template><template id=\"device-desktop-icon\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-desktop\">    <path d=\"M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z\"></path></svg></template>        <div class=\"position-relative\">                <ul                  role=\"listbox\"                  class=\"ActionListWrap QueryBuilder-ListWrap\"                  aria-label=\"Suggestions\"                  data-action=\"                    combobox-commit:query-builder#comboboxCommit                    mousedown:query-builder#resultsMousedown                  \"                  data-target=\"query-builder.resultsList\"                  data-persist-list=false                  id=\"query-builder-test-results\"                ></ul>        </div>      <div class=\"FormControl-inlineValidation\" id=\"validation-1e8d934c-eb82-43cf-a54d-f8e918882c9f\" hidden=\"hidden\">        <span class=\"FormControl-inlineValidation--visual\">          <svg aria-hidden=\"true\" height=\"12\" viewBox=\"0 0 12 12\" version=\"1.1\" width=\"12\" data-view-component=\"true\" class=\"octicon octicon-alert-fill\">    <path d=\"M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\"></path></svg>        </span>        <span></span></div>    </div>    <div data-target=\"query-builder.screenReaderFeedback\" aria-live=\"polite\" aria-atomic=\"true\" class=\"sr-only\"></div></query-builder></form>          <div class=\"d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt\">            <a target=\"_blank\" href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\" data-view-component=\"true\" class=\"Link color-fg-accent text-normal ml-2\">              Search syntax tips</a>            <div class=\"d-flex flex-1\"></div>          </div>        </div></div>    </div></modal-dialog></div>  </div>  <div data-action=\"click:qbsearch-input#retract\" class=\"dark-backdrop position-fixed\" hidden data-target=\"qbsearch-input.darkBackdrop\"></div>  <div class=\"color-fg-default\">    <dialog-helper>  <dialog data-target=\"qbsearch-input.feedbackDialog\" data-action=\"close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose\" id=\"feedback-dialog\" aria-modal=\"true\" aria-labelledby=\"feedback-dialog-title\" aria-describedby=\"feedback-dialog-description\" data-view-component=\"true\" class=\"Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade\">    <div data-view-component=\"true\" class=\"Overlay-header\">  <div class=\"Overlay-headerContentWrap\">    <div class=\"Overlay-titleWrap\">      <h1 class=\"Overlay-title \" id=\"feedback-dialog-title\">        Provide feedback      </h1>    </div>    <div class=\"Overlay-actionWrap\">      <button data-close-dialog-id=\"feedback-dialog\" aria-label=\"Close\" type=\"button\" data-view-component=\"true\" class=\"close-button Overlay-closeButton\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg></button>    </div>  </div></div>      <scrollable-region data-labelled-by=\"feedback-dialog-title\">        <div data-view-component=\"true\" class=\"Overlay-body\">        <!-- '\"` --><!-- </textarea></xmp> --></option></form><form id=\"code-search-feedback-form\" data-turbo=\"false\" action=\"/search/feedback\" accept-charset=\"UTF-8\" method=\"post\"><input type=\"hidden\" data-csrf=\"true\" name=\"authenticity_token\" value=\"hjn7mdwE7p//vSxr/IH1j+dnWwl6nKKHifnRee1hYdtfrN4RUHvnnUIzTBX/GJBUAwRgopugpDBYS8jmHXXZhg==\" />          <p>We read every piece of feedback, and take your input very seriously.</p>          <textarea name=\"feedback\" class=\"form-control width-full mb-2\" style=\"height: 120px\" id=\"feedback\"></textarea>          <input name=\"include_email\" id=\"include_email\" aria-label=\"Include my email address so I can be contacted\" class=\"form-control mr-2\" type=\"checkbox\">          <label for=\"include_email\" style=\"font-weight: normal\">Include my email address so I can be contacted</label></form></div>      </scrollable-region>      <div data-view-component=\"true\" class=\"Overlay-footer Overlay-footer--alignEnd\">          <button data-close-dialog-id=\"feedback-dialog\" type=\"button\" data-view-component=\"true\" class=\"btn\">    Cancel</button>          <button form=\"code-search-feedback-form\" data-action=\"click:qbsearch-input#submitFeedback\" type=\"submit\" data-view-component=\"true\" class=\"btn-primary btn\">    Submit feedback</button></div></dialog></dialog-helper>    <custom-scopes data-target=\"qbsearch-input.customScopesManager\">    <dialog-helper>  <dialog data-target=\"custom-scopes.customScopesModalDialog\" data-action=\"close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose\" id=\"custom-scopes-dialog\" aria-modal=\"true\" aria-labelledby=\"custom-scopes-dialog-title\" aria-describedby=\"custom-scopes-dialog-description\" data-view-component=\"true\" class=\"Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade\">    <div data-view-component=\"true\" class=\"Overlay-header Overlay-header--divided\">  <div class=\"Overlay-headerContentWrap\">    <div class=\"Overlay-titleWrap\">      <h1 class=\"Overlay-title \" id=\"custom-scopes-dialog-title\">        Saved searches      </h1>        <h2 id=\"custom-scopes-dialog-description\" class=\"Overlay-description\">Use saved searches to filter your results more quickly</h2>    </div>    <div class=\"Overlay-actionWrap\">      <button data-close-dialog-id=\"custom-scopes-dialog\" aria-label=\"Close\" type=\"button\" data-view-component=\"true\" class=\"close-button Overlay-closeButton\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg></button>    </div>  </div></div>      <scrollable-region data-labelled-by=\"custom-scopes-dialog-title\">        <div data-view-component=\"true\" class=\"Overlay-body\">        <div data-target=\"custom-scopes.customScopesModalDialogFlash\"></div>        <div hidden class=\"create-custom-scope-form\" data-target=\"custom-scopes.createCustomScopeForm\">        <!-- '\"` --><!-- </textarea></xmp> --></option></form><form id=\"custom-scopes-dialog-form\" data-turbo=\"false\" action=\"/search/custom_scopes\" accept-charset=\"UTF-8\" method=\"post\"><input type=\"hidden\" data-csrf=\"true\" name=\"authenticity_token\" value=\"v+DaEA4/Pbd2t2FWOFr9Y8Y7BNXSb0z2feVggJprSUwoL/WwPUzpUovF8T6xn4tzOiDLxT9CFgMDbv2JAABZkA==\" />          <div data-target=\"custom-scopes.customScopesModalDialogFlash\"></div>          <input type=\"hidden\" id=\"custom_scope_id\" name=\"custom_scope_id\" data-target=\"custom-scopes.customScopesIdField\">          <div class=\"form-group\">            <label for=\"custom_scope_name\">Name</label>            <auto-check src=\"/search/custom_scopes/check_name\" required>              <input                type=\"text\"                name=\"custom_scope_name\"                id=\"custom_scope_name\"                data-target=\"custom-scopes.customScopesNameField\"                class=\"form-control\"                autocomplete=\"off\"                placeholder=\"github-ruby\"                required                maxlength=\"50\">              <input type=\"hidden\" data-csrf=\"true\" value=\"8O58zpGfkeLsd5hkqY+AuVo0PoYZMyPq9xCBE/jYzNFu3nPFiWkCbuI1zhnA3V1yp4KuaZkwaUzkUe8oKibPOg==\" />            </auto-check>          </div>          <div class=\"form-group\">            <label for=\"custom_scope_query\">Query</label>            <input              type=\"text\"              name=\"custom_scope_query\"              id=\"custom_scope_query\"              data-target=\"custom-scopes.customScopesQueryField\"              class=\"form-control\"              autocomplete=\"off\"              placeholder=\"(repo:mona/a OR repo:mona/b) AND lang:python\"              required              maxlength=\"500\">          </div>          <p class=\"text-small color-fg-muted\">            To see all available qualifiers, see our <a class=\"Link--inTextBlock\" href=\"https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax\">documentation</a>.          </p></form>        </div>        <div data-target=\"custom-scopes.manageCustomScopesForm\">          <div data-target=\"custom-scopes.list\"></div>        </div></div>      </scrollable-region>      <div data-view-component=\"true\" class=\"Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided\">          <button data-action=\"click:custom-scopes#customScopesCancel\" type=\"button\" data-view-component=\"true\" class=\"btn\">    Cancel</button>          <button form=\"custom-scopes-dialog-form\" data-action=\"click:custom-scopes#customScopesSubmit\" data-target=\"custom-scopes.customScopesSubmitButton\" type=\"submit\" data-view-component=\"true\" class=\"btn-primary btn\">    Create saved search</button></div></dialog></dialog-helper>    </custom-scopes>  </div></qbsearch-input><input type=\"hidden\" data-csrf=\"true\" class=\"js-data-jump-to-suggestions-path-csrf\" value=\"Nr/XIuNOMDKOGOZLD6C8D+qxkOph54uX0CTh/To/hvuOJ58UVol5/MHA2ustrZzsxAFptFioto+nvs4JLfMjhQ==\" />          <div class=\"position-relative mr-lg-3 d-lg-inline-block\">            <a href=\"/login?return_to=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis\"              class=\"HeaderMenu-link HeaderMenu-link--sign-in flex-shrink-0 no-underline d-block d-lg-inline-block border border-lg-0 rounded rounded-lg-0 p-2 p-lg-0\"              data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"299a3cce93f109b4d3cc3651aa70f09196450518c691352117b115cffbe66c53\"              data-ga-click=\"(Logged out) Header, clicked Sign in, text:sign-in\">              Sign in            </a>          </div>            <a href=\"/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=redis%2Fioredis\"              class=\"HeaderMenu-link HeaderMenu-link--sign-up flex-shrink-0 d-none d-lg-inline-block no-underline border color-border-default rounded px-2 py-1\"              data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"299a3cce93f109b4d3cc3651aa70f09196450518c691352117b115cffbe66c53\"              data-analytics-event=\"{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;;ref_cta:Sign up;ref_loc:header logged out&quot;}\"            >              Sign up            </a>        </div>      </div>    </div>  </div></header>      <div hidden=\"hidden\" data-view-component=\"true\" class=\"js-stale-session-flash stale-session-flash flash flash-warn flash-full mb-3\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">    <path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>        <span class=\"js-stale-session-flash-signed-in\" hidden>You signed in with another tab or window. <a class=\"Link--inTextBlock\" href=\"\">Reload</a> to refresh your session.</span>        <span class=\"js-stale-session-flash-signed-out\" hidden>You signed out in another tab or window. <a class=\"Link--inTextBlock\" href=\"\">Reload</a> to refresh your session.</span>        <span class=\"js-stale-session-flash-switched\" hidden>You switched accounts on another tab or window. <a class=\"Link--inTextBlock\" href=\"\">Reload</a> to refresh your session.</span>    <button id=\"icon-button-fb84c0c2-0395-4c6f-bd0b-e7090970a990\" aria-labelledby=\"tooltip-de78e6bd-5ab6-444d-9b96-77d7cdfeb1f8\" type=\"button\" data-view-component=\"true\" class=\"Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x Button-visual\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg></button><tool-tip id=\"tooltip-de78e6bd-5ab6-444d-9b96-77d7cdfeb1f8\" for=\"icon-button-fb84c0c2-0395-4c6f-bd0b-e7090970a990\" popover=\"manual\" data-direction=\"s\" data-type=\"label\" data-view-component=\"true\" class=\"sr-only position-absolute\">Dismiss alert</tool-tip>  </div>    </div>  <div id=\"start-of-content\" class=\"show-on-focus\"></div>    <div id=\"js-flash-container\" data-turbo-replace>  <template class=\"js-flash-template\">    <div class=\"flash flash-full   {{ className }}\">  <div class=\"px-2\" >    <button autofocus class=\"flash-close js-flash-close\" type=\"button\" aria-label=\"Dismiss this message\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg>    </button>    <div aria-atomic=\"true\" role=\"alert\" class=\"js-flash-alert\">            <div>{{ message }}</div>    </div>  </div></div>  </template></div>        <include-fragment class=\"js-notification-shelf-include-fragment\" data-base-src=\"https://github.com/notifications/beta/shelf\"></include-fragment>  <div    class=\"application-main \"    data-commit-hovercards-enabled    data-discussion-hovercards-enabled    data-issue-and-pr-hovercards-enabled  >        <div itemscope itemtype=\"http://schema.org/SoftwareSourceCode\" class=\"\">    <main id=\"js-repo-pjax-container\" >                        <div id=\"repository-container-header\"  class=\"pt-3 hide-full-screen\" style=\"background-color: var(--page-header-bgColor, var(--color-page-header-bg));\" data-turbo-replace>      <div class=\"d-flex flex-wrap flex-justify-end mb-3  px-3 px-md-4 px-lg-5\" style=\"gap: 1rem;\">        <div class=\"flex-auto min-width-0 width-fit mr-3\">              <div class=\" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo color-fg-muted mr-2\">    <path d=\"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z\"></path></svg>        <span class=\"author flex-self-stretch\" itemprop=\"author\">      <a class=\"url fn\" rel=\"author\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/redis/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"/redis\">        redis</a>    </span>    <span class=\"mx-1 flex-self-stretch color-fg-muted\">/</span>    <strong itemprop=\"name\" class=\"mr-2 flex-self-stretch\">      <a data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" href=\"/redis/ioredis\">ioredis</a>    </strong>    <span></span><span class=\"Label Label--secondary v-align-middle mr-1\">Public</span>  </div>        </div>        <div id=\"repository-details-container\" data-turbo-replace>            <ul class=\"pagehead-actions flex-shrink-0 d-none d-md-inline\" style=\"padding: 2px 0;\">            <li>            <a href=\"/login?return_to=%2Fredis%2Fioredis\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"dcaf5bc02da26970ecff7aefdf6fc71721b034258ba84553e52ac272c778d69a\" aria-label=\"You must be signed in to change notification settings\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-bell mr-2\">    <path d=\"M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z\"></path></svg>Notifications</a>  </li>  <li>          <a icon=\"repo-forked\" id=\"fork-button\" href=\"/login?return_to=%2Fredis%2Fioredis\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:33293613,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"82f7cd74f3870b753f84d8adb1b2ca4181feb73ed9c14afd60d73482f9a49acf\" data-view-component=\"true\" class=\"btn-sm btn\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo-forked mr-2\">    <path d=\"M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z\"></path></svg>Fork    <span id=\"repo-network-counter\" data-pjax-replace=\"true\" data-turbo-replace=\"true\" title=\"1,146\" data-view-component=\"true\" class=\"Counter\">1.1k</span></a>  </li>  <li>        <div data-view-component=\"true\" class=\"BtnGroup d-flex\">        <a href=\"/login?return_to=%2Fredis%2Fioredis\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:33293613,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"942548e00b909e8fe53e9a32b628191476d3439ee0836c51ebc83f4bbff8bdc3\" aria-label=\"You must be signed in to star a repository\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn BtnGroup-item\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-star v-align-text-bottom d-inline-block mr-2\">    <path d=\"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z\"></path></svg><span data-view-component=\"true\" class=\"d-inline\">          Star</span>          <span id=\"repo-stars-counter-star\" aria-label=\"13471 users starred this repository\" data-singular-suffix=\"user starred this repository\" data-plural-suffix=\"users starred this repository\" data-turbo-replace=\"true\" title=\"13,471\" data-view-component=\"true\" class=\"Counter js-social-count\">13.5k</span></a>        <button aria-label=\"You must be signed in to add this repository to a list\" type=\"button\" disabled=\"disabled\" data-view-component=\"true\" class=\"btn-sm btn BtnGroup-item px-2\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-triangle-down\">    <path d=\"m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z\"></path></svg></button></div>  </li>    <li>            </li></ul>        </div>      </div>        <div id=\"responsive-meta-container\" data-turbo-replace>      <div class=\"d-block d-md-none mb-2 px-3 px-md-4 px-lg-5\">      <p class=\"f4 mb-3 \">        \ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js.      </p>          <h3 class=\"sr-only\">License</h3>  <div class=\"mb-2\">    <a href=\"/redis/ioredis/blob/main/LICENSE\"      class=\"Link--muted\"            data-analytics-event=\"{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}\"    >      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-law mr-2\">    <path d=\"M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z\"></path></svg>     MIT license    </a>  </div>    <div class=\"mb-3\">        <a class=\"Link--secondary no-underline mr-3\" href=\"/redis/ioredis/stargazers\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-star mr-1\">    <path d=\"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z\"></path></svg>          <span class=\"text-bold\">13.5k</span>          stars</a>        <a class=\"Link--secondary no-underline mr-3\" href=\"/redis/ioredis/forks\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo-forked mr-1\">    <path d=\"M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z\"></path></svg>          <span class=\"text-bold\">1.1k</span>          forks</a>          <a class=\"Link--secondary no-underline mr-3 d-inline-block\" href=\"/redis/ioredis/branches\">            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-git-branch mr-1\">    <path d=\"M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z\"></path></svg>            <span>Branches</span></a>          <a class=\"Link--secondary no-underline d-inline-block\" href=\"/redis/ioredis/tags\">            <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-tag mr-1\">    <path d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"></path></svg>            <span>Tags</span></a>        <a class=\"Link--secondary no-underline d-inline-block\" href=\"/redis/ioredis/activity\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-pulse mr-1\">    <path d=\"M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z\"></path></svg>          <span>Activity</span></a>    </div>      <div class=\"d-flex flex-wrap gap-2\">        <div class=\"flex-1\">            <div data-view-component=\"true\" class=\"BtnGroup d-flex\">        <a href=\"/login?return_to=%2Fredis%2Fioredis\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:33293613,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"942548e00b909e8fe53e9a32b628191476d3439ee0836c51ebc83f4bbff8bdc3\" aria-label=\"You must be signed in to star a repository\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn btn-block BtnGroup-item\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-star v-align-text-bottom d-inline-block mr-2\">    <path d=\"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z\"></path></svg><span data-view-component=\"true\" class=\"d-inline\">          Star</span></a>        <button aria-label=\"You must be signed in to add this repository to a list\" type=\"button\" disabled=\"disabled\" data-view-component=\"true\" class=\"btn-sm btn BtnGroup-item px-2\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-triangle-down\">    <path d=\"m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z\"></path></svg></button></div>        </div>        <div class=\"flex-1\">                <a href=\"/login?return_to=%2Fredis%2Fioredis\" rel=\"nofollow\" data-hydro-click=\"{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/redis/ioredis&quot;,&quot;user_id&quot;:null}}\" data-hydro-click-hmac=\"dcaf5bc02da26970ecff7aefdf6fc71721b034258ba84553e52ac272c778d69a\" aria-label=\"You must be signed in to change notification settings\" data-view-component=\"true\" class=\"tooltipped tooltipped-s btn-sm btn btn-block\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-bell mr-2\">    <path d=\"M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z\"></path></svg>Notifications</a>        </div>          <span>                      </span>      </div>  </div></div>          <nav data-pjax=\"#js-repo-pjax-container\" aria-label=\"Repository\" data-view-component=\"true\" class=\"js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5\">  <ul data-view-component=\"true\" class=\"UnderlineNav-body list-style-none\">      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"code-tab\" href=\"/redis/ioredis\" data-tab-item=\"i0code-tab\" data-selected-links=\"repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /redis/ioredis\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g c\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" aria-current=\"page\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z\"></path></svg>        <span data-content=\"Code\">Code</span>          <span id=\"code-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"issues-tab\" href=\"/redis/ioredis/issues\" data-tab-item=\"i1issues-tab\" data-selected-links=\"repo_issues repo_labels repo_milestones /redis/ioredis/issues\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g i\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path><path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z\"></path></svg>        <span data-content=\"Issues\">Issues</span>          <span id=\"issues-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"268\" data-view-component=\"true\" class=\"Counter\">268</span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"pull-requests-tab\" href=\"/redis/ioredis/pulls\" data-tab-item=\"i2pull-requests-tab\" data-selected-links=\"repo_pulls checks /redis/ioredis/pulls\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g p\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z\"></path></svg>        <span data-content=\"Pull requests\">Pull requests</span>          <span id=\"pull-requests-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"34\" data-view-component=\"true\" class=\"Counter\">34</span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"actions-tab\" href=\"/redis/ioredis/actions\" data-tab-item=\"i3actions-tab\" data-selected-links=\"repo_actions /redis/ioredis/actions\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g a\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-play UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z\"></path></svg>        <span data-content=\"Actions\">Actions</span>          <span id=\"actions-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"projects-tab\" href=\"/redis/ioredis/projects\" data-tab-item=\"i4projects-tab\" data-selected-links=\"repo_projects new_repo_project repo_project /redis/ioredis/projects\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g b\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-table UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z\"></path></svg>        <span data-content=\"Projects\">Projects</span>          <span id=\"projects-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"0\" hidden=\"hidden\" data-view-component=\"true\" class=\"Counter\">0</span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"wiki-tab\" href=\"/redis/ioredis/wiki\" data-tab-item=\"i5wiki-tab\" data-selected-links=\"repo_wiki /redis/ioredis/wiki\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g w\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Wiki&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-book UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z\"></path></svg>        <span data-content=\"Wiki\">Wiki</span>          <span id=\"wiki-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"security-tab\" href=\"/redis/ioredis/security\" data-tab-item=\"i6security-tab\" data-selected-links=\"security overview alerts policy token_scanning code_scanning /redis/ioredis/security\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-hotkey=\"g s\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>        <span data-content=\"Security\">Security</span>          <include-fragment src=\"/redis/ioredis/security/overall-count\" accept=\"text/fragment+html\"></include-fragment>    </a></li>      <li data-view-component=\"true\" class=\"d-inline-flex\">  <a id=\"insights-tab\" href=\"/redis/ioredis/pulse\" data-tab-item=\"i7insights-tab\" data-selected-links=\"repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /redis/ioredis/pulse\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" data-analytics-event=\"{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}\" data-view-component=\"true\" class=\"UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item\">                  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline\">    <path d=\"M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z\"></path></svg>        <span data-content=\"Insights\">Insights</span>          <span id=\"insights-repo-tab-count\" data-pjax-replace=\"\" data-turbo-replace=\"\" title=\"Not available\" data-view-component=\"true\" class=\"Counter\"></span>    </a></li></ul>    <div style=\"visibility:hidden;\" data-view-component=\"true\" class=\"UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0\">      <action-menu data-select-variant=\"none\" data-view-component=\"true\">  <focus-group direction=\"vertical\" mnemonics retain>    <button id=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-button\" popovertarget=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-overlay\" aria-controls=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-list\" aria-haspopup=\"true\" aria-labelledby=\"tooltip-ab2bf8c5-339a-4e82-9102-de3ab2293fb9\" type=\"button\" data-view-component=\"true\" class=\"Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item\">  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-kebab-horizontal Button-visual\">    <path d=\"M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path></svg></button><tool-tip id=\"tooltip-ab2bf8c5-339a-4e82-9102-de3ab2293fb9\" for=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-button\" popover=\"manual\" data-direction=\"s\" data-type=\"label\" data-view-component=\"true\" class=\"sr-only position-absolute\">Additional navigation options</tool-tip><anchored-position id=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-overlay\" anchor=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-button\" align=\"start\" side=\"outside-bottom\" anchor-offset=\"normal\" popover=\"auto\" data-view-component=\"true\">  <div data-view-component=\"true\" class=\"Overlay Overlay--size-auto\">          <div data-view-component=\"true\" class=\"Overlay-body Overlay-body--paddingNone\">          <div data-view-component=\"true\">  <ul aria-labelledby=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-button\" id=\"action-menu-1f903c18-bc98-42ca-bef8-ac8e6c32cd4c-list\" role=\"menu\" data-view-component=\"true\" class=\"ActionListWrap--inset ActionListWrap\">      <li hidden=\"hidden\" data-menu-item=\"i0code-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-0cc48fb2-067e-41b5-ac03-32e8ef1de741\" href=\"/redis/ioredis\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code\">    <path d=\"m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Code</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i1issues-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-2c6c6f78-31d1-46e6-b605-d6ad682dc6ac\" href=\"/redis/ioredis/issues\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-issue-opened\">    <path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path><path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Issues</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i2pull-requests-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-b6945922-8a88-466d-aada-e336e9d7745e\" href=\"/redis/ioredis/pulls\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-git-pull-request\">    <path d=\"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Pull requests</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i3actions-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-a153dbd0-1ac4-403c-93d6-6ef97c322a32\" href=\"/redis/ioredis/actions\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-play\">    <path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Actions</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i4projects-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-4437fc11-2ae4-40e1-9484-30e7d7b7b0d0\" href=\"/redis/ioredis/projects\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-table\">    <path d=\"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Projects</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i5wiki-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-a28bd879-ee47-4bc6-b44a-0b1ed527bfd8\" href=\"/redis/ioredis/wiki\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-book\">    <path d=\"M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Wiki</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i6security-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-c43a923b-c62c-45c7-aef6-2510eb48e033\" href=\"/redis/ioredis/security\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-shield\">    <path d=\"M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Security</span></a>    </li>      <li hidden=\"hidden\" data-menu-item=\"i7insights-tab\" data-targets=\"action-list.items action-list.items\" role=\"none\" data-view-component=\"true\" class=\"ActionListItem\">        <a tabindex=\"-1\" id=\"item-9716c358-87ce-4f2a-982a-12bf3b3b5f6a\" href=\"/redis/ioredis/pulse\" role=\"menuitem\" data-view-component=\"true\" class=\"ActionListContent ActionListContent--visual16\">        <span class=\"ActionListItem-visual ActionListItem-visual--leading\">          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-graph\">    <path d=\"M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z\"></path></svg>        </span>              <span data-view-component=\"true\" class=\"ActionListItem-label\">          Insights</span></a>    </li></ul>  </div></div>      </div></anchored-position>  </focus-group></action-menu></div></nav>  </div>  <turbo-frame id=\"repo-content-turbo-frame\" target=\"_top\" data-turbo-action=\"advance\" class=\"\">    <div id=\"repo-content-pjax-container\" class=\"repository-content \" >                <h1 class='sr-only'>redis/ioredis</h1>  <div class=\"clearfix container-xl px-md-4 px-lg-5 px-3\">    <div>  <div id=\"spoof-warning\" class=\"mt-0 pb-3\" hidden aria-hidden>  <div data-view-component=\"true\" class=\"flash flash-warn mt-0 clearfix\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert float-left mt-1\">    <path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>      <div class=\"overflow-hidden\">This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.</div>  </div></div>  <include-fragment src=\"/redis/ioredis/spoofed_commit_check/ec42c82ceab1957db00c5175dfe37348f1856a93\" data-test-selector=\"spoofed-commit-check\"></include-fragment>  <div style=\"max-width: 100%\" data-view-component=\"true\" class=\"Layout Layout--flowRow-until-md react-repos-overview-margin Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end\">  <div data-view-component=\"true\" class=\"Layout-main\">        <script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/react-lib-1fbfc5be2c18.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_octicons-react_dist_index_esm_js-node_modules_primer_react_lib-es-2e8e7c-adc8451a70cf.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Box_Box_js-8f8c5e2a2cbf.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Button_Button_js-67fe00b5266a.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_ActionList_index_js-2dd4d13d3ae6.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Overlay_Overlay_js-node_modules_primer_react_lib-es-fa1130-829932cf63db.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-85a14b-236dc9716ad0.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-eaf74522e470.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_react-router-dom_dist_index_js-3b41341d50fe.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_Dialog_js-node_modules_primer_react_lib-esm_Label_L-857e1c-77794958a54a.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_UnderlineNav_index_js-89fa5806aa3c.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendors-node_modules_primer_react_lib-esm_AvatarStack_AvatarStack_js-node_modules_primer_reac-e445e7-175b51e43dcc.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/ui_packages_react-core_create-browser-history_ts-ui_packages_react-core_AppContextProvider_ts-809ab9-bf008735d0bb.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/ui_packages_paths_index_ts-7137b25aa38b.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/ui_packages_ref-selector_RefSelector_tsx-dbbdef4348e2.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-ffbe33-4c4ddf7d268d.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/app_assets_modules_react-code-view_components_directory_DirectoryContent_index_ts-app_assets_-1fd1f5-c96303590595.js\"></script><script crossorigin=\"anonymous\" defer=\"defer\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/repos-overview-523b8f59ec33.js\"></script><react-partial  partial-name=\"repos-overview\"  data-ssr=\"true\">    <script type=\"application/json\" data-target=\"react-partial.embeddedData\">{\"props\":{\"initialPayload\":{\"allShortcutsEnabled\":false,\"path\":\"/\",\"repo\":{\"id\":33293613,\"defaultBranch\":\"main\",\"name\":\"ioredis\",\"ownerLogin\":\"redis\",\"currentUserCanPush\":false,\"isFork\":false,\"isEmpty\":false,\"createdAt\":\"2015-04-02T06:42:46.000Z\",\"ownerAvatar\":\"https://avatars.githubusercontent.com/u/1529926?v=4\",\"public\":true,\"private\":false,\"isOrgOwned\":true},\"currentUser\":null,\"refInfo\":{\"name\":\"main\",\"listCacheKey\":\"v0:1694700205.0\",\"canEdit\":false,\"refType\":\"branch\",\"currentOid\":\"ec42c82ceab1957db00c5175dfe37348f1856a93\"},\"tree\":{\"items\":[{\"name\":\".github\",\"path\":\".github\",\"contentType\":\"directory\"},{\"name\":\"benchmarks\",\"path\":\"benchmarks\",\"contentType\":\"directory\"},{\"name\":\"bin\",\"path\":\"bin\",\"contentType\":\"directory\"},{\"name\":\"docs\",\"path\":\"docs\",\"contentType\":\"directory\"},{\"name\":\"examples\",\"path\":\"examples\",\"contentType\":\"directory\"},{\"name\":\"lib\",\"path\":\"lib\",\"contentType\":\"directory\"},{\"name\":\"resources\",\"path\":\"resources\",\"contentType\":\"directory\"},{\"name\":\"test\",\"path\":\"test\",\"contentType\":\"directory\"},{\"name\":\".eslintrc.json\",\"path\":\".eslintrc.json\",\"contentType\":\"file\"},{\"name\":\".gitignore\",\"path\":\".gitignore\",\"contentType\":\"file\"},{\"name\":\".prettierignore\",\"path\":\".prettierignore\",\"contentType\":\"file\"},{\"name\":\".releaserc.json\",\"path\":\".releaserc.json\",\"contentType\":\"file\"},{\"name\":\"CHANGELOG.md\",\"path\":\"CHANGELOG.md\",\"contentType\":\"file\"},{\"name\":\"CODE_OF_CONDUCT.md\",\"path\":\"CODE_OF_CONDUCT.md\",\"contentType\":\"file\"},{\"name\":\"LICENSE\",\"path\":\"LICENSE\",\"contentType\":\"file\"},{\"name\":\"README.md\",\"path\":\"README.md\",\"contentType\":\"file\"},{\"name\":\"logo.svg\",\"path\":\"logo.svg\",\"contentType\":\"file\"},{\"name\":\"package-lock.json\",\"path\":\"package-lock.json\",\"contentType\":\"file\"},{\"name\":\"package.json\",\"path\":\"package.json\",\"contentType\":\"file\"},{\"name\":\"tsconfig.json\",\"path\":\"tsconfig.json\",\"contentType\":\"file\"}],\"templateDirectorySuggestionUrl\":null,\"readme\":null,\"totalCount\":20,\"showBranchInfobar\":false},\"fileTree\":null,\"fileTreeProcessingTime\":null,\"foldersToFetch\":[],\"treeExpanded\":false,\"symbolsExpanded\":false,\"isOverview\":true,\"overview\":{\"banners\":{\"shouldRecommendReadme\":false,\"isPersonalRepo\":false,\"showUseActionBanner\":false,\"actionSlug\":null,\"actionId\":null,\"showProtectBranchBanner\":false,\"recentlyTouchedDataChannel\":null,\"publishBannersInfo\":{\"dismissActionNoticePath\":\"/settings/dismiss-notice/publish_action_from_repo\",\"releasePath\":\"/redis/ioredis/releases/new?marketplace=true\",\"showPublishActionBanner\":false},\"interactionLimitBanner\":null,\"showInvitationBanner\":false,\"inviterName\":null},\"codeButton\":{\"contactPath\":\"/contact\",\"isEnterprise\":false,\"local\":{\"protocolInfo\":{\"httpAvailable\":true,\"sshAvailable\":null,\"httpUrl\":\"https://github.com/redis/ioredis.git\",\"showCloneWarning\":null,\"sshUrl\":null,\"sshCertificatesRequired\":null,\"sshCertificatesAvailable\":null,\"ghCliUrl\":\"gh repo clone redis/ioredis\",\"defaultProtocol\":\"http\",\"newSshKeyUrl\":\"/settings/ssh/new\",\"setProtocolPath\":\"/users/set_protocol\"},\"platformInfo\":{\"cloneUrl\":\"https://desktop.github.com\",\"showVisualStudioCloneButton\":false,\"visualStudioCloneUrl\":\"https://windows.github.com\",\"showXcodeCloneButton\":false,\"xcodeCloneUrl\":\"https://developer.apple.com\",\"zipballUrl\":\"/redis/ioredis/archive/refs/heads/main.zip\"}},\"newCodespacePath\":\"/codespaces/new?hide_repo_select=true\\u0026repo=33293613\"},\"popovers\":{\"rename\":null,\"renamedParentRepo\":null},\"commitCount\":\"1,295\",\"overviewFiles\":[{\"displayName\":\"README.md\",\"repoName\":\"ioredis\",\"refName\":\"main\",\"path\":\"README.md\",\"preferredFileType\":\"readme\",\"tabName\":\"README\",\"richText\":\"\\u003carticle class=\\\"markdown-body entry-content container-lg\\\" itemprop=\\\"text\\\"\\u003e\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca href=\\\"https://github.com/redis/ioredis\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/37e94283d4d2aca23acfeb12adaf0de20413253e3fa54931425345d581dddf96/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f72656469732f696f726564697340623565386337342f6c6f676f2e737667\\\" alt=\\\"ioredis\\\" data-canonical-src=\\\"https://cdn.jsdelivr.net/gh/redis/ioredis@b5e8c74/logo.svg\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca href=\\\"https://github.com/redis/ioredis/actions/workflows/release.yml?query=branch%3Amain\\\"\\u003e\\u003cimg src=\\\"https://github.com/redis/ioredis/actions/workflows/release.yml/badge.svg?branch=main\\\" alt=\\\"Build Status\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"https://coveralls.io/github/luin/ioredis?branch=main\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/c0b1f2e0eb3afee4aa7b780004a7b64750eb1e384f598ec17c4f0731a021cb4a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6c75696e2f696f72656469732f62616467652e7376673f6272616e63683d6d61696e\\\" alt=\\\"Coverage Status\\\" data-canonical-src=\\\"https://coveralls.io/repos/github/luin/ioredis/badge.svg?branch=main\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"http://commitizen.github.io/cz-cli/\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/caf8f1537966a50f2598fc7f0daf7cc01a2f9b54e531ea0c39b261cde3fb3a1b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f6d6d6974697a656e2d667269656e646c792d627269676874677265656e2e737667\\\" alt=\\\"Commitizen friendly\\\" data-canonical-src=\\\"https://img.shields.io/badge/commitizen-friendly-brightgreen.svg\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"https://github.com/semantic-release/semantic-release\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/0f5604073d5ca8914bba4f8d5366028a08e53076df4a3a1136bbda0be0c6540e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2532302532302546302539462539332541362546302539462539412538302d73656d616e7469632d2d72656c656173652d6531303037392e737667\\\" alt=\\\"semantic-release\\\" data-canonical-src=\\\"https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca href=\\\"https://discord.gg/redis\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/260167157cfe4ef52a41e7db4529e37b70bb94265c1afa8e58010dc44b57e010/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3639373838323432373837353339333632372e7376673f7374796c653d736f6369616c266c6f676f3d646973636f7264\\\" alt=\\\"Discord\\\" data-canonical-src=\\\"https://img.shields.io/discord/697882427875393627.svg?style=social\\u0026amp;logo=discord\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"https://www.twitch.tv/redisinc\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/9c0cf96a6ba5bbb2c4ffadcbf64912f9586298ca8f2f1f8e0755b2ba64abe0ec/68747470733a2f2f696d672e736869656c64732e696f2f7477697463682f7374617475732f7265646973696e633f7374796c653d736f6369616c\\\" alt=\\\"Twitch\\\" data-canonical-src=\\\"https://img.shields.io/twitch/status/redisinc?style=social\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"https://www.youtube.com/redisinc\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/5d59c42050a16df8429c9d939f961c8ec4697d5e1edec7566444ba54ec25e3b0/68747470733a2f2f696d672e736869656c64732e696f2f796f75747562652f6368616e6e656c2f76696577732f55434437386c48537759714d6c79657452305f50345669673f7374796c653d736f6369616c\\\" alt=\\\"YouTube\\\" data-canonical-src=\\\"https://img.shields.io/youtube/channel/views/UCD78lHSwYqMlyetR0_P4Vig?style=social\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\n\\u003ca href=\\\"https://twitter.com/redisinc\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/fe2e217f4677de390912ab7c48d88a496913030c967ca14338296c5653566e35/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f7265646973696e633f7374796c653d736f6369616c\\\" alt=\\\"Twitter\\\" data-canonical-src=\\\"https://img.shields.io/twitter/follow/redisinc?style=social\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eA robust, performance-focused and full-featured \\u003ca href=\\\"http://redis.io\\\" rel=\\\"nofollow\\\"\\u003eRedis\\u003c/a\\u003e client for \\u003ca href=\\\"https://nodejs.org\\\" rel=\\\"nofollow\\\"\\u003eNode.js\\u003c/a\\u003e.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSupports Redis \\u0026gt;= 2.6.12. Completely compatible with Redis 7.x.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eFeatures\\u003c/h1\\u003e\\u003ca id=\\\"user-content-features\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Features\\\" href=\\\"#features\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis is a robust, full-featured Redis client that is\\nused in the world's biggest online commerce company \\u003ca href=\\\"http://www.alibaba.com/\\\" rel=\\\"nofollow\\\"\\u003eAlibaba\\u003c/a\\u003e and many other awesome companies.\\u003c/p\\u003e\\n\\u003col start=\\\"0\\\" dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003eFull-featured. It supports \\u003ca href=\\\"http://redis.io/topics/cluster-tutorial\\\" rel=\\\"nofollow\\\"\\u003eCluster\\u003c/a\\u003e, \\u003ca href=\\\"https://redis.io/docs/reference/sentinel-clients\\\" rel=\\\"nofollow\\\"\\u003eSentinel\\u003c/a\\u003e, \\u003ca href=\\\"https://redis.io/topics/streams-intro\\\" rel=\\\"nofollow\\\"\\u003eStreams\\u003c/a\\u003e, \\u003ca href=\\\"http://redis.io/topics/pipelining\\\" rel=\\\"nofollow\\\"\\u003ePipelining\\u003c/a\\u003e, and of course \\u003ca href=\\\"http://redis.io/commands/eval\\\" rel=\\\"nofollow\\\"\\u003eLua scripting\\u003c/a\\u003e, \\u003ca href=\\\"https://redis.io/topics/functions-intro\\\" rel=\\\"nofollow\\\"\\u003eRedis Functions\\u003c/a\\u003e, \\u003ca href=\\\"http://redis.io/topics/pubsub\\\" rel=\\\"nofollow\\\"\\u003ePub/Sub\\u003c/a\\u003e (with the support of binary messages).\\u003c/li\\u003e\\n\\u003cli\\u003eHigh performance \ud83d\ude80.\\u003c/li\\u003e\\n\\u003cli\\u003eDelightful API \ud83d\ude04. It works with Node callbacks and Native promises.\\u003c/li\\u003e\\n\\u003cli\\u003eTransformation of command arguments and replies.\\u003c/li\\u003e\\n\\u003cli\\u003eTransparent key prefixing.\\u003c/li\\u003e\\n\\u003cli\\u003eAbstraction for Lua scripting, allowing you to \\u003ca href=\\\"https://github.com/redis/ioredis#lua-scripting\\\"\\u003edefine custom commands\\u003c/a\\u003e.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports \\u003ca href=\\\"https://github.com/redis/ioredis#handle-binary-data\\\"\\u003ebinary data\\u003c/a\\u003e.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports \\u003ca href=\\\"https://github.com/redis/ioredis#tls-options\\\"\\u003eTLS\\u003c/a\\u003e \ud83d\udd12.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports offline queue and ready checking.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports ES6 types, such as \\u003ccode\\u003eMap\\u003c/code\\u003e and \\u003ccode\\u003eSet\\u003c/code\\u003e.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports GEO commands \ud83d\udccd.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports Redis ACL.\\u003c/li\\u003e\\n\\u003cli\\u003eSophisticated error handling strategy.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports NAT mapping.\\u003c/li\\u003e\\n\\u003cli\\u003eSupports autopipelining.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003cstrong\\u003e100% written in TypeScript and official declarations are provided:\\u003c/strong\\u003e\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" href=\\\"/redis/ioredis/blob/main/resources/ts-screenshot.png\\\"\\u003e\\u003cimg width=\\\"837\\\" src=\\\"/redis/ioredis/raw/main/resources/ts-screenshot.png\\\" alt=\\\"TypeScript Screenshot\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eVersions\\u003c/h1\\u003e\\u003ca id=\\\"user-content-versions\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Versions\\\" href=\\\"#versions\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth\\u003eVersion\\u003c/th\\u003e\\n\\u003cth\\u003eBranch\\u003c/th\\u003e\\n\\u003cth\\u003eNode.js Version\\u003c/th\\u003e\\n\\u003cth\\u003eRedis Version\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003e5.x.x (latest)\\u003c/td\\u003e\\n\\u003ctd\\u003emain\\u003c/td\\u003e\\n\\u003ctd\\u003e\\u0026gt;= 12\\u003c/td\\u003e\\n\\u003ctd\\u003e2.6.12 ~ latest\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003e4.x.x\\u003c/td\\u003e\\n\\u003ctd\\u003ev4\\u003c/td\\u003e\\n\\u003ctd\\u003e\\u0026gt;= 6\\u003c/td\\u003e\\n\\u003ctd\\u003e2.6.12 ~ 7\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRefer to \\u003ca href=\\\"/redis/ioredis/blob/main/CHANGELOG.md\\\"\\u003eCHANGELOG.md\\u003c/a\\u003e for features and bug fixes introduced in v5.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\ud83d\ude80 \\u003ca href=\\\"https://github.com/redis/ioredis/wiki/Upgrading-from-v4-to-v5\\\"\\u003eUpgrading from v4 to v5\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eLinks\\u003c/h1\\u003e\\u003ca id=\\\"user-content-links\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Links\\\" href=\\\"#links\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cul dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"https://redis.github.io/ioredis/\\\" rel=\\\"nofollow\\\"\\u003eAPI Documentation\\u003c/a\\u003e (\\u003ca href=\\\"https://redis.github.io/ioredis/classes/Redis.html\\\" rel=\\\"nofollow\\\"\\u003eRedis\\u003c/a\\u003e, \\u003ca href=\\\"https://redis.github.io/ioredis/classes/Cluster.html\\\" rel=\\\"nofollow\\\"\\u003eCluster\\u003c/a\\u003e)\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/CHANGELOG.md\\\"\\u003eChangelog\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003chr\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eQuick Start\\u003c/h1\\u003e\\u003ca id=\\\"user-content-quick-start\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Quick Start\\\" href=\\\"#quick-start\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eInstall\\u003c/h2\\u003e\\u003ca id=\\\"user-content-install\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Install\\\" href=\\\"#install\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-shell notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"npm install ioredis\\\"\\u003e\\u003cpre\\u003enpm install ioredis\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn a TypeScript project, you may want to add TypeScript declarations for Node.js:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-shell notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"npm install --save-dev @types/node\\\"\\u003e\\u003cpre\\u003enpm install --save-dev @types/node\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eBasic Usage\\u003c/h2\\u003e\\u003ca id=\\\"user-content-basic-usage\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Basic Usage\\\" href=\\\"#basic-usage\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// Import ioredis.\\n// You can also use `import { Redis } from \\u0026quot;ioredis\\u0026quot;`\\n// if your project is a TypeScript project,\\n// Note that `import Redis from \\u0026quot;ioredis\\u0026quot;` is still supported,\\n// but will be deprecated in the next major version.\\nconst Redis = require(\\u0026quot;ioredis\\u0026quot;);\\n\\n// Create a Redis instance.\\n// By default, it will connect to localhost:6379.\\n// We are going to cover how to specify connection options soon.\\nconst redis = new Redis();\\n\\nredis.set(\\u0026quot;mykey\\u0026quot;, \\u0026quot;value\\u0026quot;); // Returns a promise which resolves to \\u0026quot;OK\\u0026quot; when the command succeeds.\\n\\n// ioredis supports the node.js callback style\\nredis.get(\\u0026quot;mykey\\u0026quot;, (err, result) =\\u0026gt; {\\n  if (err) {\\n    console.error(err);\\n  } else {\\n    console.log(result); // Prints \\u0026quot;value\\u0026quot;\\n  }\\n});\\n\\n// Or ioredis returns a promise if the last argument isn't a function\\nredis.get(\\u0026quot;mykey\\u0026quot;).then((result) =\\u0026gt; {\\n  console.log(result); // Prints \\u0026quot;value\\u0026quot;\\n});\\n\\nredis.zadd(\\u0026quot;sortedSet\\u0026quot;, 1, \\u0026quot;one\\u0026quot;, 2, \\u0026quot;dos\\u0026quot;, 4, \\u0026quot;quatro\\u0026quot;, 3, \\u0026quot;three\\u0026quot;);\\nredis.zrange(\\u0026quot;sortedSet\\u0026quot;, 0, 2, \\u0026quot;WITHSCORES\\u0026quot;).then((elements) =\\u0026gt; {\\n  // [\\u0026quot;one\\u0026quot;, \\u0026quot;1\\u0026quot;, \\u0026quot;dos\\u0026quot;, \\u0026quot;2\\u0026quot;, \\u0026quot;three\\u0026quot;, \\u0026quot;3\\u0026quot;] as if the command was `redis\\u0026gt; ZRANGE sortedSet 0 2 WITHSCORES`\\n  console.log(elements);\\n});\\n\\n// All arguments are passed directly to the redis server,\\n// so technically ioredis supports all Redis commands.\\n// The format is: redis[SOME_REDIS_COMMAND_IN_LOWERCASE](ARGUMENTS_ARE_JOINED_INTO_COMMAND_STRING)\\n// so the following statement is equivalent to the CLI: `redis\\u0026gt; SET mykey hello EX 10`\\nredis.set(\\u0026quot;mykey\\u0026quot;, \\u0026quot;hello\\u0026quot;, \\u0026quot;EX\\u0026quot;, 10);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// Import ioredis.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// You can also use `import { Redis } from \\\"ioredis\\\"`\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// if your project is a TypeScript project,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Note that `import Redis from \\\"ioredis\\\"` is still supported,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// but will be deprecated in the next major version.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Create a Redis instance.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// By default, it will connect to localhost:6379.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// We are going to cover how to specify connection options soon.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mykey\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"value\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Returns a promise which resolves to \\\"OK\\\" when the command succeeds.\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// ioredis supports the node.js callback style\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mykey\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eerror\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eelse\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Prints \\\"value\\\"\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Or ioredis returns a promise if the last argument isn't a function\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mykey\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ethen\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Prints \\\"value\\\"\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ezadd\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"sortedSet\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"one\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"dos\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e4\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"quatro\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e3\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"three\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ezrange\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"sortedSet\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"WITHSCORES\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ethen\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eelements\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// [\\\"one\\\", \\\"1\\\", \\\"dos\\\", \\\"2\\\", \\\"three\\\", \\\"3\\\"] as if the command was `redis\\u0026gt; ZRANGE sortedSet 0 2 WITHSCORES`\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eelements\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// All arguments are passed directly to the redis server,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// so technically ioredis supports all Redis commands.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// The format is: redis[SOME_REDIS_COMMAND_IN_LOWERCASE](ARGUMENTS_ARE_JOINED_INTO_COMMAND_STRING)\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// so the following statement is equivalent to the CLI: `redis\\u0026gt; SET mykey hello EX 10`\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mykey\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"hello\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"EX\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e10\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSee the \\u003ccode\\u003eexamples/\\u003c/code\\u003e folder for more examples. For example:\\u003c/p\\u003e\\n\\u003cul dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/ttl.js\\\"\\u003eTTL\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/string.js\\\"\\u003eStrings\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/hash.js\\\"\\u003eHashes\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/list.js\\\"\\u003eLists\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/set.js\\\"\\u003eSets\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/zset.js\\\"\\u003eSorted Sets\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/stream.js\\\"\\u003eStreams\\u003c/a\\u003e\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ca href=\\\"/redis/ioredis/blob/main/examples/module.js\\\"\\u003eRedis Modules\\u003c/a\\u003e e.g. RedisJSON\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAll Redis commands are supported. See \\u003ca href=\\\"https://redis.github.io/ioredis/classes/Redis.html\\\" rel=\\\"nofollow\\\"\\u003ethe documentation\\u003c/a\\u003e for details.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eConnect to Redis\\u003c/h2\\u003e\\u003ca id=\\\"user-content-connect-to-redis\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Connect to Redis\\\" href=\\\"#connect-to-redis\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen a new \\u003ccode\\u003eRedis\\u003c/code\\u003e instance is created,\\na connection to Redis will be created at the same time.\\nYou can specify which Redis to connect to by:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"new Redis(); // Connect to 127.0.0.1:6379\\nnew Redis(6380); // 127.0.0.1:6380\\nnew Redis(6379, \\u0026quot;192.168.1.1\\u0026quot;); // 192.168.1.1:6379\\nnew Redis(\\u0026quot;/tmp/redis.sock\\u0026quot;);\\nnew Redis({\\n  port: 6379, // Redis port\\n  host: \\u0026quot;127.0.0.1\\u0026quot;, // Redis host\\n  username: \\u0026quot;default\\u0026quot;, // needs Redis \\u0026gt;= 6\\n  password: \\u0026quot;my-top-secret\\u0026quot;,\\n  db: 0, // Defaults to 0\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Connect to 127.0.0.1:6379\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e6380\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// 127.0.0.1:6380\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e6379\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"192.168.1.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// 192.168.1.1:6379\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"/tmp/redis.sock\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e6379\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Redis port\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Redis host\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003eusername\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"default\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// needs Redis \\u0026gt;= 6\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003epassword\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"my-top-secret\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003edb\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Defaults to 0\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can also specify connection options as a \\u003ca href=\\\"http://www.iana.org/assignments/uri-schemes/prov/redis\\\" rel=\\\"nofollow\\\"\\u003e\\u003ccode\\u003eredis://\\u003c/code\\u003e URL\\u003c/a\\u003e or \\u003ca href=\\\"https://www.iana.org/assignments/uri-schemes/prov/rediss\\\" rel=\\\"nofollow\\\"\\u003e\\u003ccode\\u003erediss://\\u003c/code\\u003e URL\\u003c/a\\u003e when using \\u003ca href=\\\"#tls-options\\\"\\u003eTLS encryption\\u003c/a\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// Connect to 127.0.0.1:6380, db 4, using password \\u0026quot;authpassword\\u0026quot;:\\nnew Redis(\\u0026quot;redis://:authpassword@127.0.0.1:6380/4\\u0026quot;);\\n\\n// Username can also be passed via URI.\\nnew Redis(\\u0026quot;redis://username:authpassword@127.0.0.1:6380/4\\u0026quot;);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// Connect to 127.0.0.1:6380, db 4, using password \\\"authpassword\\\":\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"redis://:authpassword@127.0.0.1:6380/4\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Username can also be passed via URI.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"redis://username:authpassword@127.0.0.1:6380/4\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSee \\u003ca href=\\\"https://redis.github.io/ioredis/index.html#RedisOptions\\\" rel=\\\"nofollow\\\"\\u003eAPI Documentation\\u003c/a\\u003e for all available options.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003ePub/Sub\\u003c/h2\\u003e\\u003ca id=\\\"user-content-pubsub\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Pub/Sub\\\" href=\\\"#pubsub\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis provides several commands for developers to implement the \\u003ca href=\\\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\\\" rel=\\\"nofollow\\\"\\u003ePublish\u2013subscribe pattern\\u003c/a\\u003e. There are two roles in this pattern: publisher and subscriber. Publishers are not programmed to send their messages to specific subscribers. Rather, published messages are characterized into channels, without knowledge of what (if any) subscribers there may be.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBy leveraging Node.js's built-in events module, ioredis makes pub/sub very straightforward to use. Below is a simple example that consists of two files, one is publisher.js that publishes messages to a channel, the other is subscriber.js that listens for messages on specific channels.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// publisher.js\\n\\nconst Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst redis = new Redis();\\n\\nsetInterval(() =\\u0026gt; {\\n  const message = { foo: Math.random() };\\n  // Publish to my-channel-1 or my-channel-2 randomly.\\n  const channel = `my-channel-${1 + Math.round(Math.random())}`;\\n\\n  // Message can be either a string or a buffer\\n  redis.publish(channel, JSON.stringify(message));\\n  console.log(\\u0026quot;Published %s to %s\\u0026quot;, message, channel);\\n}, 1000);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// publisher.js\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-en\\\"\\u003esetInterval\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003efoo\\u003c/span\\u003e: \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003erandom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Publish to my-channel-1 or my-channel-2 randomly.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e`my-channel-\\u003cspan class=\\\"pl-s1\\\"\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e${\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eround\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003erandom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/span\\u003e`\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Message can be either a string or a buffer\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epublish\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eJSON\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003estringify\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"Published %s to %s\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// subscriber.js\\n\\nconst Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst redis = new Redis();\\n\\nredis.subscribe(\\u0026quot;my-channel-1\\u0026quot;, \\u0026quot;my-channel-2\\u0026quot;, (err, count) =\\u0026gt; {\\n  if (err) {\\n    // Just like other commands, subscribe() can fail for some reasons,\\n    // ex network issues.\\n    console.error(\\u0026quot;Failed to subscribe: %s\\u0026quot;, err.message);\\n  } else {\\n    // `count` represents the number of channels this client are currently subscribed to.\\n    console.log(\\n      `Subscribed successfully! This client is currently subscribed to ${count} channels.`\\n    );\\n  }\\n});\\n\\nredis.on(\\u0026quot;message\\u0026quot;, (channel, message) =\\u0026gt; {\\n  console.log(`Received ${message} from ${channel}`);\\n});\\n\\n// There's also an event called 'messageBuffer', which is the same as 'message' except\\n// it returns buffers instead of strings.\\n// It's useful when the messages are binary data.\\nredis.on(\\u0026quot;messageBuffer\\u0026quot;, (channel, message) =\\u0026gt; {\\n  // Both `channel` and `message` are buffers.\\n  console.log(channel, message);\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// subscriber.js\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esubscribe\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"my-channel-1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"my-channel-2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecount\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Just like other commands, subscribe() can fail for some reasons,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// ex network issues.\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eerror\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"Failed to subscribe: %s\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eelse\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// `count` represents the number of channels this client are currently subscribed to.\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-s\\\"\\u003e`Subscribed successfully! This client is currently subscribed to \\u003cspan class=\\\"pl-s1\\\"\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e${\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ecount\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/span\\u003e channels.`\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"message\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e`Received \\u003cspan class=\\\"pl-s1\\\"\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e${\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/span\\u003e from \\u003cspan class=\\\"pl-s1\\\"\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e${\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/span\\u003e`\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// There's also an event called 'messageBuffer', which is the same as 'message' except\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// it returns buffers instead of strings.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// It's useful when the messages are binary data.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"messageBuffer\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Both `channel` and `message` are buffers.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIt's worth noticing that a connection (aka a \\u003ccode\\u003eRedis\\u003c/code\\u003e instance) can't play both roles at the same time. More specifically, when a client issues \\u003ccode\\u003esubscribe()\\u003c/code\\u003e or \\u003ccode\\u003epsubscribe()\\u003c/code\\u003e, it enters the \\\"subscriber\\\" mode. From that point, only commands that modify the subscription set are valid. Namely, they are: \\u003ccode\\u003esubscribe\\u003c/code\\u003e, \\u003ccode\\u003epsubscribe\\u003c/code\\u003e, \\u003ccode\\u003eunsubscribe\\u003c/code\\u003e, \\u003ccode\\u003epunsubscribe\\u003c/code\\u003e, \\u003ccode\\u003eping\\u003c/code\\u003e, and \\u003ccode\\u003equit\\u003c/code\\u003e. When the subscription set is empty (via \\u003ccode\\u003eunsubscribe\\u003c/code\\u003e/\\u003ccode\\u003epunsubscribe\\u003c/code\\u003e), the connection is put back into the regular mode.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf you want to do pub/sub in the same file/process, you should create a separate connection:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst sub = new Redis();\\nconst pub = new Redis();\\n\\nsub.subscribe(/* ... */); // From now, `sub` enters the subscriber mode.\\nsub.on(\\u0026quot;message\\u0026quot; /* ... */);\\n\\nsetInterval(() =\\u0026gt; {\\n  // `pub` can be used to publish messages, or send other regular commands (e.g. `hgetall`)\\n  // because it's not in the subscriber mode.\\n  pub.publish(/* ... */);\\n}, 1000);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003epub\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esubscribe\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// From now, `sub` enters the subscriber mode.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"message\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-en\\\"\\u003esetInterval\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// `pub` can be used to publish messages, or send other regular commands (e.g. `hgetall`)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// because it's not in the subscriber mode.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003epub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epublish\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003ePSUBSCRIBE\\u003c/code\\u003e is also supported in a similar way when you want to subscribe all channels whose name matches a pattern:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.psubscribe(\\u0026quot;pat?ern\\u0026quot;, (err, count) =\\u0026gt; {});\\n\\n// Event names are \\u0026quot;pmessage\\u0026quot;/\\u0026quot;pmessageBuffer\\u0026quot; instead of \\u0026quot;message/messageBuffer\\u0026quot;.\\nredis.on(\\u0026quot;pmessage\\u0026quot;, (pattern, channel, message) =\\u0026gt; {});\\nredis.on(\\u0026quot;pmessageBuffer\\u0026quot;, (pattern, channel, message) =\\u0026gt; {});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epsubscribe\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"pat?ern\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecount\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Event names are \\\"pmessage\\\"/\\\"pmessageBuffer\\\" instead of \\\"message/messageBuffer\\\".\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"pmessage\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003epattern\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"pmessageBuffer\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003epattern\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eStreams\\u003c/h2\\u003e\\u003ca id=\\\"user-content-streams\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Streams\\\" href=\\\"#streams\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis v5 introduces a new data type called streams. It doubles as a communication channel for building streaming architectures and as a log-like data structure for persisting data. With ioredis, the usage can be pretty straightforward. Say we have a producer publishes messages to a stream with \\u003ccode\\u003eredis.xadd(\\\"mystream\\\", \\\"*\\\", \\\"randomValue\\\", Math.random())\\u003c/code\\u003e (You may find the \\u003ca href=\\\"https://redis.io/topics/streams-intro\\\" rel=\\\"nofollow\\\"\\u003eofficial documentation of Streams\\u003c/a\\u003e as a starter to understand the parameters used), to consume the messages, we'll have a consumer with the following code:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst redis = new Redis();\\n\\nconst processMessage = (message) =\\u0026gt; {\\n  console.log(\\u0026quot;Id: %s. Data: %O\\u0026quot;, message[0], message[1]);\\n};\\n\\nasync function listenForMessage(lastId = \\u0026quot;$\\u0026quot;) {\\n  // `results` is an array, each element of which corresponds to a key.\\n  // Because we only listen to one key (mystream) here, `results` only contains\\n  // a single element. See more: https://redis.io/commands/xread#return-value\\n  const results = await redis.xread(\\u0026quot;block\\u0026quot;, 0, \\u0026quot;STREAMS\\u0026quot;, \\u0026quot;mystream\\u0026quot;, lastId);\\n  const [key, messages] = results[0]; // `key` equals to \\u0026quot;mystream\\u0026quot;\\n\\n  messages.forEach(processMessage);\\n\\n  // Pass the last id of the results to the next round.\\n  await listenForMessage(messages[messages.length - 1][0]);\\n}\\n\\nlistenForMessage();\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003eprocessMessage\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"Id: %s. Data: %O\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003easync\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003efunction\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003elistenForMessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003elastId\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"$\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// `results` is an array, each element of which corresponds to a key.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Because we only listen to one key (mystream) here, `results` only contains\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// a single element. See more: https://redis.io/commands/xread#return-value\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eawait\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003exread\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"block\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"STREAMS\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mystream\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003elastId\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ekey\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessages\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// `key` equals to \\\"mystream\\\"\\u003c/span\\u003e\\n\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003emessages\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eforEach\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eprocessMessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Pass the last id of the results to the next round.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003eawait\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003elistenForMessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emessages\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emessages\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e-\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-en\\\"\\u003elistenForMessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eExpiration\\u003c/h2\\u003e\\u003ca id=\\\"user-content-expiration\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Expiration\\\" href=\\\"#expiration\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis can set a timeout to expire your key, after the timeout has expired the key will be automatically deleted. (You can find the \\u003ca href=\\\"https://redis.io/commands/expire/\\\" rel=\\\"nofollow\\\"\\u003eofficial Expire documentation\\u003c/a\\u003e to understand better the different parameters you can use), to set your key to expire in 60 seconds, we will have the following code:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.set(\\u0026quot;key\\u0026quot;, \\u0026quot;data\\u0026quot;, \\u0026quot;EX\\u0026quot;, 60);\\n// Equivalent to redis command \\u0026quot;SET key data EX 60\\u0026quot;, because on ioredis set method,\\n// all arguments are passed directly to the redis server.\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"key\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"data\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"EX\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e60\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Equivalent to redis command \\\"SET key data EX 60\\\", because on ioredis set method,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// all arguments are passed directly to the redis server.\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eHandle Binary Data\\u003c/h2\\u003e\\u003ca id=\\\"user-content-handle-binary-data\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Handle Binary Data\\\" href=\\\"#handle-binary-data\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBinary data support is out of the box. Pass buffers to send binary data:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.set(\\u0026quot;foo\\u0026quot;, Buffer.from([0x62, 0x75, 0x66]));\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003efrom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0x62\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0x75\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0x66\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eEvery command that returns a \\u003ca href=\\\"https://redis.io/docs/reference/protocol-spec/#resp-bulk-strings\\\" rel=\\\"nofollow\\\"\\u003ebulk string\\u003c/a\\u003e\\nhas a variant command with a \\u003ccode\\u003eBuffer\\u003c/code\\u003e suffix. The variant command returns a buffer instead of a UTF-8 string:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const result = await redis.getBuffer(\\u0026quot;foo\\u0026quot;);\\n// result is `\\u0026lt;Buffer 62 75 66\\u0026gt;`\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eawait\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003egetBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// result is `\\u0026lt;Buffer 62 75 66\\u0026gt;`\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIt's worth noticing that you don't need the \\u003ccode\\u003eBuffer\\u003c/code\\u003e suffix variant in order to \\u003cstrong\\u003esend\\u003c/strong\\u003e binary data. That means\\nin most case you should just use \\u003ccode\\u003eredis.set()\\u003c/code\\u003e instead of \\u003ccode\\u003eredis.setBuffer()\\u003c/code\\u003e unless you want to get the old value\\nwith the \\u003ccode\\u003eGET\\u003c/code\\u003e parameter:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const result = await redis.setBuffer(\\u0026quot;foo\\u0026quot;, \\u0026quot;new value\\u0026quot;, \\u0026quot;GET\\u0026quot;);\\n// result is `\\u0026lt;Buffer 62 75 66\\u0026gt;` as `GET` indicates returning the old value.\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eawait\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esetBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"new value\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"GET\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// result is `\\u0026lt;Buffer 62 75 66\\u0026gt;` as `GET` indicates returning the old value.\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003ePipelining\\u003c/h2\\u003e\\u003ca id=\\\"user-content-pipelining\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Pipelining\\\" href=\\\"#pipelining\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf you want to send a batch of commands (e.g. \\u0026gt; 5), you can use pipelining to queue\\nthe commands in memory and then send them to Redis all at once. This way the performance improves by 50%~300% (See \\u003ca href=\\\"#benchmarks\\\"\\u003ebenchmark section\\u003c/a\\u003e).\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eredis.pipeline()\\u003c/code\\u003e creates a \\u003ccode\\u003ePipeline\\u003c/code\\u003e instance. You can call any Redis\\ncommands on it just like the \\u003ccode\\u003eRedis\\u003c/code\\u003e instance. The commands are queued in memory\\nand flushed to Redis by calling the \\u003ccode\\u003eexec\\u003c/code\\u003e method:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const pipeline = redis.pipeline();\\npipeline.set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;);\\npipeline.del(\\u0026quot;cc\\u0026quot;);\\npipeline.exec((err, results) =\\u0026gt; {\\n  // `err` is always null, and `results` is an array of responses\\n  // corresponding to the sequence of queued commands.\\n  // Each response follows the format `[err, result]`.\\n});\\n\\n// You can even chain the commands:\\nredis\\n  .pipeline()\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;)\\n  .del(\\u0026quot;cc\\u0026quot;)\\n  .exec((err, results) =\\u0026gt; {});\\n\\n// `exec` also returns a Promise:\\nconst promise = redis.pipeline().set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;).get(\\u0026quot;foo\\u0026quot;).exec();\\npromise.then((result) =\\u0026gt; {\\n  // result === [[null, 'OK'], [null, 'bar']]\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003epipeline\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"cc\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// `err` is always null, and `results` is an array of responses\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// corresponding to the sequence of queued commands.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Each response follows the format `[err, result]`.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// You can even chain the commands:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"cc\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// `exec` also returns a Promise:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003epromise\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003epromise\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ethen\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === [[null, 'OK'], [null, 'bar']]\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eEach chained command can also have a callback, which will be invoked when the command\\ngets a reply:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .pipeline()\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;)\\n  .get(\\u0026quot;foo\\u0026quot;, (err, result) =\\u0026gt; {\\n    // result === 'bar'\\n  })\\n  .exec((err, result) =\\u0026gt; {\\n    // result[1][1] === 'bar'\\n  });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// result === 'bar'\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// result[1][1] === 'bar'\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn addition to adding commands to the \\u003ccode\\u003epipeline\\u003c/code\\u003e queue individually, you can also pass an array of commands and arguments to the constructor:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .pipeline([\\n    [\\u0026quot;set\\u0026quot;, \\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;],\\n    [\\u0026quot;get\\u0026quot;, \\u0026quot;foo\\u0026quot;],\\n  ])\\n  .exec(() =\\u0026gt; {\\n    /* ... */\\n  });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"set\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"get\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003e#length\\u003c/code\\u003e property shows how many commands in the pipeline:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const length = redis.pipeline().set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;).get(\\u0026quot;foo\\u0026quot;).length;\\n// length === 2\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003elength\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// length === 2\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTransaction\\u003c/h2\\u003e\\u003ca id=\\\"user-content-transaction\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Transaction\\\" href=\\\"#transaction\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eMost of the time, the transaction commands \\u003ccode\\u003emulti\\u003c/code\\u003e \\u0026amp; \\u003ccode\\u003eexec\\u003c/code\\u003e are used together with pipeline.\\nTherefore, when \\u003ccode\\u003emulti\\u003c/code\\u003e is called, a \\u003ccode\\u003ePipeline\\u003c/code\\u003e instance is created automatically by default,\\nso you can use \\u003ccode\\u003emulti\\u003c/code\\u003e just like \\u003ccode\\u003epipeline\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .multi()\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;)\\n  .get(\\u0026quot;foo\\u0026quot;)\\n  .exec((err, results) =\\u0026gt; {\\n    // results === [[null, 'OK'], [null, 'bar']]\\n  });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// results === [[null, 'OK'], [null, 'bar']]\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf there's a syntax error in the transaction's command chain (e.g. wrong number of arguments, wrong command name, etc),\\nthen none of the commands would be executed, and an error is returned:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .multi()\\n  .set(\\u0026quot;foo\\u0026quot;)\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;new value\\u0026quot;)\\n  .exec((err, results) =\\u0026gt; {\\n    // err:\\n    //  { [ReplyError: EXECABORT Transaction discarded because of previous errors.]\\n    //    name: 'ReplyError',\\n    //    message: 'EXECABORT Transaction discarded because of previous errors.',\\n    //    command: { name: 'exec', args: [] },\\n    //    previousErrors:\\n    //     [ { [ReplyError: ERR wrong number of arguments for 'set' command]\\n    //         name: 'ReplyError',\\n    //         message: 'ERR wrong number of arguments for \\\\'set\\\\' command',\\n    //         command: [Object] } ] }\\n  });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"new value\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresults\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// err:\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//  { [ReplyError: EXECABORT Transaction discarded because of previous errors.]\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//    name: 'ReplyError',\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//    message: 'EXECABORT Transaction discarded because of previous errors.',\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//    command: { name: 'exec', args: [] },\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//    previousErrors:\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//     [ { [ReplyError: ERR wrong number of arguments for 'set' command]\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//         name: 'ReplyError',\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//         message: 'ERR wrong number of arguments for \\\\'set\\\\' command',\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e//         command: [Object] } ] }\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn terms of the interface, \\u003ccode\\u003emulti\\u003c/code\\u003e differs from \\u003ccode\\u003epipeline\\u003c/code\\u003e in that when specifying a callback\\nto each chained command, the queueing state is passed to the callback instead of the result of the command:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .multi()\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;, (err, result) =\\u0026gt; {\\n    // result === 'QUEUED'\\n  })\\n  .exec(/* ... */);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// result === 'QUEUED'\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf you want to use transaction without pipeline, pass \\u003ccode\\u003e{ pipeline: false }\\u003c/code\\u003e to \\u003ccode\\u003emulti\\u003c/code\\u003e,\\nand every command will be sent to Redis immediately without waiting for an \\u003ccode\\u003eexec\\u003c/code\\u003e invocation:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.multi({ pipeline: false });\\nredis.set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;);\\nredis.get(\\u0026quot;foo\\u0026quot;);\\nredis.exec((err, result) =\\u0026gt; {\\n  // result === [[null, 'OK'], [null, 'bar']]\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003epipeline\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003efalse\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === [[null, 'OK'], [null, 'bar']]\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe constructor of \\u003ccode\\u003emulti\\u003c/code\\u003e also accepts a batch of commands:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .multi([\\n    [\\u0026quot;set\\u0026quot;, \\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;],\\n    [\\u0026quot;get\\u0026quot;, \\u0026quot;foo\\u0026quot;],\\n  ])\\n  .exec(() =\\u0026gt; {\\n    /* ... */\\n  });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"set\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"get\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e/* ... */\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eInline transactions are supported by pipeline, which means you can group a subset of commands\\nin the pipeline into a transaction:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis\\n  .pipeline()\\n  .get(\\u0026quot;foo\\u0026quot;)\\n  .multi()\\n  .set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;)\\n  .get(\\u0026quot;foo\\u0026quot;)\\n  .exec()\\n  .get(\\u0026quot;foo\\u0026quot;)\\n  .exec();\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emulti\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eLua Scripting\\u003c/h2\\u003e\\u003ca id=\\\"user-content-lua-scripting\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Lua Scripting\\\" href=\\\"#lua-scripting\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis supports all of the scripting commands such as \\u003ccode\\u003eEVAL\\u003c/code\\u003e, \\u003ccode\\u003eEVALSHA\\u003c/code\\u003e and \\u003ccode\\u003eSCRIPT\\u003c/code\\u003e.\\nHowever, it's tedious to use in real world scenarios since developers have to take\\ncare of script caching and to detect when to use \\u003ccode\\u003eEVAL\\u003c/code\\u003e and when to use \\u003ccode\\u003eEVALSHA\\u003c/code\\u003e.\\nioredis exposes a \\u003ccode\\u003edefineCommand\\u003c/code\\u003e method to make scripting much easier to use:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis();\\n\\n// This will define a command myecho:\\nredis.defineCommand(\\u0026quot;myecho\\u0026quot;, {\\n  numberOfKeys: 2,\\n  lua: \\u0026quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\u0026quot;,\\n});\\n\\n// Now `myecho` can be used just like any other ordinary command,\\n// and ioredis will try to use `EVALSHA` internally when possible for better performance.\\nredis.myecho(\\u0026quot;k1\\u0026quot;, \\u0026quot;k2\\u0026quot;, \\u0026quot;a1\\u0026quot;, \\u0026quot;a2\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result === ['k1', 'k2', 'a1', 'a2']\\n});\\n\\n// `myechoBuffer` is also defined automatically to return buffers instead of strings:\\nredis.myechoBuffer(\\u0026quot;k1\\u0026quot;, \\u0026quot;k2\\u0026quot;, \\u0026quot;a1\\u0026quot;, \\u0026quot;a2\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result[0] equals to Buffer.from('k1');\\n});\\n\\n// And of course it works with pipeline:\\nredis.pipeline().set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;).myecho(\\u0026quot;k1\\u0026quot;, \\u0026quot;k2\\u0026quot;, \\u0026quot;a1\\u0026quot;, \\u0026quot;a2\\u0026quot;).exec();\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// This will define a command myecho:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edefineCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"myecho\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003enumberOfKeys\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003elua\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Now `myecho` can be used just like any other ordinary command,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// and ioredis will try to use `EVALSHA` internally when possible for better performance.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emyecho\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === ['k1', 'k2', 'a1', 'a2']\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// `myechoBuffer` is also defined automatically to return buffers instead of strings:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emyechoBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result[0] equals to Buffer.from('k1');\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// And of course it works with pipeline:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emyecho\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eDynamic Keys\\u003c/h3\\u003e\\u003ca id=\\\"user-content-dynamic-keys\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Dynamic Keys\\\" href=\\\"#dynamic-keys\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf the number of keys can't be determined when defining a command, you can\\nomit the \\u003ccode\\u003enumberOfKeys\\u003c/code\\u003e property and pass the number of keys as the first argument\\nwhen you call the command:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.defineCommand(\\u0026quot;echoDynamicKeyNumber\\u0026quot;, {\\n  lua: \\u0026quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\u0026quot;,\\n});\\n\\n// Now you have to pass the number of keys as the first argument every time\\n// you invoke the `echoDynamicKeyNumber` command:\\nredis.echoDynamicKeyNumber(2, \\u0026quot;k1\\u0026quot;, \\u0026quot;k2\\u0026quot;, \\u0026quot;a1\\u0026quot;, \\u0026quot;a2\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result === ['k1', 'k2', 'a1', 'a2']\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edefineCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"echoDynamicKeyNumber\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003elua\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Now you have to pass the number of keys as the first argument every time\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// you invoke the `echoDynamicKeyNumber` command:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eechoDynamicKeyNumber\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === ['k1', 'k2', 'a1', 'a2']\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eAs Constructor Options\\u003c/h3\\u003e\\u003ca id=\\\"user-content-as-constructor-options\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: As Constructor Options\\\" href=\\\"#as-constructor-options\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBesides \\u003ccode\\u003edefineCommand()\\u003c/code\\u003e, you can also define custom commands with the \\u003ccode\\u003escripts\\u003c/code\\u003e constructor option:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  scripts: {\\n    myecho: {\\n      numberOfKeys: 2,\\n      lua: \\u0026quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\u0026quot;,\\n    },\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003escripts\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003emyecho\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003enumberOfKeys\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003elua\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTypeScript Usages\\u003c/h3\\u003e\\u003ca id=\\\"user-content-typescript-usages\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: TypeScript Usages\\\" href=\\\"#typescript-usages\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can refer to \\u003ca href=\\\"/redis/ioredis/blob/main/examples/typescript/scripts.ts\\\"\\u003ethe example\\u003c/a\\u003e for how to declare your custom commands.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTransparent Key Prefixing\\u003c/h2\\u003e\\u003ca id=\\\"user-content-transparent-key-prefixing\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Transparent Key Prefixing\\\" href=\\\"#transparent-key-prefixing\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis feature allows you to specify a string that will automatically be prepended\\nto all the keys in a command, which makes it easier to manage your key\\nnamespaces.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003cstrong\\u003eWarning\\u003c/strong\\u003e This feature won't apply to commands like \\u003ca href=\\\"http://redis.io/commands/KEYS\\\" rel=\\\"nofollow\\\"\\u003eKEYS\\u003c/a\\u003e and \\u003ca href=\\\"http://redis.io/commands/scan\\\" rel=\\\"nofollow\\\"\\u003eSCAN\\u003c/a\\u003e that take patterns rather than actual keys(\\u003ca href=\\\"https://github.com/redis/ioredis/issues/239\\\" data-hovercard-type=\\\"issue\\\" data-hovercard-url=\\\"/redis/ioredis/issues/239/hovercard\\\"\\u003e#239\\u003c/a\\u003e),\\nand this feature also won't apply to the replies of commands even if they are key names (\\u003ca href=\\\"https://github.com/redis/ioredis/issues/325\\\" data-hovercard-type=\\\"issue\\\" data-hovercard-url=\\\"/redis/ioredis/issues/325/hovercard\\\"\\u003e#325\\u003c/a\\u003e).\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const fooRedis = new Redis({ keyPrefix: \\u0026quot;foo:\\u0026quot; });\\nfooRedis.set(\\u0026quot;bar\\u0026quot;, \\u0026quot;baz\\u0026quot;); // Actually sends SET foo:bar baz\\n\\nfooRedis.defineCommand(\\u0026quot;myecho\\u0026quot;, {\\n  numberOfKeys: 2,\\n  lua: \\u0026quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\u0026quot;,\\n});\\n\\n// Works well with pipelining/transaction\\nfooRedis\\n  .pipeline()\\n  // Sends SORT foo:list BY foo:weight_*-\\u0026gt;fieldname\\n  .sort(\\u0026quot;list\\u0026quot;, \\u0026quot;BY\\u0026quot;, \\u0026quot;weight_*-\\u0026gt;fieldname\\u0026quot;)\\n  // Supports custom commands\\n  // Sends EVALSHA xxx foo:k1 foo:k2 a1 a2\\n  .myecho(\\u0026quot;k1\\u0026quot;, \\u0026quot;k2\\u0026quot;, \\u0026quot;a1\\u0026quot;, \\u0026quot;a2\\u0026quot;)\\n  .exec();\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003efooRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ekeyPrefix\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo:\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003efooRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"baz\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// Actually sends SET foo:bar baz\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003efooRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edefineCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"myecho\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003enumberOfKeys\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003elua\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Works well with pipelining/transaction\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003efooRedis\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epipeline\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Sends SORT foo:list BY foo:weight_*-\\u0026gt;fieldname\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esort\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"list\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"BY\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"weight_*-\\u0026gt;fieldname\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Supports custom commands\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Sends EVALSHA xxx foo:k1 foo:k2 a1 a2\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emyecho\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"a2\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eexec\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTransforming Arguments \\u0026amp; Replies\\u003c/h2\\u003e\\u003ca id=\\\"user-content-transforming-arguments--replies\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Transforming Arguments \\u0026amp; Replies\\\" href=\\\"#transforming-arguments--replies\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eMost Redis commands take one or more Strings as arguments,\\nand replies are sent back as a single String or an Array of Strings. However, sometimes\\nyou may want something different. For instance, it would be more convenient if the \\u003ccode\\u003eHGETALL\\u003c/code\\u003e\\ncommand returns a hash (e.g. \\u003ccode\\u003e{ key: val1, key2: v2 }\\u003c/code\\u003e) rather than an array of key values (e.g. \\u003ccode\\u003e[key1, val1, key2, val2]\\u003c/code\\u003e).\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis has a flexible system for transforming arguments and replies. There are two types\\nof transformers, argument transformer and reply transformer:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\n\\n// Here's the built-in argument transformer converting\\n// hmset('key', { k1: 'v1', k2: 'v2' })\\n// or\\n// hmset('key', new Map([['k1', 'v1'], ['k2', 'v2']]))\\n// into\\n// hmset('key', 'k1', 'v1', 'k2', 'v2')\\nRedis.Command.setArgumentTransformer(\\u0026quot;hmset\\u0026quot;, (args) =\\u0026gt; {\\n  if (args.length === 2) {\\n    if (args[1] instanceof Map) {\\n      // utils is a internal module of ioredis\\n      return [args[0], ...utils.convertMapToArray(args[1])];\\n    }\\n    if (typeof args[1] === \\u0026quot;object\\u0026quot; \\u0026amp;\\u0026amp; args[1] !== null) {\\n      return [args[0], ...utils.convertObjectToArray(args[1])];\\n    }\\n  }\\n  return args;\\n});\\n\\n// Here's the built-in reply transformer converting the HGETALL reply\\n// ['k1', 'v1', 'k2', 'v2']\\n// into\\n// { k1: 'v1', 'k2': 'v2' }\\nRedis.Command.setReplyTransformer(\\u0026quot;hgetall\\u0026quot;, (result) =\\u0026gt; {\\n  if (Array.isArray(result)) {\\n    const obj = {};\\n    for (let i = 0; i \\u0026lt; result.length; i += 2) {\\n      obj[result[i]] = result[i + 1];\\n    }\\n    return obj;\\n  }\\n  return result;\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Here's the built-in argument transformer converting\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// hmset('key', { k1: 'v1', k2: 'v2' })\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// or\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// hmset('key', new Map([['k1', 'v1'], ['k2', 'v2']]))\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// into\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// hmset('key', 'k1', 'v1', 'k2', 'v2')\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esetArgumentTransformer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"hmset\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e===\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003einstanceof\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMap\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c\\\"\\u003e// utils is a internal module of ioredis\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e ...\\u003cspan class=\\\"pl-s1\\\"\\u003eutils\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003econvertMapToArray\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003etypeof\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e===\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"object\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e\\u0026amp;\\u0026amp;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e!==\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003enull\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e ...\\u003cspan class=\\\"pl-s1\\\"\\u003eutils\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003econvertObjectToArray\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Here's the built-in reply transformer converting the HGETALL reply\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// ['k1', 'v1', 'k2', 'v2']\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// into\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// { k1: 'v1', 'k2': 'v2' }\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esetReplyTransformer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"hgetall\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-v\\\"\\u003eArray\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eisArray\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eobj\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003efor\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003elet\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e\\u0026lt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-s1\\\"\\u003eobj\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eobj\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThere are three built-in transformers, two argument transformers for \\u003ccode\\u003ehmset\\u003c/code\\u003e \\u0026amp; \\u003ccode\\u003emset\\u003c/code\\u003e and\\na reply transformer for \\u003ccode\\u003ehgetall\\u003c/code\\u003e. Transformers for \\u003ccode\\u003ehmset\\u003c/code\\u003e and \\u003ccode\\u003ehgetall\\u003c/code\\u003e were mentioned\\nabove, and the transformer for \\u003ccode\\u003emset\\u003c/code\\u003e is similar to the one for \\u003ccode\\u003ehmset\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.mset({ k1: \\u0026quot;v1\\u0026quot;, k2: \\u0026quot;v2\\u0026quot; });\\nredis.get(\\u0026quot;k1\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result === 'v1';\\n});\\n\\nredis.mset(\\n  new Map([\\n    [\\u0026quot;k3\\u0026quot;, \\u0026quot;v3\\u0026quot;],\\n    [\\u0026quot;k4\\u0026quot;, \\u0026quot;v4\\u0026quot;],\\n  ])\\n);\\nredis.get(\\u0026quot;k3\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result === 'v3';\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ek1\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"v1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ek2\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"v2\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === 'v1';\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMap\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k3\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"v3\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k4\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"v4\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"k3\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === 'v3';\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAnother useful example of a reply transformer is one that changes \\u003ccode\\u003ehgetall\\u003c/code\\u003e to return array of arrays instead of objects which avoids an unwanted conversation of hash keys to strings when dealing with binary hash keys:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"Redis.Command.setReplyTransformer(\\u0026quot;hgetall\\u0026quot;, (result) =\\u0026gt; {\\n  const arr = [];\\n  for (let i = 0; i \\u0026lt; result.length; i += 2) {\\n    arr.push([result[i], result[i + 1]]);\\n  }\\n  return arr;\\n});\\nredis.hset(\\u0026quot;h1\\u0026quot;, Buffer.from([0x01]), Buffer.from([0x02]));\\nredis.hset(\\u0026quot;h1\\u0026quot;, Buffer.from([0x03]), Buffer.from([0x04]));\\nredis.hgetallBuffer(\\u0026quot;h1\\u0026quot;, (err, result) =\\u0026gt; {\\n  // result === [ [ \\u0026lt;Buffer 01\\u0026gt;, \\u0026lt;Buffer 02\\u0026gt; ], [ \\u0026lt;Buffer 03\\u0026gt;, \\u0026lt;Buffer 04\\u0026gt; ] ];\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCommand\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esetReplyTransformer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"hgetall\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003earr\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003efor\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003elet\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e\\u0026lt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-s1\\\"\\u003earr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epush\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003earr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ehset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"h1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003efrom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0x01\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003efrom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0x02\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ehset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"h1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003efrom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0x03\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003efrom\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e0x04\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ehgetallBuffer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"h1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresult\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// result === [ [ \\u0026lt;Buffer 01\\u0026gt;, \\u0026lt;Buffer 02\\u0026gt; ], [ \\u0026lt;Buffer 03\\u0026gt;, \\u0026lt;Buffer 04\\u0026gt; ] ];\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eMonitor\\u003c/h2\\u003e\\u003ca id=\\\"user-content-monitor\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Monitor\\\" href=\\\"#monitor\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis supports the MONITOR command,\\nwhich lets you see all commands received by the Redis server across all client connections,\\nincluding from other client libraries and other computers.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe \\u003ccode\\u003emonitor\\u003c/code\\u003e method returns a monitor instance.\\nAfter you send the MONITOR command, no other commands are valid on that connection. ioredis will emit a monitor event for every new monitor message that comes across.\\nThe callback for the monitor event takes a timestamp from the Redis server and an array of command arguments.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eHere is a simple example:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"redis.monitor((err, monitor) =\\u0026gt; {\\n  monitor.on(\\u0026quot;monitor\\u0026quot;, (time, args, source, database) =\\u0026gt; {});\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"monitor\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etime\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eargs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003esource\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edatabase\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eHere is another example illustrating an \\u003ccode\\u003easync\\u003c/code\\u003e function and \\u003ccode\\u003emonitor.disconnect()\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"async () =\\u0026gt; {\\n  const monitor = await redis.monitor();\\n  monitor.on(\\u0026quot;monitor\\u0026quot;, console.log);\\n  // Any other tasks\\n  monitor.disconnect();\\n};\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003easync\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emonitor\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003eawait\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"monitor\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Any other tasks\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003emonitor\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003edisconnect\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eStreamify Scanning\\u003c/h2\\u003e\\u003ca id=\\\"user-content-streamify-scanning\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Streamify Scanning\\\" href=\\\"#streamify-scanning\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis 2.8 added the \\u003ccode\\u003eSCAN\\u003c/code\\u003e command to incrementally iterate through the keys in the database. It's different from \\u003ccode\\u003eKEYS\\u003c/code\\u003e in that\\n\\u003ccode\\u003eSCAN\\u003c/code\\u003e only returns a small number of elements each call, so it can be used in production without the downside\\nof blocking the server for a long time. However, it requires recording the cursor on the client side each time\\nthe \\u003ccode\\u003eSCAN\\u003c/code\\u003e command is called in order to iterate through all the keys correctly. Since it's a relatively common use case, ioredis\\nprovides a streaming interface for the \\u003ccode\\u003eSCAN\\u003c/code\\u003e command to make things much easier. A readable stream can be created by calling \\u003ccode\\u003escanStream\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis();\\n// Create a readable stream (object mode)\\nconst stream = redis.scanStream();\\nstream.on(\\u0026quot;data\\u0026quot;, (resultKeys) =\\u0026gt; {\\n  // `resultKeys` is an array of strings representing key names.\\n  // Note that resultKeys may contain 0 keys, and that it will sometimes\\n  // contain duplicates due to SCAN's implementation in Redis.\\n  for (let i = 0; i \\u0026lt; resultKeys.length; i++) {\\n    console.log(resultKeys[i]);\\n  }\\n});\\nstream.on(\\u0026quot;end\\u0026quot;, () =\\u0026gt; {\\n  console.log(\\u0026quot;all keys have been visited\\u0026quot;);\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Create a readable stream (object mode)\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003escanStream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"data\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresultKeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// `resultKeys` is an array of strings representing key names.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Note that resultKeys may contain 0 keys, and that it will sometimes\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// contain duplicates due to SCAN's implementation in Redis.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003efor\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003elet\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e\\u0026lt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresultKeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e++\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresultKeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"end\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"all keys have been visited\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003escanStream\\u003c/code\\u003e accepts an option, with which you can specify the \\u003ccode\\u003eMATCH\\u003c/code\\u003e pattern, the \\u003ccode\\u003eTYPE\\u003c/code\\u003e filter, and the \\u003ccode\\u003eCOUNT\\u003c/code\\u003e argument:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const stream = redis.scanStream({\\n  // only returns keys following the pattern of `user:*`\\n  match: \\u0026quot;user:*\\u0026quot;,\\n  // only return objects that match a given type,\\n  // (requires Redis \\u0026gt;= 6.0)\\n  type: \\u0026quot;zset\\u0026quot;,\\n  // returns approximately 100 elements per call\\n  count: 100,\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003escanStream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// only returns keys following the pattern of `user:*`\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ematch\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"user:*\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// only return objects that match a given type,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// (requires Redis \\u0026gt;= 6.0)\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003etype\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"zset\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// returns approximately 100 elements per call\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ecount\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e100\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eJust like other commands, \\u003ccode\\u003escanStream\\u003c/code\\u003e has a binary version \\u003ccode\\u003escanBufferStream\\u003c/code\\u003e, which returns an array of buffers. It's useful when\\nthe key names are not utf8 strings.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThere are also \\u003ccode\\u003ehscanStream\\u003c/code\\u003e, \\u003ccode\\u003ezscanStream\\u003c/code\\u003e and \\u003ccode\\u003esscanStream\\u003c/code\\u003e to iterate through elements in a hash, zset and set. The interface of each is\\nsimilar to \\u003ccode\\u003escanStream\\u003c/code\\u003e except the first argument is the key name:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const stream = redis.hscanStream(\\u0026quot;myhash\\u0026quot;, {\\n  match: \\u0026quot;age:??\\u0026quot;,\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ehscanStream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"myhash\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ematch\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"age:??\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can learn more from the \\u003ca href=\\\"http://redis.io/commands/scan\\\" rel=\\\"nofollow\\\"\\u003eRedis documentation\\u003c/a\\u003e.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003cstrong\\u003eUseful Tips\\u003c/strong\\u003e\\nIt's pretty common that doing an async task in the \\u003ccode\\u003edata\\u003c/code\\u003e handler. We'd like the scanning process to be paused until the async task to be finished. \\u003ccode\\u003eStream#pause()\\u003c/code\\u003e and \\u003ccode\\u003eStream#resume()\\u003c/code\\u003e do the trick. For example if we want to migrate data in Redis to MySQL:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const stream = redis.scanStream();\\nstream.on(\\u0026quot;data\\u0026quot;, (resultKeys) =\\u0026gt; {\\n  // Pause the stream from scanning more keys until we've migrated the current keys.\\n  stream.pause();\\n\\n  Promise.all(resultKeys.map(migrateKeyToMySQL)).then(() =\\u0026gt; {\\n    // Resume the stream here.\\n    stream.resume();\\n  });\\n});\\n\\nstream.on(\\u0026quot;end\\u0026quot;, () =\\u0026gt; {\\n  console.log(\\u0026quot;done migration\\u0026quot;);\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003escanStream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"data\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresultKeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// Pause the stream from scanning more keys until we've migrated the current keys.\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epause\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n  \\u003cspan class=\\\"pl-v\\\"\\u003ePromise\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eall\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eresultKeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emap\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003emigrateKeyToMySQL\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ethen\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Resume the stream here.\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eresume\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003estream\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"end\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"done migration\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eAuto-reconnect\\u003c/h2\\u003e\\u003ca id=\\\"user-content-auto-reconnect\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Auto-reconnect\\\" href=\\\"#auto-reconnect\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBy default, ioredis will try to reconnect when the connection to Redis is lost\\nexcept when the connection is closed manually by \\u003ccode\\u003eredis.disconnect()\\u003c/code\\u003e or \\u003ccode\\u003eredis.quit()\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIt's very flexible to control how long to wait to reconnect after disconnection\\nusing the \\u003ccode\\u003eretryStrategy\\u003c/code\\u003e option:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  // This is the default value of `retryStrategy`\\n  retryStrategy(times) {\\n    const delay = Math.min(times * 50, 2000);\\n    return delay;\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// This is the default value of `retryStrategy`\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-en\\\"\\u003eretryStrategy\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emin\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e*\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e50\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eretryStrategy\\u003c/code\\u003e is a function that will be called when the connection is lost.\\nThe argument \\u003ccode\\u003etimes\\u003c/code\\u003e means this is the nth reconnection being made and\\nthe return value represents how long (in ms) to wait to reconnect. When the\\nreturn value isn't a number, ioredis will stop trying to reconnect, and the connection\\nwill be lost forever if the user doesn't call \\u003ccode\\u003eredis.connect()\\u003c/code\\u003e manually.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen reconnected, the client will auto subscribe to channels that the previous connection subscribed to.\\nThis behavior can be disabled by setting the \\u003ccode\\u003eautoResubscribe\\u003c/code\\u003e option to \\u003ccode\\u003efalse\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAnd if the previous connection has some unfulfilled commands (most likely blocking commands such as \\u003ccode\\u003ebrpop\\u003c/code\\u003e and \\u003ccode\\u003eblpop\\u003c/code\\u003e),\\nthe client will resend them when reconnected. This behavior can be disabled by setting the \\u003ccode\\u003eautoResendUnfulfilledCommands\\u003c/code\\u003e option to \\u003ccode\\u003efalse\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBy default, all pending commands will be flushed with an error every 20 retry attempts. That makes sure commands won't wait forever when the connection is down. You can change this behavior by setting \\u003ccode\\u003emaxRetriesPerRequest\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  maxRetriesPerRequest: 1,\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003emaxRetriesPerRequest\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSet maxRetriesPerRequest to \\u003ccode\\u003enull\\u003c/code\\u003e to disable this behavior, and every command will wait forever until the connection is alive again (which is the default behavior before ioredis v4).\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eReconnect on Error\\u003c/h3\\u003e\\u003ca id=\\\"user-content-reconnect-on-error\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Reconnect on Error\\\" href=\\\"#reconnect-on-error\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBesides auto-reconnect when the connection is closed, ioredis supports reconnecting on certain Redis errors using the \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e option. Here's an example that will reconnect when receiving \\u003ccode\\u003eREADONLY\\u003c/code\\u003e error:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  reconnectOnError(err) {\\n    const targetError = \\u0026quot;READONLY\\u0026quot;;\\n    if (err.message.includes(targetError)) {\\n      // Only reconnect when the error contains \\u0026quot;READONLY\\u0026quot;\\n      return true; // or `return 1;`\\n    }\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-en\\\"\\u003ereconnectOnError\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003etargetError\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"READONLY\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eincludes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etargetError\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c\\\"\\u003e// Only reconnect when the error contains \\\"READONLY\\\"\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003etrue\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// or `return 1;`\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis feature is useful when using Amazon ElastiCache instances with Auto-failover disabled. On these instances, test your \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e handler by manually promoting the replica node to the primary role using the AWS console. The following writes fail with the error \\u003ccode\\u003eREADONLY\\u003c/code\\u003e. Using \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e, we can force the connection to reconnect on this error in order to connect to the new master. Furthermore, if the \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e returns \\u003ccode\\u003e2\\u003c/code\\u003e, ioredis will resend the failed command after reconnecting.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eOn ElastiCache instances with Auto-failover enabled, \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e does not execute. Instead of returning a Redis error, AWS closes all connections to the master endpoint until the new primary node is ready. ioredis reconnects via \\u003ccode\\u003eretryStrategy\\u003c/code\\u003e instead of \\u003ccode\\u003ereconnectOnError\\u003c/code\\u003e after about a minute. On ElastiCache instances with Auto-failover enabled, test failover events with the \\u003ccode\\u003eFailover primary\\u003c/code\\u003e option in the AWS console.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eConnection Events\\u003c/h2\\u003e\\u003ca id=\\\"user-content-connection-events\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Connection Events\\\" href=\\\"#connection-events\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe Redis instance will emit some events about the state of the connection to the Redis server.\\u003c/p\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eEvent\\u003c/th\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eDescription\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003econnect\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when a connection is established to the Redis server.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eready\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eIf \\u003ccode\\u003eenableReadyCheck\\u003c/code\\u003e is \\u003ccode\\u003etrue\\u003c/code\\u003e, client will emit \\u003ccode\\u003eready\\u003c/code\\u003e when the server reports that it is ready to receive commands (e.g. finish loading data from disk).\\u003cbr\\u003eOtherwise, \\u003ccode\\u003eready\\u003c/code\\u003e will be emitted immediately right after the \\u003ccode\\u003econnect\\u003c/code\\u003e event.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eerror\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when an error occurs while connecting.\\u003cbr\\u003eHowever, ioredis emits all \\u003ccode\\u003eerror\\u003c/code\\u003e events silently (only emits when there's at least one listener) so that your application won't crash if you're not listening to the \\u003ccode\\u003eerror\\u003c/code\\u003e event.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eclose\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when an established Redis server connection has closed.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003ereconnecting\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits after \\u003ccode\\u003eclose\\u003c/code\\u003e when a reconnection will be made. The argument of the event is the time (in ms) before reconnecting.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eend\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits after \\u003ccode\\u003eclose\\u003c/code\\u003e when no more reconnections will be made, or the connection is failed to establish.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003ewait\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when \\u003ccode\\u003elazyConnect\\u003c/code\\u003e is set and will wait for the first command to be called before connecting.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can also check out the \\u003ccode\\u003eRedis#status\\u003c/code\\u003e property to get the current connection status.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBesides the above connection events, there are several other custom events:\\u003c/p\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eEvent\\u003c/th\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eDescription\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eselect\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when the database changed. The argument is the new db number.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eOffline Queue\\u003c/h2\\u003e\\u003ca id=\\\"user-content-offline-queue\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Offline Queue\\\" href=\\\"#offline-queue\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen a command can't be processed by Redis (being sent before the \\u003ccode\\u003eready\\u003c/code\\u003e event), by default, it's added to the offline queue and will be\\nexecuted when it can be processed. You can disable this feature by setting the \\u003ccode\\u003eenableOfflineQueue\\u003c/code\\u003e\\noption to \\u003ccode\\u003efalse\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({ enableOfflineQueue: false });\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eenableOfflineQueue\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003efalse\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTLS Options\\u003c/h2\\u003e\\u003ca id=\\\"user-content-tls-options\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: TLS Options\\\" href=\\\"#tls-options\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis doesn't support TLS natively, however if the redis server you want to connect to is hosted behind a TLS proxy (e.g. \\u003ca href=\\\"https://www.stunnel.org/\\\" rel=\\\"nofollow\\\"\\u003estunnel\\u003c/a\\u003e) or is offered by a PaaS service that supports TLS connection (e.g. \\u003ca href=\\\"https://redis.com/\\\" rel=\\\"nofollow\\\"\\u003eRedis.com\\u003c/a\\u003e), you can set the \\u003ccode\\u003etls\\u003c/code\\u003e option:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  host: \\u0026quot;localhost\\u0026quot;,\\n  tls: {\\n    // Refer to `tls.connect()` section in\\n    // https://nodejs.org/api/tls.html\\n    // for all supported options\\n    ca: fs.readFileSync(\\u0026quot;cert.pem\\u0026quot;),\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"localhost\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003etls\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Refer to `tls.connect()` section in\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// https://nodejs.org/api/tls.html\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// for all supported options\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eca\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s1\\\"\\u003efs\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ereadFileSync\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"cert.pem\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAlternatively, specify the connection through a \\u003ca href=\\\"https://www.iana.org/assignments/uri-schemes/prov/rediss\\\" rel=\\\"nofollow\\\"\\u003e\\u003ccode\\u003erediss://\\u003c/code\\u003e URL\\u003c/a\\u003e.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis(\\u0026quot;rediss://redis.my-service.com\\u0026quot;);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"rediss://redis.my-service.com\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf you do not want to use a connection string, you can also specify an empty \\u003ccode\\u003etls: {}\\u003c/code\\u003e object:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  host: \\u0026quot;redis.my-service.com\\u0026quot;,\\n  tls: {},\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"redis.my-service.com\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003etls\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTLS Profiles\\u003c/h3\\u003e\\u003ca id=\\\"user-content-tls-profiles\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: TLS Profiles\\\" href=\\\"#tls-profiles\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cblockquote\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003cstrong\\u003eWarning\\u003c/strong\\u003e\\nTLS profiles described in this section are going to be deprecated in the next major version. Please provide TLS options explicitly.\\u003c/p\\u003e\\n\\u003c/blockquote\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eTo make it easier to configure we provide a few pre-configured TLS profiles that can be specified by setting the \\u003ccode\\u003etls\\u003c/code\\u003e option to the profile's name or specifying a \\u003ccode\\u003etls.profile\\u003c/code\\u003e option in case you need to customize some values of the profile.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eProfiles:\\u003c/p\\u003e\\n\\u003cul dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003eRedisCloudFixed\\u003c/code\\u003e: Contains the CA for \\u003ca href=\\\"https://redis.com/\\\" rel=\\\"nofollow\\\"\\u003eRedis.com\\u003c/a\\u003e Cloud fixed subscriptions\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003eRedisCloudFlexible\\u003c/code\\u003e: Contains the CA for \\u003ca href=\\\"https://redis.com/\\\" rel=\\\"nofollow\\\"\\u003eRedis.com\\u003c/a\\u003e Cloud flexible subscriptions\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  host: \\u0026quot;localhost\\u0026quot;,\\n  tls: \\u0026quot;RedisCloudFixed\\u0026quot;,\\n});\\n\\nconst redisWithClientCertificate = new Redis({\\n  host: \\u0026quot;localhost\\u0026quot;,\\n  tls: {\\n    profile: \\u0026quot;RedisCloudFixed\\u0026quot;,\\n    key: \\u0026quot;123\\u0026quot;,\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"localhost\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003etls\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"RedisCloudFixed\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredisWithClientCertificate\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"localhost\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003etls\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eprofile\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"RedisCloudFixed\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003ekey\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"123\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003chr\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eSentinel\\u003c/h2\\u003e\\u003ca id=\\\"user-content-sentinel\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Sentinel\\\" href=\\\"#sentinel\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis supports Sentinel out of the box. It works transparently as all features that work when\\nyou connect to a single node also work when you connect to a sentinel group. Make sure to run Redis \\u0026gt;= 2.8.12 if you want to use this feature. Sentinels have a default port of 26379.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eTo connect using Sentinel, use:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const redis = new Redis({\\n  sentinels: [\\n    { host: \\u0026quot;localhost\\u0026quot;, port: 26379 },\\n    { host: \\u0026quot;localhost\\u0026quot;, port: 26380 },\\n  ],\\n  name: \\u0026quot;mymaster\\u0026quot;,\\n});\\n\\nredis.set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003esentinels\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"localhost\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e26379\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"localhost\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e26380\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ename\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mymaster\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe arguments passed to the constructor are different from the ones you use to connect to a single node, where:\\u003c/p\\u003e\\n\\u003cul dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003ename\\u003c/code\\u003e identifies a group of Redis instances composed of a master and one or more slaves (\\u003ccode\\u003emymaster\\u003c/code\\u003e in the example);\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003esentinelPassword\\u003c/code\\u003e (optional) password for Sentinel instances.\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003esentinels\\u003c/code\\u003e are a list of sentinels to connect to. The list does not need to enumerate all your sentinel instances, but a few so that if one is down the client will try the next one.\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003erole\\u003c/code\\u003e (optional) with a value of \\u003ccode\\u003eslave\\u003c/code\\u003e will return a random slave from the Sentinel group.\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003epreferredSlaves\\u003c/code\\u003e (optional) can be used to prefer a particular slave or set of slaves based on priority. It accepts a function or array.\\u003c/li\\u003e\\n\\u003cli\\u003e\\u003ccode\\u003eenableTLSForSentinelMode\\u003c/code\\u003e (optional) set to true if connecting to sentinel instances that are encrypted\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis \\u003cstrong\\u003eguarantees\\u003c/strong\\u003e that the node you connected to is always a master even after a failover. When a failover happens, instead of trying to reconnect to the failed node (which will be demoted to slave when it's available again), ioredis will ask sentinels for the new master node and connect to it. All commands sent during the failover are queued and will be executed when the new connection is established so that none of the commands will be lost.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIt's possible to connect to a slave instead of a master by specifying the option \\u003ccode\\u003erole\\u003c/code\\u003e with the value of \\u003ccode\\u003eslave\\u003c/code\\u003e and ioredis will try to connect to a random slave of the specified master, with the guarantee that the connected node is always a slave. If the current node is promoted to master due to a failover, ioredis will disconnect from it and ask the sentinels for another slave node to connect to.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf you specify the option \\u003ccode\\u003epreferredSlaves\\u003c/code\\u003e along with \\u003ccode\\u003erole: 'slave'\\u003c/code\\u003e ioredis will attempt to use this value when selecting the slave from the pool of available slaves. The value of \\u003ccode\\u003epreferredSlaves\\u003c/code\\u003e should either be a function that accepts an array of available slaves and returns a single result, or an array of slave values priorities by the lowest \\u003ccode\\u003eprio\\u003c/code\\u003e value first with a default value of \\u003ccode\\u003e1\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// available slaves format\\nconst availableSlaves = [{ ip: \\u0026quot;127.0.0.1\\u0026quot;, port: \\u0026quot;31231\\u0026quot;, flags: \\u0026quot;slave\\u0026quot; }];\\n\\n// preferredSlaves array format\\nlet preferredSlaves = [\\n  { ip: \\u0026quot;127.0.0.1\\u0026quot;, port: \\u0026quot;31231\\u0026quot;, prio: 1 },\\n  { ip: \\u0026quot;127.0.0.1\\u0026quot;, port: \\u0026quot;31232\\u0026quot;, prio: 2 },\\n];\\n\\n// preferredSlaves function format\\npreferredSlaves = function (availableSlaves) {\\n  for (let i = 0; i \\u0026lt; availableSlaves.length; i++) {\\n    const slave = availableSlaves[i];\\n    if (slave.ip === \\u0026quot;127.0.0.1\\u0026quot;) {\\n      if (slave.port === \\u0026quot;31234\\u0026quot;) {\\n        return slave;\\n      }\\n    }\\n  }\\n  // if no preferred slaves are available a random one is used\\n  return false;\\n};\\n\\nconst redis = new Redis({\\n  sentinels: [\\n    { host: \\u0026quot;127.0.0.1\\u0026quot;, port: 26379 },\\n    { host: \\u0026quot;127.0.0.1\\u0026quot;, port: 26380 },\\n  ],\\n  name: \\u0026quot;mymaster\\u0026quot;,\\n  role: \\u0026quot;slave\\u0026quot;,\\n  preferredSlaves: preferredSlaves,\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// available slaves format\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eavailableSlaves\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eip\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"31231\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eflags\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"slave\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// preferredSlaves array format\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003elet\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003epreferredSlaves\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eip\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"31231\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eprio\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e1\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eip\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"31232\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eprio\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// preferredSlaves function format\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003epreferredSlaves\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003efunction\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eavailableSlaves\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003efor\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003elet\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e0\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e\\u0026lt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eavailableSlaves\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003elength\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e++\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eslave\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eavailableSlaves\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ei\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eslave\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eip\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e===\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-k\\\"\\u003eif\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eslave\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e===\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"31234\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n        \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eslave\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// if no preferred slaves are available a random one is used\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003efalse\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003esentinels\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e26379\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e26380\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003ename\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"mymaster\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003erole\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"slave\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003epreferredSlaves\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s1\\\"\\u003epreferredSlaves\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBesides the \\u003ccode\\u003eretryStrategy\\u003c/code\\u003e option, there's also a \\u003ccode\\u003esentinelRetryStrategy\\u003c/code\\u003e in Sentinel mode which will be invoked when all the sentinel nodes are unreachable during connecting. If \\u003ccode\\u003esentinelRetryStrategy\\u003c/code\\u003e returns a valid delay time, ioredis will try to reconnect from scratch. The default value of \\u003ccode\\u003esentinelRetryStrategy\\u003c/code\\u003e is:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"function (times) {\\n  const delay = Math.min(times * 10, 1000);\\n  return delay;\\n}\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003efunction\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emin\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e*\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e10\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e1000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eCluster\\u003c/h2\\u003e\\u003ca id=\\\"user-content-cluster\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Cluster\\\" href=\\\"#cluster\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eRedis Cluster provides a way to run a Redis installation where data is automatically sharded across multiple Redis nodes.\\nYou can connect to a Redis Cluster like this:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\n\\nconst cluster = new Redis.Cluster([\\n  {\\n    port: 6380,\\n    host: \\u0026quot;127.0.0.1\\u0026quot;,\\n  },\\n  {\\n    port: 6381,\\n    host: \\u0026quot;127.0.0.1\\u0026quot;,\\n  },\\n]);\\n\\ncluster.set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;);\\ncluster.get(\\u0026quot;foo\\u0026quot;, (err, res) =\\u0026gt; {\\n  // res === 'bar'\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e6380\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e6381\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"127.0.0.1\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eres\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// res === 'bar'\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eCluster\\u003c/code\\u003e constructor accepts two arguments, where:\\u003c/p\\u003e\\n\\u003col start=\\\"0\\\" dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe first argument is a list of nodes of the cluster you want to connect to.\\nJust like Sentinel, the list does not need to enumerate all your cluster nodes,\\nbut a few so that if one is unreachable the client will try the next one, and the client will discover other nodes automatically when at least one node is connected.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe second argument is the options, where:\\u003c/p\\u003e\\n\\u003cul dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eclusterRetryStrategy\\u003c/code\\u003e: When none of the startup nodes are reachable, \\u003ccode\\u003eclusterRetryStrategy\\u003c/code\\u003e will be invoked. When a number is returned,\\nioredis will try to reconnect to the startup nodes from scratch after the specified delay (in ms). Otherwise, an error of \\\"None of startup nodes is available\\\" will be returned.\\nThe default value of this option is:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"function (times) {\\n  const delay = Math.min(100 + times * 2, 2000);\\n  return delay;\\n}\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003efunction\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emin\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e100\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e*\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edelay\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIt's possible to modify the \\u003ccode\\u003estartupNodes\\u003c/code\\u003e property in order to switch to another set of nodes here:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"function (times) {\\n  this.startupNodes = [{ port: 6790, host: '127.0.0.1' }];\\n  return Math.min(100 + times * 2, 2000);\\n}\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003efunction\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003ethis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003estartupNodes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e6790\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e'127.0.0.1'\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003ereturn\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eMath\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emin\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e100\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e+\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003etimes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e*\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e2000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003ednsLookup\\u003c/code\\u003e: Alternative DNS lookup function (\\u003ccode\\u003edns.lookup()\\u003c/code\\u003e is used by default). It may be useful to override this in special cases, such as when AWS ElastiCache used with TLS enabled.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eenableOfflineQueue\\u003c/code\\u003e: Similar to the \\u003ccode\\u003eenableOfflineQueue\\u003c/code\\u003e option of \\u003ccode\\u003eRedis\\u003c/code\\u003e class.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eenableReadyCheck\\u003c/code\\u003e: When enabled, \\\"ready\\\" event will only be emitted when \\u003ccode\\u003eCLUSTER INFO\\u003c/code\\u003e command\\nreporting the cluster is ready for handling commands. Otherwise, it will be emitted immediately after \\\"connect\\\" is emitted.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003escaleReads\\u003c/code\\u003e: Config where to send the read queries. See below for more details.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003emaxRedirections\\u003c/code\\u003e: When a cluster related error (e.g. \\u003ccode\\u003eMOVED\\u003c/code\\u003e, \\u003ccode\\u003eASK\\u003c/code\\u003e and \\u003ccode\\u003eCLUSTERDOWN\\u003c/code\\u003e etc.) is received, the client will redirect the\\ncommand to another node. This option limits the max redirections allowed when sending a command. The default value is \\u003ccode\\u003e16\\u003c/code\\u003e.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eretryDelayOnFailover\\u003c/code\\u003e: If the target node is disconnected when sending a command,\\nioredis will retry after the specified delay. The default value is \\u003ccode\\u003e100\\u003c/code\\u003e. You should make sure \\u003ccode\\u003eretryDelayOnFailover * maxRedirections \\u0026gt; cluster-node-timeout\\u003c/code\\u003e\\nto insure that no command will fail during a failover.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eretryDelayOnClusterDown\\u003c/code\\u003e: When a cluster is down, all commands will be rejected with the error of \\u003ccode\\u003eCLUSTERDOWN\\u003c/code\\u003e. If this option is a number (by default, it is \\u003ccode\\u003e100\\u003c/code\\u003e), the client\\nwill resend the commands after the specified time (in ms).\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eretryDelayOnTryAgain\\u003c/code\\u003e: If this option is a number (by default, it is \\u003ccode\\u003e100\\u003c/code\\u003e), the client\\nwill resend the commands rejected with \\u003ccode\\u003eTRYAGAIN\\u003c/code\\u003e error after the specified time (in ms).\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eretryDelayOnMoved\\u003c/code\\u003e: By default, this value is \\u003ccode\\u003e0\\u003c/code\\u003e (in ms), which means when a \\u003ccode\\u003eMOVED\\u003c/code\\u003e error is received, the client will resend\\nthe command instantly to the node returned together with the \\u003ccode\\u003eMOVED\\u003c/code\\u003e error. However, sometimes it takes time for a cluster to become\\nstate stabilized after a failover, so adding a delay before resending can prevent a ping pong effect.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eredisOptions\\u003c/code\\u003e: Default options passed to the constructor of \\u003ccode\\u003eRedis\\u003c/code\\u003e when connecting to a node.\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eslotsRefreshTimeout\\u003c/code\\u003e: Milliseconds before a timeout occurs while refreshing slots from the cluster (default \\u003ccode\\u003e1000\\u003c/code\\u003e).\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003cli\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eslotsRefreshInterval\\u003c/code\\u003e: Milliseconds between every automatic slots refresh (by default, it is disabled).\\u003c/p\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eRead-Write Splitting\\u003c/h3\\u003e\\u003ca id=\\\"user-content-read-write-splitting\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Read-Write Splitting\\\" href=\\\"#read-write-splitting\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eA typical redis cluster contains three or more masters and several slaves for each master. It's possible to scale out redis cluster by sending read queries to slaves and write queries to masters by setting the \\u003ccode\\u003escaleReads\\u003c/code\\u003e option.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003escaleReads\\u003c/code\\u003e is \\\"master\\\" by default, which means ioredis will never send any queries to slaves. There are other three available options:\\u003c/p\\u003e\\n\\u003col dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003e\\\"all\\\": Send write queries to masters and read queries to masters or slaves randomly.\\u003c/li\\u003e\\n\\u003cli\\u003e\\\"slave\\\": Send write queries to masters and read queries to slaves.\\u003c/li\\u003e\\n\\u003cli\\u003ea custom \\u003ccode\\u003efunction(nodes, command): node\\u003c/code\\u003e: Will choose the custom function to select to which node to send read queries (write queries keep being sent to master). The first node in \\u003ccode\\u003enodes\\u003c/code\\u003e is always the master serving the relevant slots. If the function returns an array of nodes, a random node of that list will be selected.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eFor example:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const cluster = new Redis.Cluster(\\n  [\\n    /* nodes */\\n  ],\\n  {\\n    scaleReads: \\u0026quot;slave\\u0026quot;,\\n  }\\n);\\ncluster.set(\\u0026quot;foo\\u0026quot;, \\u0026quot;bar\\u0026quot;); // This query will be sent to one of the masters.\\ncluster.get(\\u0026quot;foo\\u0026quot;, (err, res) =\\u0026gt; {\\n  // This query will be sent to one of the slaves.\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e/* nodes */\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003escaleReads\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"slave\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"bar\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e \\u003cspan class=\\\"pl-c\\\"\\u003e// This query will be sent to one of the masters.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eres\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e// This query will be sent to one of the slaves.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003cstrong\\u003eNB\\u003c/strong\\u003e In the code snippet above, the \\u003ccode\\u003eres\\u003c/code\\u003e may not be equal to \\\"bar\\\" because of the lag of replication between the master and slaves.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eRunning Commands to Multiple Nodes\\u003c/h3\\u003e\\u003ca id=\\\"user-content-running-commands-to-multiple-nodes\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Running Commands to Multiple Nodes\\\" href=\\\"#running-commands-to-multiple-nodes\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eEvery command will be sent to exactly one node. For commands containing keys, (e.g. \\u003ccode\\u003eGET\\u003c/code\\u003e, \\u003ccode\\u003eSET\\u003c/code\\u003e and \\u003ccode\\u003eHGETALL\\u003c/code\\u003e), ioredis sends them to the node that serving the keys, and for other commands not containing keys, (e.g. \\u003ccode\\u003eINFO\\u003c/code\\u003e, \\u003ccode\\u003eKEYS\\u003c/code\\u003e and \\u003ccode\\u003eFLUSHDB\\u003c/code\\u003e), ioredis sends them to a random node.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSometimes you may want to send a command to multiple nodes (masters or slaves) of the cluster, you can get the nodes via \\u003ccode\\u003eCluster#nodes()\\u003c/code\\u003e method.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eCluster#nodes()\\u003c/code\\u003e accepts a parameter role, which can be \\\"master\\\", \\\"slave\\\" and \\\"all\\\" (default), and returns an array of \\u003ccode\\u003eRedis\\u003c/code\\u003e instance. For example:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"// Send `FLUSHDB` command to all slaves:\\nconst slaves = cluster.nodes(\\u0026quot;slave\\u0026quot;);\\nPromise.all(slaves.map((node) =\\u0026gt; node.flushdb()));\\n\\n// Get keys of all the masters:\\nconst masters = cluster.nodes(\\u0026quot;master\\u0026quot;);\\nPromise.all(\\n  masters\\n    .map((node) =\\u0026gt; node.keys())\\n    .then((keys) =\\u0026gt; {\\n      // keys: [['key1', 'key2'], ['key3', 'key4']]\\n    })\\n);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-c\\\"\\u003e// Send `FLUSHDB` command to all slaves:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eslaves\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003enodes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"slave\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-v\\\"\\u003ePromise\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eall\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eslaves\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emap\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003enode\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003enode\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eflushdb\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// Get keys of all the masters:\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emasters\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003enodes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"master\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-v\\\"\\u003ePromise\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eall\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003emasters\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003emap\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003enode\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003enode\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ekeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ethen\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ekeys\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c\\\"\\u003e// keys: [['key1', 'key2'], ['key3', 'key4']]\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eNAT Mapping\\u003c/h3\\u003e\\u003ca id=\\\"user-content-nat-mapping\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: NAT Mapping\\\" href=\\\"#nat-mapping\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSometimes the cluster is hosted within a internal network that can only be accessed via a NAT (Network Address Translation) instance. See \\u003ca href=\\\"https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/accessing-elasticache.html\\\" rel=\\\"nofollow\\\"\\u003eAccessing ElastiCache from outside AWS\\u003c/a\\u003e as an example.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can specify nat mapping rules via \\u003ccode\\u003enatMap\\u003c/code\\u003e option:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const cluster = new Redis.Cluster(\\n  [\\n    {\\n      host: \\u0026quot;203.0.113.73\\u0026quot;,\\n      port: 30001,\\n    },\\n  ],\\n  {\\n    natMap: {\\n      \\u0026quot;10.0.1.230:30001\\u0026quot;: { host: \\u0026quot;203.0.113.73\\u0026quot;, port: 30001 },\\n      \\u0026quot;10.0.1.231:30001\\u0026quot;: { host: \\u0026quot;203.0.113.73\\u0026quot;, port: 30002 },\\n      \\u0026quot;10.0.1.232:30001\\u0026quot;: { host: \\u0026quot;203.0.113.73\\u0026quot;, port: 30003 },\\n    },\\n  }\\n);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"203.0.113.73\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30001\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003enatMap\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"10.0.1.230:30001\\\"\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"203.0.113.73\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30001\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"10.0.1.231:30001\\\"\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"203.0.113.73\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30002\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"10.0.1.232:30001\\\"\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"203.0.113.73\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30003\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis option is also useful when the cluster is running inside a Docker container.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eTransaction and Pipeline in Cluster Mode\\u003c/h3\\u003e\\u003ca id=\\\"user-content-transaction-and-pipeline-in-cluster-mode\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Transaction and Pipeline in Cluster Mode\\\" href=\\\"#transaction-and-pipeline-in-cluster-mode\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAlmost all features that are supported by \\u003ccode\\u003eRedis\\u003c/code\\u003e are also supported by \\u003ccode\\u003eRedis.Cluster\\u003c/code\\u003e, e.g. custom commands, transaction and pipeline.\\nHowever there are some differences when using transaction and pipeline in Cluster mode:\\u003c/p\\u003e\\n\\u003col start=\\\"0\\\" dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003eAll keys in a pipeline should belong to slots served by the same node, since ioredis sends all commands in a pipeline to the same node.\\u003c/li\\u003e\\n\\u003cli\\u003eYou can't use \\u003ccode\\u003emulti\\u003c/code\\u003e without pipeline (aka \\u003ccode\\u003ecluster.multi({ pipeline: false })\\u003c/code\\u003e). This is because when you call \\u003ccode\\u003ecluster.multi({ pipeline: false })\\u003c/code\\u003e, ioredis doesn't know which node the \\u003ccode\\u003emulti\\u003c/code\\u003e command should be sent to.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen any commands in a pipeline receives a \\u003ccode\\u003eMOVED\\u003c/code\\u003e or \\u003ccode\\u003eASK\\u003c/code\\u003e error, ioredis will resend the whole pipeline to the specified node automatically if all of the following conditions are satisfied:\\u003c/p\\u003e\\n\\u003col start=\\\"0\\\" dir=\\\"auto\\\"\\u003e\\n\\u003cli\\u003eAll errors received in the pipeline are the same. For example, we won't resend the pipeline if we got two \\u003ccode\\u003eMOVED\\u003c/code\\u003e errors pointing to different nodes.\\u003c/li\\u003e\\n\\u003cli\\u003eAll commands executed successfully are readonly commands. This makes sure that resending the pipeline won't have side effects.\\u003c/li\\u003e\\n\\u003c/ol\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003ePub/Sub\\u003c/h3\\u003e\\u003ca id=\\\"user-content-pubsub-1\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Pub/Sub\\\" href=\\\"#pubsub-1\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003ePub/Sub in cluster mode works exactly as the same as in standalone mode. Internally, when a node of the cluster receives a message, it will broadcast the message to the other nodes. ioredis makes sure that each message will only be received once by strictly subscribing one node at the same time.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const nodes = [\\n  /* nodes */\\n];\\nconst pub = new Redis.Cluster(nodes);\\nconst sub = new Redis.Cluster(nodes);\\nsub.on(\\u0026quot;message\\u0026quot;, (channel, message) =\\u0026gt; {\\n  console.log(channel, message);\\n});\\n\\nsub.subscribe(\\u0026quot;news\\u0026quot;, () =\\u0026gt; {\\n  pub.publish(\\u0026quot;news\\u0026quot;, \\u0026quot;highlights\\u0026quot;);\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003enodes\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c\\\"\\u003e/* nodes */\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003epub\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003enodes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003enodes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eon\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"message\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-smi\\\"\\u003econsole\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elog\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003echannel\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003emessage\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003esub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003esubscribe\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"news\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003epub\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003epublish\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"news\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"highlights\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eEvents\\u003c/h3\\u003e\\u003ca id=\\\"user-content-events\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Events\\\" href=\\\"#events\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eEvent\\u003c/th\\u003e\\n\\u003cth align=\\\"left\\\"\\u003eDescription\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003econnect\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when a connection is established to the Redis server.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eready\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when \\u003ccode\\u003eCLUSTER INFO\\u003c/code\\u003e reporting the cluster is able to receive commands (if \\u003ccode\\u003eenableReadyCheck\\u003c/code\\u003e is \\u003ccode\\u003etrue\\u003c/code\\u003e) or immediately after \\u003ccode\\u003econnect\\u003c/code\\u003e event (if \\u003ccode\\u003eenableReadyCheck\\u003c/code\\u003e is false).\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eerror\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when an error occurs while connecting with a property of \\u003ccode\\u003elastNodeError\\u003c/code\\u003e representing the last node error received. This event is emitted silently (only emitting if there's at least one listener).\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eclose\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when an established Redis server connection has closed.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003ereconnecting\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits after \\u003ccode\\u003eclose\\u003c/code\\u003e when a reconnection will be made. The argument of the event is the time (in ms) before reconnecting.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eend\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits after \\u003ccode\\u003eclose\\u003c/code\\u003e when no more reconnections will be made.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003e+node\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when a new node is connected.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003e-node\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when a node is disconnected.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003enode error\\u003c/td\\u003e\\n\\u003ctd align=\\\"left\\\"\\u003eemits when an error occurs when connecting to a node. The second argument indicates the address of the node.\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003ePassword\\u003c/h3\\u003e\\u003ca id=\\\"user-content-password\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Password\\\" href=\\\"#password\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eSetting the \\u003ccode\\u003epassword\\u003c/code\\u003e option to access password-protected clusters:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst cluster = new Redis.Cluster(nodes, {\\n  redisOptions: {\\n    password: \\u0026quot;your-cluster-password\\u0026quot;,\\n  },\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003enodes\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-c1\\\"\\u003eredisOptions\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003epassword\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"your-cluster-password\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf some of nodes in the cluster using a different password, you should specify them in the first parameter:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst cluster = new Redis.Cluster(\\n  [\\n    // Use password \\u0026quot;password-for-30001\\u0026quot; for 30001\\n    { port: 30001, password: \\u0026quot;password-for-30001\\u0026quot; },\\n    // Don't use password when accessing 30002\\n    { port: 30002, password: null },\\n    // Other nodes will use \\u0026quot;fallback-password\\u0026quot;\\n  ],\\n  {\\n    redisOptions: {\\n      password: \\u0026quot;fallback-password\\u0026quot;,\\n    },\\n  }\\n);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Use password \\\"password-for-30001\\\" for 30001\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30001\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003epassword\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"password-for-30001\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Don't use password when accessing 30002\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e30002\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003epassword\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003enull\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c\\\"\\u003e// Other nodes will use \\\"fallback-password\\\"\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eredisOptions\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003epassword\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"fallback-password\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eSpecial Note: Aws Elasticache Clusters with TLS\\u003c/h3\\u003e\\u003ca id=\\\"user-content-special-note-aws-elasticache-clusters-with-tls\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Special Note: Aws Elasticache Clusters with TLS\\\" href=\\\"#special-note-aws-elasticache-clusters-with-tls\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAWS ElastiCache for Redis (Clustered Mode) supports TLS encryption. If you use\\nthis, you may encounter errors with invalid certificates. To resolve this\\nissue, construct the \\u003ccode\\u003eCluster\\u003c/code\\u003e with the \\u003ccode\\u003ednsLookup\\u003c/code\\u003e option as follows:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const cluster = new Redis.Cluster(\\n  [\\n    {\\n      host: \\u0026quot;clustercfg.myCluster.abcdefg.xyz.cache.amazonaws.com\\u0026quot;,\\n      port: 6379,\\n    },\\n  ],\\n  {\\n    dnsLookup: (address, callback) =\\u0026gt; callback(null, address),\\n    redisOptions: {\\n      tls: {},\\n    },\\n  }\\n);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecluster\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eCluster\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e[\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003ehost\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"clustercfg.myCluster.abcdefg.xyz.cache.amazonaws.com\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003eport\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003e6379\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e]\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-en\\\"\\u003ednsLookup\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eaddress\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecallback\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ecallback\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003enull\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eaddress\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-c1\\\"\\u003eredisOptions\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n      \\u003cspan class=\\\"pl-c1\\\"\\u003etls\\u003c/span\\u003e: \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003chr\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch2 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eAutopipelining\\u003c/h2\\u003e\\u003ca id=\\\"user-content-autopipelining\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Autopipelining\\\" href=\\\"#autopipelining\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn standard mode, when you issue multiple commands, ioredis sends them to the server one by one. As described in Redis pipeline documentation, this is a suboptimal use of the network link, especially when such link is not very performant.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThe TCP and network overhead negatively affects performance. Commands are stuck in the send queue until the previous ones are correctly delivered to the server. This is a problem known as Head-Of-Line blocking (HOL).\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eioredis supports a feature called \u201cauto pipelining\u201d. It can be enabled by setting the option \\u003ccode\\u003eenableAutoPipelining\\u003c/code\\u003e to \\u003ccode\\u003etrue\\u003c/code\\u003e. No other code change is necessary.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn auto pipelining mode, all commands issued during an event loop are enqueued in a pipeline automatically managed by ioredis. At the end of the iteration, the pipeline is executed and thus all commands are sent to the server at the same time.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis feature can dramatically improve throughput and avoids HOL blocking. In our benchmarks, the improvement was between 35% and 50%.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhile an automatic pipeline is executing, all new commands will be enqueued in a new pipeline which will be executed as soon as the previous finishes.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen using Redis Cluster, one pipeline per node is created. Commands are assigned to pipelines according to which node serves the slot.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eA pipeline will thus contain commands using different slots but that ultimately are assigned to the same node.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eNote that the same slot limitation within a single command still holds, as it is a Redis limitation.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eExample of Automatic Pipeline Enqueuing\\u003c/h3\\u003e\\u003ca id=\\\"user-content-example-of-automatic-pipeline-enqueuing\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Example of Automatic Pipeline Enqueuing\\\" href=\\\"#example-of-automatic-pipeline-enqueuing\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis sample code uses ioredis with automatic pipeline enabled.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;./built\\u0026quot;);\\nconst http = require(\\u0026quot;http\\u0026quot;);\\n\\nconst db = new Redis({ enableAutoPipelining: true });\\n\\nconst server = http.createServer((request, response) =\\u0026gt; {\\n  const key = new URL(request.url, \\u0026quot;https://localhost:3000/\\u0026quot;).searchParams.get(\\n    \\u0026quot;key\\u0026quot;\\n  );\\n\\n  db.get(key, (err, value) =\\u0026gt; {\\n    response.writeHead(200, { \\u0026quot;Content-Type\\u0026quot;: \\u0026quot;text/plain\\u0026quot; });\\n    response.end(value);\\n  });\\n});\\n\\nserver.listen(3000);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"./built\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ehttp\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"http\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003edb\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eenableAutoPipelining\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003etrue\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eserver\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ehttp\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ecreateServer\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003erequest\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eresponse\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003ekey\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eURL\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003erequest\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eurl\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"https://localhost:3000/\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003esearchParams\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"key\\\"\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003edb\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eget\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003ekey\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003evalue\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-s1\\\"\\u003eresponse\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003ewriteHead\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e200\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"Content-Type\\\"\\u003c/span\\u003e: \\u003cspan class=\\\"pl-s\\\"\\u003e\\\"text/plain\\\"\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n    \\u003cspan class=\\\"pl-s1\\\"\\u003eresponse\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eend\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003evalue\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eserver\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003elisten\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003e3000\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen Node receives requests, it schedules them to be processed in one or more iterations of the events loop.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAll commands issued by requests processing during one iteration of the loop will be wrapped in a pipeline automatically created by ioredis.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIn the example above, the pipeline will have the following contents:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"snippet-clipboard-content notranslate position-relative overflow-auto\\\" data-snippet-clipboard-copy-content=\\\"GET key1\\nGET key2\\nGET key3\\n...\\nGET keyN\\\"\\u003e\\u003cpre class=\\\"notranslate\\\"\\u003e\\u003ccode\\u003eGET key1\\nGET key2\\nGET key3\\n...\\nGET keyN\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhen all events in the current loop have been processed, the pipeline is executed and thus all commands are sent to the server at the same time.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eWhile waiting for pipeline response from Redis, Node will still be able to process requests. All commands issued by request handler will be enqueued in a new automatically created pipeline. This pipeline will not be sent to the server yet.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAs soon as a previous automatic pipeline has received all responses from the server, the new pipeline is immediately sent without waiting for the events loop iteration to finish.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis approach increases the utilization of the network link, reduces the TCP overhead and idle times and therefore improves throughput.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch3 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eBenchmarks\\u003c/h3\\u003e\\u003ca id=\\\"user-content-benchmarks\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Benchmarks\\\" href=\\\"#benchmarks\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eHere's some of the results of our tests for a single node.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eEach iteration of the test runs 1000 random commands on the server.\\u003c/p\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth\\u003e\\u003c/th\\u003e\\n\\u003cth\\u003eSamples\\u003c/th\\u003e\\n\\u003cth\\u003eResult\\u003c/th\\u003e\\n\\u003cth\\u003eTolerance\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003edefault\\u003c/td\\u003e\\n\\u003ctd\\u003e1000\\u003c/td\\u003e\\n\\u003ctd\\u003e174.62 op/sec\\u003c/td\\u003e\\n\\u003ctd\\u003e\u00b1 0.45 %\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003eenableAutoPipelining=true\\u003c/td\\u003e\\n\\u003ctd\\u003e1500\\u003c/td\\u003e\\n\\u003ctd\\u003e233.33 op/sec\\u003c/td\\u003e\\n\\u003ctd\\u003e\u00b1 0.88 %\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAnd here's the same test for a cluster of 3 masters and 3 replicas:\\u003c/p\\u003e\\n\\u003ctable\\u003e\\n\\u003cthead\\u003e\\n\\u003ctr\\u003e\\n\\u003cth\\u003e\\u003c/th\\u003e\\n\\u003cth\\u003eSamples\\u003c/th\\u003e\\n\\u003cth\\u003eResult\\u003c/th\\u003e\\n\\u003cth\\u003eTolerance\\u003c/th\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/thead\\u003e\\n\\u003ctbody\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003edefault\\u003c/td\\u003e\\n\\u003ctd\\u003e1000\\u003c/td\\u003e\\n\\u003ctd\\u003e164.05 op/sec\\u003c/td\\u003e\\n\\u003ctd\\u003e\u00b1 0.42 %\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003ctr\\u003e\\n\\u003ctd\\u003eenableAutoPipelining=true\\u003c/td\\u003e\\n\\u003ctd\\u003e3000\\u003c/td\\u003e\\n\\u003ctd\\u003e235.31 op/sec\\u003c/td\\u003e\\n\\u003ctd\\u003e\u00b1 0.94 %\\u003c/td\\u003e\\n\\u003c/tr\\u003e\\n\\u003c/tbody\\u003e\\n\\u003c/table\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eError Handling\\u003c/h1\\u003e\\u003ca id=\\\"user-content-error-handling\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Error Handling\\\" href=\\\"#error-handling\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAll the errors returned by the Redis server are instances of \\u003ccode\\u003eReplyError\\u003c/code\\u003e, which can be accessed via \\u003ccode\\u003eRedis\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst redis = new Redis();\\n// This command causes a reply error since the SET command requires two arguments.\\nredis.set(\\u0026quot;foo\\u0026quot;, (err) =\\u0026gt; {\\n  err instanceof Redis.ReplyError;\\n});\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-c\\\"\\u003e// This command causes a reply error since the SET command requires two arguments.\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e,\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u0026gt;\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e\\n  \\u003cspan class=\\\"pl-s1\\\"\\u003eerr\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003einstanceof\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-c1\\\"\\u003eReplyError\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis is the error stack of the \\u003ccode\\u003eReplyError\\u003c/code\\u003e:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"snippet-clipboard-content notranslate position-relative overflow-auto\\\" data-snippet-clipboard-copy-content=\\\"ReplyError: ERR wrong number of arguments for 'set' command\\n    at ReplyParser._parseResult (/app/node_modules/ioredis/lib/parsers/javascript.js:60:14)\\n    at ReplyParser.execute (/app/node_modules/ioredis/lib/parsers/javascript.js:178:20)\\n    at Socket.\\u0026lt;anonymous\\u0026gt; (/app/node_modules/ioredis/lib/redis/event_handler.js:99:22)\\n    at Socket.emit (events.js:97:17)\\n    at readableAddChunk (_stream_readable.js:143:16)\\n    at Socket.Readable.push (_stream_readable.js:106:10)\\n    at TCP.onread (net.js:509:20)\\\"\\u003e\\u003cpre class=\\\"notranslate\\\"\\u003e\\u003ccode\\u003eReplyError: ERR wrong number of arguments for 'set' command\\n    at ReplyParser._parseResult (/app/node_modules/ioredis/lib/parsers/javascript.js:60:14)\\n    at ReplyParser.execute (/app/node_modules/ioredis/lib/parsers/javascript.js:178:20)\\n    at Socket.\\u0026lt;anonymous\\u0026gt; (/app/node_modules/ioredis/lib/redis/event_handler.js:99:22)\\n    at Socket.emit (events.js:97:17)\\n    at readableAddChunk (_stream_readable.js:143:16)\\n    at Socket.Readable.push (_stream_readable.js:106:10)\\n    at TCP.onread (net.js:509:20)\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eBy default, the error stack doesn't make any sense because the whole stack happens in the ioredis\\nmodule itself, not in your code. So it's not easy to find out where the error happens in your code.\\nioredis provides an option \\u003ccode\\u003eshowFriendlyErrorStack\\u003c/code\\u003e to solve the problem. When you enable\\n\\u003ccode\\u003eshowFriendlyErrorStack\\u003c/code\\u003e, ioredis will optimize the error stack for you:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-js notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"const Redis = require(\\u0026quot;ioredis\\u0026quot;);\\nconst redis = new Redis({ showFriendlyErrorStack: true });\\nredis.set(\\u0026quot;foo\\u0026quot;);\\\"\\u003e\\u003cpre\\u003e\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-en\\\"\\u003erequire\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"ioredis\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-k\\\"\\u003econst\\u003c/span\\u003e \\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003e=\\u003c/span\\u003e \\u003cspan class=\\\"pl-k\\\"\\u003enew\\u003c/span\\u003e \\u003cspan class=\\\"pl-v\\\"\\u003eRedis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e{\\u003c/span\\u003e \\u003cspan class=\\\"pl-c1\\\"\\u003eshowFriendlyErrorStack\\u003c/span\\u003e: \\u003cspan class=\\\"pl-c1\\\"\\u003etrue\\u003c/span\\u003e \\u003cspan class=\\\"pl-kos\\\"\\u003e}\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\n\\u003cspan class=\\\"pl-s1\\\"\\u003eredis\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e.\\u003c/span\\u003e\\u003cspan class=\\\"pl-en\\\"\\u003eset\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e(\\u003c/span\\u003e\\u003cspan class=\\\"pl-s\\\"\\u003e\\\"foo\\\"\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e)\\u003c/span\\u003e\\u003cspan class=\\\"pl-kos\\\"\\u003e;\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAnd the output will be:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"snippet-clipboard-content notranslate position-relative overflow-auto\\\" data-snippet-clipboard-copy-content=\\\"ReplyError: ERR wrong number of arguments for 'set' command\\n    at Object.\\u0026lt;anonymous\\u0026gt; (/app/index.js:3:7)\\n    at Module._compile (module.js:446:26)\\n    at Object.Module._extensions..js (module.js:464:10)\\n    at Module.load (module.js:341:32)\\n    at Function.Module._load (module.js:296:12)\\n    at Function.Module.runMain (module.js:487:10)\\n    at startup (node.js:111:16)\\n    at node.js:799:3\\\"\\u003e\\u003cpre class=\\\"notranslate\\\"\\u003e\\u003ccode\\u003eReplyError: ERR wrong number of arguments for 'set' command\\n    at Object.\\u0026lt;anonymous\\u0026gt; (/app/index.js:3:7)\\n    at Module._compile (module.js:446:26)\\n    at Object.Module._extensions..js (module.js:464:10)\\n    at Module.load (module.js:341:32)\\n    at Function.Module._load (module.js:296:12)\\n    at Function.Module.runMain (module.js:487:10)\\n    at startup (node.js:111:16)\\n    at node.js:799:3\\n\\u003c/code\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis time the stack tells you that the error happens on the third line in your code. Pretty sweet!\\nHowever, it would decrease the performance significantly to optimize the error stack. So by\\ndefault, this option is disabled and can only be used for debugging purposes. You \\u003cstrong\\u003eshouldn't\\u003c/strong\\u003e use this feature in a production environment.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eRunning tests\\u003c/h1\\u003e\\u003ca id=\\\"user-content-running-tests\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Running tests\\\" href=\\\"#running-tests\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eStart a Redis server on 127.0.0.1:6379, and then:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-shell notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"npm test\\\"\\u003e\\u003cpre\\u003enpm \\u003cspan class=\\\"pl-c1\\\"\\u003etest\\u003c/span\\u003e\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ccode\\u003eFLUSH ALL\\u003c/code\\u003e will be invoked after each test, so make sure there's no valuable data in it before running tests.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eIf your testing environment does not let you spin up a Redis server \\u003ca href=\\\"https://github.com/stipsan/ioredis-mock\\\"\\u003eioredis-mock\\u003c/a\\u003e is a drop-in replacement you can use in your tests. It aims to behave identically to ioredis connected to a Redis server so that your integration tests is easier to write and of better quality.\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eDebug\\u003c/h1\\u003e\\u003ca id=\\\"user-content-debug\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Debug\\\" href=\\\"#debug\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eYou can set the \\u003ccode\\u003eDEBUG\\u003c/code\\u003e env to \\u003ccode\\u003eioredis:*\\u003c/code\\u003e to print debug info:\\u003c/p\\u003e\\n\\u003cdiv class=\\\"highlight highlight-source-shell notranslate position-relative overflow-auto\\\" dir=\\\"auto\\\" data-snippet-clipboard-copy-content=\\\"$ DEBUG=ioredis:* node app.js\\\"\\u003e\\u003cpre\\u003e$ DEBUG=ioredis:\\u003cspan class=\\\"pl-k\\\"\\u003e*\\u003c/span\\u003e node app.js\\u003c/pre\\u003e\\u003c/div\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eJoin in!\\u003c/h1\\u003e\\u003ca id=\\\"user-content-join-in\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Join in!\\\" href=\\\"#join-in\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eI'm happy to receive bug reports, fixes, documentation enhancements, and any other improvements.\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eAnd since I'm not a native English speaker, if you find any grammar mistakes in the documentation, please also let me know. :)\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eContributors\\u003c/h1\\u003e\\u003ca id=\\\"user-content-contributors\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: Contributors\\\" href=\\\"#contributors\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eThis project exists thanks to all the people who contribute:\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca href=\\\"https://github.com/redis/ioredis/graphs/contributors\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/c2acdc9bccfabd3afa1dc6a7edb4048502b4d71fa39cedd3a23509901b11ee54/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f696f72656469732f636f6e7472696275746f72732e7376673f77696474683d3839302673686f7742746e3d66616c7365\\\" data-canonical-src=\\\"https://opencollective.com/ioredis/contributors.svg?width=890\\u0026amp;showBtn=false\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003cdiv class=\\\"markdown-heading\\\" dir=\\\"auto\\\"\\u003e\\u003ch1 tabindex=\\\"-1\\\" class=\\\"heading-element\\\" dir=\\\"auto\\\"\\u003eLicense\\u003c/h1\\u003e\\u003ca id=\\\"user-content-license\\\" class=\\\"anchor-element\\\" aria-label=\\\"Permalink: License\\\" href=\\\"#license\\\"\\u003e\\u003csvg class=\\\"octicon octicon-link\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\"\\u003e\\u003cpath d=\\\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\\\"\\u003e\\u003c/path\\u003e\\u003c/svg\\u003e\\u003c/a\\u003e\\u003c/div\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003eMIT\\u003c/p\\u003e\\n\\u003cp dir=\\\"auto\\\"\\u003e\\u003ca href=\\\"https://app.fossa.io/projects/git%2Bgithub.com%2Fluin%2Fioredis?ref=badge_large\\\" rel=\\\"nofollow\\\"\\u003e\\u003cimg src=\\\"https://camo.githubusercontent.com/d1b2c73a626f2775b3425c0943e6515784f1e8552ab3d45673043f2b20f9c389/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532466c75696e253246696f72656469732e7376673f747970653d6c61726765\\\" alt=\\\"FOSSA Status\\\" data-canonical-src=\\\"https://app.fossa.io/api/projects/git%2Bgithub.com%2Fluin%2Fioredis.svg?type=large\\\" style=\\\"max-width: 100%;\\\"\\u003e\\u003c/a\\u003e\\u003c/p\\u003e\\n\\u003c/article\\u003e\",\"loaded\":true,\"timedOut\":false,\"errorMessage\":null,\"headerInfo\":{\"toc\":[{\"level\":1,\"text\":\"Features\",\"anchor\":\"features\",\"htmlText\":\"Features\"},{\"level\":1,\"text\":\"Versions\",\"anchor\":\"versions\",\"htmlText\":\"Versions\"},{\"level\":1,\"text\":\"Links\",\"anchor\":\"links\",\"htmlText\":\"Links\"},{\"level\":1,\"text\":\"Quick Start\",\"anchor\":\"quick-start\",\"htmlText\":\"Quick Start\"},{\"level\":2,\"text\":\"Install\",\"anchor\":\"install\",\"htmlText\":\"Install\"},{\"level\":2,\"text\":\"Basic Usage\",\"anchor\":\"basic-usage\",\"htmlText\":\"Basic Usage\"},{\"level\":2,\"text\":\"Connect to Redis\",\"anchor\":\"connect-to-redis\",\"htmlText\":\"Connect to Redis\"},{\"level\":2,\"text\":\"Pub/Sub\",\"anchor\":\"pubsub\",\"htmlText\":\"Pub/Sub\"},{\"level\":2,\"text\":\"Streams\",\"anchor\":\"streams\",\"htmlText\":\"Streams\"},{\"level\":2,\"text\":\"Expiration\",\"anchor\":\"expiration\",\"htmlText\":\"Expiration\"},{\"level\":2,\"text\":\"Handle Binary Data\",\"anchor\":\"handle-binary-data\",\"htmlText\":\"Handle Binary Data\"},{\"level\":2,\"text\":\"Pipelining\",\"anchor\":\"pipelining\",\"htmlText\":\"Pipelining\"},{\"level\":2,\"text\":\"Transaction\",\"anchor\":\"transaction\",\"htmlText\":\"Transaction\"},{\"level\":2,\"text\":\"Lua Scripting\",\"anchor\":\"lua-scripting\",\"htmlText\":\"Lua Scripting\"},{\"level\":3,\"text\":\"Dynamic Keys\",\"anchor\":\"dynamic-keys\",\"htmlText\":\"Dynamic Keys\"},{\"level\":3,\"text\":\"As Constructor Options\",\"anchor\":\"as-constructor-options\",\"htmlText\":\"As Constructor Options\"},{\"level\":3,\"text\":\"TypeScript Usages\",\"anchor\":\"typescript-usages\",\"htmlText\":\"TypeScript Usages\"},{\"level\":2,\"text\":\"Transparent Key Prefixing\",\"anchor\":\"transparent-key-prefixing\",\"htmlText\":\"Transparent Key Prefixing\"},{\"level\":2,\"text\":\"Transforming Arguments \\u0026 Replies\",\"anchor\":\"transforming-arguments--replies\",\"htmlText\":\"Transforming Arguments \\u0026amp; Replies\"},{\"level\":2,\"text\":\"Monitor\",\"anchor\":\"monitor\",\"htmlText\":\"Monitor\"},{\"level\":2,\"text\":\"Streamify Scanning\",\"anchor\":\"streamify-scanning\",\"htmlText\":\"Streamify Scanning\"},{\"level\":2,\"text\":\"Auto-reconnect\",\"anchor\":\"auto-reconnect\",\"htmlText\":\"Auto-reconnect\"},{\"level\":3,\"text\":\"Reconnect on Error\",\"anchor\":\"reconnect-on-error\",\"htmlText\":\"Reconnect on Error\"},{\"level\":2,\"text\":\"Connection Events\",\"anchor\":\"connection-events\",\"htmlText\":\"Connection Events\"},{\"level\":2,\"text\":\"Offline Queue\",\"anchor\":\"offline-queue\",\"htmlText\":\"Offline Queue\"},{\"level\":2,\"text\":\"TLS Options\",\"anchor\":\"tls-options\",\"htmlText\":\"TLS Options\"},{\"level\":3,\"text\":\"TLS Profiles\",\"anchor\":\"tls-profiles\",\"htmlText\":\"TLS Profiles\"},{\"level\":2,\"text\":\"Sentinel\",\"anchor\":\"sentinel\",\"htmlText\":\"Sentinel\"},{\"level\":2,\"text\":\"Cluster\",\"anchor\":\"cluster\",\"htmlText\":\"Cluster\"},{\"level\":3,\"text\":\"Read-Write Splitting\",\"anchor\":\"read-write-splitting\",\"htmlText\":\"Read-Write Splitting\"},{\"level\":3,\"text\":\"Running Commands to Multiple Nodes\",\"anchor\":\"running-commands-to-multiple-nodes\",\"htmlText\":\"Running Commands to Multiple Nodes\"},{\"level\":3,\"text\":\"NAT Mapping\",\"anchor\":\"nat-mapping\",\"htmlText\":\"NAT Mapping\"},{\"level\":3,\"text\":\"Transaction and Pipeline in Cluster Mode\",\"anchor\":\"transaction-and-pipeline-in-cluster-mode\",\"htmlText\":\"Transaction and Pipeline in Cluster Mode\"},{\"level\":3,\"text\":\"Pub/Sub\",\"anchor\":\"pubsub-1\",\"htmlText\":\"Pub/Sub\"},{\"level\":3,\"text\":\"Events\",\"anchor\":\"events\",\"htmlText\":\"Events\"},{\"level\":3,\"text\":\"Password\",\"anchor\":\"password\",\"htmlText\":\"Password\"},{\"level\":3,\"text\":\"Special Note: Aws Elasticache Clusters with TLS\",\"anchor\":\"special-note-aws-elasticache-clusters-with-tls\",\"htmlText\":\"Special Note: Aws Elasticache Clusters with TLS\"},{\"level\":2,\"text\":\"Autopipelining\",\"anchor\":\"autopipelining\",\"htmlText\":\"Autopipelining\"},{\"level\":3,\"text\":\"Example of Automatic Pipeline Enqueuing\",\"anchor\":\"example-of-automatic-pipeline-enqueuing\",\"htmlText\":\"Example of Automatic Pipeline Enqueuing\"},{\"level\":3,\"text\":\"Benchmarks\",\"anchor\":\"benchmarks\",\"htmlText\":\"Benchmarks\"},{\"level\":1,\"text\":\"Error Handling\",\"anchor\":\"error-handling\",\"htmlText\":\"Error Handling\"},{\"level\":1,\"text\":\"Running tests\",\"anchor\":\"running-tests\",\"htmlText\":\"Running tests\"},{\"level\":1,\"text\":\"Debug\",\"anchor\":\"debug\",\"htmlText\":\"Debug\"},{\"level\":1,\"text\":\"Join in!\",\"anchor\":\"join-in\",\"htmlText\":\"Join in!\"},{\"level\":1,\"text\":\"Contributors\",\"anchor\":\"contributors\",\"htmlText\":\"Contributors\"},{\"level\":1,\"text\":\"License\",\"anchor\":\"license\",\"htmlText\":\"License\"}],\"siteNavLoginPath\":\"/login?return_to=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis\"}},{\"displayName\":\"CODE_OF_CONDUCT.md\",\"repoName\":\"ioredis\",\"refName\":\"main\",\"path\":\"CODE_OF_CONDUCT.md\",\"preferredFileType\":\"code_of_conduct\",\"tabName\":\"Code of conduct\",\"richText\":null,\"loaded\":false,\"timedOut\":false,\"errorMessage\":null,\"headerInfo\":{\"toc\":null,\"siteNavLoginPath\":\"/login?return_to=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis\"}},{\"displayName\":\"LICENSE\",\"repoName\":\"ioredis\",\"refName\":\"main\",\"path\":\"LICENSE\",\"preferredFileType\":\"license\",\"tabName\":\"MIT\",\"richText\":null,\"loaded\":false,\"timedOut\":false,\"errorMessage\":null,\"headerInfo\":{\"toc\":null,\"siteNavLoginPath\":\"/login?return_to=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis\"}}],\"overviewFilesProcessingTime\":192.263405}},\"appPayload\":{\"helpUrl\":\"https://docs.github.com\",\"findFileWorkerPath\":\"/assets-cdn/worker/find-file-worker-32bb159cc57c.js\",\"findInFileWorkerPath\":\"/assets-cdn/worker/find-in-file-worker-c6704d501c10.js\",\"githubDevUrl\":null,\"enabled_features\":{\"code_nav_ui_events\":false,\"copilot_conversational_ux\":false,\"copilot_conversational_ux_embedding_update\":false,\"copilot_popover_file_editor_header\":false,\"copilot_smell_icebreaker_ux\":true,\"copilot_workspace\":false,\"codeview_firefox_inert\":true}}}}</script>  <div data-target=\"react-partial.reactRoot\"><style data-styled=\"true\" data-styled-version=\"5.3.6\">.cgQnMS{font-weight:600;font-size:32px;margin:0;}/*!sc*/data-styled.g1[id=\"Heading__StyledHeading-sc-1c1dgg0-0\"]{content:\"cgQnMS,\"}/*!sc*/.izjvBm{margin-top:16px;margin-bottom:16px;}/*!sc*/.rPQgy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/.eUMEDg{margin-bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:16px;}/*!sc*/.eLcVee{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding-bottom:16px;padding-top:8px;}/*!sc*/.hsfLlq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:8px;}/*!sc*/@media screen and (max-width:320px){.hsfLlq{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}}/*!sc*/.gpKoUz{position:relative;}/*!sc*/@media screen and (max-width:380px){.gpKoUz .ref-selector-button-text-container{max-width:80px;}}/*!sc*/@media screen and (max-width:320px){.gpKoUz{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.gpKoUz .overview-ref-selector{width:100%;}.gpKoUz .overview-ref-selector > span{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.gpKoUz .overview-ref-selector > span > span[data-component=\"text\"]{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}}/*!sc*/.kkrdEu{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/.bKgizp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}/*!sc*/.iPGYsi{margin-right:4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.dKmYfk{font-size:14px;min-width:0;max-width:125px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}/*!sc*/.trpoQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;pointer-events:none;}/*!sc*/.laYubZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/@media screen and (max-width:1079px){.laYubZ{display:none;}}/*!sc*/.swnaL{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/@media screen and (min-width:1080px){.swnaL{display:none;}}/*!sc*/@media screen and (max-width:543px){.swnaL{display:none;}}/*!sc*/.bWpuBf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:8px;gap:8px;}/*!sc*/.grHjNb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}/*!sc*/@media screen and (max-width:543px){.grHjNb{display:none;}}/*!sc*/.dXTsqj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/@media screen and (max-width:1011px){.dXTsqj{display:none;}}/*!sc*/.dCOrmu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/@media screen and (min-width:1012px){.dCOrmu{display:none;}}/*!sc*/@media screen and (max-width:544px){.bVvbgP{display:none;}}/*!sc*/.bNDvfp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/@media screen and (min-width:544px){.bNDvfp{display:none;}}/*!sc*/.yfPnm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:16px;}/*!sc*/.cAQuiW{width:100%;border-collapse:separate;border-spacing:0;border:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));border-radius:6px;table-layout:fixed;overflow:unset;}/*!sc*/.iiUlLN{height:0px;line-height:0px;}/*!sc*/.iiUlLN tr{height:0px;font-size:0px;}/*!sc*/.jmggSN{padding:16px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));font-size:12px;text-align:left;height:40px;}/*!sc*/.jmggSN th{padding-left:16px;background-color:var(--bgColor-muted,var(--color-canvas-subtle,#f6f8fa));}/*!sc*/.kvYunM{width:100%;border-top-left-radius:6px;}/*!sc*/@media screen and (min-width:544px){.kvYunM{display:none;}}/*!sc*/.hrLuxA{width:40%;border-top-left-radius:6px;}/*!sc*/@media screen and (max-width:543px){.hrLuxA{display:none;}}/*!sc*/@media screen and (max-width:543px){.ePjhhA{display:none;}}/*!sc*/.cuEKae{text-align:right;padding-right:16px;width:136px;border-top-right-radius:6px;}/*!sc*/.jEbBOT{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));font-size:12px;height:40px;}/*!sc*/.bTxCvM{background-color:var(--bgColor-muted,var(--color-canvas-subtle,#f6f8fa));padding:4px;border-top-left-radius:6px;border-top-right-radius:6px;}/*!sc*/.eYedVD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;min-width:273px;padding-right:8px;padding-left:16px;padding-top:8px;padding-bottom:8px;}/*!sc*/.jGfYmh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}/*!sc*/.lhFvfi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/.bqgLjk{display:inherit;}/*!sc*/@media screen and (min-width:544px){.bqgLjk{display:none;}}/*!sc*/@media screen and (min-width:768px){.bqgLjk{display:none;}}/*!sc*/.epsqEd{text-align:center;vertical-align:center;height:40px;border-top:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));}/*!sc*/.ldpruc{border-top:1px solid var(--borderColor-default,var(--color-border-default));cursor:pointer;}/*!sc*/.ehcSsh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;gap:16px;}/*!sc*/.iGmlUb{border:1px solid;border-color:var(--borderColor-default,var(--color-border-default,#d0d7de));border-radius:6px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}/*!sc*/@media screen and (max-width:543px){.iGmlUb{margin-left:-16px;margin-right:-16px;max-width:calc(100% + 32px);}}/*!sc*/@media screen and (min-width:544px){.iGmlUb{max-width:100%;}}/*!sc*/.iRQGXA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:1px solid;border-bottom-color:var(--borderColor-default,var(--color-border-default,#d0d7de));-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-right:8px;position:-webkit-sticky;position:sticky;top:0;background-color:var(--bgColor-default,var(--color-canvas-default,#ffffff));z-index:1;border-top-left-radius:6px;border-top-right-radius:6px;}/*!sc*/.dvTdPK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:8px;padding-right:8px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;border-bottom:none;border-bottom-color:var(--borderColor-muted,var(--color-border-muted,hsla(210,18%,87%,1)));align:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:48px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%;}/*!sc*/.gwuIGu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/.kOxwQs{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin-right:8px;}/*!sc*/.kOgeFj{font-weight:600;}/*!sc*/.bJMeLZ{padding:32px;overflow:auto;}/*!sc*/data-styled.g2[id=\"Box-sc-g0xbh4-0\"]{content:\"izjvBm,rPQgy,eUMEDg,eLcVee,hsfLlq,gpKoUz,kkrdEu,bKgizp,iPGYsi,dKmYfk,trpoQ,laYubZ,swnaL,bWpuBf,grHjNb,dXTsqj,dCOrmu,bVvbgP,bNDvfp,yfPnm,cAQuiW,iiUlLN,jmggSN,kvYunM,hrLuxA,ePjhhA,cuEKae,jEbBOT,bTxCvM,eYedVD,jGfYmh,lhFvfi,bqgLjk,epsqEd,ldpruc,ehcSsh,iGmlUb,iRQGXA,dvTdPK,gwuIGu,kOxwQs,kOgeFj,bJMeLZ,\"}/*!sc*/.bOMzPg{min-width:0;}/*!sc*/.eUGNHp{font-weight:600;}/*!sc*/.dALsKK{color:var(--fgColor-default,var(--color-fg-default,#1F2328));}/*!sc*/data-styled.g6[id=\"Text-sc-17v1xeu-0\"]{content:\"bOMzPg,eUGNHp,dALsKK,\"}/*!sc*/.dheQRw{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));-webkit-text-decoration:none;text-decoration:none;}/*!sc*/[data-a11y-link-underlines='true'] .Link__StyledLink-sc-14289xe-0[data-inline='true']{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.dheQRw:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.dheQRw:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/.vLMkZ{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));-webkit-text-decoration:none;text-decoration:none;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:var(--fgColor-default,var(--color-fg-default,#1F2328));text-align:center;-webkit-text-decoration:none;text-decoration:none;line-height:calc(20/14);border-radius:6px;font-size:14px;padding-left:8px;padding-right:8px;padding-top:calc((2rem - 1.25rem) / 2);padding-bottom:calc((2rem - 1.25rem) / 2);}/*!sc*/[data-a11y-link-underlines='true'] .Link__StyledLink-sc-14289xe-0[data-inline='true']{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.vLMkZ:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.vLMkZ:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/.vLMkZ span[data-component=\"icon\"]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/@media (hover:hover){.vLMkZ:hover{background-color:var(--bgColor-neutral-muted,var(--color-neutral-muted,rgba(175,184,193,0.2)));-webkit-transition:background .12s ease-out;transition:background .12s ease-out;-webkit-text-decoration:none;text-decoration:none;}}/*!sc*/.vLMkZ:focus{outline:2px solid transparent;}/*!sc*/.vLMkZ:focus{box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.vLMkZ:focus:not(:focus-visible){box-shadow:none;}/*!sc*/.vLMkZ:focus-visible{outline:2px solid transparent;box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.vLMkZ span[data-content]::before{content:attr(data-content);display:block;height:0;font-weight:600;visibility:hidden;white-space:nowrap;}/*!sc*/.vLMkZ::after{position:absolute;right:50%;bottom:calc(50% - 25px);width:100%;height:2px;content:\"\";background-color:var(--underlineNav-borderColor-active,var(--color-primer-border-active,#fd8c73));border-radius:0;-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%);}/*!sc*/@media (forced-colors:active){.vLMkZ::after{background-color:LinkText;}}/*!sc*/.bhqztV{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));-webkit-text-decoration:none;text-decoration:none;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:var(--fgColor-default,var(--color-fg-default,#1F2328));text-align:center;-webkit-text-decoration:none;text-decoration:none;line-height:calc(20/14);border-radius:6px;font-size:14px;padding-left:8px;padding-right:8px;padding-top:calc((2rem - 1.25rem) / 2);padding-bottom:calc((2rem - 1.25rem) / 2);}/*!sc*/[data-a11y-link-underlines='true'] .Link__StyledLink-sc-14289xe-0[data-inline='true']{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.bhqztV:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/.bhqztV:is(button){display:inline-block;padding:0;font-size:inherit;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/.bhqztV span[data-component=\"icon\"]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/@media (hover:hover){.bhqztV:hover{background-color:var(--bgColor-neutral-muted,var(--color-neutral-muted,rgba(175,184,193,0.2)));-webkit-transition:background .12s ease-out;transition:background .12s ease-out;-webkit-text-decoration:none;text-decoration:none;}}/*!sc*/.bhqztV:focus{outline:2px solid transparent;}/*!sc*/.bhqztV:focus{box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.bhqztV:focus:not(:focus-visible){box-shadow:none;}/*!sc*/.bhqztV:focus-visible{outline:2px solid transparent;box-shadow:inset 0 0 0 2px var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.bhqztV span[data-content]::before{content:attr(data-content);display:block;height:0;font-weight:600;visibility:hidden;white-space:nowrap;}/*!sc*/.bhqztV::after{position:absolute;right:50%;bottom:calc(50% - 25px);width:100%;height:2px;content:\"\";background-color:transparent;border-radius:0;-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%);}/*!sc*/@media (forced-colors:active){.bhqztV::after{background-color:transparent;}}/*!sc*/data-styled.g8[id=\"Link__StyledLink-sc-14289xe-0\"]{content:\"dheQRw,vLMkZ,bhqztV,\"}/*!sc*/.izDscS{border-radius:6px;border:1px solid;border-color:var(--button-default-borderColor-rest,var(--button-default-borderColor-rest,var(--color-btn-border,rgba(31,35,40,0.15))));font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));background-color:var(--button-default-bgColor-rest,var(--color-btn-bg,#f6f8fa));box-shadow:var(--button-default-shadow-resting,var(--color-btn-shadow,0 1px 0 rgba(31,35,40,0.04))),var(--button-default-shadow-inset,var(--color-btn-inset-shadow,inset 0 1px 0 rgba(255,255,255,0.25)));}/*!sc*/.izDscS:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.izDscS:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.izDscS:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.izDscS[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.izDscS[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.izDscS:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.izDscS:active{-webkit-transition:none;transition:none;}/*!sc*/.izDscS[data-inactive]{cursor:auto;}/*!sc*/.izDscS:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));border-color:var(--button-default-borderColor-disabled,var(--button-default-borderColor-rest,var(--color-btn-border,rgba(31,35,40,0.15))));}/*!sc*/.izDscS:disabled [data-component=ButtonCounter]{color:inherit;}/*!sc*/@media (forced-colors:active){.izDscS:focus{outline:solid 1px transparent;}}/*!sc*/.izDscS [data-component=ButtonCounter]{font-size:12px;background-color:var(--buttonCounter-default-bgColor-rest,var(--color-btn-counter-bg,rgba(31,35,40,0.08)));}/*!sc*/.izDscS[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.izDscS[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.izDscS[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.izDscS[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.izDscS[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.izDscS[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.izDscS[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.izDscS[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.izDscS[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.izDscS[data-block=\"block\"]{width:100%;}/*!sc*/.izDscS[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.izDscS[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.izDscS [data-component=\"leadingVisual\"]{grid-area:leadingVisual;}/*!sc*/.izDscS [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.izDscS [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.izDscS [data-component=\"trailingAction\"]{margin-right:-4px;}/*!sc*/.izDscS [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.izDscS [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.izDscS:hover:not([disabled]):not([data-inactive]){background-color:var(--button-default-bgColor-hover,var(--color-btn-hover-bg,#f3f4f6));border-color:var(--button-default-borderColor-hover,var(--button-default-borderColor-hover,var(--color-btn-hover-border,rgba(31,35,40,0.15))));}/*!sc*/.izDscS:active:not([disabled]):not([data-inactive]){background-color:var(--button-default-bgColor-active,var(--color-btn-active-bg,hsla(220,14%,93%,1)));border-color:var(--button-default-borderColor-active,var(--button-default-borderColor-active,var(--color-btn-active-border,rgba(31,35,40,0.15))));}/*!sc*/.izDscS[aria-expanded=true]{background-color:var(--button-default-bgColor-active,var(--color-btn-active-bg,hsla(220,14%,93%,1)));border-color:var(--button-default-borderColor-active,var(--button-default-borderColor-active,var(--color-btn-active-border,rgba(31,35,40,0.15))));}/*!sc*/.izDscS [data-component=\"leadingVisual\"],.izDscS [data-component=\"trailingVisual\"],.izDscS [data-component=\"trailingAction\"]{color:var(--button-color,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/.izDscS{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/.izDscS svg{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.izDscS > span{width:inherit;}/*!sc*/.cuOWTR{border-radius:6px;border:1px solid;border-color:transparent;font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));background-color:transparent;box-shadow:none;}/*!sc*/.cuOWTR:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.cuOWTR:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.cuOWTR:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.cuOWTR[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.cuOWTR[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.cuOWTR:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.cuOWTR:active{-webkit-transition:none;transition:none;}/*!sc*/.cuOWTR[data-inactive]{cursor:auto;}/*!sc*/.cuOWTR:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.cuOWTR:disabled [data-component=ButtonCounter],.cuOWTR:disabled [data-component=\"leadingVisual\"],.cuOWTR:disabled [data-component=\"trailingAction\"]{color:inherit;}/*!sc*/@media (forced-colors:active){.cuOWTR:focus{outline:solid 1px transparent;}}/*!sc*/.cuOWTR [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.cuOWTR[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.cuOWTR[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.cuOWTR[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.cuOWTR[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.cuOWTR[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.cuOWTR[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.cuOWTR[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.cuOWTR[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.cuOWTR[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.cuOWTR[data-block=\"block\"]{width:100%;}/*!sc*/.cuOWTR[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.cuOWTR[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.cuOWTR [data-component=\"leadingVisual\"]{grid-area:leadingVisual;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.cuOWTR [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.cuOWTR [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.cuOWTR [data-component=\"trailingAction\"]{margin-right:-4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.cuOWTR [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.cuOWTR [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.cuOWTR:hover:not([disabled]){background-color:var(--control-transparent-bgColor-hover,var(--color-action-list-item-default-hover-bg,rgba(208,215,222,0.32)));}/*!sc*/.cuOWTR:active:not([disabled]){background-color:var(--control-transparent-bgColor-active,var(--color-action-list-item-default-active-bg,rgba(208,215,222,0.48)));}/*!sc*/.cuOWTR[aria-expanded=true]{background-color:var(--control-transparent-bgColor-selected,var(--color-action-list-item-default-selected-bg,rgba(208,215,222,0.24)));}/*!sc*/.cuOWTR[data-component=\"IconButton\"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.cuOWTR[data-no-visuals]{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.cuOWTR:has([data-component=\"ButtonCounter\"]){color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));}/*!sc*/.cuOWTR:disabled[data-no-visuals]{color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.cuOWTR:disabled[data-no-visuals] [data-component=ButtonCounter]{color:inherit;}/*!sc*/.cuOWTR{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));padding-left:4px;padding-right:4px;}/*!sc*/.cuOWTR span[data-component=\"leadingVisual\"]{margin-right:4px !important;}/*!sc*/.tDSzd{border-radius:6px;border:1px solid;border-color:transparent;font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));background-color:transparent;box-shadow:none;}/*!sc*/.tDSzd:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.tDSzd:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.tDSzd:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.tDSzd[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.tDSzd[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.tDSzd:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.tDSzd:active{-webkit-transition:none;transition:none;}/*!sc*/.tDSzd[data-inactive]{cursor:auto;}/*!sc*/.tDSzd:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.tDSzd:disabled [data-component=ButtonCounter],.tDSzd:disabled [data-component=\"leadingVisual\"],.tDSzd:disabled [data-component=\"trailingAction\"]{color:inherit;}/*!sc*/@media (forced-colors:active){.tDSzd:focus{outline:solid 1px transparent;}}/*!sc*/.tDSzd [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.tDSzd[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.tDSzd[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.tDSzd[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.tDSzd[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.tDSzd[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.tDSzd[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.tDSzd[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.tDSzd[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.tDSzd[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.tDSzd[data-block=\"block\"]{width:100%;}/*!sc*/.tDSzd[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.tDSzd[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.tDSzd [data-component=\"leadingVisual\"]{grid-area:leadingVisual;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.tDSzd [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.tDSzd [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.tDSzd [data-component=\"trailingAction\"]{margin-right:-4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.tDSzd [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.tDSzd [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.tDSzd:hover:not([disabled]){background-color:var(--control-transparent-bgColor-hover,var(--color-action-list-item-default-hover-bg,rgba(208,215,222,0.32)));}/*!sc*/.tDSzd:active:not([disabled]){background-color:var(--control-transparent-bgColor-active,var(--color-action-list-item-default-active-bg,rgba(208,215,222,0.48)));}/*!sc*/.tDSzd[aria-expanded=true]{background-color:var(--control-transparent-bgColor-selected,var(--color-action-list-item-default-selected-bg,rgba(208,215,222,0.24)));}/*!sc*/.tDSzd[data-component=\"IconButton\"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.tDSzd[data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.tDSzd:has([data-component=\"ButtonCounter\"]){color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));}/*!sc*/.tDSzd:disabled[data-no-visuals]{color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.tDSzd:disabled[data-no-visuals] [data-component=ButtonCounter]{color:inherit;}/*!sc*/.ftZGca{border-radius:6px;border:1px solid;border-color:var(--button-default-borderColor-rest,var(--button-default-borderColor-rest,var(--color-btn-border,rgba(31,35,40,0.15))));font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));background-color:var(--button-default-bgColor-rest,var(--color-btn-bg,#f6f8fa));box-shadow:var(--button-default-shadow-resting,var(--color-btn-shadow,0 1px 0 rgba(31,35,40,0.04))),var(--button-default-shadow-inset,var(--color-btn-inset-shadow,inset 0 1px 0 rgba(255,255,255,0.25)));}/*!sc*/.ftZGca:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.ftZGca:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.ftZGca:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.ftZGca[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.ftZGca[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.ftZGca:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.ftZGca:active{-webkit-transition:none;transition:none;}/*!sc*/.ftZGca[data-inactive]{cursor:auto;}/*!sc*/.ftZGca:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));border-color:var(--button-default-borderColor-disabled,var(--button-default-borderColor-rest,var(--color-btn-border,rgba(31,35,40,0.15))));}/*!sc*/.ftZGca:disabled [data-component=ButtonCounter]{color:inherit;}/*!sc*/@media (forced-colors:active){.ftZGca:focus{outline:solid 1px transparent;}}/*!sc*/.ftZGca [data-component=ButtonCounter]{font-size:12px;background-color:var(--buttonCounter-default-bgColor-rest,var(--color-btn-counter-bg,rgba(31,35,40,0.08)));}/*!sc*/.ftZGca[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.ftZGca[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.ftZGca[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.ftZGca[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.ftZGca[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.ftZGca[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.ftZGca[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.ftZGca[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.ftZGca[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.ftZGca[data-block=\"block\"]{width:100%;}/*!sc*/.ftZGca[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.ftZGca[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.ftZGca [data-component=\"leadingVisual\"]{grid-area:leadingVisual;}/*!sc*/.ftZGca [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.ftZGca [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.ftZGca [data-component=\"trailingAction\"]{margin-right:-4px;}/*!sc*/.ftZGca [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.ftZGca [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.ftZGca:hover:not([disabled]):not([data-inactive]){background-color:var(--button-default-bgColor-hover,var(--color-btn-hover-bg,#f3f4f6));border-color:var(--button-default-borderColor-hover,var(--button-default-borderColor-hover,var(--color-btn-hover-border,rgba(31,35,40,0.15))));}/*!sc*/.ftZGca:active:not([disabled]):not([data-inactive]){background-color:var(--button-default-bgColor-active,var(--color-btn-active-bg,hsla(220,14%,93%,1)));border-color:var(--button-default-borderColor-active,var(--button-default-borderColor-active,var(--color-btn-active-border,rgba(31,35,40,0.15))));}/*!sc*/.ftZGca[aria-expanded=true]{background-color:var(--button-default-bgColor-active,var(--color-btn-active-bg,hsla(220,14%,93%,1)));border-color:var(--button-default-borderColor-active,var(--button-default-borderColor-active,var(--color-btn-active-border,rgba(31,35,40,0.15))));}/*!sc*/.ftZGca [data-component=\"leadingVisual\"],.ftZGca [data-component=\"trailingVisual\"],.ftZGca [data-component=\"trailingAction\"]{color:var(--button-color,var(--fgColor-muted,var(--color-fg-muted,#656d76)));}/*!sc*/.gYvpXq{border-radius:6px;border:1px solid;border-color:var(--button-primary-borderColor-rest,var(--color-btn-primary-border,rgba(31,35,40,0.15)));font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-primary-fgColor-rest,var(--color-btn-primary-text,#ffffff));background-color:var(--button-primary-bgColor-rest,var(--color-btn-primary-bg,#1f883d));box-shadow:var(--shadow-resting-small,var(--color-btn-primary-shadow,0 1px 0 rgba(31,35,40,0.1)));}/*!sc*/.gYvpXq:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.gYvpXq:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.gYvpXq:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.gYvpXq[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.gYvpXq[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.gYvpXq:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.gYvpXq:active{-webkit-transition:none;transition:none;}/*!sc*/.gYvpXq[data-inactive]{cursor:auto;}/*!sc*/.gYvpXq:disabled{cursor:not-allowed;box-shadow:none;color:var(--button-primary-fgColor-disabled,var(--color-btn-primary-disabled-text,rgba(255,255,255,0.8)));background-color:var(--button-primary-bgColor-disabled,var(--color-btn-primary-disabled-bg,#94d3a2));border-color:var(--button-primary-borderColor-disabled,var(--color-btn-primary-disabled-border,rgba(31,35,40,0.15)));}/*!sc*/.gYvpXq:disabled [data-component=ButtonCounter]{color:inherit;}/*!sc*/@media (forced-colors:active){.gYvpXq:focus{outline:solid 1px transparent;}}/*!sc*/.gYvpXq [data-component=ButtonCounter]{font-size:12px;background-color:var(--buttonCounter-primary-bgColor-rest,var(--color-btn-primary-counter-bg,rgba(0,45,17,0.2)));color:var(--button-primary-fgColor-rest,var(--color-btn-primary-text,#ffffff));}/*!sc*/.gYvpXq[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.gYvpXq[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.gYvpXq[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.gYvpXq[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.gYvpXq[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.gYvpXq[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.gYvpXq[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.gYvpXq[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.gYvpXq[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.gYvpXq[data-block=\"block\"]{width:100%;}/*!sc*/.gYvpXq[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.gYvpXq[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.gYvpXq [data-component=\"leadingVisual\"]{grid-area:leadingVisual;}/*!sc*/.gYvpXq [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.gYvpXq [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.gYvpXq [data-component=\"trailingAction\"]{margin-right:-4px;}/*!sc*/.gYvpXq [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.gYvpXq [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.gYvpXq:hover:not([disabled]):not([data-inactive]){color:btn.primary.hoverText;background-color:var(--button-primary-bgColor-hover,var(--color-btn-primary-hover-bg,#1a7f37));}/*!sc*/.gYvpXq:focus:not([disabled]){box-shadow:inset 0 0 0 3px;}/*!sc*/.gYvpXq:focus-visible:not([disabled]){box-shadow:inset 0 0 0 3px;}/*!sc*/.gYvpXq:active:not([disabled]):not([data-inactive]){background-color:var(--button-primary-bgColor-active,var(--color-btn-primary-selected-bg,hsla(137,66%,28%,1)));box-shadow:var(--button-primary-shadow-selected,var(--color-btn-primary-selected-shadow,inset 0 1px 0 rgba(0,45,17,0.2)));}/*!sc*/.gYvpXq[aria-expanded=true]{background-color:var(--button-primary-bgColor-active,var(--color-btn-primary-selected-bg,hsla(137,66%,28%,1)));box-shadow:var(--button-primary-shadow-selected,var(--color-btn-primary-selected-shadow,inset 0 1px 0 rgba(0,45,17,0.2)));}/*!sc*/.gYvpXq svg{color:fg.primary;}/*!sc*/.fAkXQN{border-radius:6px;border:1px solid;border-color:transparent;font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--fgColor-default,var(--color-fg-default,#1F2328));background-color:transparent;box-shadow:none;}/*!sc*/.fAkXQN:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.fAkXQN:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.fAkXQN:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.fAkXQN[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.fAkXQN[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.fAkXQN:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.fAkXQN:active{-webkit-transition:none;transition:none;}/*!sc*/.fAkXQN[data-inactive]{cursor:auto;}/*!sc*/.fAkXQN:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.fAkXQN:disabled [data-component=ButtonCounter],.fAkXQN:disabled [data-component=\"leadingVisual\"],.fAkXQN:disabled [data-component=\"trailingAction\"]{color:inherit;}/*!sc*/@media (forced-colors:active){.fAkXQN:focus{outline:solid 1px transparent;}}/*!sc*/.fAkXQN [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.fAkXQN[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.fAkXQN[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.fAkXQN[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.fAkXQN[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.fAkXQN[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.fAkXQN[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.fAkXQN[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.fAkXQN[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.fAkXQN[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.fAkXQN[data-block=\"block\"]{width:100%;}/*!sc*/.fAkXQN[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.fAkXQN[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.fAkXQN [data-component=\"leadingVisual\"]{grid-area:leadingVisual;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.fAkXQN [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.fAkXQN [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.fAkXQN [data-component=\"trailingAction\"]{margin-right:-4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.fAkXQN [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.fAkXQN [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.fAkXQN:hover:not([disabled]){background-color:var(--control-transparent-bgColor-hover,var(--color-action-list-item-default-hover-bg,rgba(208,215,222,0.32)));-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.fAkXQN:active:not([disabled]){background-color:var(--control-transparent-bgColor-active,var(--color-action-list-item-default-active-bg,rgba(208,215,222,0.48)));-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.fAkXQN[aria-expanded=true]{background-color:var(--control-transparent-bgColor-selected,var(--color-action-list-item-default-selected-bg,rgba(208,215,222,0.24)));}/*!sc*/.fAkXQN[data-component=\"IconButton\"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.fAkXQN[data-no-visuals]{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.fAkXQN:has([data-component=\"ButtonCounter\"]){color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));}/*!sc*/.fAkXQN:disabled[data-no-visuals]{color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.fAkXQN:disabled[data-no-visuals] [data-component=ButtonCounter]{color:inherit;}/*!sc*/.fAkXQN:focus:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.jPraEl{border-radius:6px;border:1px solid;border-color:transparent;font-family:inherit;font-weight:500;font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-text-decoration:none;text-decoration:none;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:32px;padding:0 12px;gap:8px;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;-webkit-transition:80ms cubic-bezier(0.65,0,0.35,1);transition:80ms cubic-bezier(0.65,0,0.35,1);-webkit-transition-property:color,fill,background-color,border-color;transition-property:color,fill,background-color,border-color;color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));background-color:transparent;box-shadow:none;}/*!sc*/.jPraEl:focus:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.jPraEl:focus:not(:disabled):not(:focus-visible){outline:solid 1px transparent;}/*!sc*/.jPraEl:focus-visible:not(:disabled){box-shadow:none;outline:2px solid var(--fgColor-accent,var(--color-accent-fg,#0969da));outline-offset:-2px;}/*!sc*/.jPraEl[href]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}/*!sc*/.jPraEl[href]:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/.jPraEl:hover{-webkit-transition-duration:80ms;transition-duration:80ms;}/*!sc*/.jPraEl:active{-webkit-transition:none;transition:none;}/*!sc*/.jPraEl[data-inactive]{cursor:auto;}/*!sc*/.jPraEl:disabled{cursor:not-allowed;box-shadow:none;color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.jPraEl:disabled [data-component=ButtonCounter],.jPraEl:disabled [data-component=\"leadingVisual\"],.jPraEl:disabled [data-component=\"trailingAction\"]{color:inherit;}/*!sc*/@media (forced-colors:active){.jPraEl:focus{outline:solid 1px transparent;}}/*!sc*/.jPraEl [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.jPraEl[data-component=IconButton]{display:inline-grid;padding:unset;place-content:center;width:32px;min-width:unset;}/*!sc*/.jPraEl[data-size=\"small\"]{padding:0 8px;height:28px;gap:4px;font-size:12px;}/*!sc*/.jPraEl[data-size=\"small\"] [data-component=\"text\"]{line-height:calc(20 / 12);}/*!sc*/.jPraEl[data-size=\"small\"] [data-component=ButtonCounter]{font-size:12px;}/*!sc*/.jPraEl[data-size=\"small\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:4px;}/*!sc*/.jPraEl[data-size=\"small\"][data-component=IconButton]{width:28px;padding:unset;}/*!sc*/.jPraEl[data-size=\"large\"]{padding:0 16px;height:40px;gap:8px;}/*!sc*/.jPraEl[data-size=\"large\"] [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.jPraEl[data-size=\"large\"][data-component=IconButton]{width:40px;padding:unset;}/*!sc*/.jPraEl[data-block=\"block\"]{width:100%;}/*!sc*/.jPraEl[data-inactive]:not([disabled]){background-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));border-color:var(--button-inactive-bgColor,var(--button-inactive-bgColor-rest,var(--color-btn-inactive-bg,#eaeef2)));color:var(--button-inactive-fgColor,var(--button-inactive-fgColor-rest,var(--color-btn-inactive-text,#57606a)));}/*!sc*/.jPraEl[data-inactive]:not([disabled]):focus-visible{box-shadow:none;}/*!sc*/.jPraEl [data-component=\"leadingVisual\"]{grid-area:leadingVisual;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.jPraEl [data-component=\"text\"]{grid-area:text;line-height:calc(20/14);white-space:nowrap;}/*!sc*/.jPraEl [data-component=\"trailingVisual\"]{grid-area:trailingVisual;}/*!sc*/.jPraEl [data-component=\"trailingAction\"]{margin-right:-4px;color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.jPraEl [data-component=\"buttonContent\"]{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:grid;grid-template-areas:\"leadingVisual text trailingVisual\";grid-template-columns:min-content minmax(0,auto) min-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/.jPraEl [data-component=\"buttonContent\"] > :not(:last-child){margin-right:8px;}/*!sc*/.jPraEl:hover:not([disabled]){background-color:var(--control-transparent-bgColor-hover,var(--color-action-list-item-default-hover-bg,rgba(208,215,222,0.32)));}/*!sc*/.jPraEl:active:not([disabled]){background-color:var(--control-transparent-bgColor-active,var(--color-action-list-item-default-active-bg,rgba(208,215,222,0.48)));}/*!sc*/.jPraEl[aria-expanded=true]{background-color:var(--control-transparent-bgColor-selected,var(--color-action-list-item-default-selected-bg,rgba(208,215,222,0.24)));}/*!sc*/.jPraEl[data-component=\"IconButton\"][data-no-visuals]{color:var(--fgColor-muted,var(--color-fg-muted,#656d76));}/*!sc*/.jPraEl[data-no-visuals]{color:var(--fgColor-accent,var(--color-accent-fg,#0969da));}/*!sc*/.jPraEl:has([data-component=\"ButtonCounter\"]){color:var(--button-default-fgColor-rest,var(--color-btn-text,#24292f));}/*!sc*/.jPraEl:disabled[data-no-visuals]{color:var(--fgColor-disabled,var(--color-primer-fg-disabled,#8c959f));}/*!sc*/.jPraEl:disabled[data-no-visuals] [data-component=ButtonCounter]{color:inherit;}/*!sc*/.jPraEl{color:var(--fgColor-muted,var(--color-fg-subtle,#6e7781));padding-left:8px;padding-right:8px;}/*!sc*/data-styled.g9[id=\"types__StyledButton-sc-ws60qy-0\"]{content:\"izDscS,cuOWTR,tDSzd,ftZGca,gYvpXq,fAkXQN,jPraEl,\"}/*!sc*/.rTZSs{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}/*!sc*/data-styled.g10[id=\"_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0\"]{content:\"rTZSs,\"}/*!sc*/.fUpWeN{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;max-width:125px;max-width:100%;}/*!sc*/data-styled.g15[id=\"Truncate__StyledTruncate-sc-23o1d2-0\"]{content:\"fUpWeN,\"}/*!sc*/.dMjscx{position:relative;display:inline-block;}/*!sc*/.dMjscx::before{position:absolute;z-index:1000001;display:none;width:0px;height:0px;color:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));pointer-events:none;content:'';border:6px solid transparent;opacity:0;}/*!sc*/.dMjscx::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 -apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Noto Sans\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\";-webkit-font-smoothing:subpixel-antialiased;color:var(--fgColor-onEmphasis,var(--color-fg-on-emphasis,#ffffff));text-align:center;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(aria-label);background:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));border-radius:6px;opacity:0;}/*!sc*/@-webkit-keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/.dMjscx:hover::before,.dMjscx:active::before,.dMjscx:focus::before,.dMjscx:focus-within::before,.dMjscx:hover::after,.dMjscx:active::after,.dMjscx:focus::after,.dMjscx:focus-within::after{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-animation-name:tooltip-appear;animation-name:tooltip-appear;-webkit-animation-duration:0.1s;animation-duration:0.1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-delay:0.4s;animation-delay:0.4s;}/*!sc*/.dMjscx.tooltipped-no-delay:hover::before,.dMjscx.tooltipped-no-delay:active::before,.dMjscx.tooltipped-no-delay:focus::before,.dMjscx.tooltipped-no-delay:focus-within::before,.dMjscx.tooltipped-no-delay:hover::after,.dMjscx.tooltipped-no-delay:active::after,.dMjscx.tooltipped-no-delay:focus::after,.dMjscx.tooltipped-no-delay:focus-within::after{-webkit-animation-delay:0s;animation-delay:0s;}/*!sc*/.dMjscx.tooltipped-multiline:hover::after,.dMjscx.tooltipped-multiline:active::after,.dMjscx.tooltipped-multiline:focus::after,.dMjscx.tooltipped-multiline:focus-within::after{display:table-cell;}/*!sc*/.dMjscx.tooltipped-s::after,.dMjscx.tooltipped-se::after,.dMjscx.tooltipped-sw::after{top:100%;right:50%;margin-top:6px;}/*!sc*/.dMjscx.tooltipped-s::before,.dMjscx.tooltipped-se::before,.dMjscx.tooltipped-sw::before{top:auto;right:50%;bottom:-7px;margin-right:-6px;border-bottom-color:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));}/*!sc*/.dMjscx.tooltipped-se::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/.dMjscx.tooltipped-sw::after{margin-right:-16px;}/*!sc*/.dMjscx.tooltipped-n::after,.dMjscx.tooltipped-ne::after,.dMjscx.tooltipped-nw::after{right:50%;bottom:100%;margin-bottom:6px;}/*!sc*/.dMjscx.tooltipped-n::before,.dMjscx.tooltipped-ne::before,.dMjscx.tooltipped-nw::before{top:-7px;right:50%;bottom:auto;margin-right:-6px;border-top-color:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));}/*!sc*/.dMjscx.tooltipped-ne::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/.dMjscx.tooltipped-nw::after{margin-right:-16px;}/*!sc*/.dMjscx.tooltipped-s::after,.dMjscx.tooltipped-n::after{-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);}/*!sc*/.dMjscx.tooltipped-w::after{right:100%;bottom:50%;margin-right:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/.dMjscx.tooltipped-w::before{top:50%;bottom:50%;left:-7px;margin-top:-6px;border-left-color:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));}/*!sc*/.dMjscx.tooltipped-e::after{bottom:50%;left:100%;margin-left:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/.dMjscx.tooltipped-e::before{top:50%;right:-7px;bottom:50%;margin-top:-6px;border-right-color:var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#24292f));}/*!sc*/.dMjscx.tooltipped-multiline::after{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:250px;word-wrap:break-word;white-space:pre-line;border-collapse:separate;}/*!sc*/.dMjscx.tooltipped-multiline.tooltipped-s::after,.dMjscx.tooltipped-multiline.tooltipped-n::after{right:auto;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}/*!sc*/.dMjscx.tooltipped-multiline.tooltipped-w::after,.dMjscx.tooltipped-multiline.tooltipped-e::after{right:100%;}/*!sc*/.dMjscx.tooltipped-align-right-2::after{right:0;margin-right:0;}/*!sc*/.dMjscx.tooltipped-align-right-2::before{right:15px;}/*!sc*/.dMjscx.tooltipped-align-left-2::after{left:0;margin-left:0;}/*!sc*/.dMjscx.tooltipped-align-left-2::before{left:10px;}/*!sc*/data-styled.g18[id=\"Tooltip__TooltipBase-sc-17tf59c-0\"]{content:\"dMjscx,\"}/*!sc*/.bPgibo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;white-space:nowrap;padding-top:0;padding-bottom:0;padding-left:0;padding-right:0;margin:0;margin-bottom:-1px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;position:relative;}/*!sc*/data-styled.g103[id=\"UnderlineNav__NavigationList-sc-1jfr31k-0\"]{content:\"bPgibo,\"}/*!sc*/</style> <!-- --> <!-- --> <div class=\"Box-sc-g0xbh4-0 izjvBm\"><div class=\"Box-sc-g0xbh4-0 rPQgy\"><div class=\"Box-sc-g0xbh4-0 eUMEDg\"></div></div><div class=\"Box-sc-g0xbh4-0 eLcVee\"><div class=\"Box-sc-g0xbh4-0 hsfLlq\"><div class=\"Box-sc-g0xbh4-0 gpKoUz\"><button type=\"button\" id=\"branch-picker-repos-header-ref-selector\" aria-haspopup=\"true\" tabindex=\"0\" aria-label=\"main branch\" data-testid=\"anchor-button\" class=\"types__StyledButton-sc-ws60qy-0 izDscS overview-ref-selector\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"text\"><div class=\"Box-sc-g0xbh4-0 bKgizp\"><div class=\"Box-sc-g0xbh4-0 iPGYsi\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-git-branch\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z\"></path></svg></div><div class=\"Box-sc-g0xbh4-0 dKmYfk ref-selector-button-text-container\"><span class=\"Text-sc-17v1xeu-0 bOMzPg\">\u00a0<!-- -->main</span></div></div></span><span data-component=\"trailingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-triangle-down\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z\"></path></svg></span></span></button><button hidden=\"\" data-hotkey-scope=\"read-only-cursor-text-area\"></button></div><div class=\"Box-sc-g0xbh4-0 laYubZ\"><a style=\"--button-color:fg.muted\" type=\"button\" href=\"/redis/ioredis/branches\" class=\"types__StyledButton-sc-ws60qy-0 cuOWTR\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"leadingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-git-branch\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z\"></path></svg></span><span data-component=\"text\">Branches</span></span></a><a style=\"--button-color:fg.muted\" type=\"button\" href=\"/redis/ioredis/tags\" class=\"types__StyledButton-sc-ws60qy-0 cuOWTR\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"leadingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-tag\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"></path></svg></span><span data-component=\"text\">Tags</span></span></a></div><div class=\"Box-sc-g0xbh4-0 swnaL\"><a style=\"--button-color:fg.muted\" type=\"button\" aria-label=\"Go to Branches page\" href=\"/redis/ioredis/branches\" data-no-visuals=\"true\" class=\"types__StyledButton-sc-ws60qy-0 tDSzd\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-git-branch\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z\"></path></svg></a><a style=\"--button-color:fg.muted\" type=\"button\" aria-label=\"Go to Tags page\" href=\"/redis/ioredis/tags\" data-no-visuals=\"true\" class=\"types__StyledButton-sc-ws60qy-0 tDSzd\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-tag\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"></path></svg></a></div></div><div class=\"Box-sc-g0xbh4-0 bWpuBf\"><div class=\"Box-sc-g0xbh4-0 grHjNb\"><div class=\"Box-sc-g0xbh4-0 dXTsqj\"><!--$!--><template></template><!--/$--></div><div class=\"Box-sc-g0xbh4-0 dCOrmu\"><button type=\"button\" data-no-visuals=\"true\" class=\"types__StyledButton-sc-ws60qy-0 ftZGca\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"text\">Go to file</span></span></button></div><div class=\"react-directory-add-file-icon\"></div><div class=\"react-directory-remove-file-icon\"></div></div><button type=\"button\" id=\":R2il5:\" aria-haspopup=\"true\" tabindex=\"0\" class=\"types__StyledButton-sc-ws60qy-0 gYvpXq\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"leadingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><div class=\"Box-sc-g0xbh4-0 bVvbgP\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-code\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z\"></path></svg></div></span><span data-component=\"text\">Code</span></span><span data-component=\"trailingAction\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-triangle-down\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z\"></path></svg></span></button><div class=\"Box-sc-g0xbh4-0 bNDvfp\"><button data-component=\"IconButton\" type=\"button\" aria-label=\"Open more actions menu\" id=\":R3il5:\" aria-haspopup=\"true\" tabindex=\"0\" data-no-visuals=\"true\" class=\"types__StyledButton-sc-ws60qy-0 ftZGca\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-kebab-horizontal\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path></svg></button></div></div></div><div class=\"Box-sc-g0xbh4-0 yfPnm\"><div data-hpc=\"true\" class=\"Box-sc-g0xbh4-0\"><button hidden=\"\" data-testid=\"focus-next-element-button\" data-hotkey=\"j\" data-hotkey-scope=\"read-only-cursor-text-area\"></button><button hidden=\"\" data-hotkey=\"j\"></button><button hidden=\"\" data-testid=\"focus-previous-element-button\" data-hotkey=\"k\" data-hotkey-scope=\"read-only-cursor-text-area\"></button><button hidden=\"\" data-hotkey=\"k\"></button><h2 class=\"Heading__StyledHeading-sc-1c1dgg0-0 cgQnMS sr-only\" data-testid=\"screen-reader-heading\" id=\"folders-and-files\">Folders and files</h2><table aria-labelledby=\"folders-and-files\" class=\"Box-sc-g0xbh4-0 cAQuiW\"><thead class=\"Box-sc-g0xbh4-0 iiUlLN\"><tr class=\"Box-sc-g0xbh4-0 jmggSN\"><th colSpan=\"2\" class=\"Box-sc-g0xbh4-0 kvYunM\"><span class=\"Text-sc-17v1xeu-0 eUGNHp\">Name</span></th><th colSpan=\"1\" class=\"Box-sc-g0xbh4-0 hrLuxA\"><span class=\"Text-sc-17v1xeu-0 eUGNHp\">Name</span></th><th class=\"Box-sc-g0xbh4-0 ePjhhA\"><div title=\"Last commit message\" class=\"Truncate__StyledTruncate-sc-23o1d2-0 fUpWeN\"><span class=\"Text-sc-17v1xeu-0 eUGNHp\">Last commit message</span></div></th><th colSpan=\"1\" class=\"Box-sc-g0xbh4-0 cuEKae\"><div title=\"Last commit date\" class=\"Truncate__StyledTruncate-sc-23o1d2-0 fUpWeN\"><span class=\"Text-sc-17v1xeu-0 eUGNHp\">Last commit date</span></div></th></tr></thead><tbody><tr class=\"Box-sc-g0xbh4-0 jEbBOT\"><td colSpan=\"3\" class=\"Box-sc-g0xbh4-0 bTxCvM\"><div class=\"Box-sc-g0xbh4-0 eYedVD\"><h2 class=\"Heading__StyledHeading-sc-1c1dgg0-0 cgQnMS sr-only\" data-testid=\"screen-reader-heading\">Latest commit</h2><div style=\"width:120px\" class=\"Skeleton Skeleton--text\" data-testid=\"loading\">\u00a0</div><div class=\"Box-sc-g0xbh4-0 jGfYmh\"><div data-testid=\"latest-commit-details\" class=\"Box-sc-g0xbh4-0 lhFvfi\"></div><h2 class=\"Heading__StyledHeading-sc-1c1dgg0-0 cgQnMS sr-only\" data-testid=\"screen-reader-heading\">History</h2><a class=\"types__StyledButton-sc-ws60qy-0 fAkXQN react-last-commit-history-group\" href=\"/redis/ioredis/commits/main/\" data-size=\"small\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"leadingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-history\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z\"></path></svg></span><span data-component=\"text\"><span class=\"Text-sc-17v1xeu-0 dALsKK\">1,295 Commits</span></span></span></a><div class=\"Box-sc-g0xbh4-0 bqgLjk\"></div><span role=\"tooltip\" aria-label=\"Commit history\" class=\"Tooltip__TooltipBase-sc-17tf59c-0 dMjscx tooltipped-n\"><a class=\"types__StyledButton-sc-ws60qy-0 fAkXQN react-last-commit-history-icon\" href=\"/redis/ioredis/commits/main/\"><span data-component=\"buttonContent\" class=\"Box-sc-g0xbh4-0 kkrdEu\"><span data-component=\"leadingVisual\" class=\"Box-sc-g0xbh4-0 trpoQ\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-history\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z\"></path></svg></span></span></a></span></div></div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-0\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".github\" aria-label=\".github, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/.github\">.github</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".github\" aria-label=\".github, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/.github\">.github</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-1\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"benchmarks\" aria-label=\"benchmarks, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/benchmarks\">benchmarks</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"benchmarks\" aria-label=\"benchmarks, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/benchmarks\">benchmarks</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-2\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"bin\" aria-label=\"bin, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/bin\">bin</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"bin\" aria-label=\"bin, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/bin\">bin</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-3\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"docs\" aria-label=\"docs, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/docs\">docs</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"docs\" aria-label=\"docs, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/docs\">docs</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-4\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"examples\" aria-label=\"examples, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/examples\">examples</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"examples\" aria-label=\"examples, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/examples\">examples</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-5\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"lib\" aria-label=\"lib, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/lib\">lib</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"lib\" aria-label=\"lib, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/lib\">lib</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-6\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"resources\" aria-label=\"resources, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/resources\">resources</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"resources\" aria-label=\"resources, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/resources\">resources</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-7\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"test\" aria-label=\"test, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/test\">test</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"icon-directory\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"test\" aria-label=\"test, (Directory)\" class=\"Link--primary\" href=\"/redis/ioredis/tree/main/test\">test</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-8\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".eslintrc.json\" aria-label=\".eslintrc.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.eslintrc.json\">.eslintrc.json</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".eslintrc.json\" aria-label=\".eslintrc.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.eslintrc.json\">.eslintrc.json</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row undefined\" id=\"folder-row-9\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".gitignore\" aria-label=\".gitignore, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.gitignore\">.gitignore</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".gitignore\" aria-label=\".gitignore, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.gitignore\">.gitignore</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-10\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".prettierignore\" aria-label=\".prettierignore, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.prettierignore\">.prettierignore</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".prettierignore\" aria-label=\".prettierignore, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.prettierignore\">.prettierignore</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-11\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".releaserc.json\" aria-label=\".releaserc.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.releaserc.json\">.releaserc.json</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\".releaserc.json\" aria-label=\".releaserc.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/.releaserc.json\">.releaserc.json</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-12\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"CHANGELOG.md\" aria-label=\"CHANGELOG.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/CHANGELOG.md\">CHANGELOG.md</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"CHANGELOG.md\" aria-label=\"CHANGELOG.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/CHANGELOG.md\">CHANGELOG.md</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-13\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"CODE_OF_CONDUCT.md\" aria-label=\"CODE_OF_CONDUCT.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/CODE_OF_CONDUCT.md\">CODE_OF_CONDUCT.md</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"CODE_OF_CONDUCT.md\" aria-label=\"CODE_OF_CONDUCT.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/CODE_OF_CONDUCT.md\">CODE_OF_CONDUCT.md</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-14\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"LICENSE\" aria-label=\"LICENSE, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/LICENSE\">LICENSE</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"LICENSE\" aria-label=\"LICENSE, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/LICENSE\">LICENSE</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-15\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"README.md\" aria-label=\"README.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/README.md\">README.md</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"README.md\" aria-label=\"README.md, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/README.md\">README.md</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-16\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"logo.svg\" aria-label=\"logo.svg, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/logo.svg\">logo.svg</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"logo.svg\" aria-label=\"logo.svg, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/logo.svg\">logo.svg</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-17\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"package-lock.json\" aria-label=\"package-lock.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/package-lock.json\">package-lock.json</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"package-lock.json\" aria-label=\"package-lock.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/package-lock.json\">package-lock.json</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-18\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"package.json\" aria-label=\"package.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/package.json\">package.json</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"package.json\" aria-label=\"package.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/package.json\">package.json</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"react-directory-row truncate-for-mobile\" id=\"folder-row-19\"><td class=\"react-directory-row-name-cell-small-screen\" colSpan=\"2\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"tsconfig.json\" aria-label=\"tsconfig.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/tsconfig.json\">tsconfig.json</a></div></h3></div></div></td><td class=\"react-directory-row-name-cell-large-screen\" colSpan=\"1\"><div class=\"react-directory-filename-column\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"color-fg-muted\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z\"></path></svg><div class=\"overflow-hidden\"><h3><div class=\"react-directory-truncate\"><a title=\"tsconfig.json\" aria-label=\"tsconfig.json, (File)\" class=\"Link--primary\" href=\"/redis/ioredis/blob/main/tsconfig.json\">tsconfig.json</a></div></h3></div></div></td><td class=\"react-directory-row-commit-cell\"><div class=\"Skeleton Skeleton--text\">\u00a0</div></td><td><div class=\"Skeleton Skeleton--text\">\u00a0</div></td></tr><tr class=\"Box-sc-g0xbh4-0 epsqEd show-for-mobile\" data-testid=\"view-all-files-row\"><td colSpan=\"3\" class=\"Box-sc-g0xbh4-0 ldpruc\"><div><button class=\"Link__StyledLink-sc-14289xe-0 dheQRw\">View all files</button></div></td></tr></tbody></table></div><div class=\"Box-sc-g0xbh4-0 ehcSsh\"><div class=\"Box-sc-g0xbh4-0 iGmlUb\"><div class=\"Box-sc-g0xbh4-0 iRQGXA\"><h2 class=\"_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0 rTZSs\">Repository files navigation</h2><nav aria-label=\"Repository files\" class=\"Box-sc-g0xbh4-0 dvTdPK\"><ul role=\"list\" class=\"UnderlineNav__NavigationList-sc-1jfr31k-0 bPgibo\"><li class=\"Box-sc-g0xbh4-0 gwuIGu\"><a href=\"#\" aria-current=\"page\" class=\"Link__StyledLink-sc-14289xe-0 vLMkZ\"><span data-component=\"icon\" class=\"Box-sc-g0xbh4-0 kOxwQs\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-book\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z\"></path></svg></span><span data-component=\"text\" data-content=\"README\" class=\"Box-sc-g0xbh4-0 kOgeFj\">README</span></a></li><li class=\"Box-sc-g0xbh4-0 gwuIGu\"><a href=\"#\" class=\"Link__StyledLink-sc-14289xe-0 bhqztV\"><span data-component=\"icon\" class=\"Box-sc-g0xbh4-0 kOxwQs\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-code-of-conduct\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M8.048 2.241c.964-.709 2.079-1.238 3.325-1.241a4.616 4.616 0 0 1 3.282 1.355c.41.408.757.86.996 1.428.238.568.348 1.206.347 1.968 0 2.193-1.505 4.254-3.081 5.862-1.496 1.526-3.213 2.796-4.249 3.563l-.22.163a.749.749 0 0 1-.895 0l-.221-.163c-1.036-.767-2.753-2.037-4.249-3.563C1.51 10.008.007 7.952.002 5.762a4.614 4.614 0 0 1 1.353-3.407C3.123.585 6.223.537 8.048 2.24Zm-1.153.983c-1.25-1.033-3.321-.967-4.48.191a3.115 3.115 0 0 0-.913 2.335c0 1.556 1.109 3.24 2.652 4.813C5.463 11.898 6.96 13.032 8 13.805c.353-.262.758-.565 1.191-.905l-1.326-1.223a.75.75 0 0 1 1.018-1.102l1.48 1.366c.328-.281.659-.577.984-.887L9.99 9.802a.75.75 0 1 1 1.019-1.103l1.384 1.28c.295-.329.566-.661.81-.995L12.92 8.7l-1.167-1.168c-.674-.671-1.78-.664-2.474.03-.268.269-.538.537-.802.797-.893.882-2.319.843-3.185-.032-.346-.35-.693-.697-1.043-1.047a.75.75 0 0 1-.04-1.016c.162-.191.336-.401.52-.623.62-.748 1.356-1.637 2.166-2.417Zm7.112 4.442c.313-.65.491-1.293.491-1.916v-.001c0-.614-.088-1.045-.23-1.385-.143-.339-.357-.633-.673-.949a3.111 3.111 0 0 0-2.218-.915c-1.092.003-2.165.627-3.226 1.602-.823.755-1.554 1.637-2.228 2.45l-.127.154.562.566a.755.755 0 0 0 1.066.02l.794-.79c1.258-1.258 3.312-1.31 4.594-.032.396.394.792.791 1.173 1.173Z\"></path></svg></span><span data-component=\"text\" data-content=\"Code of conduct\" class=\"Box-sc-g0xbh4-0\">Code of conduct</span></a></li><li class=\"Box-sc-g0xbh4-0 gwuIGu\"><a href=\"#\" class=\"Link__StyledLink-sc-14289xe-0 bhqztV\"><span data-component=\"icon\" class=\"Box-sc-g0xbh4-0 kOxwQs\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-law\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z\"></path></svg></span><span data-component=\"text\" data-content=\"MIT license\" class=\"Box-sc-g0xbh4-0\">MIT license</span></a></li></ul></nav><button style=\"--button-color:fg.subtle\" type=\"button\" aria-label=\"Outline\" id=\":Rdkl5:\" aria-haspopup=\"true\" tabindex=\"0\" class=\"types__StyledButton-sc-ws60qy-0 jPraEl\"><svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" class=\"octicon octicon-list-unordered\" viewBox=\"0 0 16 16\" width=\"16\" height=\"16\" fill=\"currentColor\" style=\"display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible\"><path d=\"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\"></path></svg></button></div><div class=\"Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned\" data-hpc=\"true\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><p dir=\"auto\"><a href=\"https://github.com/redis/ioredis\"><img src=\"https://camo.githubusercontent.com/37e94283d4d2aca23acfeb12adaf0de20413253e3fa54931425345d581dddf96/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f72656469732f696f726564697340623565386337342f6c6f676f2e737667\" alt=\"ioredis\" data-canonical-src=\"https://cdn.jsdelivr.net/gh/redis/ioredis@b5e8c74/logo.svg\" style=\"max-width: 100%;\"></a></p><p dir=\"auto\"><a href=\"https://github.com/redis/ioredis/actions/workflows/release.yml?query=branch%3Amain\"><img src=\"https://github.com/redis/ioredis/actions/workflows/release.yml/badge.svg?branch=main\" alt=\"Build Status\" style=\"max-width: 100%;\"></a><a href=\"https://coveralls.io/github/luin/ioredis?branch=main\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/c0b1f2e0eb3afee4aa7b780004a7b64750eb1e384f598ec17c4f0731a021cb4a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6c75696e2f696f72656469732f62616467652e7376673f6272616e63683d6d61696e\" alt=\"Coverage Status\" data-canonical-src=\"https://coveralls.io/repos/github/luin/ioredis/badge.svg?branch=main\" style=\"max-width: 100%;\"></a><a href=\"http://commitizen.github.io/cz-cli/\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/caf8f1537966a50f2598fc7f0daf7cc01a2f9b54e531ea0c39b261cde3fb3a1b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f6d6d6974697a656e2d667269656e646c792d627269676874677265656e2e737667\" alt=\"Commitizen friendly\" data-canonical-src=\"https://img.shields.io/badge/commitizen-friendly-brightgreen.svg\" style=\"max-width: 100%;\"></a><a href=\"https://github.com/semantic-release/semantic-release\"><img src=\"https://camo.githubusercontent.com/0f5604073d5ca8914bba4f8d5366028a08e53076df4a3a1136bbda0be0c6540e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2532302532302546302539462539332541362546302539462539412538302d73656d616e7469632d2d72656c656173652d6531303037392e737667\" alt=\"semantic-release\" data-canonical-src=\"https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg\" style=\"max-width: 100%;\"></a></p><p dir=\"auto\"><a href=\"https://discord.gg/redis\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/260167157cfe4ef52a41e7db4529e37b70bb94265c1afa8e58010dc44b57e010/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3639373838323432373837353339333632372e7376673f7374796c653d736f6369616c266c6f676f3d646973636f7264\" alt=\"Discord\" data-canonical-src=\"https://img.shields.io/discord/697882427875393627.svg?style=social&amp;logo=discord\" style=\"max-width: 100%;\"></a><a href=\"https://www.twitch.tv/redisinc\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/9c0cf96a6ba5bbb2c4ffadcbf64912f9586298ca8f2f1f8e0755b2ba64abe0ec/68747470733a2f2f696d672e736869656c64732e696f2f7477697463682f7374617475732f7265646973696e633f7374796c653d736f6369616c\" alt=\"Twitch\" data-canonical-src=\"https://img.shields.io/twitch/status/redisinc?style=social\" style=\"max-width: 100%;\"></a><a href=\"https://www.youtube.com/redisinc\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/5d59c42050a16df8429c9d939f961c8ec4697d5e1edec7566444ba54ec25e3b0/68747470733a2f2f696d672e736869656c64732e696f2f796f75747562652f6368616e6e656c2f76696577732f55434437386c48537759714d6c79657452305f50345669673f7374796c653d736f6369616c\" alt=\"YouTube\" data-canonical-src=\"https://img.shields.io/youtube/channel/views/UCD78lHSwYqMlyetR0_P4Vig?style=social\" style=\"max-width: 100%;\"></a><a href=\"https://twitter.com/redisinc\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/fe2e217f4677de390912ab7c48d88a496913030c967ca14338296c5653566e35/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f7265646973696e633f7374796c653d736f6369616c\" alt=\"Twitter\" data-canonical-src=\"https://img.shields.io/twitter/follow/redisinc?style=social\" style=\"max-width: 100%;\"></a></p><p dir=\"auto\">A robust, performance-focused and full-featured <a href=\"http://redis.io\" rel=\"nofollow\">Redis</a> client for <a href=\"https://nodejs.org\" rel=\"nofollow\">Node.js</a>.</p><p dir=\"auto\">Supports Redis &gt;= 2.6.12. Completely compatible with Redis 7.x.</p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Features</h1><a id=\"user-content-features\" class=\"anchor-element\" aria-label=\"Permalink: Features\" href=\"#features\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">ioredis is a robust, full-featured Redis client that isused in the world's biggest online commerce company <a href=\"http://www.alibaba.com/\" rel=\"nofollow\">Alibaba</a> and many other awesome companies.</p><ol start=\"0\" dir=\"auto\"><li>Full-featured. It supports <a href=\"http://redis.io/topics/cluster-tutorial\" rel=\"nofollow\">Cluster</a>, <a href=\"https://redis.io/docs/reference/sentinel-clients\" rel=\"nofollow\">Sentinel</a>, <a href=\"https://redis.io/topics/streams-intro\" rel=\"nofollow\">Streams</a>, <a href=\"http://redis.io/topics/pipelining\" rel=\"nofollow\">Pipelining</a>, and of course <a href=\"http://redis.io/commands/eval\" rel=\"nofollow\">Lua scripting</a>, <a href=\"https://redis.io/topics/functions-intro\" rel=\"nofollow\">Redis Functions</a>, <a href=\"http://redis.io/topics/pubsub\" rel=\"nofollow\">Pub/Sub</a> (with the support of binary messages).</li><li>High performance \ud83d\ude80.</li><li>Delightful API \ud83d\ude04. It works with Node callbacks and Native promises.</li><li>Transformation of command arguments and replies.</li><li>Transparent key prefixing.</li><li>Abstraction for Lua scripting, allowing you to <a href=\"https://github.com/redis/ioredis#lua-scripting\">define custom commands</a>.</li><li>Supports <a href=\"https://github.com/redis/ioredis#handle-binary-data\">binary data</a>.</li><li>Supports <a href=\"https://github.com/redis/ioredis#tls-options\">TLS</a> \ud83d\udd12.</li><li>Supports offline queue and ready checking.</li><li>Supports ES6 types, such as <code>Map</code> and <code>Set</code>.</li><li>Supports GEO commands \ud83d\udccd.</li><li>Supports Redis ACL.</li><li>Sophisticated error handling strategy.</li><li>Supports NAT mapping.</li><li>Supports autopipelining.</li></ol><p dir=\"auto\"><strong>100% written in TypeScript and official declarations are provided:</strong></p><p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/redis/ioredis/blob/main/resources/ts-screenshot.png\"><img width=\"837\" src=\"/redis/ioredis/raw/main/resources/ts-screenshot.png\" alt=\"TypeScript Screenshot\" style=\"max-width: 100%;\"></a></p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Versions</h1><a id=\"user-content-versions\" class=\"anchor-element\" aria-label=\"Permalink: Versions\" href=\"#versions\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><table><thead><tr><th>Version</th><th>Branch</th><th>Node.js Version</th><th>Redis Version</th></tr></thead><tbody><tr><td>5.x.x (latest)</td><td>main</td><td>&gt;= 12</td><td>2.6.12 ~ latest</td></tr><tr><td>4.x.x</td><td>v4</td><td>&gt;= 6</td><td>2.6.12 ~ 7</td></tr></tbody></table><p dir=\"auto\">Refer to <a href=\"/redis/ioredis/blob/main/CHANGELOG.md\">CHANGELOG.md</a> for features and bug fixes introduced in v5.</p><p dir=\"auto\">\ud83d\ude80 <a href=\"https://github.com/redis/ioredis/wiki/Upgrading-from-v4-to-v5\">Upgrading from v4 to v5</a></p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Links</h1><a id=\"user-content-links\" class=\"anchor-element\" aria-label=\"Permalink: Links\" href=\"#links\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><ul dir=\"auto\"><li><a href=\"https://redis.github.io/ioredis/\" rel=\"nofollow\">API Documentation</a> (<a href=\"https://redis.github.io/ioredis/classes/Redis.html\" rel=\"nofollow\">Redis</a>, <a href=\"https://redis.github.io/ioredis/classes/Cluster.html\" rel=\"nofollow\">Cluster</a>)</li><li><a href=\"/redis/ioredis/blob/main/CHANGELOG.md\">Changelog</a></li></ul><hr><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Quick Start</h1><a id=\"user-content-quick-start\" class=\"anchor-element\" aria-label=\"Permalink: Quick Start\" href=\"#quick-start\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Install</h2><a id=\"user-content-install\" class=\"anchor-element\" aria-label=\"Permalink: Install\" href=\"#install\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"npm install ioredis\"><pre>npm install ioredis</pre></div><p dir=\"auto\">In a TypeScript project, you may want to add TypeScript declarations for Node.js:</p><div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"npm install --save-dev @types/node\"><pre>npm install --save-dev @types/node</pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Basic Usage</h2><a id=\"user-content-basic-usage\" class=\"anchor-element\" aria-label=\"Permalink: Basic Usage\" href=\"#basic-usage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Import ioredis.// You can also use `import { Redis } from &quot;ioredis&quot;`// if your project is a TypeScript project,// Note that `import Redis from &quot;ioredis&quot;` is still supported,// but will be deprecated in the next major version.const Redis = require(&quot;ioredis&quot;);// Create a Redis instance.// By default, it will connect to localhost:6379.// We are going to cover how to specify connection options soon.const redis = new Redis();redis.set(&quot;mykey&quot;, &quot;value&quot;); // Returns a promise which resolves to &quot;OK&quot; when the command succeeds.// ioredis supports the node.js callback styleredis.get(&quot;mykey&quot;, (err, result) =&gt; {  if (err) {    console.error(err);  } else {    console.log(result); // Prints &quot;value&quot;  }});// Or ioredis returns a promise if the last argument isn't a functionredis.get(&quot;mykey&quot;).then((result) =&gt; {  console.log(result); // Prints &quot;value&quot;});redis.zadd(&quot;sortedSet&quot;, 1, &quot;one&quot;, 2, &quot;dos&quot;, 4, &quot;quatro&quot;, 3, &quot;three&quot;);redis.zrange(&quot;sortedSet&quot;, 0, 2, &quot;WITHSCORES&quot;).then((elements) =&gt; {  // [&quot;one&quot;, &quot;1&quot;, &quot;dos&quot;, &quot;2&quot;, &quot;three&quot;, &quot;3&quot;] as if the command was `redis&gt; ZRANGE sortedSet 0 2 WITHSCORES`  console.log(elements);});// All arguments are passed directly to the redis server,// so technically ioredis supports all Redis commands.// The format is: redis[SOME_REDIS_COMMAND_IN_LOWERCASE](ARGUMENTS_ARE_JOINED_INTO_COMMAND_STRING)// so the following statement is equivalent to the CLI: `redis&gt; SET mykey hello EX 10`redis.set(&quot;mykey&quot;, &quot;hello&quot;, &quot;EX&quot;, 10);\"><pre><span class=\"pl-c\">// Import ioredis.</span><span class=\"pl-c\">// You can also use `import { Redis } from \"ioredis\"`</span><span class=\"pl-c\">// if your project is a TypeScript project,</span><span class=\"pl-c\">// Note that `import Redis from \"ioredis\"` is still supported,</span><span class=\"pl-c\">// but will be deprecated in the next major version.</span><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Create a Redis instance.</span><span class=\"pl-c\">// By default, it will connect to localhost:6379.</span><span class=\"pl-c\">// We are going to cover how to specify connection options soon.</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"mykey\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"value\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Returns a promise which resolves to \"OK\" when the command succeeds.</span><span class=\"pl-c\">// ioredis supports the node.js callback style</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"mykey\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">error</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Prints \"value\"</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Or ioredis returns a promise if the last argument isn't a function</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"mykey\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Prints \"value\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zadd</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"sortedSet\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"one\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"dos\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">4</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"quatro\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"three\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zrange</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"sortedSet\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"WITHSCORES\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">elements</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// [\"one\", \"1\", \"dos\", \"2\", \"three\", \"3\"] as if the command was `redis&gt; ZRANGE sortedSet 0 2 WITHSCORES`</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">elements</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// All arguments are passed directly to the redis server,</span><span class=\"pl-c\">// so technically ioredis supports all Redis commands.</span><span class=\"pl-c\">// The format is: redis[SOME_REDIS_COMMAND_IN_LOWERCASE](ARGUMENTS_ARE_JOINED_INTO_COMMAND_STRING)</span><span class=\"pl-c\">// so the following statement is equivalent to the CLI: `redis&gt; SET mykey hello EX 10`</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"mykey\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"hello\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"EX\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">10</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">See the <code>examples/</code> folder for more examples. For example:</p><ul dir=\"auto\"><li><a href=\"/redis/ioredis/blob/main/examples/ttl.js\">TTL</a></li><li><a href=\"/redis/ioredis/blob/main/examples/string.js\">Strings</a></li><li><a href=\"/redis/ioredis/blob/main/examples/hash.js\">Hashes</a></li><li><a href=\"/redis/ioredis/blob/main/examples/list.js\">Lists</a></li><li><a href=\"/redis/ioredis/blob/main/examples/set.js\">Sets</a></li><li><a href=\"/redis/ioredis/blob/main/examples/zset.js\">Sorted Sets</a></li><li><a href=\"/redis/ioredis/blob/main/examples/stream.js\">Streams</a></li><li><a href=\"/redis/ioredis/blob/main/examples/module.js\">Redis Modules</a> e.g. RedisJSON</li></ul><p dir=\"auto\">All Redis commands are supported. See <a href=\"https://redis.github.io/ioredis/classes/Redis.html\" rel=\"nofollow\">the documentation</a> for details.</p><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Connect to Redis</h2><a id=\"user-content-connect-to-redis\" class=\"anchor-element\" aria-label=\"Permalink: Connect to Redis\" href=\"#connect-to-redis\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">When a new <code>Redis</code> instance is created,a connection to Redis will be created at the same time.You can specify which Redis to connect to by:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"new Redis(); // Connect to 127.0.0.1:6379new Redis(6380); // 127.0.0.1:6380new Redis(6379, &quot;192.168.1.1&quot;); // 192.168.1.1:6379new Redis(&quot;/tmp/redis.sock&quot;);new Redis({  port: 6379, // Redis port  host: &quot;127.0.0.1&quot;, // Redis host  username: &quot;default&quot;, // needs Redis &gt;= 6  password: &quot;my-top-secret&quot;,  db: 0, // Defaults to 0});\"><pre><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Connect to 127.0.0.1:6379</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">6380</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// 127.0.0.1:6380</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">6379</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"192.168.1.1\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// 192.168.1.1:6379</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"/tmp/redis.sock\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">6379</span><span class=\"pl-kos\">,</span> <span class=\"pl-c\">// Redis port</span>  <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c\">// Redis host</span>  <span class=\"pl-c1\">username</span>: <span class=\"pl-s\">\"default\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c\">// needs Redis &gt;= 6</span>  <span class=\"pl-c1\">password</span>: <span class=\"pl-s\">\"my-top-secret\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">db</span>: <span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-c\">// Defaults to 0</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">You can also specify connection options as a <a href=\"http://www.iana.org/assignments/uri-schemes/prov/redis\" rel=\"nofollow\"><code>redis://</code> URL</a> or <a href=\"https://www.iana.org/assignments/uri-schemes/prov/rediss\" rel=\"nofollow\"><code>rediss://</code> URL</a> when using <a href=\"#tls-options\">TLS encryption</a>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Connect to 127.0.0.1:6380, db 4, using password &quot;authpassword&quot;:new Redis(&quot;redis://:authpassword@127.0.0.1:6380/4&quot;);// Username can also be passed via URI.new Redis(&quot;redis://username:authpassword@127.0.0.1:6380/4&quot;);\"><pre><span class=\"pl-c\">// Connect to 127.0.0.1:6380, db 4, using password \"authpassword\":</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"redis://:authpassword@127.0.0.1:6380/4\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Username can also be passed via URI.</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"redis://username:authpassword@127.0.0.1:6380/4\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">See <a href=\"https://redis.github.io/ioredis/index.html#RedisOptions\" rel=\"nofollow\">API Documentation</a> for all available options.</p><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Pub/Sub</h2><a id=\"user-content-pubsub\" class=\"anchor-element\" aria-label=\"Permalink: Pub/Sub\" href=\"#pubsub\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis provides several commands for developers to implement the <a href=\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\" rel=\"nofollow\">Publish\u2013subscribe pattern</a>. There are two roles in this pattern: publisher and subscriber. Publishers are not programmed to send their messages to specific subscribers. Rather, published messages are characterized into channels, without knowledge of what (if any) subscribers there may be.</p><p dir=\"auto\">By leveraging Node.js's built-in events module, ioredis makes pub/sub very straightforward to use. Below is a simple example that consists of two files, one is publisher.js that publishes messages to a channel, the other is subscriber.js that listens for messages on specific channels.</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// publisher.jsconst Redis = require(&quot;ioredis&quot;);const redis = new Redis();setInterval(() =&gt; {  const message = { foo: Math.random() };  // Publish to my-channel-1 or my-channel-2 randomly.  const channel = `my-channel-${1 + Math.round(Math.random())}`;  // Message can be either a string or a buffer  redis.publish(channel, JSON.stringify(message));  console.log(&quot;Published %s to %s&quot;, message, channel);}, 1000);\"><pre><span class=\"pl-c\">// publisher.js</span><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-en\">setInterval</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">message</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">foo</span>: <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">random</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>  <span class=\"pl-c\">// Publish to my-channel-1 or my-channel-2 randomly.</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">channel</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">`my-channel-<span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-c1\">1</span> <span class=\"pl-c1\">+</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">round</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">random</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span></span>`</span><span class=\"pl-kos\">;</span>  <span class=\"pl-c\">// Message can be either a string or a buffer</span>  <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">publish</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">JSON</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stringify</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Published %s to %s\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">channel</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// subscriber.jsconst Redis = require(&quot;ioredis&quot;);const redis = new Redis();redis.subscribe(&quot;my-channel-1&quot;, &quot;my-channel-2&quot;, (err, count) =&gt; {  if (err) {    // Just like other commands, subscribe() can fail for some reasons,    // ex network issues.    console.error(&quot;Failed to subscribe: %s&quot;, err.message);  } else {    // `count` represents the number of channels this client are currently subscribed to.    console.log(      `Subscribed successfully! This client is currently subscribed to ${count} channels.`    );  }});redis.on(&quot;message&quot;, (channel, message) =&gt; {  console.log(`Received ${message} from ${channel}`);});// There's also an event called 'messageBuffer', which is the same as 'message' except// it returns buffers instead of strings.// It's useful when the messages are binary data.redis.on(&quot;messageBuffer&quot;, (channel, message) =&gt; {  // Both `channel` and `message` are buffers.  console.log(channel, message);});\"><pre><span class=\"pl-c\">// subscriber.js</span><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">subscribe</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"my-channel-1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"my-channel-2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">count</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// Just like other commands, subscribe() can fail for some reasons,</span>    <span class=\"pl-c\">// ex network issues.</span>    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">error</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Failed to subscribe: %s\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">err</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">message</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span> <span class=\"pl-k\">else</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// `count` represents the number of channels this client are currently subscribed to.</span>    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span>      <span class=\"pl-s\">`Subscribed successfully! This client is currently subscribed to <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-s1\">count</span><span class=\"pl-kos\">}</span></span> channels.`</span>    <span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"message\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`Received <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-s1\">message</span><span class=\"pl-kos\">}</span></span> from <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">}</span></span>`</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// There's also an event called 'messageBuffer', which is the same as 'message' except</span><span class=\"pl-c\">// it returns buffers instead of strings.</span><span class=\"pl-c\">// It's useful when the messages are binary data.</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"messageBuffer\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// Both `channel` and `message` are buffers.</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">It's worth noticing that a connection (aka a <code>Redis</code> instance) can't play both roles at the same time. More specifically, when a client issues <code>subscribe()</code> or <code>psubscribe()</code>, it enters the \"subscriber\" mode. From that point, only commands that modify the subscription set are valid. Namely, they are: <code>subscribe</code>, <code>psubscribe</code>, <code>unsubscribe</code>, <code>punsubscribe</code>, <code>ping</code>, and <code>quit</code>. When the subscription set is empty (via <code>unsubscribe</code>/<code>punsubscribe</code>), the connection is put back into the regular mode.</p><p dir=\"auto\">If you want to do pub/sub in the same file/process, you should create a separate connection:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const sub = new Redis();const pub = new Redis();sub.subscribe(/* ... */); // From now, `sub` enters the subscriber mode.sub.on(&quot;message&quot; /* ... */);setInterval(() =&gt; {  // `pub` can be used to publish messages, or send other regular commands (e.g. `hgetall`)  // because it's not in the subscriber mode.  pub.publish(/* ... */);}, 1000);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">sub</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">pub</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">sub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">subscribe</span><span class=\"pl-kos\">(</span><span class=\"pl-c\">/* ... */</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// From now, `sub` enters the subscriber mode.</span><span class=\"pl-s1\">sub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"message\"</span> <span class=\"pl-c\">/* ... */</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-en\">setInterval</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// `pub` can be used to publish messages, or send other regular commands (e.g. `hgetall`)</span>  <span class=\"pl-c\">// because it's not in the subscriber mode.</span>  <span class=\"pl-s1\">pub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">publish</span><span class=\"pl-kos\">(</span><span class=\"pl-c\">/* ... */</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><code>PSUBSCRIBE</code> is also supported in a similar way when you want to subscribe all channels whose name matches a pattern:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.psubscribe(&quot;pat?ern&quot;, (err, count) =&gt; {});// Event names are &quot;pmessage&quot;/&quot;pmessageBuffer&quot; instead of &quot;message/messageBuffer&quot;.redis.on(&quot;pmessage&quot;, (pattern, channel, message) =&gt; {});redis.on(&quot;pmessageBuffer&quot;, (pattern, channel, message) =&gt; {});\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">psubscribe</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"pat?ern\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">count</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Event names are \"pmessage\"/\"pmessageBuffer\" instead of \"message/messageBuffer\".</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"pmessage\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">pattern</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"pmessageBuffer\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">pattern</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Streams</h2><a id=\"user-content-streams\" class=\"anchor-element\" aria-label=\"Permalink: Streams\" href=\"#streams\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis v5 introduces a new data type called streams. It doubles as a communication channel for building streaming architectures and as a log-like data structure for persisting data. With ioredis, the usage can be pretty straightforward. Say we have a producer publishes messages to a stream with <code>redis.xadd(\"mystream\", \"*\", \"randomValue\", Math.random())</code> (You may find the <a href=\"https://redis.io/topics/streams-intro\" rel=\"nofollow\">official documentation of Streams</a> as a starter to understand the parameters used), to consume the messages, we'll have a consumer with the following code:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const redis = new Redis();const processMessage = (message) =&gt; {  console.log(&quot;Id: %s. Data: %O&quot;, message[0], message[1]);};async function listenForMessage(lastId = &quot;$&quot;) {  // `results` is an array, each element of which corresponds to a key.  // Because we only listen to one key (mystream) here, `results` only contains  // a single element. See more: https://redis.io/commands/xread#return-value  const results = await redis.xread(&quot;block&quot;, 0, &quot;STREAMS&quot;, &quot;mystream&quot;, lastId);  const [key, messages] = results[0]; // `key` equals to &quot;mystream&quot;  messages.forEach(processMessage);  // Pass the last id of the results to the next round.  await listenForMessage(messages[messages.length - 1][0]);}listenForMessage();\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-en\">processMessage</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Id: %s. Data: %O\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">listenForMessage</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">lastId</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"$\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// `results` is an array, each element of which corresponds to a key.</span>  <span class=\"pl-c\">// Because we only listen to one key (mystream) here, `results` only contains</span>  <span class=\"pl-c\">// a single element. See more: https://redis.io/commands/xread#return-value</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">results</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">xread</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"block\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"STREAMS\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"mystream\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">lastId</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-k\">const</span> <span class=\"pl-kos\">[</span><span class=\"pl-s1\">key</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">messages</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">results</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// `key` equals to \"mystream\"</span>  <span class=\"pl-s1\">messages</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">forEach</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">processMessage</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-c\">// Pass the last id of the results to the next round.</span>  <span class=\"pl-k\">await</span> <span class=\"pl-en\">listenForMessage</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">messages</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">messages</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span> <span class=\"pl-c1\">-</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-en\">listenForMessage</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Expiration</h2><a id=\"user-content-expiration\" class=\"anchor-element\" aria-label=\"Permalink: Expiration\" href=\"#expiration\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis can set a timeout to expire your key, after the timeout has expired the key will be automatically deleted. (You can find the <a href=\"https://redis.io/commands/expire/\" rel=\"nofollow\">official Expire documentation</a> to understand better the different parameters you can use), to set your key to expire in 60 seconds, we will have the following code:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.set(&quot;key&quot;, &quot;data&quot;, &quot;EX&quot;, 60);// Equivalent to redis command &quot;SET key data EX 60&quot;, because on ioredis set method,// all arguments are passed directly to the redis server.\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"key\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"data\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"EX\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">60</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Equivalent to redis command \"SET key data EX 60\", because on ioredis set method,</span><span class=\"pl-c\">// all arguments are passed directly to the redis server.</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Handle Binary Data</h2><a id=\"user-content-handle-binary-data\" class=\"anchor-element\" aria-label=\"Permalink: Handle Binary Data\" href=\"#handle-binary-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Binary data support is out of the box. Pass buffers to send binary data:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.set(&quot;foo&quot;, Buffer.from([0x62, 0x75, 0x66]));\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Buffer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0x62</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0x75</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0x66</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Every command that returns a <a href=\"https://redis.io/docs/reference/protocol-spec/#resp-bulk-strings\" rel=\"nofollow\">bulk string</a>has a variant command with a <code>Buffer</code> suffix. The variant command returns a buffer instead of a UTF-8 string:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const result = await redis.getBuffer(&quot;foo&quot;);// result is `&lt;Buffer 62 75 66&gt;`\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">getBuffer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// result is `&lt;Buffer 62 75 66&gt;`</span></pre></div><p dir=\"auto\">It's worth noticing that you don't need the <code>Buffer</code> suffix variant in order to <strong>send</strong> binary data. That meansin most case you should just use <code>redis.set()</code> instead of <code>redis.setBuffer()</code> unless you want to get the old valuewith the <code>GET</code> parameter:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const result = await redis.setBuffer(&quot;foo&quot;, &quot;new value&quot;, &quot;GET&quot;);// result is `&lt;Buffer 62 75 66&gt;` as `GET` indicates returning the old value.\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">setBuffer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"new value\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"GET\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// result is `&lt;Buffer 62 75 66&gt;` as `GET` indicates returning the old value.</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Pipelining</h2><a id=\"user-content-pipelining\" class=\"anchor-element\" aria-label=\"Permalink: Pipelining\" href=\"#pipelining\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">If you want to send a batch of commands (e.g. &gt; 5), you can use pipelining to queuethe commands in memory and then send them to Redis all at once. This way the performance improves by 50%~300% (See <a href=\"#benchmarks\">benchmark section</a>).</p><p dir=\"auto\"><code>redis.pipeline()</code> creates a <code>Pipeline</code> instance. You can call any Rediscommands on it just like the <code>Redis</code> instance. The commands are queued in memoryand flushed to Redis by calling the <code>exec</code> method:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const pipeline = redis.pipeline();pipeline.set(&quot;foo&quot;, &quot;bar&quot;);pipeline.del(&quot;cc&quot;);pipeline.exec((err, results) =&gt; {  // `err` is always null, and `results` is an array of responses  // corresponding to the sequence of queued commands.  // Each response follows the format `[err, result]`.});// You can even chain the commands:redis  .pipeline()  .set(&quot;foo&quot;, &quot;bar&quot;)  .del(&quot;cc&quot;)  .exec((err, results) =&gt; {});// `exec` also returns a Promise:const promise = redis.pipeline().set(&quot;foo&quot;, &quot;bar&quot;).get(&quot;foo&quot;).exec();promise.then((result) =&gt; {  // result === [[null, 'OK'], [null, 'bar']]});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">pipeline</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">pipeline</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">pipeline</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">del</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"cc\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">pipeline</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">results</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// `err` is always null, and `results` is an array of responses</span>  <span class=\"pl-c\">// corresponding to the sequence of queued commands.</span>  <span class=\"pl-c\">// Each response follows the format `[err, result]`.</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// You can even chain the commands:</span><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">del</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"cc\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">results</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// `exec` also returns a Promise:</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">promise</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === [[null, 'OK'], [null, 'bar']]</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Each chained command can also have a callback, which will be invoked when the commandgets a reply:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .pipeline()  .set(&quot;foo&quot;, &quot;bar&quot;)  .get(&quot;foo&quot;, (err, result) =&gt; {    // result === 'bar'  })  .exec((err, result) =&gt; {    // result[1][1] === 'bar'  });\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// result === 'bar'</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// result[1][1] === 'bar'</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">In addition to adding commands to the <code>pipeline</code> queue individually, you can also pass an array of commands and arguments to the constructor:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .pipeline([    [&quot;set&quot;, &quot;foo&quot;, &quot;bar&quot;],    [&quot;get&quot;, &quot;foo&quot;],  ])  .exec(() =&gt; {    /* ... */  });\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"set\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"get\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">/* ... */</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><code>#length</code> property shows how many commands in the pipeline:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const length = redis.pipeline().set(&quot;foo&quot;, &quot;bar&quot;).get(&quot;foo&quot;).length;// length === 2\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">length</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// length === 2</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Transaction</h2><a id=\"user-content-transaction\" class=\"anchor-element\" aria-label=\"Permalink: Transaction\" href=\"#transaction\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Most of the time, the transaction commands <code>multi</code> &amp; <code>exec</code> are used together with pipeline.Therefore, when <code>multi</code> is called, a <code>Pipeline</code> instance is created automatically by default,so you can use <code>multi</code> just like <code>pipeline</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .multi()  .set(&quot;foo&quot;, &quot;bar&quot;)  .get(&quot;foo&quot;)  .exec((err, results) =&gt; {    // results === [[null, 'OK'], [null, 'bar']]  });\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">results</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// results === [[null, 'OK'], [null, 'bar']]</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">If there's a syntax error in the transaction's command chain (e.g. wrong number of arguments, wrong command name, etc),then none of the commands would be executed, and an error is returned:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .multi()  .set(&quot;foo&quot;)  .set(&quot;foo&quot;, &quot;new value&quot;)  .exec((err, results) =&gt; {    // err:    //  { [ReplyError: EXECABORT Transaction discarded because of previous errors.]    //    name: 'ReplyError',    //    message: 'EXECABORT Transaction discarded because of previous errors.',    //    command: { name: 'exec', args: [] },    //    previousErrors:    //     [ { [ReplyError: ERR wrong number of arguments for 'set' command]    //         name: 'ReplyError',    //         message: 'ERR wrong number of arguments for \\'set\\' command',    //         command: [Object] } ] }  });\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"new value\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">results</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// err:</span>    <span class=\"pl-c\">//  { [ReplyError: EXECABORT Transaction discarded because of previous errors.]</span>    <span class=\"pl-c\">//    name: 'ReplyError',</span>    <span class=\"pl-c\">//    message: 'EXECABORT Transaction discarded because of previous errors.',</span>    <span class=\"pl-c\">//    command: { name: 'exec', args: [] },</span>    <span class=\"pl-c\">//    previousErrors:</span>    <span class=\"pl-c\">//     [ { [ReplyError: ERR wrong number of arguments for 'set' command]</span>    <span class=\"pl-c\">//         name: 'ReplyError',</span>    <span class=\"pl-c\">//         message: 'ERR wrong number of arguments for \\'set\\' command',</span>    <span class=\"pl-c\">//         command: [Object] } ] }</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">In terms of the interface, <code>multi</code> differs from <code>pipeline</code> in that when specifying a callbackto each chained command, the queueing state is passed to the callback instead of the result of the command:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .multi()  .set(&quot;foo&quot;, &quot;bar&quot;, (err, result) =&gt; {    // result === 'QUEUED'  })  .exec(/* ... */);\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// result === 'QUEUED'</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-c\">/* ... */</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">If you want to use transaction without pipeline, pass <code>{ pipeline: false }</code> to <code>multi</code>,and every command will be sent to Redis immediately without waiting for an <code>exec</code> invocation:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.multi({ pipeline: false });redis.set(&quot;foo&quot;, &quot;bar&quot;);redis.get(&quot;foo&quot;);redis.exec((err, result) =&gt; {  // result === [[null, 'OK'], [null, 'bar']]});\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">pipeline</span>: <span class=\"pl-c1\">false</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === [[null, 'OK'], [null, 'bar']]</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">The constructor of <code>multi</code> also accepts a batch of commands:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .multi([    [&quot;set&quot;, &quot;foo&quot;, &quot;bar&quot;],    [&quot;get&quot;, &quot;foo&quot;],  ])  .exec(() =&gt; {    /* ... */  });\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"set\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"get\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">/* ... */</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Inline transactions are supported by pipeline, which means you can group a subset of commandsin the pipeline into a transaction:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis  .pipeline()  .get(&quot;foo&quot;)  .multi()  .set(&quot;foo&quot;, &quot;bar&quot;)  .get(&quot;foo&quot;)  .exec()  .get(&quot;foo&quot;)  .exec();\"><pre><span class=\"pl-s1\">redis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">multi</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Lua Scripting</h2><a id=\"user-content-lua-scripting\" class=\"anchor-element\" aria-label=\"Permalink: Lua Scripting\" href=\"#lua-scripting\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">ioredis supports all of the scripting commands such as <code>EVAL</code>, <code>EVALSHA</code> and <code>SCRIPT</code>.However, it's tedious to use in real world scenarios since developers have to takecare of script caching and to detect when to use <code>EVAL</code> and when to use <code>EVALSHA</code>.ioredis exposes a <code>defineCommand</code> method to make scripting much easier to use:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis();// This will define a command myecho:redis.defineCommand(&quot;myecho&quot;, {  numberOfKeys: 2,  lua: &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot;,});// Now `myecho` can be used just like any other ordinary command,// and ioredis will try to use `EVALSHA` internally when possible for better performance.redis.myecho(&quot;k1&quot;, &quot;k2&quot;, &quot;a1&quot;, &quot;a2&quot;, (err, result) =&gt; {  // result === ['k1', 'k2', 'a1', 'a2']});// `myechoBuffer` is also defined automatically to return buffers instead of strings:redis.myechoBuffer(&quot;k1&quot;, &quot;k2&quot;, &quot;a1&quot;, &quot;a2&quot;, (err, result) =&gt; {  // result[0] equals to Buffer.from('k1');});// And of course it works with pipeline:redis.pipeline().set(&quot;foo&quot;, &quot;bar&quot;).myecho(&quot;k1&quot;, &quot;k2&quot;, &quot;a1&quot;, &quot;a2&quot;).exec();\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// This will define a command myecho:</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">defineCommand</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"myecho\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">numberOfKeys</span>: <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">lua</span>: <span class=\"pl-s\">\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Now `myecho` can be used just like any other ordinary command,</span><span class=\"pl-c\">// and ioredis will try to use `EVALSHA` internally when possible for better performance.</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">myecho</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === ['k1', 'k2', 'a1', 'a2']</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// `myechoBuffer` is also defined automatically to return buffers instead of strings:</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">myechoBuffer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result[0] equals to Buffer.from('k1');</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// And of course it works with pipeline:</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">myecho</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a2\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Dynamic Keys</h3><a id=\"user-content-dynamic-keys\" class=\"anchor-element\" aria-label=\"Permalink: Dynamic Keys\" href=\"#dynamic-keys\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">If the number of keys can't be determined when defining a command, you canomit the <code>numberOfKeys</code> property and pass the number of keys as the first argumentwhen you call the command:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.defineCommand(&quot;echoDynamicKeyNumber&quot;, {  lua: &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot;,});// Now you have to pass the number of keys as the first argument every time// you invoke the `echoDynamicKeyNumber` command:redis.echoDynamicKeyNumber(2, &quot;k1&quot;, &quot;k2&quot;, &quot;a1&quot;, &quot;a2&quot;, (err, result) =&gt; {  // result === ['k1', 'k2', 'a1', 'a2']});\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">defineCommand</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"echoDynamicKeyNumber\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">lua</span>: <span class=\"pl-s\">\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Now you have to pass the number of keys as the first argument every time</span><span class=\"pl-c\">// you invoke the `echoDynamicKeyNumber` command:</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">echoDynamicKeyNumber</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === ['k1', 'k2', 'a1', 'a2']</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">As Constructor Options</h3><a id=\"user-content-as-constructor-options\" class=\"anchor-element\" aria-label=\"Permalink: As Constructor Options\" href=\"#as-constructor-options\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Besides <code>defineCommand()</code>, you can also define custom commands with the <code>scripts</code> constructor option:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  scripts: {    myecho: {      numberOfKeys: 2,      lua: &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot;,    },  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">scripts</span>: <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">myecho</span>: <span class=\"pl-kos\">{</span>      <span class=\"pl-c1\">numberOfKeys</span>: <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span>      <span class=\"pl-c1\">lua</span>: <span class=\"pl-s\">\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\"</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">TypeScript Usages</h3><a id=\"user-content-typescript-usages\" class=\"anchor-element\" aria-label=\"Permalink: TypeScript Usages\" href=\"#typescript-usages\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">You can refer to <a href=\"/redis/ioredis/blob/main/examples/typescript/scripts.ts\">the example</a> for how to declare your custom commands.</p><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Transparent Key Prefixing</h2><a id=\"user-content-transparent-key-prefixing\" class=\"anchor-element\" aria-label=\"Permalink: Transparent Key Prefixing\" href=\"#transparent-key-prefixing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">This feature allows you to specify a string that will automatically be prependedto all the keys in a command, which makes it easier to manage your keynamespaces.</p><p dir=\"auto\"><strong>Warning</strong> This feature won't apply to commands like <a href=\"http://redis.io/commands/KEYS\" rel=\"nofollow\">KEYS</a> and <a href=\"http://redis.io/commands/scan\" rel=\"nofollow\">SCAN</a> that take patterns rather than actual keys(<a href=\"https://github.com/redis/ioredis/issues/239\" data-hovercard-type=\"issue\" data-hovercard-url=\"/redis/ioredis/issues/239/hovercard\">#239</a>),and this feature also won't apply to the replies of commands even if they are key names (<a href=\"https://github.com/redis/ioredis/issues/325\" data-hovercard-type=\"issue\" data-hovercard-url=\"/redis/ioredis/issues/325/hovercard\">#325</a>).</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const fooRedis = new Redis({ keyPrefix: &quot;foo:&quot; });fooRedis.set(&quot;bar&quot;, &quot;baz&quot;); // Actually sends SET foo:bar bazfooRedis.defineCommand(&quot;myecho&quot;, {  numberOfKeys: 2,  lua: &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot;,});// Works well with pipelining/transactionfooRedis  .pipeline()  // Sends SORT foo:list BY foo:weight_*-&gt;fieldname  .sort(&quot;list&quot;, &quot;BY&quot;, &quot;weight_*-&gt;fieldname&quot;)  // Supports custom commands  // Sends EVALSHA xxx foo:k1 foo:k2 a1 a2  .myecho(&quot;k1&quot;, &quot;k2&quot;, &quot;a1&quot;, &quot;a2&quot;)  .exec();\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">fooRedis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">keyPrefix</span>: <span class=\"pl-s\">\"foo:\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">fooRedis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"baz\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Actually sends SET foo:bar baz</span><span class=\"pl-s1\">fooRedis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">defineCommand</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"myecho\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">numberOfKeys</span>: <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">lua</span>: <span class=\"pl-s\">\"return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Works well with pipelining/transaction</span><span class=\"pl-s1\">fooRedis</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">pipeline</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>  <span class=\"pl-c\">// Sends SORT foo:list BY foo:weight_*-&gt;fieldname</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">sort</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"list\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"BY\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"weight_*-&gt;fieldname\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-c\">// Supports custom commands</span>  <span class=\"pl-c\">// Sends EVALSHA xxx foo:k1 foo:k2 a1 a2</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">myecho</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"k2\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"a2\"</span><span class=\"pl-kos\">)</span>  <span class=\"pl-kos\">.</span><span class=\"pl-en\">exec</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Transforming Arguments &amp; Replies</h2><a id=\"user-content-transforming-arguments--replies\" class=\"anchor-element\" aria-label=\"Permalink: Transforming Arguments &amp; Replies\" href=\"#transforming-arguments--replies\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Most Redis commands take one or more Strings as arguments,and replies are sent back as a single String or an Array of Strings. However, sometimesyou may want something different. For instance, it would be more convenient if the <code>HGETALL</code>command returns a hash (e.g. <code>{ key: val1, key2: v2 }</code>) rather than an array of key values (e.g. <code>[key1, val1, key2, val2]</code>).</p><p dir=\"auto\">ioredis has a flexible system for transforming arguments and replies. There are two typesof transformers, argument transformer and reply transformer:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);// Here's the built-in argument transformer converting// hmset('key', { k1: 'v1', k2: 'v2' })// or// hmset('key', new Map([['k1', 'v1'], ['k2', 'v2']]))// into// hmset('key', 'k1', 'v1', 'k2', 'v2')Redis.Command.setArgumentTransformer(&quot;hmset&quot;, (args) =&gt; {  if (args.length === 2) {    if (args[1] instanceof Map) {      // utils is a internal module of ioredis      return [args[0], ...utils.convertMapToArray(args[1])];    }    if (typeof args[1] === &quot;object&quot; &amp;&amp; args[1] !== null) {      return [args[0], ...utils.convertObjectToArray(args[1])];    }  }  return args;});// Here's the built-in reply transformer converting the HGETALL reply// ['k1', 'v1', 'k2', 'v2']// into// { k1: 'v1', 'k2': 'v2' }Redis.Command.setReplyTransformer(&quot;hgetall&quot;, (result) =&gt; {  if (Array.isArray(result)) {    const obj = {};    for (let i = 0; i &lt; result.length; i += 2) {      obj[result[i]] = result[i + 1];    }    return obj;  }  return result;});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Here's the built-in argument transformer converting</span><span class=\"pl-c\">// hmset('key', { k1: 'v1', k2: 'v2' })</span><span class=\"pl-c\">// or</span><span class=\"pl-c\">// hmset('key', new Map([['k1', 'v1'], ['k2', 'v2']]))</span><span class=\"pl-c\">// into</span><span class=\"pl-c\">// hmset('key', 'k1', 'v1', 'k2', 'v2')</span><span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Command</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">setArgumentTransformer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"hmset\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span> <span class=\"pl-c1\">===</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span> <span class=\"pl-k\">instanceof</span> <span class=\"pl-v\">Map</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-c\">// utils is a internal module of ioredis</span>      <span class=\"pl-k\">return</span> <span class=\"pl-kos\">[</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> ...<span class=\"pl-s1\">utils</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">convertMapToArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>    <span class=\"pl-kos\">}</span>    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">typeof</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s\">\"object\"</span> <span class=\"pl-c1\">&amp;&amp;</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">!==</span> <span class=\"pl-c1\">null</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-k\">return</span> <span class=\"pl-kos\">[</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> ...<span class=\"pl-s1\">utils</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">convertObjectToArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">args</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>    <span class=\"pl-kos\">}</span>  <span class=\"pl-kos\">}</span>  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Here's the built-in reply transformer converting the HGETALL reply</span><span class=\"pl-c\">// ['k1', 'v1', 'k2', 'v2']</span><span class=\"pl-c\">// into</span><span class=\"pl-c\">// { k1: 'v1', 'k2': 'v2' }</span><span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Command</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">setReplyTransformer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"hgetall\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Array</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">isArray</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">obj</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>    <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">+=</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-s1\">obj</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span> <span class=\"pl-c1\">+</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>    <span class=\"pl-kos\">}</span>    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">obj</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span>  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">There are three built-in transformers, two argument transformers for <code>hmset</code> &amp; <code>mset</code> anda reply transformer for <code>hgetall</code>. Transformers for <code>hmset</code> and <code>hgetall</code> were mentionedabove, and the transformer for <code>mset</code> is similar to the one for <code>hmset</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.mset({ k1: &quot;v1&quot;, k2: &quot;v2&quot; });redis.get(&quot;k1&quot;, (err, result) =&gt; {  // result === 'v1';});redis.mset(  new Map([    [&quot;k3&quot;, &quot;v3&quot;],    [&quot;k4&quot;, &quot;v4&quot;],  ]));redis.get(&quot;k3&quot;, (err, result) =&gt; {  // result === 'v3';});\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">mset</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">k1</span>: <span class=\"pl-s\">\"v1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">k2</span>: <span class=\"pl-s\">\"v2\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === 'v1';</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">mset</span><span class=\"pl-kos\">(</span>  <span class=\"pl-k\">new</span> <span class=\"pl-v\">Map</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"k3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"v3\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"k4\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"v4\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"k3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === 'v3';</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Another useful example of a reply transformer is one that changes <code>hgetall</code> to return array of arrays instead of objects which avoids an unwanted conversation of hash keys to strings when dealing with binary hash keys:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Redis.Command.setReplyTransformer(&quot;hgetall&quot;, (result) =&gt; {  const arr = [];  for (let i = 0; i &lt; result.length; i += 2) {    arr.push([result[i], result[i + 1]]);  }  return arr;});redis.hset(&quot;h1&quot;, Buffer.from([0x01]), Buffer.from([0x02]));redis.hset(&quot;h1&quot;, Buffer.from([0x03]), Buffer.from([0x04]));redis.hgetallBuffer(&quot;h1&quot;, (err, result) =&gt; {  // result === [ [ &lt;Buffer 01&gt;, &lt;Buffer 02&gt; ], [ &lt;Buffer 03&gt;, &lt;Buffer 04&gt; ] ];});\"><pre><span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Command</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">setReplyTransformer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"hgetall\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">arr</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">+=</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span> <span class=\"pl-c1\">+</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span>  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">arr</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hset</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"h1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Buffer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0x01</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Buffer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0x02</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hset</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"h1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Buffer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0x03</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Buffer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0x04</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hgetallBuffer</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"h1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// result === [ [ &lt;Buffer 01&gt;, &lt;Buffer 02&gt; ], [ &lt;Buffer 03&gt;, &lt;Buffer 04&gt; ] ];</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Monitor</h2><a id=\"user-content-monitor\" class=\"anchor-element\" aria-label=\"Permalink: Monitor\" href=\"#monitor\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis supports the MONITOR command,which lets you see all commands received by the Redis server across all client connections,including from other client libraries and other computers.</p><p dir=\"auto\">The <code>monitor</code> method returns a monitor instance.After you send the MONITOR command, no other commands are valid on that connection. ioredis will emit a monitor event for every new monitor message that comes across.The callback for the monitor event takes a timestamp from the Redis server and an array of command arguments.</p><p dir=\"auto\">Here is a simple example:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"redis.monitor((err, monitor) =&gt; {  monitor.on(&quot;monitor&quot;, (time, args, source, database) =&gt; {});});\"><pre><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">monitor</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">monitor</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-s1\">monitor</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"monitor\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">time</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">source</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">database</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Here is another example illustrating an <code>async</code> function and <code>monitor.disconnect()</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"async () =&gt; {  const monitor = await redis.monitor();  monitor.on(&quot;monitor&quot;, console.log);  // Any other tasks  monitor.disconnect();};\"><pre><span class=\"pl-k\">async</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">monitor</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">monitor</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-s1\">monitor</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"monitor\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">log</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-c\">// Any other tasks</span>  <span class=\"pl-s1\">monitor</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">disconnect</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Streamify Scanning</h2><a id=\"user-content-streamify-scanning\" class=\"anchor-element\" aria-label=\"Permalink: Streamify Scanning\" href=\"#streamify-scanning\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis 2.8 added the <code>SCAN</code> command to incrementally iterate through the keys in the database. It's different from <code>KEYS</code> in that<code>SCAN</code> only returns a small number of elements each call, so it can be used in production without the downsideof blocking the server for a long time. However, it requires recording the cursor on the client side each timethe <code>SCAN</code> command is called in order to iterate through all the keys correctly. Since it's a relatively common use case, ioredisprovides a streaming interface for the <code>SCAN</code> command to make things much easier. A readable stream can be created by calling <code>scanStream</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis();// Create a readable stream (object mode)const stream = redis.scanStream();stream.on(&quot;data&quot;, (resultKeys) =&gt; {  // `resultKeys` is an array of strings representing key names.  // Note that resultKeys may contain 0 keys, and that it will sometimes  // contain duplicates due to SCAN's implementation in Redis.  for (let i = 0; i &lt; resultKeys.length; i++) {    console.log(resultKeys[i]);  }});stream.on(&quot;end&quot;, () =&gt; {  console.log(&quot;all keys have been visited&quot;);});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Create a readable stream (object mode)</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">stream</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scanStream</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"data\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">resultKeys</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// `resultKeys` is an array of strings representing key names.</span>  <span class=\"pl-c\">// Note that resultKeys may contain 0 keys, and that it will sometimes</span>  <span class=\"pl-c\">// contain duplicates due to SCAN's implementation in Redis.</span>  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">resultKeys</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">resultKeys</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"end\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"all keys have been visited\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><code>scanStream</code> accepts an option, with which you can specify the <code>MATCH</code> pattern, the <code>TYPE</code> filter, and the <code>COUNT</code> argument:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const stream = redis.scanStream({  // only returns keys following the pattern of `user:*`  match: &quot;user:*&quot;,  // only return objects that match a given type,  // (requires Redis &gt;= 6.0)  type: &quot;zset&quot;,  // returns approximately 100 elements per call  count: 100,});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">stream</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scanStream</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// only returns keys following the pattern of `user:*`</span>  <span class=\"pl-c1\">match</span>: <span class=\"pl-s\">\"user:*\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c\">// only return objects that match a given type,</span>  <span class=\"pl-c\">// (requires Redis &gt;= 6.0)</span>  <span class=\"pl-c1\">type</span>: <span class=\"pl-s\">\"zset\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c\">// returns approximately 100 elements per call</span>  <span class=\"pl-c1\">count</span>: <span class=\"pl-c1\">100</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Just like other commands, <code>scanStream</code> has a binary version <code>scanBufferStream</code>, which returns an array of buffers. It's useful whenthe key names are not utf8 strings.</p><p dir=\"auto\">There are also <code>hscanStream</code>, <code>zscanStream</code> and <code>sscanStream</code> to iterate through elements in a hash, zset and set. The interface of each issimilar to <code>scanStream</code> except the first argument is the key name:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const stream = redis.hscanStream(&quot;myhash&quot;, {  match: &quot;age:??&quot;,});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">stream</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hscanStream</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"myhash\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">match</span>: <span class=\"pl-s\">\"age:??\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">You can learn more from the <a href=\"http://redis.io/commands/scan\" rel=\"nofollow\">Redis documentation</a>.</p><p dir=\"auto\"><strong>Useful Tips</strong>It's pretty common that doing an async task in the <code>data</code> handler. We'd like the scanning process to be paused until the async task to be finished. <code>Stream#pause()</code> and <code>Stream#resume()</code> do the trick. For example if we want to migrate data in Redis to MySQL:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const stream = redis.scanStream();stream.on(&quot;data&quot;, (resultKeys) =&gt; {  // Pause the stream from scanning more keys until we've migrated the current keys.  stream.pause();  Promise.all(resultKeys.map(migrateKeyToMySQL)).then(() =&gt; {    // Resume the stream here.    stream.resume();  });});stream.on(&quot;end&quot;, () =&gt; {  console.log(&quot;done migration&quot;);});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">stream</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scanStream</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"data\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">resultKeys</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// Pause the stream from scanning more keys until we've migrated the current keys.</span>  <span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pause</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-v\">Promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">resultKeys</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">migrateKeyToMySQL</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// Resume the stream here.</span>    <span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">resume</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">stream</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"end\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"done migration\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Auto-reconnect</h2><a id=\"user-content-auto-reconnect\" class=\"anchor-element\" aria-label=\"Permalink: Auto-reconnect\" href=\"#auto-reconnect\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">By default, ioredis will try to reconnect when the connection to Redis is lostexcept when the connection is closed manually by <code>redis.disconnect()</code> or <code>redis.quit()</code>.</p><p dir=\"auto\">It's very flexible to control how long to wait to reconnect after disconnectionusing the <code>retryStrategy</code> option:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  // This is the default value of `retryStrategy`  retryStrategy(times) {    const delay = Math.min(times * 50, 2000);    return delay;  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// This is the default value of `retryStrategy`</span>  <span class=\"pl-en\">retryStrategy</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">delay</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span> <span class=\"pl-c1\">*</span> <span class=\"pl-c1\">50</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">delay</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><code>retryStrategy</code> is a function that will be called when the connection is lost.The argument <code>times</code> means this is the nth reconnection being made andthe return value represents how long (in ms) to wait to reconnect. When thereturn value isn't a number, ioredis will stop trying to reconnect, and the connectionwill be lost forever if the user doesn't call <code>redis.connect()</code> manually.</p><p dir=\"auto\">When reconnected, the client will auto subscribe to channels that the previous connection subscribed to.This behavior can be disabled by setting the <code>autoResubscribe</code> option to <code>false</code>.</p><p dir=\"auto\">And if the previous connection has some unfulfilled commands (most likely blocking commands such as <code>brpop</code> and <code>blpop</code>),the client will resend them when reconnected. This behavior can be disabled by setting the <code>autoResendUnfulfilledCommands</code> option to <code>false</code>.</p><p dir=\"auto\">By default, all pending commands will be flushed with an error every 20 retry attempts. That makes sure commands won't wait forever when the connection is down. You can change this behavior by setting <code>maxRetriesPerRequest</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  maxRetriesPerRequest: 1,});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">maxRetriesPerRequest</span>: <span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Set maxRetriesPerRequest to <code>null</code> to disable this behavior, and every command will wait forever until the connection is alive again (which is the default behavior before ioredis v4).</p><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Reconnect on Error</h3><a id=\"user-content-reconnect-on-error\" class=\"anchor-element\" aria-label=\"Permalink: Reconnect on Error\" href=\"#reconnect-on-error\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Besides auto-reconnect when the connection is closed, ioredis supports reconnecting on certain Redis errors using the <code>reconnectOnError</code> option. Here's an example that will reconnect when receiving <code>READONLY</code> error:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  reconnectOnError(err) {    const targetError = &quot;READONLY&quot;;    if (err.message.includes(targetError)) {      // Only reconnect when the error contains &quot;READONLY&quot;      return true; // or `return 1;`    }  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-en\">reconnectOnError</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">targetError</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"READONLY\"</span><span class=\"pl-kos\">;</span>    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">message</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">includes</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">targetError</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-c\">// Only reconnect when the error contains \"READONLY\"</span>      <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// or `return 1;`</span>    <span class=\"pl-kos\">}</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">This feature is useful when using Amazon ElastiCache instances with Auto-failover disabled. On these instances, test your <code>reconnectOnError</code> handler by manually promoting the replica node to the primary role using the AWS console. The following writes fail with the error <code>READONLY</code>. Using <code>reconnectOnError</code>, we can force the connection to reconnect on this error in order to connect to the new master. Furthermore, if the <code>reconnectOnError</code> returns <code>2</code>, ioredis will resend the failed command after reconnecting.</p><p dir=\"auto\">On ElastiCache instances with Auto-failover enabled, <code>reconnectOnError</code> does not execute. Instead of returning a Redis error, AWS closes all connections to the master endpoint until the new primary node is ready. ioredis reconnects via <code>retryStrategy</code> instead of <code>reconnectOnError</code> after about a minute. On ElastiCache instances with Auto-failover enabled, test failover events with the <code>Failover primary</code> option in the AWS console.</p><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Connection Events</h2><a id=\"user-content-connection-events\" class=\"anchor-element\" aria-label=\"Permalink: Connection Events\" href=\"#connection-events\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">The Redis instance will emit some events about the state of the connection to the Redis server.</p><table><thead><tr><th align=\"left\">Event</th><th align=\"left\">Description</th></tr></thead><tbody><tr><td align=\"left\">connect</td><td align=\"left\">emits when a connection is established to the Redis server.</td></tr><tr><td align=\"left\">ready</td><td align=\"left\">If <code>enableReadyCheck</code> is <code>true</code>, client will emit <code>ready</code> when the server reports that it is ready to receive commands (e.g. finish loading data from disk).<br>Otherwise, <code>ready</code> will be emitted immediately right after the <code>connect</code> event.</td></tr><tr><td align=\"left\">error</td><td align=\"left\">emits when an error occurs while connecting.<br>However, ioredis emits all <code>error</code> events silently (only emits when there's at least one listener) so that your application won't crash if you're not listening to the <code>error</code> event.</td></tr><tr><td align=\"left\">close</td><td align=\"left\">emits when an established Redis server connection has closed.</td></tr><tr><td align=\"left\">reconnecting</td><td align=\"left\">emits after <code>close</code> when a reconnection will be made. The argument of the event is the time (in ms) before reconnecting.</td></tr><tr><td align=\"left\">end</td><td align=\"left\">emits after <code>close</code> when no more reconnections will be made, or the connection is failed to establish.</td></tr><tr><td align=\"left\">wait</td><td align=\"left\">emits when <code>lazyConnect</code> is set and will wait for the first command to be called before connecting.</td></tr></tbody></table><p dir=\"auto\">You can also check out the <code>Redis#status</code> property to get the current connection status.</p><p dir=\"auto\">Besides the above connection events, there are several other custom events:</p><table><thead><tr><th align=\"left\">Event</th><th align=\"left\">Description</th></tr></thead><tbody><tr><td align=\"left\">select</td><td align=\"left\">emits when the database changed. The argument is the new db number.</td></tr></tbody></table><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Offline Queue</h2><a id=\"user-content-offline-queue\" class=\"anchor-element\" aria-label=\"Permalink: Offline Queue\" href=\"#offline-queue\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">When a command can't be processed by Redis (being sent before the <code>ready</code> event), by default, it's added to the offline queue and will beexecuted when it can be processed. You can disable this feature by setting the <code>enableOfflineQueue</code>option to <code>false</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({ enableOfflineQueue: false });\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">enableOfflineQueue</span>: <span class=\"pl-c1\">false</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">TLS Options</h2><a id=\"user-content-tls-options\" class=\"anchor-element\" aria-label=\"Permalink: TLS Options\" href=\"#tls-options\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis doesn't support TLS natively, however if the redis server you want to connect to is hosted behind a TLS proxy (e.g. <a href=\"https://www.stunnel.org/\" rel=\"nofollow\">stunnel</a>) or is offered by a PaaS service that supports TLS connection (e.g. <a href=\"https://redis.com/\" rel=\"nofollow\">Redis.com</a>), you can set the <code>tls</code> option:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  host: &quot;localhost&quot;,  tls: {    // Refer to `tls.connect()` section in    // https://nodejs.org/api/tls.html    // for all supported options    ca: fs.readFileSync(&quot;cert.pem&quot;),  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"localhost\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">tls</span>: <span class=\"pl-kos\">{</span>    <span class=\"pl-c\">// Refer to `tls.connect()` section in</span>    <span class=\"pl-c\">// https://nodejs.org/api/tls.html</span>    <span class=\"pl-c\">// for all supported options</span>    <span class=\"pl-c1\">ca</span>: <span class=\"pl-s1\">fs</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">readFileSync</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"cert.pem\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Alternatively, specify the connection through a <a href=\"https://www.iana.org/assignments/uri-schemes/prov/rediss\" rel=\"nofollow\"><code>rediss://</code> URL</a>.</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis(&quot;rediss://redis.my-service.com&quot;);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"rediss://redis.my-service.com\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">If you do not want to use a connection string, you can also specify an empty <code>tls: {}</code> object:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  host: &quot;redis.my-service.com&quot;,  tls: {},});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"redis.my-service.com\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">tls</span>: <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">TLS Profiles</h3><a id=\"user-content-tls-profiles\" class=\"anchor-element\" aria-label=\"Permalink: TLS Profiles\" href=\"#tls-profiles\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><blockquote><p dir=\"auto\"><strong>Warning</strong>TLS profiles described in this section are going to be deprecated in the next major version. Please provide TLS options explicitly.</p></blockquote><p dir=\"auto\">To make it easier to configure we provide a few pre-configured TLS profiles that can be specified by setting the <code>tls</code> option to the profile's name or specifying a <code>tls.profile</code> option in case you need to customize some values of the profile.</p><p dir=\"auto\">Profiles:</p><ul dir=\"auto\"><li><code>RedisCloudFixed</code>: Contains the CA for <a href=\"https://redis.com/\" rel=\"nofollow\">Redis.com</a> Cloud fixed subscriptions</li><li><code>RedisCloudFlexible</code>: Contains the CA for <a href=\"https://redis.com/\" rel=\"nofollow\">Redis.com</a> Cloud flexible subscriptions</li></ul><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  host: &quot;localhost&quot;,  tls: &quot;RedisCloudFixed&quot;,});const redisWithClientCertificate = new Redis({  host: &quot;localhost&quot;,  tls: {    profile: &quot;RedisCloudFixed&quot;,    key: &quot;123&quot;,  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"localhost\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">tls</span>: <span class=\"pl-s\">\"RedisCloudFixed\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redisWithClientCertificate</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"localhost\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">tls</span>: <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">profile</span>: <span class=\"pl-s\">\"RedisCloudFixed\"</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c1\">key</span>: <span class=\"pl-s\">\"123\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><hr><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Sentinel</h2><a id=\"user-content-sentinel\" class=\"anchor-element\" aria-label=\"Permalink: Sentinel\" href=\"#sentinel\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">ioredis supports Sentinel out of the box. It works transparently as all features that work whenyou connect to a single node also work when you connect to a sentinel group. Make sure to run Redis &gt;= 2.8.12 if you want to use this feature. Sentinels have a default port of 26379.</p><p dir=\"auto\">To connect using Sentinel, use:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const redis = new Redis({  sentinels: [    { host: &quot;localhost&quot;, port: 26379 },    { host: &quot;localhost&quot;, port: 26380 },  ],  name: &quot;mymaster&quot;,});redis.set(&quot;foo&quot;, &quot;bar&quot;);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">sentinels</span>: <span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"localhost\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">26379</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"localhost\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">26380</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">name</span>: <span class=\"pl-s\">\"mymaster\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">The arguments passed to the constructor are different from the ones you use to connect to a single node, where:</p><ul dir=\"auto\"><li><code>name</code> identifies a group of Redis instances composed of a master and one or more slaves (<code>mymaster</code> in the example);</li><li><code>sentinelPassword</code> (optional) password for Sentinel instances.</li><li><code>sentinels</code> are a list of sentinels to connect to. The list does not need to enumerate all your sentinel instances, but a few so that if one is down the client will try the next one.</li><li><code>role</code> (optional) with a value of <code>slave</code> will return a random slave from the Sentinel group.</li><li><code>preferredSlaves</code> (optional) can be used to prefer a particular slave or set of slaves based on priority. It accepts a function or array.</li><li><code>enableTLSForSentinelMode</code> (optional) set to true if connecting to sentinel instances that are encrypted</li></ul><p dir=\"auto\">ioredis <strong>guarantees</strong> that the node you connected to is always a master even after a failover. When a failover happens, instead of trying to reconnect to the failed node (which will be demoted to slave when it's available again), ioredis will ask sentinels for the new master node and connect to it. All commands sent during the failover are queued and will be executed when the new connection is established so that none of the commands will be lost.</p><p dir=\"auto\">It's possible to connect to a slave instead of a master by specifying the option <code>role</code> with the value of <code>slave</code> and ioredis will try to connect to a random slave of the specified master, with the guarantee that the connected node is always a slave. If the current node is promoted to master due to a failover, ioredis will disconnect from it and ask the sentinels for another slave node to connect to.</p><p dir=\"auto\">If you specify the option <code>preferredSlaves</code> along with <code>role: 'slave'</code> ioredis will attempt to use this value when selecting the slave from the pool of available slaves. The value of <code>preferredSlaves</code> should either be a function that accepts an array of available slaves and returns a single result, or an array of slave values priorities by the lowest <code>prio</code> value first with a default value of <code>1</code>.</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// available slaves formatconst availableSlaves = [{ ip: &quot;127.0.0.1&quot;, port: &quot;31231&quot;, flags: &quot;slave&quot; }];// preferredSlaves array formatlet preferredSlaves = [  { ip: &quot;127.0.0.1&quot;, port: &quot;31231&quot;, prio: 1 },  { ip: &quot;127.0.0.1&quot;, port: &quot;31232&quot;, prio: 2 },];// preferredSlaves function formatpreferredSlaves = function (availableSlaves) {  for (let i = 0; i &lt; availableSlaves.length; i++) {    const slave = availableSlaves[i];    if (slave.ip === &quot;127.0.0.1&quot;) {      if (slave.port === &quot;31234&quot;) {        return slave;      }    }  }  // if no preferred slaves are available a random one is used  return false;};const redis = new Redis({  sentinels: [    { host: &quot;127.0.0.1&quot;, port: 26379 },    { host: &quot;127.0.0.1&quot;, port: 26380 },  ],  name: &quot;mymaster&quot;,  role: &quot;slave&quot;,  preferredSlaves: preferredSlaves,});\"><pre><span class=\"pl-c\">// available slaves format</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">availableSlaves</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">ip</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-s\">\"31231\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">flags</span>: <span class=\"pl-s\">\"slave\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// preferredSlaves array format</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">preferredSlaves</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>  <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">ip</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-s\">\"31231\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">prio</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">ip</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-s\">\"31232\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">prio</span>: <span class=\"pl-c1\">2</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// preferredSlaves function format</span><span class=\"pl-s1\">preferredSlaves</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">function</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">availableSlaves</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-s1\">availableSlaves</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">length</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">slave</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">availableSlaves</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">slave</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">ip</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">slave</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">port</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s\">\"31234\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>        <span class=\"pl-k\">return</span> <span class=\"pl-s1\">slave</span><span class=\"pl-kos\">;</span>      <span class=\"pl-kos\">}</span>    <span class=\"pl-kos\">}</span>  <span class=\"pl-kos\">}</span>  <span class=\"pl-c\">// if no preferred slaves are available a random one is used</span>  <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">sentinels</span>: <span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">26379</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">26380</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">name</span>: <span class=\"pl-s\">\"mymaster\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">role</span>: <span class=\"pl-s\">\"slave\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">preferredSlaves</span>: <span class=\"pl-s1\">preferredSlaves</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">Besides the <code>retryStrategy</code> option, there's also a <code>sentinelRetryStrategy</code> in Sentinel mode which will be invoked when all the sentinel nodes are unreachable during connecting. If <code>sentinelRetryStrategy</code> returns a valid delay time, ioredis will try to reconnect from scratch. The default value of <code>sentinelRetryStrategy</code> is:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function (times) {  const delay = Math.min(times * 10, 1000);  return delay;}\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">delay</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span> <span class=\"pl-c1\">*</span> <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">delay</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Cluster</h2><a id=\"user-content-cluster\" class=\"anchor-element\" aria-label=\"Permalink: Cluster\" href=\"#cluster\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Redis Cluster provides a way to run a Redis installation where data is automatically sharded across multiple Redis nodes.You can connect to a Redis Cluster like this:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const cluster = new Redis.Cluster([  {    port: 6380,    host: &quot;127.0.0.1&quot;,  },  {    port: 6381,    host: &quot;127.0.0.1&quot;,  },]);cluster.set(&quot;foo&quot;, &quot;bar&quot;);cluster.get(&quot;foo&quot;, (err, res) =&gt; {  // res === 'bar'});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">6380</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">6381</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"127.0.0.1\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// res === 'bar'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><code>Cluster</code> constructor accepts two arguments, where:</p><ol start=\"0\" dir=\"auto\"><li><p dir=\"auto\">The first argument is a list of nodes of the cluster you want to connect to.Just like Sentinel, the list does not need to enumerate all your cluster nodes,but a few so that if one is unreachable the client will try the next one, and the client will discover other nodes automatically when at least one node is connected.</p></li><li><p dir=\"auto\">The second argument is the options, where:</p><ul dir=\"auto\"><li><p dir=\"auto\"><code>clusterRetryStrategy</code>: When none of the startup nodes are reachable, <code>clusterRetryStrategy</code> will be invoked. When a number is returned,ioredis will try to reconnect to the startup nodes from scratch after the specified delay (in ms). Otherwise, an error of \"None of startup nodes is available\" will be returned.The default value of this option is:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function (times) {  const delay = Math.min(100 + times * 2, 2000);  return delay;}\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">delay</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">100</span> <span class=\"pl-c1\">+</span> <span class=\"pl-s1\">times</span> <span class=\"pl-c1\">*</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">delay</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span></pre></div><p dir=\"auto\">It's possible to modify the <code>startupNodes</code> property in order to switch to another set of nodes here:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"function (times) {  this.startupNodes = [{ port: 6790, host: '127.0.0.1' }];  return Math.min(100 + times * 2, 2000);}\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">times</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">this</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">startupNodes</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">6790</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">'127.0.0.1'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>  <span class=\"pl-k\">return</span> <span class=\"pl-v\">Math</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">min</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">100</span> <span class=\"pl-c1\">+</span> <span class=\"pl-s1\">times</span> <span class=\"pl-c1\">*</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span></pre></div></li><li><p dir=\"auto\"><code>dnsLookup</code>: Alternative DNS lookup function (<code>dns.lookup()</code> is used by default). It may be useful to override this in special cases, such as when AWS ElastiCache used with TLS enabled.</p></li><li><p dir=\"auto\"><code>enableOfflineQueue</code>: Similar to the <code>enableOfflineQueue</code> option of <code>Redis</code> class.</p></li><li><p dir=\"auto\"><code>enableReadyCheck</code>: When enabled, \"ready\" event will only be emitted when <code>CLUSTER INFO</code> commandreporting the cluster is ready for handling commands. Otherwise, it will be emitted immediately after \"connect\" is emitted.</p></li><li><p dir=\"auto\"><code>scaleReads</code>: Config where to send the read queries. See below for more details.</p></li><li><p dir=\"auto\"><code>maxRedirections</code>: When a cluster related error (e.g. <code>MOVED</code>, <code>ASK</code> and <code>CLUSTERDOWN</code> etc.) is received, the client will redirect thecommand to another node. This option limits the max redirections allowed when sending a command. The default value is <code>16</code>.</p></li><li><p dir=\"auto\"><code>retryDelayOnFailover</code>: If the target node is disconnected when sending a command,ioredis will retry after the specified delay. The default value is <code>100</code>. You should make sure <code>retryDelayOnFailover * maxRedirections &gt; cluster-node-timeout</code>to insure that no command will fail during a failover.</p></li><li><p dir=\"auto\"><code>retryDelayOnClusterDown</code>: When a cluster is down, all commands will be rejected with the error of <code>CLUSTERDOWN</code>. If this option is a number (by default, it is <code>100</code>), the clientwill resend the commands after the specified time (in ms).</p></li><li><p dir=\"auto\"><code>retryDelayOnTryAgain</code>: If this option is a number (by default, it is <code>100</code>), the clientwill resend the commands rejected with <code>TRYAGAIN</code> error after the specified time (in ms).</p></li><li><p dir=\"auto\"><code>retryDelayOnMoved</code>: By default, this value is <code>0</code> (in ms), which means when a <code>MOVED</code> error is received, the client will resendthe command instantly to the node returned together with the <code>MOVED</code> error. However, sometimes it takes time for a cluster to becomestate stabilized after a failover, so adding a delay before resending can prevent a ping pong effect.</p></li><li><p dir=\"auto\"><code>redisOptions</code>: Default options passed to the constructor of <code>Redis</code> when connecting to a node.</p></li><li><p dir=\"auto\"><code>slotsRefreshTimeout</code>: Milliseconds before a timeout occurs while refreshing slots from the cluster (default <code>1000</code>).</p></li><li><p dir=\"auto\"><code>slotsRefreshInterval</code>: Milliseconds between every automatic slots refresh (by default, it is disabled).</p></li></ul></li></ol><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Read-Write Splitting</h3><a id=\"user-content-read-write-splitting\" class=\"anchor-element\" aria-label=\"Permalink: Read-Write Splitting\" href=\"#read-write-splitting\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">A typical redis cluster contains three or more masters and several slaves for each master. It's possible to scale out redis cluster by sending read queries to slaves and write queries to masters by setting the <code>scaleReads</code> option.</p><p dir=\"auto\"><code>scaleReads</code> is \"master\" by default, which means ioredis will never send any queries to slaves. There are other three available options:</p><ol dir=\"auto\"><li>\"all\": Send write queries to masters and read queries to masters or slaves randomly.</li><li>\"slave\": Send write queries to masters and read queries to slaves.</li><li>a custom <code>function(nodes, command): node</code>: Will choose the custom function to select to which node to send read queries (write queries keep being sent to master). The first node in <code>nodes</code> is always the master serving the relevant slots. If the function returns an array of nodes, a random node of that list will be selected.</li></ol><p dir=\"auto\">For example:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const cluster = new Redis.Cluster(  [    /* nodes */  ],  {    scaleReads: &quot;slave&quot;,  });cluster.set(&quot;foo&quot;, &quot;bar&quot;); // This query will be sent to one of the masters.cluster.get(&quot;foo&quot;, (err, res) =&gt; {  // This query will be sent to one of the slaves.});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span>  <span class=\"pl-kos\">[</span>    <span class=\"pl-c\">/* nodes */</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">scaleReads</span>: <span class=\"pl-s\">\"slave\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"bar\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// This query will be sent to one of the masters.</span><span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">res</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c\">// This query will be sent to one of the slaves.</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\"><strong>NB</strong> In the code snippet above, the <code>res</code> may not be equal to \"bar\" because of the lag of replication between the master and slaves.</p><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Running Commands to Multiple Nodes</h3><a id=\"user-content-running-commands-to-multiple-nodes\" class=\"anchor-element\" aria-label=\"Permalink: Running Commands to Multiple Nodes\" href=\"#running-commands-to-multiple-nodes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Every command will be sent to exactly one node. For commands containing keys, (e.g. <code>GET</code>, <code>SET</code> and <code>HGETALL</code>), ioredis sends them to the node that serving the keys, and for other commands not containing keys, (e.g. <code>INFO</code>, <code>KEYS</code> and <code>FLUSHDB</code>), ioredis sends them to a random node.</p><p dir=\"auto\">Sometimes you may want to send a command to multiple nodes (masters or slaves) of the cluster, you can get the nodes via <code>Cluster#nodes()</code> method.</p><p dir=\"auto\"><code>Cluster#nodes()</code> accepts a parameter role, which can be \"master\", \"slave\" and \"all\" (default), and returns an array of <code>Redis</code> instance. For example:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// Send `FLUSHDB` command to all slaves:const slaves = cluster.nodes(&quot;slave&quot;);Promise.all(slaves.map((node) =&gt; node.flushdb()));// Get keys of all the masters:const masters = cluster.nodes(&quot;master&quot;);Promise.all(  masters    .map((node) =&gt; node.keys())    .then((keys) =&gt; {      // keys: [['key1', 'key2'], ['key3', 'key4']]    }));\"><pre><span class=\"pl-c\">// Send `FLUSHDB` command to all slaves:</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">slaves</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">nodes</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"slave\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-v\">Promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">slaves</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">node</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">node</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">flushdb</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// Get keys of all the masters:</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">masters</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">cluster</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">nodes</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"master\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-v\">Promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">(</span>  <span class=\"pl-s1\">masters</span>    <span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">node</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">node</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">keys</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>    <span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">keys</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>      <span class=\"pl-c\">// keys: [['key1', 'key2'], ['key3', 'key4']]</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">NAT Mapping</h3><a id=\"user-content-nat-mapping\" class=\"anchor-element\" aria-label=\"Permalink: NAT Mapping\" href=\"#nat-mapping\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Sometimes the cluster is hosted within a internal network that can only be accessed via a NAT (Network Address Translation) instance. See <a href=\"https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/accessing-elasticache.html\" rel=\"nofollow\">Accessing ElastiCache from outside AWS</a> as an example.</p><p dir=\"auto\">You can specify nat mapping rules via <code>natMap</code> option:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const cluster = new Redis.Cluster(  [    {      host: &quot;203.0.113.73&quot;,      port: 30001,    },  ],  {    natMap: {      &quot;10.0.1.230:30001&quot;: { host: &quot;203.0.113.73&quot;, port: 30001 },      &quot;10.0.1.231:30001&quot;: { host: &quot;203.0.113.73&quot;, port: 30002 },      &quot;10.0.1.232:30001&quot;: { host: &quot;203.0.113.73&quot;, port: 30003 },    },  });\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span>  <span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">{</span>      <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"203.0.113.73\"</span><span class=\"pl-kos\">,</span>      <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30001</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">natMap</span>: <span class=\"pl-kos\">{</span>      <span class=\"pl-s\">\"10.0.1.230:30001\"</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"203.0.113.73\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30001</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>      <span class=\"pl-s\">\"10.0.1.231:30001\"</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"203.0.113.73\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30002</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>      <span class=\"pl-s\">\"10.0.1.232:30001\"</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"203.0.113.73\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30003</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">This option is also useful when the cluster is running inside a Docker container.</p><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Transaction and Pipeline in Cluster Mode</h3><a id=\"user-content-transaction-and-pipeline-in-cluster-mode\" class=\"anchor-element\" aria-label=\"Permalink: Transaction and Pipeline in Cluster Mode\" href=\"#transaction-and-pipeline-in-cluster-mode\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Almost all features that are supported by <code>Redis</code> are also supported by <code>Redis.Cluster</code>, e.g. custom commands, transaction and pipeline.However there are some differences when using transaction and pipeline in Cluster mode:</p><ol start=\"0\" dir=\"auto\"><li>All keys in a pipeline should belong to slots served by the same node, since ioredis sends all commands in a pipeline to the same node.</li><li>You can't use <code>multi</code> without pipeline (aka <code>cluster.multi({ pipeline: false })</code>). This is because when you call <code>cluster.multi({ pipeline: false })</code>, ioredis doesn't know which node the <code>multi</code> command should be sent to.</li></ol><p dir=\"auto\">When any commands in a pipeline receives a <code>MOVED</code> or <code>ASK</code> error, ioredis will resend the whole pipeline to the specified node automatically if all of the following conditions are satisfied:</p><ol start=\"0\" dir=\"auto\"><li>All errors received in the pipeline are the same. For example, we won't resend the pipeline if we got two <code>MOVED</code> errors pointing to different nodes.</li><li>All commands executed successfully are readonly commands. This makes sure that resending the pipeline won't have side effects.</li></ol><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Pub/Sub</h3><a id=\"user-content-pubsub-1\" class=\"anchor-element\" aria-label=\"Permalink: Pub/Sub\" href=\"#pubsub-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Pub/Sub in cluster mode works exactly as the same as in standalone mode. Internally, when a node of the cluster receives a message, it will broadcast the message to the other nodes. ioredis makes sure that each message will only be received once by strictly subscribing one node at the same time.</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const nodes = [  /* nodes */];const pub = new Redis.Cluster(nodes);const sub = new Redis.Cluster(nodes);sub.on(&quot;message&quot;, (channel, message) =&gt; {  console.log(channel, message);});sub.subscribe(&quot;news&quot;, () =&gt; {  pub.publish(&quot;news&quot;, &quot;highlights&quot;);});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">nodes</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>  <span class=\"pl-c\">/* nodes */</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">pub</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">nodes</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">sub</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">nodes</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">sub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"message\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">channel</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">sub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">subscribe</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"news\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-s1\">pub</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">publish</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"news\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"highlights\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Events</h3><a id=\"user-content-events\" class=\"anchor-element\" aria-label=\"Permalink: Events\" href=\"#events\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><table><thead><tr><th align=\"left\">Event</th><th align=\"left\">Description</th></tr></thead><tbody><tr><td align=\"left\">connect</td><td align=\"left\">emits when a connection is established to the Redis server.</td></tr><tr><td align=\"left\">ready</td><td align=\"left\">emits when <code>CLUSTER INFO</code> reporting the cluster is able to receive commands (if <code>enableReadyCheck</code> is <code>true</code>) or immediately after <code>connect</code> event (if <code>enableReadyCheck</code> is false).</td></tr><tr><td align=\"left\">error</td><td align=\"left\">emits when an error occurs while connecting with a property of <code>lastNodeError</code> representing the last node error received. This event is emitted silently (only emitting if there's at least one listener).</td></tr><tr><td align=\"left\">close</td><td align=\"left\">emits when an established Redis server connection has closed.</td></tr><tr><td align=\"left\">reconnecting</td><td align=\"left\">emits after <code>close</code> when a reconnection will be made. The argument of the event is the time (in ms) before reconnecting.</td></tr><tr><td align=\"left\">end</td><td align=\"left\">emits after <code>close</code> when no more reconnections will be made.</td></tr><tr><td align=\"left\">+node</td><td align=\"left\">emits when a new node is connected.</td></tr><tr><td align=\"left\">-node</td><td align=\"left\">emits when a node is disconnected.</td></tr><tr><td align=\"left\">node error</td><td align=\"left\">emits when an error occurs when connecting to a node. The second argument indicates the address of the node.</td></tr></tbody></table><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Password</h3><a id=\"user-content-password\" class=\"anchor-element\" aria-label=\"Permalink: Password\" href=\"#password\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Setting the <code>password</code> option to access password-protected clusters:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const cluster = new Redis.Cluster(nodes, {  redisOptions: {    password: &quot;your-cluster-password&quot;,  },});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">nodes</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-c1\">redisOptions</span>: <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">password</span>: <span class=\"pl-s\">\"your-cluster-password\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">If some of nodes in the cluster using a different password, you should specify them in the first parameter:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const cluster = new Redis.Cluster(  [    // Use password &quot;password-for-30001&quot; for 30001    { port: 30001, password: &quot;password-for-30001&quot; },    // Don't use password when accessing 30002    { port: 30002, password: null },    // Other nodes will use &quot;fallback-password&quot;  ],  {    redisOptions: {      password: &quot;fallback-password&quot;,    },  });\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span>  <span class=\"pl-kos\">[</span>    <span class=\"pl-c\">// Use password \"password-for-30001\" for 30001</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30001</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">password</span>: <span class=\"pl-s\">\"password-for-30001\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c\">// Don't use password when accessing 30002</span>    <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">30002</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">password</span>: <span class=\"pl-c1\">null</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c\">// Other nodes will use \"fallback-password\"</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-c1\">redisOptions</span>: <span class=\"pl-kos\">{</span>      <span class=\"pl-c1\">password</span>: <span class=\"pl-s\">\"fallback-password\"</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Special Note: Aws Elasticache Clusters with TLS</h3><a id=\"user-content-special-note-aws-elasticache-clusters-with-tls\" class=\"anchor-element\" aria-label=\"Permalink: Special Note: Aws Elasticache Clusters with TLS\" href=\"#special-note-aws-elasticache-clusters-with-tls\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">AWS ElastiCache for Redis (Clustered Mode) supports TLS encryption. If you usethis, you may encounter errors with invalid certificates. To resolve thisissue, construct the <code>Cluster</code> with the <code>dnsLookup</code> option as follows:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const cluster = new Redis.Cluster(  [    {      host: &quot;clustercfg.myCluster.abcdefg.xyz.cache.amazonaws.com&quot;,      port: 6379,    },  ],  {    dnsLookup: (address, callback) =&gt; callback(null, address),    redisOptions: {      tls: {},    },  });\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">cluster</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">Cluster</span><span class=\"pl-kos\">(</span>  <span class=\"pl-kos\">[</span>    <span class=\"pl-kos\">{</span>      <span class=\"pl-c1\">host</span>: <span class=\"pl-s\">\"clustercfg.myCluster.abcdefg.xyz.cache.amazonaws.com\"</span><span class=\"pl-kos\">,</span>      <span class=\"pl-c1\">port</span>: <span class=\"pl-c1\">6379</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span>    <span class=\"pl-en\">dnsLookup</span>: <span class=\"pl-kos\">(</span><span class=\"pl-s1\">address</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">callback</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s1\">callback</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">null</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">address</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c1\">redisOptions</span>: <span class=\"pl-kos\">{</span>      <span class=\"pl-c1\">tls</span>: <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><hr><div class=\"markdown-heading\" dir=\"auto\"><h2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Autopipelining</h2><a id=\"user-content-autopipelining\" class=\"anchor-element\" aria-label=\"Permalink: Autopipelining\" href=\"#autopipelining\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">In standard mode, when you issue multiple commands, ioredis sends them to the server one by one. As described in Redis pipeline documentation, this is a suboptimal use of the network link, especially when such link is not very performant.</p><p dir=\"auto\">The TCP and network overhead negatively affects performance. Commands are stuck in the send queue until the previous ones are correctly delivered to the server. This is a problem known as Head-Of-Line blocking (HOL).</p><p dir=\"auto\">ioredis supports a feature called \u201cauto pipelining\u201d. It can be enabled by setting the option <code>enableAutoPipelining</code> to <code>true</code>. No other code change is necessary.</p><p dir=\"auto\">In auto pipelining mode, all commands issued during an event loop are enqueued in a pipeline automatically managed by ioredis. At the end of the iteration, the pipeline is executed and thus all commands are sent to the server at the same time.</p><p dir=\"auto\">This feature can dramatically improve throughput and avoids HOL blocking. In our benchmarks, the improvement was between 35% and 50%.</p><p dir=\"auto\">While an automatic pipeline is executing, all new commands will be enqueued in a new pipeline which will be executed as soon as the previous finishes.</p><p dir=\"auto\">When using Redis Cluster, one pipeline per node is created. Commands are assigned to pipelines according to which node serves the slot.</p><p dir=\"auto\">A pipeline will thus contain commands using different slots but that ultimately are assigned to the same node.</p><p dir=\"auto\">Note that the same slot limitation within a single command still holds, as it is a Redis limitation.</p><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Example of Automatic Pipeline Enqueuing</h3><a id=\"user-content-example-of-automatic-pipeline-enqueuing\" class=\"anchor-element\" aria-label=\"Permalink: Example of Automatic Pipeline Enqueuing\" href=\"#example-of-automatic-pipeline-enqueuing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">This sample code uses ioredis with automatic pipeline enabled.</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;./built&quot;);const http = require(&quot;http&quot;);const db = new Redis({ enableAutoPipelining: true });const server = http.createServer((request, response) =&gt; {  const key = new URL(request.url, &quot;https://localhost:3000/&quot;).searchParams.get(    &quot;key&quot;  );  db.get(key, (err, value) =&gt; {    response.writeHead(200, { &quot;Content-Type&quot;: &quot;text/plain&quot; });    response.end(value);  });});server.listen(3000);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"./built\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">http</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"http\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">db</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">enableAutoPipelining</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">server</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">http</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">createServer</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">request</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">response</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-c1\">URL</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">url</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"https://localhost:3000/\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">searchParams</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span>    <span class=\"pl-s\">\"key\"</span>  <span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-s1\">db</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">key</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>    <span class=\"pl-s1\">response</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">writeHead</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">200</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"Content-Type\"</span>: <span class=\"pl-s\">\"text/plain\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>    <span class=\"pl-s1\">response</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">end</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">server</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">listen</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">3000</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">When Node receives requests, it schedules them to be processed in one or more iterations of the events loop.</p><p dir=\"auto\">All commands issued by requests processing during one iteration of the loop will be wrapped in a pipeline automatically created by ioredis.</p><p dir=\"auto\">In the example above, the pipeline will have the following contents:</p><div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"GET key1GET key2GET key3...GET keyN\"><pre class=\"notranslate\"><code>GET key1GET key2GET key3...GET keyN</code></pre></div><p dir=\"auto\">When all events in the current loop have been processed, the pipeline is executed and thus all commands are sent to the server at the same time.</p><p dir=\"auto\">While waiting for pipeline response from Redis, Node will still be able to process requests. All commands issued by request handler will be enqueued in a new automatically created pipeline. This pipeline will not be sent to the server yet.</p><p dir=\"auto\">As soon as a previous automatic pipeline has received all responses from the server, the new pipeline is immediately sent without waiting for the events loop iteration to finish.</p><p dir=\"auto\">This approach increases the utilization of the network link, reduces the TCP overhead and idle times and therefore improves throughput.</p><div class=\"markdown-heading\" dir=\"auto\"><h3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Benchmarks</h3><a id=\"user-content-benchmarks\" class=\"anchor-element\" aria-label=\"Permalink: Benchmarks\" href=\"#benchmarks\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Here's some of the results of our tests for a single node.</p><p dir=\"auto\">Each iteration of the test runs 1000 random commands on the server.</p><table><thead><tr><th></th><th>Samples</th><th>Result</th><th>Tolerance</th></tr></thead><tbody><tr><td>default</td><td>1000</td><td>174.62 op/sec</td><td>\u00b1 0.45 %</td></tr><tr><td>enableAutoPipelining=true</td><td>1500</td><td>233.33 op/sec</td><td>\u00b1 0.88 %</td></tr></tbody></table><p dir=\"auto\">And here's the same test for a cluster of 3 masters and 3 replicas:</p><table><thead><tr><th></th><th>Samples</th><th>Result</th><th>Tolerance</th></tr></thead><tbody><tr><td>default</td><td>1000</td><td>164.05 op/sec</td><td>\u00b1 0.42 %</td></tr><tr><td>enableAutoPipelining=true</td><td>3000</td><td>235.31 op/sec</td><td>\u00b1 0.94 %</td></tr></tbody></table><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Error Handling</h1><a id=\"user-content-error-handling\" class=\"anchor-element\" aria-label=\"Permalink: Error Handling\" href=\"#error-handling\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">All the errors returned by the Redis server are instances of <code>ReplyError</code>, which can be accessed via <code>Redis</code>:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const redis = new Redis();// This command causes a reply error since the SET command requires two arguments.redis.set(&quot;foo&quot;, (err) =&gt; {  err instanceof Redis.ReplyError;});\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-c\">// This command causes a reply error since the SET command requires two arguments.</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">err</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>  <span class=\"pl-s1\">err</span> <span class=\"pl-k\">instanceof</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">ReplyError</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">This is the error stack of the <code>ReplyError</code>:</p><div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ReplyError: ERR wrong number of arguments for 'set' command    at ReplyParser._parseResult (/app/node_modules/ioredis/lib/parsers/javascript.js:60:14)    at ReplyParser.execute (/app/node_modules/ioredis/lib/parsers/javascript.js:178:20)    at Socket.&lt;anonymous&gt; (/app/node_modules/ioredis/lib/redis/event_handler.js:99:22)    at Socket.emit (events.js:97:17)    at readableAddChunk (_stream_readable.js:143:16)    at Socket.Readable.push (_stream_readable.js:106:10)    at TCP.onread (net.js:509:20)\"><pre class=\"notranslate\"><code>ReplyError: ERR wrong number of arguments for 'set' command    at ReplyParser._parseResult (/app/node_modules/ioredis/lib/parsers/javascript.js:60:14)    at ReplyParser.execute (/app/node_modules/ioredis/lib/parsers/javascript.js:178:20)    at Socket.&lt;anonymous&gt; (/app/node_modules/ioredis/lib/redis/event_handler.js:99:22)    at Socket.emit (events.js:97:17)    at readableAddChunk (_stream_readable.js:143:16)    at Socket.Readable.push (_stream_readable.js:106:10)    at TCP.onread (net.js:509:20)</code></pre></div><p dir=\"auto\">By default, the error stack doesn't make any sense because the whole stack happens in the ioredismodule itself, not in your code. So it's not easy to find out where the error happens in your code.ioredis provides an option <code>showFriendlyErrorStack</code> to solve the problem. When you enable<code>showFriendlyErrorStack</code>, ioredis will optimize the error stack for you:</p><div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const Redis = require(&quot;ioredis&quot;);const redis = new Redis({ showFriendlyErrorStack: true });redis.set(&quot;foo&quot;);\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-v\">Redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ioredis\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span> <span class=\"pl-s1\">redis</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Redis</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">showFriendlyErrorStack</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">redis</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">set</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p dir=\"auto\">And the output will be:</p><div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ReplyError: ERR wrong number of arguments for 'set' command    at Object.&lt;anonymous&gt; (/app/index.js:3:7)    at Module._compile (module.js:446:26)    at Object.Module._extensions..js (module.js:464:10)    at Module.load (module.js:341:32)    at Function.Module._load (module.js:296:12)    at Function.Module.runMain (module.js:487:10)    at startup (node.js:111:16)    at node.js:799:3\"><pre class=\"notranslate\"><code>ReplyError: ERR wrong number of arguments for 'set' command    at Object.&lt;anonymous&gt; (/app/index.js:3:7)    at Module._compile (module.js:446:26)    at Object.Module._extensions..js (module.js:464:10)    at Module.load (module.js:341:32)    at Function.Module._load (module.js:296:12)    at Function.Module.runMain (module.js:487:10)    at startup (node.js:111:16)    at node.js:799:3</code></pre></div><p dir=\"auto\">This time the stack tells you that the error happens on the third line in your code. Pretty sweet!However, it would decrease the performance significantly to optimize the error stack. So bydefault, this option is disabled and can only be used for debugging purposes. You <strong>shouldn't</strong> use this feature in a production environment.</p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Running tests</h1><a id=\"user-content-running-tests\" class=\"anchor-element\" aria-label=\"Permalink: Running tests\" href=\"#running-tests\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">Start a Redis server on 127.0.0.1:6379, and then:</p><div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"npm test\"><pre>npm <span class=\"pl-c1\">test</span></pre></div><p dir=\"auto\"><code>FLUSH ALL</code> will be invoked after each test, so make sure there's no valuable data in it before running tests.</p><p dir=\"auto\">If your testing environment does not let you spin up a Redis server <a href=\"https://github.com/stipsan/ioredis-mock\">ioredis-mock</a> is a drop-in replacement you can use in your tests. It aims to behave identically to ioredis connected to a Redis server so that your integration tests is easier to write and of better quality.</p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Debug</h1><a id=\"user-content-debug\" class=\"anchor-element\" aria-label=\"Permalink: Debug\" href=\"#debug\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">You can set the <code>DEBUG</code> env to <code>ioredis:*</code> to print debug info:</p><div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ DEBUG=ioredis:* node app.js\"><pre>$ DEBUG=ioredis:<span class=\"pl-k\">*</span> node app.js</pre></div><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Join in!</h1><a id=\"user-content-join-in\" class=\"anchor-element\" aria-label=\"Permalink: Join in!\" href=\"#join-in\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">I'm happy to receive bug reports, fixes, documentation enhancements, and any other improvements.</p><p dir=\"auto\">And since I'm not a native English speaker, if you find any grammar mistakes in the documentation, please also let me know. :)</p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">Contributors</h1><a id=\"user-content-contributors\" class=\"anchor-element\" aria-label=\"Permalink: Contributors\" href=\"#contributors\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">This project exists thanks to all the people who contribute:</p><p dir=\"auto\"><a href=\"https://github.com/redis/ioredis/graphs/contributors\"><img src=\"https://camo.githubusercontent.com/c2acdc9bccfabd3afa1dc6a7edb4048502b4d71fa39cedd3a23509901b11ee54/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f696f72656469732f636f6e7472696275746f72732e7376673f77696474683d3839302673686f7742746e3d66616c7365\" data-canonical-src=\"https://opencollective.com/ioredis/contributors.svg?width=890&amp;showBtn=false\" style=\"max-width: 100%;\"></a></p><div class=\"markdown-heading\" dir=\"auto\"><h1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\">License</h1><a id=\"user-content-license\" class=\"anchor-element\" aria-label=\"Permalink: License\" href=\"#license\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div><p dir=\"auto\">MIT</p><p dir=\"auto\"><a href=\"https://app.fossa.io/projects/git%2Bgithub.com%2Fluin%2Fioredis?ref=badge_large\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/d1b2c73a626f2775b3425c0943e6515784f1e8552ab3d45673043f2b20f9c389/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532466c75696e253246696f72656469732e7376673f747970653d6c61726765\" alt=\"FOSSA Status\" data-canonical-src=\"https://app.fossa.io/api/projects/git%2Bgithub.com%2Fluin%2Fioredis.svg?type=large\" style=\"max-width: 100%;\"></a></p></article></div></div></div></div></div> <!-- --> <!-- --> <script type=\"application/json\" id=\"__PRIMER_DATA__\">{\"resolvedServerColorMode\":\"day\"}</script></div></react-partial>        <input type=\"hidden\" data-csrf=\"true\" value=\"+Oq+HVmt+Xr8m1+vKkOyJvKE8f46wJJtuB5Z1rveqtHgjDWVg8Wqa6gXZU0A106+FaE8nTyBNRGnDtrtfCBalw==\" /></div>  <div data-view-component=\"true\" class=\"Layout-sidebar\">            <div class=\"BorderGrid about-margin\" data-pjax>        <div class=\"BorderGrid-row\">          <div class=\"BorderGrid-cell\">            <div class=\"hide-sm hide-md\">  <h2 class=\"mb-3 h4\">About</h2>      <p class=\"f4 my-3\">        \ud83d\ude80 A robust, performance-focused, and full-featured Redis client for Node.js.      </p>    <h3 class=\"sr-only\">Topics</h3>    <div class=\"my-3\">        <div class=\"f6\">      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:nodejs\" href=\"/topics/nodejs\" title=\"Topic: nodejs\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  nodejs</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:redis\" href=\"/topics/redis\" title=\"Topic: redis\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  redis</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:typescript\" href=\"/topics/typescript\" title=\"Topic: typescript\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  typescript</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:redis-sentinel\" href=\"/topics/redis-sentinel\" title=\"Topic: redis-sentinel\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  redis-sentinel</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:redis-cluster\" href=\"/topics/redis-cluster\" title=\"Topic: redis-cluster\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  redis-cluster</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:redis-client\" href=\"/topics/redis-client\" title=\"Topic: redis-client\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  redis-client</a>      <a data-ga-click=\"Topic, repository page\" data-octo-click=\"topic_click\" data-octo-dimensions=\"topic:redis-module\" href=\"/topics/redis-module\" title=\"Topic: redis-module\" data-view-component=\"true\" class=\"topic-tag topic-tag-link\">  redis-module</a>  </div>    </div>    <h3 class=\"sr-only\">Resources</h3>    <div class=\"mt-2\">      <a class=\"Link--muted\" data-analytics-event=\"{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:readme&quot;}\" href=\"#readme-ov-file\">        <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-book mr-2\">    <path d=\"M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z\"></path></svg>        Readme</a>    </div>      <h3 class=\"sr-only\">License</h3>  <div class=\"mt-2\">    <a href=\"#MIT-1-ov-file\"      class=\"Link--muted\"            data-analytics-event=\"{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}\"    >      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-law mr-2\">    <path d=\"M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z\"></path></svg>     MIT license    </a>  </div>    <h3 class=\"sr-only\">Code of conduct</h3>    <div class=\"mt-2\">      <a href=\"#coc-ov-file\"        class=\"Link--muted\"                data-analytics-event=\"{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:code of conduct&quot;}\"      >        <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-code-of-conduct mr-2\">    <path d=\"M8.048 2.241c.964-.709 2.079-1.238 3.325-1.241a4.616 4.616 0 0 1 3.282 1.355c.41.408.757.86.996 1.428.238.568.348 1.206.347 1.968 0 2.193-1.505 4.254-3.081 5.862-1.496 1.526-3.213 2.796-4.249 3.563l-.22.163a.749.749 0 0 1-.895 0l-.221-.163c-1.036-.767-2.753-2.037-4.249-3.563C1.51 10.008.007 7.952.002 5.762a4.614 4.614 0 0 1 1.353-3.407C3.123.585 6.223.537 8.048 2.24Zm-1.153.983c-1.25-1.033-3.321-.967-4.48.191a3.115 3.115 0 0 0-.913 2.335c0 1.556 1.109 3.24 2.652 4.813C5.463 11.898 6.96 13.032 8 13.805c.353-.262.758-.565 1.191-.905l-1.326-1.223a.75.75 0 0 1 1.018-1.102l1.48 1.366c.328-.281.659-.577.984-.887L9.99 9.802a.75.75 0 1 1 1.019-1.103l1.384 1.28c.295-.329.566-.661.81-.995L12.92 8.7l-1.167-1.168c-.674-.671-1.78-.664-2.474.03-.268.269-.538.537-.802.797-.893.882-2.319.843-3.185-.032-.346-.35-.693-.697-1.043-1.047a.75.75 0 0 1-.04-1.016c.162-.191.336-.401.52-.623.62-.748 1.356-1.637 2.166-2.417Zm7.112 4.442c.313-.65.491-1.293.491-1.916v-.001c0-.614-.088-1.045-.23-1.385-.143-.339-.357-.633-.673-.949a3.111 3.111 0 0 0-2.218-.915c-1.092.003-2.165.627-3.226 1.602-.823.755-1.554 1.637-2.228 2.45l-.127.154.562.566a.755.755 0 0 0 1.066.02l.794-.79c1.258-1.258 3.312-1.31 4.594-.032.396.394.792.791 1.173 1.173Z\"></path></svg>        Code of conduct      </a>    </div>  <include-fragment  src=\"/redis/ioredis/hovercards/citation/sidebar_partial?tree_name=main\">  </include-fragment>  <div class=\"mt-2\">    <a href=\"/redis/ioredis/activity\" data-view-component=\"true\" class=\"Link Link--muted\">      <svg text=\"gray\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-pulse mr-2\">    <path d=\"M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z\"></path></svg>      <span class=\"color-fg-muted\">Activity</span></a>  </div>    <div class=\"mt-2\">      <a href=\"/redis/ioredis/custom-properties\" data-view-component=\"true\" class=\"Link Link--muted\">        <svg text=\"gray\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-note mr-2\">    <path d=\"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1 0-1.5Z\"></path></svg>        <span class=\"color-fg-muted\">Custom properties</span></a>    </div>  <h3 class=\"sr-only\">Stars</h3>  <div class=\"mt-2\">    <a href=\"/redis/ioredis/stargazers\" data-view-component=\"true\" class=\"Link Link--muted\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-star mr-2\">    <path d=\"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z\"></path></svg>      <strong>13.5k</strong>      stars</a>  </div>  <h3 class=\"sr-only\">Watchers</h3>  <div class=\"mt-2\">    <a href=\"/redis/ioredis/watchers\" data-view-component=\"true\" class=\"Link Link--muted\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-eye mr-2\">    <path d=\"M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.83.88 9.576.43 8.898a1.62 1.62 0 0 1 0-1.798c.45-.677 1.367-1.931 2.637-3.022C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.473 0 2.825-.742 3.955-1.715 1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5c-1.473 0-2.825.742-3.955 1.715-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z\"></path></svg>      <strong>161</strong>      watching</a>  </div>  <h3 class=\"sr-only\">Forks</h3>  <div class=\"mt-2\">    <a href=\"/redis/ioredis/forks\" data-view-component=\"true\" class=\"Link Link--muted\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-repo-forked mr-2\">    <path d=\"M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z\"></path></svg>      <strong>1.1k</strong>      forks</a>  </div>    <div class=\"mt-2\">      <a class=\"Link--muted\" href=\"/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fredis%2Fioredis&amp;report=redis+%28user%29\">          Report repository</a>    </div></div>          </div>        </div>                    <div class=\"BorderGrid-row\">              <div class=\"BorderGrid-cell\">                <h2 class=\"h4 mb-3\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\">  <a href=\"/redis/ioredis/releases\" data-view-component=\"true\" class=\"Link--primary no-underline Link\">    Releases      <span title=\"150\" data-view-component=\"true\" class=\"Counter\">150</span></a></h2>  <a class=\"Link--primary d-flex no-underline\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" href=\"/redis/ioredis/releases/tag/v5.3.2\">    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-tag flex-shrink-0 mt-1 color-fg-success\">    <path d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z\"></path></svg>    <div class=\"ml-2 min-width-0\">      <div class=\"d-flex\">        <span class=\"css-truncate css-truncate-target text-bold mr-2\" style=\"max-width: none;\">v5.3.2</span>        <span title=\"Label: Latest\" data-view-component=\"true\" class=\"Label Label--success flex-shrink-0\">          Latest</span>      </div>      <div class=\"text-small color-fg-muted\"><relative-time datetime=\"2023-04-15T14:14:04Z\" class=\"no-wrap\">Apr 15, 2023</relative-time></div>    </div></a>    <div data-view-component=\"true\" class=\"mt-3\">      <a text=\"small\" data-pjax=\"#repo-content-pjax-container\" data-turbo-frame=\"repo-content-turbo-frame\" href=\"/redis/ioredis/releases\" data-view-component=\"true\" class=\"Link\">        + 149 releases</a></div>              </div>            </div>                            <div class=\"BorderGrid-row\">              <div class=\"BorderGrid-cell\">                <h2 class=\"h4 mb-3\">  <a href=\"/orgs/redis/packages?repo_name=ioredis\" data-view-component=\"true\" class=\"Link--primary no-underline Link d-flex flex-items-center\">    Packages      <span title=\"0\" hidden=\"hidden\" data-view-component=\"true\" class=\"Counter ml-1\">0</span></a></h2>      <div class=\"text-small color-fg-muted\">        No packages published <br>      </div>              </div>            </div>                    <div class=\"BorderGrid-row\" >              <div class=\"BorderGrid-cell\">                  <h2 class=\"h4 mb-3\">    <a href=\"/redis/ioredis/network/dependents\" data-view-component=\"true\" class=\"Link--primary no-underline Link\">      Used by <span title=\"267,798\" data-view-component=\"true\" class=\"Counter\">268k</span></a>  </h2>  <a class=\"d-flex flex-items-center\" href=\"/redis/ioredis/network/dependents\">    <ul class=\"hx_flex-avatar-stack list-style-none min-width-0\">          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/157260780?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@raidenfernando1\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/34586985?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@HonzaDudek\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/146096613?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@cerenkayaCK\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/107707317?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@Volynskyi-Kirill\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar\" src=\"https://avatars.githubusercontent.com/u/126322366?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@TheaTech-io\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/32346542?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@thgoas\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/56266573?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@sudo-victor\" />          </li>          <li class=\"hx_flex-avatar-stack-item\">            <img class=\"avatar avatar-user\" src=\"https://avatars.githubusercontent.com/u/122723517?s=64&amp;v=4\" width=\"32\" height=\"32\" alt=\"@Mohitkale27\" />          </li>    </ul>      <span class=\"px-2 text-bold text-small no-wrap\">        + 267,790      </span>  </a>              </div>            </div>                    <div class=\"BorderGrid-row\">              <div class=\"BorderGrid-cell\">                <h2 class=\"h4 mb-3\">  <a href=\"/redis/ioredis/graphs/contributors\" data-view-component=\"true\" class=\"Link--primary no-underline Link d-flex flex-items-center\">    Contributors      <span title=\"150\" data-view-component=\"true\" class=\"Counter ml-1\">150</span></a></h2>      <ul class=\"list-style-none d-flex flex-wrap mb-n2\">    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/luin\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/luin/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/635902?s=64&amp;v=4\" alt=\"@luin\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/semantic-release-bot\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/semantic-release-bot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/32174276?s=64&amp;v=4\" alt=\"@semantic-release-bot\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/marcbachmann\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/marcbachmann/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/431376?s=64&amp;v=4\" alt=\"@marcbachmann\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/ioredis-robot\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/ioredis-robot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/44203494?s=64&amp;v=4\" alt=\"@ioredis-robot\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/shaharmor\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/shaharmor/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/10861920?s=64&amp;v=4\" alt=\"@shaharmor\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/TysonAndre\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/TysonAndre/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/1904430?s=64&amp;v=4\" alt=\"@TysonAndre\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/ShogunPanda\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/ShogunPanda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/201101?s=64&amp;v=4\" alt=\"@ShogunPanda\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/AVVS\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/AVVS/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/1713617?s=64&amp;v=4\" alt=\"@AVVS\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/apps/dependabot\"          class=\"\"                  >        <img src=\"https://avatars.githubusercontent.com/in/29110?s=64&amp;v=4\" alt=\"@dependabot[bot]\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/silverwind\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/silverwind/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/115237?s=64&amp;v=4\" alt=\"@silverwind\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/mjomble\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/mjomble/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/2202751?s=64&amp;v=4\" alt=\"@mjomble\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/imatlopez\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/imatlopez/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/6304837?s=64&amp;v=4\" alt=\"@imatlopez\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/lpinca\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/lpinca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/1443911?s=64&amp;v=4\" alt=\"@lpinca\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li>    <li class=\"mb-2 mr-2\"        >      <a href=\"https://github.com/alavers\"          class=\"\"            data-hovercard-type=\"user\" data-hovercard-url=\"/users/alavers/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\"                  >        <img src=\"https://avatars.githubusercontent.com/u/2432382?s=64&amp;v=4\" alt=\"@alavers\" size=\"32\" height=\"32\" width=\"32\" data-view-component=\"true\" class=\"avatar circle\" />      </a>    </li></ul>  <div data-view-component=\"true\" class=\"mt-3\">    <a text=\"small\" href=\"/redis/ioredis/graphs/contributors\" data-view-component=\"true\" class=\"Link\">      + 136 contributors</a></div>              </div>            </div>                            <div class=\"BorderGrid-row\">              <div class=\"BorderGrid-cell\">                <h2 class=\"h4 mb-3\">Languages</h2><div class=\"mb-2\">  <span data-view-component=\"true\" class=\"Progress\">    <span style=\"background-color:#3178c6 !important;;width: 98.4%;\" itemprop=\"keywords\" aria-label=\"TypeScript 98.4\" data-view-component=\"true\" class=\"Progress-item color-bg-success-emphasis\"></span>    <span style=\"background-color:#f1e05a !important;;width: 1.5%;\" itemprop=\"keywords\" aria-label=\"JavaScript 1.5\" data-view-component=\"true\" class=\"Progress-item color-bg-success-emphasis\"></span>    <span style=\"background-color:#ededed !important;;width: 0.1%;\" itemprop=\"keywords\" aria-label=\"Other 0.1\" data-view-component=\"true\" class=\"Progress-item color-bg-success-emphasis\"></span></span></div><ul class=\"list-style-none\">    <li class=\"d-inline\">        <a class=\"d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3\" href=\"/redis/ioredis/search?l=typescript\"  data-ga-click=\"Repository, language stats search click, location:repo overview\">          <svg style=\"color:#3178c6;\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-dot-fill mr-2\">    <path d=\"M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"></path></svg>          <span class=\"color-fg-default text-bold mr-1\">TypeScript</span>          <span>98.4%</span>        </a>    </li>    <li class=\"d-inline\">        <a class=\"d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3\" href=\"/redis/ioredis/search?l=javascript\"  data-ga-click=\"Repository, language stats search click, location:repo overview\">          <svg style=\"color:#f1e05a;\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-dot-fill mr-2\">    <path d=\"M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"></path></svg>          <span class=\"color-fg-default text-bold mr-1\">JavaScript</span>          <span>1.5%</span>        </a>    </li>    <li class=\"d-inline\">      <span class=\"d-inline-flex flex-items-center flex-nowrap text-small mr-3\">        <svg style=\"color:#ededed;\" aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-dot-fill mr-2\">    <path d=\"M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"></path></svg>        <span class=\"color-fg-default text-bold mr-1\">Other</span>        <span>0.1%</span>      </span>    </li></ul>              </div>            </div>              </div></div>  </div></div>  </div>  </div></turbo-frame>    </main>  </div>  </div>          <footer class=\"footer pt-8 pb-6 f6 color-fg-muted p-responsive\" role=\"contentinfo\" >  <h2 class='sr-only'>Footer</h2>    <div class=\"d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap\">    <div class=\"d-flex flex-items-center flex-shrink-0 mx-2\">      <a aria-label=\"Homepage\" title=\"GitHub\" class=\"footer-octicon mr-2\" href=\"https://github.com\">        <svg aria-hidden=\"true\" height=\"24\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"24\" data-view-component=\"true\" class=\"octicon octicon-mark-github\">    <path d=\"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z\"></path></svg></a>      <span>        &copy; 2024 GitHub,&nbsp;Inc.      </span>    </div>    <nav aria-label=\"Footer\">      <h3 class=\"sr-only\" id=\"sr-footer-heading\">Footer navigation</h3>      <ul class=\"list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0\" aria-labelledby=\"sr-footer-heading\">          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}\" href=\"https://docs.github.com/site-policy/github-terms/github-terms-of-service\" data-view-component=\"true\" class=\"Link--secondary Link\">Terms</a>          </li>          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}\" href=\"https://docs.github.com/site-policy/privacy-policies/github-privacy-statement\" data-view-component=\"true\" class=\"Link--secondary Link\">Privacy</a>          </li>          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}\" href=\"/security\" data-view-component=\"true\" class=\"Link--secondary Link\">Security</a>          </li>          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}\" href=\"https://www.githubstatus.com/\" data-view-component=\"true\" class=\"Link--secondary Link\">Status</a>          </li>          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}\" href=\"https://docs.github.com\" data-view-component=\"true\" class=\"Link--secondary Link\">Docs</a>          </li>          <li class=\"mx-2\">            <a data-analytics-event=\"{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}\" href=\"https://support.github.com?tags=dotcom-footer\" data-view-component=\"true\" class=\"Link--secondary Link\">Contact</a>          </li>          <li class=\"mx-2\" >  <cookie-consent-link>    <button type=\"button\" class=\"Link--secondary underline-on-hover border-0 p-0 color-bg-transparent\" data-action=\"click:cookie-consent-link#showConsentManagement\">      Manage cookies    </button>  </cookie-consent-link></li><li class=\"mx-2\">  <cookie-consent-link>    <button type=\"button\" class=\"Link--secondary underline-on-hover border-0 p-0 color-bg-transparent\" data-action=\"click:cookie-consent-link#showConsentManagement\">      Do not share my personal information    </button>  </cookie-consent-link></li>      </ul>    </nav>  </div></footer>    <cookie-consent id=\"cookie-consent-banner\" class=\"position-fixed bottom-0 left-0\" style=\"z-index: 999999\" data-initial-cookie-consent-allowed=\"\" data-cookie-consent-required=\"false\"></cookie-consent>  <div id=\"ajax-error-message\" class=\"ajax-error-message flash flash-error\" hidden>    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">    <path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"></path></svg>    <button type=\"button\" class=\"flash-close js-ajax-error-dismiss\" aria-label=\"Dismiss error\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg>    </button>    You can\u2019t perform that action at this time.  </div>    <template id=\"site-details-dialog\">  <details class=\"details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm\" open>    <summary role=\"button\" aria-label=\"Close dialog\"></summary>    <details-dialog class=\"Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal\">      <button class=\"Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0\" type=\"button\" aria-label=\"Close dialog\" data-close-dialog>        <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-x\">    <path d=\"M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z\"></path></svg>      </button>      <div class=\"octocat-spinner my-6 js-details-dialog-spinner\"></div>    </details-dialog>  </details></template>    <div class=\"Popover js-hovercard-content position-absolute\" style=\"display: none; outline: none;\" tabindex=\"0\">  <div class=\"Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large\" style=\"width:360px;\">  </div></div>    <template id=\"snippet-clipboard-copy-button\">  <div class=\"zeroclipboard-container position-absolute right-0 top-0\">    <clipboard-copy aria-label=\"Copy\" class=\"ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay\" data-copy-feedback=\"Copied!\" data-tooltip-direction=\"w\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-copy js-clipboard-copy-icon m-2\">    <path d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z\"></path><path d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z\"></path></svg>      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2\">    <path d=\"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z\"></path></svg>    </clipboard-copy>  </div></template><template id=\"snippet-clipboard-copy-button-unpositioned\">  <div class=\"zeroclipboard-container\">    <clipboard-copy aria-label=\"Copy\" class=\"ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center\" data-copy-feedback=\"Copied!\" data-tooltip-direction=\"w\">      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-copy js-clipboard-copy-icon\">    <path d=\"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z\"></path><path d=\"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z\"></path></svg>      <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-check js-clipboard-check-icon color-fg-success d-none\">    <path d=\"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z\"></path></svg>    </clipboard-copy>  </div></template>    </div>    <div id=\"js-global-screen-reader-notice\" class=\"sr-only\" aria-live=\"polite\" aria-atomic=\"true\" ></div>    <div id=\"js-global-screen-reader-notice-assertive\" class=\"sr-only\" aria-live=\"assertive\" aria-atomic=\"true\"></div>  </body></html>",
  "embeddings": []
}