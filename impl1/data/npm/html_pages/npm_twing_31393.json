{
  "libtype": "npm",
  "libname": "twing",
  "url": "https://twing.nightlycommit.com",
  "html": "<!DOCTYPE html> <html lang=\"en-US\"> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"> <link rel=\"stylesheet\" href=\"/assets/css/just-the-docs-default.css\"> <link rel=\"stylesheet\" href=\"/assets/css/just-the-docs-head-nav.css\" id=\"jtd-head-nav-stylesheet\"> <style id=\"jtd-nav-activation\"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src=\"/assets/js/vendor/lunr.min.js\"></script> <script src=\"/assets/js/just-the-docs.js\"></script> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Home | Twing</title> <meta name=\"generator\" content=\"Jekyll v3.9.3\" /> <meta property=\"og:title\" content=\"Home\" /> <meta property=\"og:locale\" content=\"en_US\" /> <link rel=\"canonical\" href=\"https://twing-documentation-nightlycommit-4e8a287643e3fabd28bca6a83bd76.gitlab.io/\" /> <meta property=\"og:url\" content=\"https://twing-documentation-nightlycommit-4e8a287643e3fabd28bca6a83bd76.gitlab.io/\" /> <meta property=\"og:site_name\" content=\"Twing\" /> <meta property=\"og:type\" content=\"website\" /> <meta name=\"twitter:card\" content=\"summary\" /> <meta property=\"twitter:title\" content=\"Home\" /> <script type=\"application/ld+json\"> {\"@context\":\"https://schema.org\",\"@type\":\"WebSite\",\"headline\":\"Home\",\"name\":\"Twing\",\"url\":\"https://twing-documentation-nightlycommit-4e8a287643e3fabd28bca6a83bd76.gitlab.io/\"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class=\"skip-to-main\" href=\"#main-content\">Skip to main content</a> <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"d-none\"> <symbol id=\"svg-link\" viewBox=\"0 0 24 24\"> <title>Link</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-link\"> <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"></path><path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"></path> </svg> </symbol> <symbol id=\"svg-menu\" viewBox=\"0 0 24 24\"> <title>Menu</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-menu\"> <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line><line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line><line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line> </svg> </symbol> <symbol id=\"svg-arrow-right\" viewBox=\"0 0 24 24\"> <title>Expand</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-right\"> <polyline points=\"9 18 15 12 9 6\"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id=\"svg-external-link\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-external-link\"> <title id=\"svg-external-link-title\">(external link)</title> <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path><polyline points=\"15 3 21 3 21 9\"></polyline><line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line> </symbol> <symbol id=\"svg-doc\" viewBox=\"0 0 24 24\"> <title>Document</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-file\"> <path d=\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"></path><polyline points=\"13 2 13 9 20 9\"></polyline> </svg> </symbol> <symbol id=\"svg-search\" viewBox=\"0 0 24 24\"> <title>Search</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-search\"> <circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id=\"svg-copy\" viewBox=\"0 0 16 16\"> <title>Copy</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"> <path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"/> <path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"/> </svg> </symbol> <symbol id=\"svg-copied\" viewBox=\"0 0 16 16\"> <title>Copied</title> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard-check-fill\" viewBox=\"0 0 16 16\"> <path d=\"M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z\"/> <path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z\"/> </svg> </symbol> </svg> <div class=\"side-bar\"> <div class=\"site-header\" role=\"banner\"> <a href=\"/\" class=\"site-title lh-tight\"> Twing </a> <button id=\"menu-button\" class=\"site-button btn-reset\" aria-label=\"Toggle menu\" aria-pressed=\"false\"> <svg viewBox=\"0 0 24 24\" class=\"icon\" aria-hidden=\"true\"><use xlink:href=\"#svg-menu\"></use></svg> </button> </div> <nav aria-label=\"Main\" id=\"site-nav\" class=\"site-nav\"> <ul class=\"nav-list\"><li class=\"nav-list-item\"><a href=\"/\" class=\"nav-list-link\">Home</a></li><li class=\"nav-list-item\"><a href=\"/usage.html\" class=\"nav-list-link\">Usage</a></li><li class=\"nav-list-item\"><a href=\"/internals.html\" class=\"nav-list-link\">Internals</a></li><li class=\"nav-list-item\"><a href=\"/recipes.html\" class=\"nav-list-link\">Recipes</a></li><li class=\"nav-list-item\"><a href=\"/specifics.html\" class=\"nav-list-link\">Implementation details</a></li><li class=\"nav-list-item\"><a href=\"/known_issues.html\" class=\"nav-list-link\">Known issues</a></li></ul> <ul class=\"nav-list\"><li class=\"nav-list-item external\"> <a href=\"https://twing-api.nightlycommit.com\" class=\"nav-list-link external\" target=\"_blank\" rel=\"noopener noreferrer\" > API documentation <svg viewBox=\"0 0 24 24\" aria-labelledby=\"svg-external-link-title\"><use xlink:href=\"#svg-external-link\"></use></svg> </a> </li></ul> </nav> <footer class=\"site-footer\"> This site uses <a href=\"https://github.com/just-the-docs/just-the-docs\">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class=\"main\" id=\"top\"> <div id=\"main-header\" class=\"main-header\"> <div class=\"search\" role=\"search\"> <div class=\"search-input-wrap\"> <input type=\"text\" id=\"search-input\" class=\"search-input\" tabindex=\"0\" placeholder=\"Search Twing\" aria-label=\"Search Twing\" autocomplete=\"off\"> <label for=\"search-input\" class=\"search-label\"><svg viewBox=\"0 0 24 24\" class=\"search-icon\"><use xlink:href=\"#svg-search\"></use></svg></label> </div> <div id=\"search-results\" class=\"search-results\"></div> </div> </div> <div class=\"main-content-wrap\"> <div id=\"main-content\" class=\"main-content\"> <main> <h1 id=\"welcome-to-twing-documentation\"> <a href=\"#welcome-to-twing-documentation\" class=\"anchor-heading\" aria-labelledby=\"welcome-to-twing-documentation\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Welcome to Twing Documentation </h1> <p>This is the documentation for Twing, the TypeScript and JavaScript <a href=\"https://twig.symfony.com/doc/3.x/#reference\">Twig</a> compiler.</p> <h2 id=\"forewords\"> <a href=\"#forewords\" class=\"anchor-heading\" aria-labelledby=\"forewords\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Forewords </h2> <p>In this documentation, the <code class=\"language-plaintext highlighter-rouge\">Twig</code> term represents the Twig language <em>specifications</em>, not the SensioLabs PHP <em>implementation</em> of the language - implementation being known as <code class=\"language-plaintext highlighter-rouge\">TwigPHP</code>. SensioLabs use <code class=\"language-plaintext highlighter-rouge\">Twig</code> to talk about both the specifications of the language and their own implementation, and their documentation mixes both specifications and PHP implementation details. This should be considered as an oversight instead of an official convention.</p> <p>Please refer to the <a href=\"/specifics.html\">Implementation details</a> page for more information on that matter.</p> <h2 id=\"prerequisites\"> <a href=\"#prerequisites\" class=\"anchor-heading\" aria-labelledby=\"prerequisites\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Prerequisites </h2> <ul> <li>Node.js: Twing needs at least <strong>node.js 16.0.0</strong> to run.</li> <li>Browser: Twing should run without any issue on every modern browser.</li> </ul> <h2 id=\"installation\"> <a href=\"#installation\" class=\"anchor-heading\" aria-labelledby=\"installation\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Installation </h2> <p>The recommended way to install Twing is via npm:</p> <div class=\"language-shell highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>npm i twing <span class=\"nt\">--save</span></code></pre></div></div> <h2 id=\"usage\"> <a href=\"#usage\" class=\"anchor-heading\" aria-labelledby=\"usage\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Usage </h2> <p>This section gives you a brief introduction to the TypeScript and JavaScript API of Twing.</p> <h3 id=\"nodejs\"> <a href=\"#nodejs\" class=\"anchor-heading\" aria-labelledby=\"nodejs\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Node.js </h3> <div class=\"language-typescript highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">createEnvironment</span><span class=\"p\">,</span> <span class=\"nx\">createArrayLoader</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">twing</span><span class=\"dl\">\"</span><span class=\"p\">;</span><span class=\"kd\">const</span> <span class=\"nx\">loader</span> <span class=\"o\">=</span> <span class=\"nx\">createArrayLoader</span><span class=\"p\">({</span>    <span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Everybody loves {{ name }}!</span><span class=\"dl\">'</span><span class=\"p\">});</span><span class=\"kd\">const</span> <span class=\"nx\">environment</span> <span class=\"o\">=</span> <span class=\"nx\">createEnvironment</span><span class=\"p\">(</span><span class=\"nx\">loader</span><span class=\"p\">);</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Twing</span><span class=\"dl\">'</span><span class=\"p\">}).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">output</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>    <span class=\"c1\">// output contains \"Everybody loves Twing!\"</span><span class=\"p\">});</span></code></pre></div></div> <p>Twing uses a loader (<code class=\"language-plaintext highlighter-rouge\">TwingLoaderArray</code>) to locate templates, and an environment (<code class=\"language-plaintext highlighter-rouge\">TwingEnvironment</code>) to store the configuration.</p> <p>The <code class=\"language-plaintext highlighter-rouge\">render()</code> method loads the template passed as first argument and renders it with the <em>context</em> passed as second argument.</p> <p>As templates are generally stored on the filesystem, Twing also comes with a filesystem loader:</p> <div class=\"language-typescript highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">createEnvironment</span><span class=\"p\">,</span> <span class=\"nx\">createFilesystemLoader</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">twing</span><span class=\"dl\">\"</span><span class=\"p\">;</span><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">fs</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">fs</span><span class=\"dl\">\"</span><span class=\"p\">;</span><span class=\"kd\">const</span> <span class=\"nx\">loader</span> <span class=\"o\">=</span> <span class=\"nx\">createFilesystemLoader</span><span class=\"p\">(</span><span class=\"nx\">fs</span><span class=\"p\">);</span><span class=\"kd\">const</span> <span class=\"nx\">environment</span> <span class=\"o\">=</span> <span class=\"nx\">createEnvironment</span><span class=\"p\">(</span><span class=\"nx\">loader</span><span class=\"p\">);</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Twing</span><span class=\"dl\">'</span><span class=\"p\">}).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">output</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>      <span class=\"c1\">// ...</span><span class=\"p\">});</span></code></pre></div></div> <blockquote> <p>Note the filesystem implementation (<code class=\"language-plaintext highlighter-rouge\">fs</code>) passed as argument to <code class=\"language-plaintext highlighter-rouge\">createFilesystemLoader</code>. In environments where <code class=\"language-plaintext highlighter-rouge\">fs</code> is not available, it is perfectly possible to pass another filesystem implementation, as long as it implements the expected interface. Please refer to the API documentation of <a href=\"https://twing-api.nightlycommit.com/functions/createFilesystemLoader.html\">createFilesystemLoader</a> for more information.</p> </blockquote> <h2 id=\"browser\"> <a href=\"#browser\" class=\"anchor-heading\" aria-labelledby=\"browser\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Browser </h2> <p>Use <a href=\"https://www.jsdelivr.com/\">jsdelivr</a> CDN to include Twing in your HTML document:</p> <p><code class=\"language-plaintext highlighter-rouge\">&lt;script src=\"https://cdn.jsdelivr.net/npm/twing/dist/lib.min.js\"&gt;&lt;/script&gt;</code></p> <p>Once loaded by the browser, Twing is available under the global <code class=\"language-plaintext highlighter-rouge\">Twing</code> variable.</p> <div class=\"language-typescript highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kd\">const</span> <span class=\"p\">{</span><span class=\"nx\">createEnvironment</span><span class=\"p\">,</span> <span class=\"nx\">createArrayLoader</span><span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"nx\">Twing</span><span class=\"p\">;</span><span class=\"kd\">const</span> <span class=\"nx\">loader</span> <span class=\"o\">=</span> <span class=\"nx\">createArrayLoader</span><span class=\"p\">({</span>    <span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Everybody loves {{ name }}!</span><span class=\"dl\">'</span><span class=\"p\">});</span><span class=\"kd\">const</span> <span class=\"nx\">environment</span> <span class=\"o\">=</span> <span class=\"nx\">createEnvironment</span><span class=\"p\">(</span><span class=\"nx\">loader</span><span class=\"p\">);</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">Twing</span><span class=\"dl\">'</span><span class=\"p\">}).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">output</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>    <span class=\"c1\">// output contains \"Everybody loves Twing!\"</span><span class=\"p\">});</span></code></pre></div></div> <h3 id=\"real-world-example-using-express\"> <a href=\"#real-world-example-using-express\" class=\"anchor-heading\" aria-labelledby=\"real-world-example-using-express\"><svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg></a> Real-world example using Express </h3> <p><em>Credit for this example goes to <a href=\"https://github.com/stela5\">stela5</a>.</em></p> <ol> <li> <p>Create working directory and initialize dependencies:</p> <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>  mkdir myapp myapp/templates &amp;&amp; cd myapp  npm init -y  npm install --save express twing</code></pre></div> </div> </li> <li> <p>Create server.js:</p> <div class=\"language-javascript highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>  <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">express</span><span class=\"dl\">'</span><span class=\"p\">)();</span>  <span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">NODE_PORT</span> <span class=\"o\">||</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>  <span class=\"kd\">const</span> <span class=\"p\">{</span><span class=\"nx\">TwingEnvironment</span><span class=\"p\">,</span> <span class=\"nx\">TwingLoaderFilesystem</span><span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">twing</span><span class=\"dl\">'</span><span class=\"p\">);</span>          <span class=\"kd\">let</span> <span class=\"nx\">loader</span> <span class=\"o\">=</span> <span class=\"nx\">createFilesystemLoader</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">./templates</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"nx\">fs</span><span class=\"p\">);</span>  <span class=\"kd\">let</span> <span class=\"nx\">environment</span> <span class=\"o\">=</span> <span class=\"nx\">createEnvironment</span><span class=\"p\">(</span><span class=\"nx\">loader</span><span class=\"p\">);</span>          <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">/</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>    <span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"dl\">'</span><span class=\"s1\">name</span><span class=\"dl\">'</span><span class=\"p\">:</span> <span class=\"dl\">'</span><span class=\"s1\">World</span><span class=\"dl\">'</span><span class=\"p\">}).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">output</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>        <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">output</span><span class=\"p\">);</span>    <span class=\"p\">});</span>  <span class=\"p\">});</span>          <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">/name/:name</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"p\">{</span>          <span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">index.twig</span><span class=\"dl\">'</span><span class=\"p\">,</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">params</span><span class=\"p\">).</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">output</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">output</span><span class=\"p\">);</span>    <span class=\"p\">});</span>  <span class=\"p\">});</span>          <span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"dl\">'</span><span class=\"s1\">Node.js Express server listening on port </span><span class=\"dl\">'</span><span class=\"o\">+</span><span class=\"nx\">port</span><span class=\"p\">);</span>  <span class=\"p\">});</span></code></pre></div> </div> </li> <li> <p>Start server:</p> <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>  node server.js</code></pre></div> </div> </li> </ol> </main> </div> </div> <div class=\"search-overlay\"></div> </div> </body> </html>",
  "embeddings": []
}