{% extends "layout.html" %}
{% block title %} Conversational AI {% endblock %}

{% block content %}
<div class="container">
  <h3>Conversational AI Console</h3>
</div>

<form method="post" action="/conv_ai_console">
<input type="hidden" id="conversation_id" name="conversation_id" value="{{ conv['conversation_id'] }}">

<div class="container">
  <div class="card" style="width: 90%;">
    <div class="card-body">
      <h5 class="card-title">Conversation ID: {{ conv["conversation_id"] }}</h5>
      <p></p>
      {% for comp in conv["completions"] %}
      <div class="row">
        <div class="col">
          <p class="text-start fw-bold fs-5" style="border-radius: 15px; background-color: rgba(57, 192, 237,.2);">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ comp["user_text"] }}
          </p>
          <p class="text-end fs-5" style="border-radius: 15px; background-color: #fbfbfb;">
            {{ comp["content"] }}
          </p>
          <p class="text-end fw-light fs-6">
            prompt tokens: {{ comp["usage"]["prompt_tokens"] }},
            completion tokens: {{ comp["usage"]["completion_tokens"] }},
            total tokens: {{ comp["usage"]["total_tokens"] }}
          </p>
        </div>
      </div>
      {% endfor %}
      <hr>
      <div>
        <label class="form-label fs-5" for="user_text">Enter your natural-language query:</label>
        <textarea class="form-control" id="user_text" name="user_text" rows="1"></textarea>
        <p></p>
        <div>
          <button type="submit" class="btn btn-primary">Continue</button>
        </div>
      </div>
    </div>
  </div>
</div>
</form>

<hr>

{% endblock %}

{% block js %}
<script>

</script>
{% endblock %}

<!--
referenced: https://www.w3schools.com/html/html_comments.asp 
-->
