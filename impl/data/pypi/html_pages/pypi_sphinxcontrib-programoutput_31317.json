{
  "libtype": "pypi",
  "libname": "sphinxcontrib-programoutput",
  "url": "https://sphinxcontrib-programoutput.readthedocs.org/",
  "html": "<!DOCTYPE html><!--[if IE 8]><html class=\"no-js lt-ie9\" lang=\"en\" > <![endif]--><!--[if gt IE 8]><!--> <html class=\"no-js\" lang=\"en\" > <!--<![endif]--><head>  <meta charset=\"utf-8\">  <meta name=\"generator\" content=\"Docutils 0.19: https://docutils.sourceforge.io/\" />  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">    <title>sphinxcontrib.programoutput \u2013 Insert command output &mdash; sphinxcontrib-programoutput 0.18.dev0 documentation</title>              <script type=\"text/javascript\" src=\"_static/js/modernizr.min.js\"></script>            <script type=\"text/javascript\" id=\"documentation_options\" data-url_root=\"./\" src=\"_static/documentation_options.js\"></script>        <script data-url_root=\"./\" id=\"documentation_options\" src=\"_static/documentation_options.js\"></script>        <script src=\"_static/jquery.js\"></script>        <script src=\"_static/underscore.js\"></script>        <script src=\"_static/_sphinx_javascript_frameworks_compat.js\"></script>        <script src=\"_static/doctools.js\"></script>        <script src=\"_static/sphinx_highlight.js\"></script>        <script async=\"async\" src=\"/_/static/javascript/readthedocs-doc-embed.js\"></script>        <script type=\"text/javascript\" src=\"_static/js/theme.js\"></script>        <link rel=\"stylesheet\" href=\"_static/css/theme.css\" type=\"text/css\" />  <link rel=\"stylesheet\" href=\"_static/pygments.css\" type=\"text/css\" />  <link rel=\"stylesheet\" href=\"_static/pygments.css\" type=\"text/css\" />  <link rel=\"stylesheet\" href=\"_static/css/theme.css\" type=\"text/css\" />    <link rel=\"index\" title=\"Index\" href=\"genindex.html\" />    <link rel=\"search\" title=\"Search\" href=\"search.html\" /> <!-- RTD Extra Head --><link rel=\"stylesheet\" href=\"/_/static/css/readthedocs-doc-embed.css\" type=\"text/css\" /><script type=\"application/json\" id=\"READTHEDOCS_DATA\">{\"ad_free\": false, \"api_host\": \"https://readthedocs.org\", \"build_date\": \"2023-04-24T18:05:26Z\", \"builder\": \"sphinx\", \"canonical_url\": null, \"commit\": \"3f2fec0c\", \"docroot\": \"/doc/\", \"features\": {\"docsearch_disabled\": false}, \"global_analytics_code\": \"UA-17997319-1\", \"language\": \"en\", \"page\": \"index\", \"programming_language\": \"py\", \"project\": \"sphinxcontrib-programoutput\", \"proxied_api_host\": \"/_\", \"source_suffix\": \".rst\", \"subprojects\": {}, \"theme\": \"sphinx_rtd_theme\", \"user_analytics_code\": \"\", \"version\": \"latest\"}</script><!--Using this variable directly instead of using `JSON.parse` is deprecated.The READTHEDOCS_DATA global variable will be removed in the future.--><script type=\"text/javascript\">READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);</script><script type=\"text/javascript\" src=\"/_/static/javascript/readthedocs-analytics.js\" async=\"async\"></script><!-- end RTD <extrahead> --></head><body class=\"wy-body-for-nav\">     <div class=\"wy-grid-for-nav\">        <nav data-toggle=\"wy-nav-shift\" class=\"wy-nav-side\">      <div class=\"wy-side-scroll\">        <div class=\"wy-side-nav-search\" >                                <a href=\"#\" class=\"icon icon-home\"> sphinxcontrib-programoutput                              </a>                                                            <div class=\"version\">                latest              </div>                                <div role=\"search\">  <form id=\"rtd-search-form\" class=\"wy-form\" action=\"search.html\" method=\"get\">    <input type=\"text\" name=\"q\" placeholder=\"Search docs\" />    <input type=\"hidden\" name=\"check_keywords\" value=\"yes\" />    <input type=\"hidden\" name=\"area\" value=\"default\" />  </form></div>                  </div>        <div class=\"wy-menu wy-menu-vertical\" data-spy=\"affix\" role=\"navigation\" aria-label=\"main navigation\">                                                                                      <!-- Local TOC -->              <div class=\"local-toc\"><ul><li><a class=\"reference internal\" href=\"#\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sphinxcontrib.programoutput</span></code> \u2013 Insert command output</a><ul><li><a class=\"reference internal\" href=\"#installation\">Installation</a></li><li><a class=\"reference internal\" href=\"#usage\">Usage</a></li><li><a class=\"reference internal\" href=\"#usage-with-myst-markdown\">Usage with MyST (Markdown)</a><ul><li><a class=\"reference internal\" href=\"#shortening-the-output\">Shortening the output</a></li><li><a class=\"reference internal\" href=\"#mimicing-shell-input\">Mimicing shell input</a></li><li><a class=\"reference internal\" href=\"#command-execution-and-shell-expansion\">Command execution and shell expansion</a></li><li><a class=\"reference internal\" href=\"#error-handling\">Error handling</a></li></ul></li><li><a class=\"reference internal\" href=\"#reference\">Reference</a><ul><li><a class=\"reference internal\" href=\"#directive-program-output\"><code class=\"docutils literal notranslate\"><span class=\"pre\">..</span> <span class=\"pre\">program-output::</span></code></a></li><li><a class=\"reference internal\" href=\"#directive-command-output\"><code class=\"docutils literal notranslate\"><span class=\"pre\">..</span> <span class=\"pre\">command-output::</span></code></a></li><li><a class=\"reference internal\" href=\"#configuration\">Configuration</a></li></ul></li><li><a class=\"reference internal\" href=\"#support\">Support</a></li><li><a class=\"reference internal\" href=\"#development\">Development</a></li><li><a class=\"reference internal\" href=\"#changelog\">Changelog</a></li></ul></li><li><a class=\"reference internal\" href=\"#changes\">Changes</a><ul><li><a class=\"reference internal\" href=\"#unreleased\">0.18 (unreleased)</a></li><li><a class=\"reference internal\" href=\"#id2\">0.17 (2021-03-31)</a></li><li><a class=\"reference internal\" href=\"#id3\">0.16 (2020-03-23)</a></li><li><a class=\"reference internal\" href=\"#id4\">0.15 (2019-09-16)</a></li><li><a class=\"reference internal\" href=\"#id5\">0.14 (2019-04-08)</a></li><li><a class=\"reference internal\" href=\"#id6\">0.13 (2018-12-22)</a></li><li><a class=\"reference internal\" href=\"#id7\">0.11 (2017-05-18)</a></li><li><a class=\"reference internal\" href=\"#id8\">0.10 (2017-03-17)</a></li><li><a class=\"reference internal\" href=\"#id9\">0.9 (2017-03-15)</a></li><li><a class=\"reference internal\" href=\"#oct-12-2012\">0.8 (Oct 12, 2012)</a></li><li><a class=\"reference internal\" href=\"#apr-17-2012\">0.7 (Apr 17, 2012)</a></li><li><a class=\"reference internal\" href=\"#jan-07-2012\">0.6 (Jan 07, 2012)</a></li><li><a class=\"reference internal\" href=\"#sep-19-2011\">0.5 (Sep 19, 2011)</a></li><li><a class=\"reference internal\" href=\"#mar-11-2011\">0.4.1 (Mar 11, 2011)</a></li><li><a class=\"reference internal\" href=\"#may-21-2010\">0.4 (May 21, 2010)</a></li><li><a class=\"reference internal\" href=\"#license\">License</a></li></ul></li></ul></div>                              </div>      </div>    </nav>    <section data-toggle=\"wy-nav-shift\" class=\"wy-nav-content-wrap\">            <nav class=\"wy-nav-top\" aria-label=\"top navigation\">                  <i data-toggle=\"wy-nav-top\" class=\"fa fa-bars\"></i>          <a href=\"#\">sphinxcontrib-programoutput</a>              </nav>      <div class=\"wy-nav-content\">                <div class=\"rst-content\">                  <div role=\"navigation\" aria-label=\"breadcrumbs navigation\">  <ul class=\"wy-breadcrumbs\">          <li><a href=\"#\">Docs</a> &raquo;</li>              <li><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sphinxcontrib.programoutput</span></code> \u2013 Insert command output</li>              <li class=\"wy-breadcrumbs-aside\">                                              <a href=\"https://github.com/NextThought/sphinxcontrib-programoutput/blob/master/doc/index.rst\" class=\"fa fa-github\"> Edit on GitHub</a>                                    </li>      </ul>    <hr/></div>          <div role=\"main\" class=\"document\" itemscope=\"itemscope\" itemtype=\"http://schema.org/Article\">           <div itemprop=\"articleBody\">              <section id=\"module-sphinxcontrib.programoutput\"><span id=\"sphinxcontrib-programoutput-insert-command-output\"></span><h1><a class=\"reference internal\" href=\"#module-sphinxcontrib.programoutput\" title=\"sphinxcontrib.programoutput: Include the output of programs into documents\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">sphinxcontrib.programoutput</span></code></a> \u2013 Insert command output<a class=\"headerlink\" href=\"#module-sphinxcontrib.programoutput\" title=\"Permalink to this heading\">\u00b6</a></h1><p><a class=\"reference external\" href=\"http://www.sphinx-doc.org/en/stable/\">Sphinx</a> extension to insert the output of arbitrary commands into documents.</p><p>The extension is available under the terms of the <a class=\"reference internal\" href=\"#license\"><span class=\"std std-ref\">BSD license</span></a>.</p><section id=\"installation\"><h2>Installation<a class=\"headerlink\" href=\"#installation\" title=\"Permalink to this heading\">\u00b6</a></h2><p>Use <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code> to install this extension from <a class=\"reference external\" href=\"https://pypi.python.org/pypi/sphinxcontrib-programoutput\">PyPI</a>:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span>pip install sphinxcontrib-programoutput</pre></div></div><p>The extension requires Sphinx 1.3 and Python 2.7 or Python 3 at least.</p><p>You can now add this extension to <code class=\"docutils literal notranslate\"><span class=\"pre\">extensions</span></code>:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span>extensions = [&#39;sphinxcontrib.programoutput&#39;]</pre></div></div><p>Now you\u2019ve two new directives <code class=\"docutils literal notranslate\"><span class=\"pre\">program-output</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">command-output</span></code> toinsert the output of programs.</p></section><section id=\"usage\"><h2>Usage<a class=\"headerlink\" href=\"#usage\" title=\"Permalink to this heading\">\u00b6</a></h2><p>To include the output of a command into your document, use the<a class=\"reference internal\" href=\"#directive-program-output\" title=\"program-output directive\"><code class=\"xref rst rst-dir docutils literal notranslate\"><span class=\"pre\">program-output</span></code></a> directive provided by this extension:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">program-output</span><span class=\"p\">::</span> python -V</pre></div></div><p>The whole output of <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">-V</span></code>, including any messages on standard error, isinserted into the current document, formatted as literal text without anysyntax highlighting:</p><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>Python 3.7.9</pre></div></div><p>You can omit the content of the standard error stream with the <code class=\"docutils literal notranslate\"><span class=\"pre\">nostderr</span></code>option.</p><p>By default, commands are executed in the top-level source directory.  You canchoose an alternate working directory with the <code class=\"docutils literal notranslate\"><span class=\"pre\">cwd</span></code> option.  The argument ofthis option is either a path relative to the current source file, or a absolutepath which means that it is relative to the top level source directory.</p></section><section id=\"usage-with-myst-markdown\"><h2>Usage with MyST (Markdown)<a class=\"headerlink\" href=\"#usage-with-myst-markdown\" title=\"Permalink to this heading\">\u00b6</a></h2><p>If you are using <a class=\"reference external\" href=\"https://myst-parser.readthedocs.io/en/latest/using/syntax.html#extended-block-tokens\">MyST</a>, the directive would look like:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gh\">```{program-output} python -V</span><span class=\"gh\">---</span><span class=\"gh\">ellipsis: 2</span><span class=\"gh\">---</span><span class=\"s\">```</span></pre></div></div><section id=\"shortening-the-output\"><h3>Shortening the output<a class=\"headerlink\" href=\"#shortening-the-output\" title=\"Permalink to this heading\">\u00b6</a></h3><p>Lengthy output can be shortened with the <code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code> option.  Its valuedenotes lines to omit when inserting the output of the command.  Instead, asingle ellipsis <code class=\"docutils literal notranslate\"><span class=\"pre\">...</span></code> is inserted.</p><p>If used with a single number, all lines after the specified line are omitted:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">program-output</span><span class=\"p\">::</span> python --help   <span class=\"nc\">:ellipsis:</span> 2</pre></div></div><p>The above omits all lines after the second one:</p><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>usage: python [option] ... [-c cmd | -m mod | file | -] [arg] ...Options and arguments (and corresponding environment variables):...</pre></div></div><p>Negative numbers count from the last line backwards, thus replacing <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code> with<code class=\"docutils literal notranslate\"><span class=\"pre\">-2</span></code> in the above example would only omit the last two lines.</p><p>If used with two comma-separated line numbers, all lines in between thespecified lines are omitted.  Again, a negative number counts from the lastline backwards:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">program-output</span><span class=\"p\">::</span> python --help   <span class=\"nc\">:ellipsis:</span> 2,-2</pre></div></div><p>The above omits all lines except the first two and the last two lines:</p><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>usage: python [option] ... [-c cmd | -m mod | file | -] [arg] ...Options and arguments (and corresponding environment variables):...   debugger. It can be set to the callable of your debugger of choice.PYTHONDEVMODE: enable the development mode.</pre></div></div></section><section id=\"mimicing-shell-input\"><h3>Mimicing shell input<a class=\"headerlink\" href=\"#mimicing-shell-input\" title=\"Permalink to this heading\">\u00b6</a></h3><p>You can mimic shell input with the <a class=\"reference internal\" href=\"#directive-command-output\" title=\"command-output directive\"><code class=\"xref rst rst-dir docutils literal notranslate\"><span class=\"pre\">command-output</span></code></a> directive <a class=\"footnote-reference brackets\" href=\"#alias\" id=\"id1\" role=\"doc-noteref\"><span class=\"fn-bracket\">[</span>1<span class=\"fn-bracket\">]</span></a>.This directive inserts the command along with its output into the document:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> python -V</pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ python -VPython 3.7.9</pre></div></div><p>The appearance of this output can be configured with<a class=\"reference internal\" href=\"#confval-programoutput_prompt_template\"><code class=\"xref std std-confval docutils literal notranslate\"><span class=\"pre\">programoutput_prompt_template</span></code></a>.  When used in conjunction with<code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code>, the command itself and any additional text is <em>never</em> omitted.<code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code> always refers to the <em>immediate output</em> of the command:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> python --help   <span class=\"nc\">:ellipsis:</span> 2</pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ python --helpusage: python [option] ... [-c cmd | -m mod | file | -] [arg] ...Options and arguments (and corresponding environment variables):...</pre></div></div></section><section id=\"command-execution-and-shell-expansion\"><h3>Command execution and shell expansion<a class=\"headerlink\" href=\"#command-execution-and-shell-expansion\" title=\"Permalink to this heading\">\u00b6</a></h3><p>Normally the command is splitted according to the POSIX shell syntax (see<a class=\"reference external\" href=\"https://docs.python.org/3/library/shlex.html#module-shlex\" title=\"(in Python v3.11)\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">shlex</span></code></a>), and executed directly.  Thus special shell features likeexpansion of environment variables will not work:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> echo &quot;$USER&quot;</pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ echo &quot;$USER&quot;$USER</pre></div></div><p>To enable these features, enable the <code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code> option.  With this option, thecommand is literally passed to the system shell:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> echo &quot;$USER&quot;   <span class=\"nc\">:shell:</span></pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ echo &quot;$USER&quot;</pre></div></div><p>Other shell features like process expansion consequently work, too:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> ls -l $(which grep)   <span class=\"nc\">:shell:</span></pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ ls -l $(which grep)-rwxr-xr-x 1 root root 219456 Sep 18  2019 /bin/grep</pre></div></div><p>Remember to use <code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code> carefully to avoid unintented interpretation of shellsyntax and swallowing of fatal errors!</p></section><section id=\"error-handling\"><h3>Error handling<a class=\"headerlink\" href=\"#error-handling\" title=\"Permalink to this heading\">\u00b6</a></h3><p>If an unexpected exit code (also known as <em>return code</em>) is returned by acommand, it is considered to have failed.  In this case, a build warning isemitted to help you to detect misspelled commands or similar errors.  Bydefault, a command is expected to exit with an exit code of 0, all other codesindicate an error.  In some cases however, it may be reasonable to demonstratefailed programs.  To avoid a (superfluous) warning in such a case, you canspecify the expected return code of a command with the <code class=\"docutils literal notranslate\"><span class=\"pre\">returncode</span></code> option:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">..</span> <span class=\"ow\">command-output</span><span class=\"p\">::</span> python -c &#39;import sys; sys.exit(1)&#39;   <span class=\"nc\">:returncode:</span> 1</pre></div></div><p>The above command returns the exit code 1 (as given to <a class=\"reference external\" href=\"https://docs.python.org/3/library/sys.html#sys.exit\" title=\"(in Python v3.11)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">sys.exit()</span></code></a>),but no warning will be emitted.  On the contrary, a warning will be emitted,should the command return 0!</p><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>Upon fatal errors which even prevent the execution of the command neitherreturn code nor command output are available.  In this case an error messageis inserted into the document instead.</p><p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code> is set however, most of these fatal errors are handled by thesystem shell and turned into return codes instead.  In this case the errormessage will only appear in the output of the shell.  If you\u2019re using<code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code>, double-check the output for errors.  Best avoid <code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code>, ifpossible.</p></div></section></section><section id=\"reference\"><h2>Reference<a class=\"headerlink\" href=\"#reference\" title=\"Permalink to this heading\">\u00b6</a></h2><dl class=\"rst directive\"><dt class=\"sig sig-object rst\" id=\"directive-program-output\"><span class=\"sig-name descname\"><span class=\"pre\">..</span> <span class=\"pre\">program-output::</span></span><span class=\"sig-prename descclassname\"> <span class=\"pre\">command</span></span><a class=\"headerlink\" href=\"#directive-program-output\" title=\"Permalink to this definition\">\u00b6</a></dt><dd><p>Include the output of <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code> in the documentation.</p><p>The output is formatted as literal text, without any syntax highlighting.</p><p>By default, the command is split according to the POSIX shell syntax (using<a class=\"reference external\" href=\"https://docs.python.org/3/library/shlex.html#shlex.split\" title=\"(in Python v3.11)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">shlex.split()</span></code></a>), and executed directly.  Both standard output andstandard error are captured from the invocation of <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code> and includedin the document.  However, if the option <code class=\"docutils literal notranslate\"><span class=\"pre\">shell</span></code> is given, <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code> isliterally passed to the system shell.  With the <code class=\"docutils literal notranslate\"><span class=\"pre\">nostderr</span></code> option,standard error is hidden from the output.</p><p>The working directory of the command can be configured with the <code class=\"docutils literal notranslate\"><span class=\"pre\">cwd</span></code>option.  The argument of this option is a directory path, relative to thecurrent source file.  Absolute paths are interpreted as relative to theroot of the source directory.  The default working directory is <code class=\"docutils literal notranslate\"><span class=\"pre\">/</span></code>, i.e.the root of the source directory.</p><p>If the <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> option is given, the <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code> itself is included in thedocument, so that the output mimics input in a shell prompt.<a class=\"reference internal\" href=\"#confval-programoutput_prompt_template\"><code class=\"xref std std-confval docutils literal notranslate\"><span class=\"pre\">programoutput_prompt_template</span></code></a> controls the appearance of this.The value of the <code class=\"docutils literal notranslate\"><span class=\"pre\">extraargs</span></code> option is appended at the end of <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code>(separated by a whitespace) before executing the command, but not includedin the output of the <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> option.  Use this to pass extra argumentswhich should not appear in the document.</p><p>The output can be shortened with the <code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code> option.  The value of thisoption is of the form <code class=\"docutils literal notranslate\"><span class=\"pre\">start[,end]</span></code> with <code class=\"docutils literal notranslate\"><span class=\"pre\">start</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">end</span></code> beingintegers which refer to lines in the output of <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code>.  <code class=\"docutils literal notranslate\"><span class=\"pre\">end</span></code> isoptional and defaults to the last line.  Negative line numbers countbackwards from the last line.  Everything in the interval <code class=\"docutils literal notranslate\"><span class=\"pre\">[start,</span> <span class=\"pre\">end[</span></code>is replaced with a single ellipsis <code class=\"docutils literal notranslate\"><span class=\"pre\">...</span></code>.  The <code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code> option onlyaffects the immediate output of <code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code>, but never any additional textinserted by option <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code>.</p><p>If the command does return an exit code different from the expected one, abuild warning is issued.  The expected return code defaults to 0, and can bechanged with the <code class=\"docutils literal notranslate\"><span class=\"pre\">returncode</span></code> option.</p><p>A <code class=\"docutils literal notranslate\"><span class=\"pre\">caption</span></code> option can be given to show the given name, or by default thegiven command, before the output block.A <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> option with a target name can be provided to reference thecommand block by using <code class=\"docutils literal notranslate\"><span class=\"pre\">ref</span></code>.</p><div class=\"versionchanged\"><p><span class=\"versionmodified changed\">Changed in version 0.16: </span>Add the <code class=\"docutils literal notranslate\"><span class=\"pre\">caption</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> options.</p></div></dd></dl><dl class=\"rst directive\"><dt class=\"sig sig-object rst\" id=\"directive-command-output\"><span class=\"sig-name descname\"><span class=\"pre\">..</span> <span class=\"pre\">command-output::</span></span><a class=\"headerlink\" href=\"#directive-command-output\" title=\"Permalink to this definition\">\u00b6</a></dt><dd><p>Same as <a class=\"reference internal\" href=\"#directive-program-output\" title=\"program-output directive\"><code class=\"xref rst rst-dir docutils literal notranslate\"><span class=\"pre\">program-output</span></code></a>, but with enabled <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> option.</p></dd></dl><section id=\"configuration\"><h3>Configuration<a class=\"headerlink\" href=\"#configuration\" title=\"Permalink to this heading\">\u00b6</a></h3><p>This extension understands the following configuration options:</p><dl class=\"std confval\"><dt class=\"sig sig-object std\" id=\"confval-programoutput_prompt_template\"><span class=\"sig-name descname\"><span class=\"pre\">programoutput_prompt_template</span></span><a class=\"headerlink\" href=\"#confval-programoutput_prompt_template\" title=\"Permalink to this definition\">\u00b6</a></dt><dd><p>A <a class=\"reference external\" href=\"https://docs.python.org/2/library/string.html#formatstrings\">format string</a> template for the output of the <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> option to<a class=\"reference internal\" href=\"#directive-command-output\" title=\"command-output directive\"><code class=\"xref rst rst-dir docutils literal notranslate\"><span class=\"pre\">command-output</span></code></a>.  Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">$</span> <span class=\"pre\">{command}\\n{output}</span></code> which rendersas follows:</p><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>$ python -VPython 3.7.9</pre></div></div><p>The following keys are provided to the format string:</p><ul class=\"simple\"><li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">command</span></code> is replaced with the literal command as given to thedirective, <em>without</em> any <code class=\"docutils literal notranslate\"><span class=\"pre\">extraargs</span></code>.</p></li><li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">output</span></code> is the output of the command, after the <code class=\"docutils literal notranslate\"><span class=\"pre\">ellipsis</span></code> option hasbeen applied.</p></li><li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">returncode</span></code> is the return code of the command as integer.</p></li></ul></dd></dl></section></section><section id=\"support\"><h2>Support<a class=\"headerlink\" href=\"#support\" title=\"Permalink to this heading\">\u00b6</a></h2><p>Please report issues to the <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues\">issue tracker</a> if you have trouble or found a bugin this extension, but respect the following guidelines:</p><ul class=\"simple\"><li><p>Check that the issue has not already been reported.</p></li><li><p>Check that the issue is not already fixed in the <code class=\"docutils literal notranslate\"><span class=\"pre\">master</span></code> branch.</p></li><li><p>Open issues with clear title and a detailed description in grammaticallycorrect, complete sentences.</p></li></ul></section><section id=\"development\"><h2>Development<a class=\"headerlink\" href=\"#development\" title=\"Permalink to this heading\">\u00b6</a></h2><p>The source code is hosted on <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput\">Github</a>:</p><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span>git clone https://github.com/NextThought/sphinxcontrib-programoutput</pre></div></div><p>Please fork the repository and send pull requests with your fixes or features,but respect these guidelines:</p><ul class=\"simple\"><li><p>Read <a class=\"reference external\" href=\"https://gun.io/blog/how-to-github-fork-branch-and-pull-request/\">how to properly contribute to open source projects on GitHub</a>.</p></li><li><p>Use a topic branch to easily amend a pull request later, if necessary.</p></li><li><p>Write <a class=\"reference external\" href=\"http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html\">good commit messages</a>.</p></li><li><p>Squash commits on the topic branch before opening a pull request.</p></li><li><p>Respect <span class=\"target\" id=\"index-0\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0008/\"><strong>PEP 8</strong></a> (use <a class=\"reference external\" href=\"https://pypi.python.org/pypi/pep8/\">pep8</a> to check your coding style compliance)</p></li><li><p>Add unit tests.</p></li><li><p>Open a <a class=\"reference external\" href=\"https://help.github.com/articles/using-pull-requests\">new pull request</a>that relates to but one subject with a clear title and description ingrammatically correct, complete sentences.</p></li></ul></section><section id=\"changelog\"><h2>Changelog<a class=\"headerlink\" href=\"#changelog\" title=\"Permalink to this heading\">\u00b6</a></h2></section></section><section id=\"changes\"><h1>Changes<a class=\"headerlink\" href=\"#changes\" title=\"Permalink to this heading\">\u00b6</a></h1><section id=\"unreleased\"><h2>0.18 (unreleased)<a class=\"headerlink\" href=\"#unreleased\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Nothing changed yet.</p></li></ul></section><section id=\"id2\"><h2>0.17 (2021-03-31)<a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Add support for Python 3.9.</p></li><li><p>Drop support for python 3.5.</p></li><li><p>Include program output and current working directory in the warninglogged when a program returns an unexpected return code. Suggestedby Sorin Sbarnea. See <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/50\">issue #50</a>.</p></li></ul></section><section id=\"id3\"><h2>0.16 (2020-03-23)<a class=\"headerlink\" href=\"#id3\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Add <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">caption</span></code> options. Added in <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/pull/41\">pull request #41</a>.by Rapha\u00ebl.</p></li><li><p>Add support for Python 3.8.</p></li></ul></section><section id=\"id4\"><h2>0.15 (2019-09-16)<a class=\"headerlink\" href=\"#id4\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Make the test suite stop assuming the presence of a \u2018python\u2019executable on the path. Instead it uses <code class=\"docutils literal notranslate\"><span class=\"pre\">sys.executable</span></code> (whichshouldn\u2019t have spaces). Note that it does continue to assume thepresence of other executables, such as \u2018echo\u2019. Reported in <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/38\">issue #38</a>by John Vandenberg.</p></li></ul></section><section id=\"id5\"><h2>0.14 (2019-04-08)<a class=\"headerlink\" href=\"#id5\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Add <code class=\"docutils literal notranslate\"><span class=\"pre\">python_requires</span></code> metadata to better allow tools like <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code>to install a correct version.</p></li><li><p>Add support for Sphinx 2.0 on Python 3.</p></li><li><p>Avoid unicode errors when the program command or output producednon-ASCII output and the configured prompt was a byte string. Thiswas most likely under Python 2, where the default configured promptis a byte string. Reported by, and patch inspired by, <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/33\">issue #33</a>by latricewilgus.</p></li></ul></section><section id=\"id6\"><h2>0.13 (2018-12-22)<a class=\"headerlink\" href=\"#id6\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Drop support for Sphinx &lt; 1.7.</p></li><li><p>Fix tests on Sphinx &gt;= 1.8.0.</p></li><li><p>Restore error message into the document by default from failedprogram runs on Sphinx &gt;= 1.8.0b1.</p></li><li><p>Fix deprecation warnings on Sphinx &gt;= 1.8. Reported in <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/29\">issue #29</a>by miili.</p></li></ul></section><section id=\"id7\"><h2>0.11 (2017-05-18)<a class=\"headerlink\" href=\"#id7\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Explicitly set <code class=\"docutils literal notranslate\"><span class=\"pre\">parallel_read_safe</span></code> to true in the extensionmetadata. See <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/25\">issue #25</a>With thanks to Adam J. Stewart and Stephen McDowell.</p></li></ul></section><section id=\"id8\"><h2>0.10 (2017-03-17)<a class=\"headerlink\" href=\"#id8\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Decode output from the program tolerantly, using the \u2018replace\u2019handler. Based on a <a class=\"reference external\" href=\"https://github.com/habnabit/sphinxcontrib-programoutput/commit/592078e0386c2a36d50a6528b6e49d91707138bf\">pull request</a>by Stefan C. M\u00fcller.</p></li></ul></section><section id=\"id9\"><h2>0.9 (2017-03-15)<a class=\"headerlink\" href=\"#id9\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Forked and revived the project in <a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput\">Gitub</a>.</p></li><li><p>Run the tests on Travis CI. Formatting and style is enforced by pylint.</p></li><li><p>The oldest supported and tested Sphinx version is now 1.3.5. See<a class=\"reference external\" href=\"https://github.com/NextThought/sphinxcontrib-programoutput/issues/17\">issue #17</a>.</p></li><li><p>Remove support for Python 2.6, Python 3.2 and 3.3.</p></li><li><p>100% test coverage.</p></li><li><p>Remove support for <code class=\"docutils literal notranslate\"><span class=\"pre\">programoutput_use_ansi</span></code>. The<code class=\"docutils literal notranslate\"><span class=\"pre\">sphinxcontrib.ansi</span></code> extension is no longer available on PyPI.</p></li></ul></section><section id=\"oct-12-2012\"><h2>0.8 (Oct 12, 2012)<a class=\"headerlink\" href=\"#oct-12-2012\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Migrated to GitHub</p></li></ul></section><section id=\"apr-17-2012\"><h2>0.7 (Apr 17, 2012)<a class=\"headerlink\" href=\"#apr-17-2012\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Added <code class=\"docutils literal notranslate\"><span class=\"pre\">cwd</span></code> option to <code class=\"docutils literal notranslate\"><span class=\"pre\">..program-output</span></code></p></li><li><p>Working directory of executed programs defaults to documentation root now</p></li></ul></section><section id=\"jan-07-2012\"><h2>0.6 (Jan 07, 2012)<a class=\"headerlink\" href=\"#jan-07-2012\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Python 3 support</p></li><li><p>Require Sphinx 1.1 now</p></li></ul></section><section id=\"sep-19-2011\"><h2>0.5 (Sep 19, 2011)<a class=\"headerlink\" href=\"#sep-19-2011\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">programoutput_prompt_template</span></code> is interpreted as format string now!</p></li><li><p>Require Python 2.6 now</p></li><li><p>Added <code class=\"docutils literal notranslate\"><span class=\"pre\">returncode</span></code> option to <code class=\"docutils literal notranslate\"><span class=\"pre\">program-output</span></code> (thanks toJan-Marek Glogowski)</p></li><li><p>Support <code class=\"docutils literal notranslate\"><span class=\"pre\">returncode</span></code> formatting key in<code class=\"docutils literal notranslate\"><span class=\"pre\">programoutput_prompt_template</span></code></p></li><li><p>Warn on unexpected return codes instead of raising<code class=\"docutils literal notranslate\"><span class=\"pre\">subprocess.CalledProcessError</span></code></p></li><li><p>Turn fatal errors during command into document error messagesinstead of crashing the build</p></li></ul></section><section id=\"mar-11-2011\"><h2>0.4.1 (Mar 11, 2011)<a class=\"headerlink\" href=\"#mar-11-2011\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Some source code cleanups</p></li><li><p>Fixed installation instructions in documentation</p></li></ul></section><section id=\"may-21-2010\"><h2>0.4 (May 21, 2010)<a class=\"headerlink\" href=\"#may-21-2010\" title=\"Permalink to this heading\">\u00b6</a></h2><ul class=\"simple\"><li><p>Initial release</p></li></ul></section><section id=\"license\"><span id=\"id10\"></span><h2>License<a class=\"headerlink\" href=\"#license\" title=\"Permalink to this heading\">\u00b6</a></h2><div class=\"highlight-rest notranslate\"><div class=\"highlight\"><pre><span></span>Redistribution and use in source and binary forms, with or withoutmodification, are permitted provided that the following conditions aremet:<span class=\"m\">1.</span> Redistributions of source code must retain the above copyrightnotice, this list of conditions and the following disclaimer.<span class=\"m\">2.</span> Redistributions in binary form must reproduce the above copyrightnotice, this list of conditions and the following disclaimer in thedocumentation and/or other materials provided with the distribution.<span class=\"m\">3.</span> Neither the name of the copyright holder nor the names of itscontributors may be used to endorse or promote products derived fromthis software without specific prior written permission.THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\u201cAS IS\u201d AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOTLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FORA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHTHOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOTLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANYTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USEOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</pre></div></div><p class=\"rubric\">Footnotes</p><aside class=\"footnote-list brackets\"><aside class=\"footnote brackets\" id=\"alias\" role=\"note\"><span class=\"label\"><span class=\"fn-bracket\">[</span><a role=\"doc-backlink\" href=\"#id1\">1</a><span class=\"fn-bracket\">]</span></span><p>This directive is just an alias for the <a class=\"reference internal\" href=\"#directive-program-output\" title=\"program-output directive\"><code class=\"xref rst rst-dir docutils literal notranslate\"><span class=\"pre\">program-output</span></code></a>directive with the <code class=\"docutils literal notranslate\"><span class=\"pre\">prompt</span></code> option set.</p></aside></aside></section></section>           </div>                     </div>          <footer>    <hr/>  <div role=\"contentinfo\">    <p>        &copy; Copyright 2010, 2011, Sebastian Wiesner              <span class=\"commit\">          Revision <code>3f2fec0c</code>.        </span>          </p>  </div>  Built with <a href=\"http://sphinx-doc.org/\">Sphinx</a> using a <a href=\"https://github.com/rtfd/sphinx_rtd_theme\">theme</a> provided by <a href=\"https://readthedocs.org\">Read the Docs</a>. </footer>        </div>      </div>    </section>  </div>    <div class=\"rst-versions\" data-toggle=\"rst-versions\" role=\"note\" aria-label=\"versions\">    <span class=\"rst-current-version\" data-toggle=\"rst-current-version\">      <span class=\"fa fa-book\"> Read the Docs</span>      v: latest      <span class=\"fa fa-caret-down\"></span>    </span>    <div class=\"rst-other-versions\">      <dl>        <dt>Versions</dt>                  <dd><a href=\"/en/latest/\">latest</a></dd>                  <dd><a href=\"/en/stable/\">stable</a></dd>              </dl>      <dl>        <dt>Downloads</dt>              </dl>      <dl>        <dt>On Read the Docs</dt>          <dd>            <a href=\"//readthedocs.org/projects/sphinxcontrib-programoutput/?fromdocs=sphinxcontrib-programoutput\">Project Home</a>          </dd>          <dd>            <a href=\"//readthedocs.org/builds/sphinxcontrib-programoutput/?fromdocs=sphinxcontrib-programoutput\">Builds</a>          </dd>      </dl>      <hr/>      Free document hosting provided by <a href=\"http://www.readthedocs.org\">Read the Docs</a>.    </div>  </div>  <script type=\"text/javascript\">      jQuery(function () {          SphinxRtdTheme.Navigation.enable(true);      });  </script>     </body></html>",
  "embeddings": []
}