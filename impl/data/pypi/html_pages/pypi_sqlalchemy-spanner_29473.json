{
  "libtype": "pypi",
  "libname": "sqlalchemy-spanner",
  "url": "https://pypi.org/project/sqlalchemy-spanner/",
  "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\">  <head>    <meta charset=\"utf-8\">    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">    <meta name=\"defaultLanguage\" content=\"en\">    <meta name=\"availableLanguages\" content=\"en, es, fr, ja, pt_BR, uk, el, de, zh_Hans, zh_Hant, ru, he, eo\">    <title>sqlalchemy-spanner \u00b7 PyPI</title>    <meta name=\"description\" content=\"SQLAlchemy dialect integrated into Cloud Spanner database\">    <link rel=\"stylesheet\" href=\"/static/css/warehouse-ltr.99b3104d.css\">    <link rel=\"stylesheet\" href=\"/static/css/fontawesome.b50b476c.css\">    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Source+Sans+3:400,400italic,600,600italic,700,700italic%7CSource+Code+Pro:500\">    <noscript>      <link rel=\"stylesheet\" href=\"/static/css/noscript.0673c9ea.css\">    </noscript>    <link rel=\"icon\" href=\"/static/images/favicon.35549fe8.ico\" type=\"image/x-icon\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 latest updates\" href=\"/rss/updates.xml\">    <link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: 40 newest packages\" href=\"/rss/packages.xml\"><link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS: latest releases for sqlalchemy-spanner\" href=\"/rss/project/sqlalchemy-spanner/releases.xml\">    <link rel=\"canonical\" href=\"https://pypi.org/project/sqlalchemy-spanner/\">    <meta property=\"og:url\" content=\"https://pypi.org/project/sqlalchemy-spanner/\">    <meta property=\"og:site_name\" content=\"PyPI\">    <meta property=\"og:type\" content=\"website\">    <meta property=\"og:image\" content=\"https://pypi.org/static/images/twitter.abaf4b19.webp\">    <meta property=\"og:title\" content=\"sqlalchemy-spanner\">    <meta property=\"og:description\" content=\"SQLAlchemy dialect integrated into Cloud Spanner database\">    <link rel=\"search\" type=\"application/opensearchdescription+xml\" title=\"PyPI\" href=\"/opensearch.xml\">    <script asyncdata-ga-id=\"UA-55961911-1\"data-ga4-id=\"G-RW7D75DF8V\"            src=\"/static/js/warehouse.dd4295c4.js\">    </script><script>MathJax = {  tex: {    inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]  },};</script><script async  src=\"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-svg.js\"  integrity=\"sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=\"  crossorigin=\"anonymous\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-55961911-1\"></script><script async src=\"https://www.googletagmanager.com/gtag/js?id=G-RW7D75DF8V\"></script><script defer src=\"https://www.fastly-insights.com/insights.js?k=6a52360a-f306-421e-8ed5-7417d0d4a4e9&dnt=true\"></script>    <script async        src=\"https://media.ethicalads.io/media/client/v1.4.0/ethicalads.min.js\"        integrity=\"sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0= sha384-UcmsCqcNRSLW/dV3Lo1oCi2/VaurXbib6p4HyUEOeIa/4OpsrnucrugAefzVZJfI sha512-q4t1L4xEjGV2R4hzqCa41P8jrgFUS8xTb8rdNv4FGvw7FpydVj/kkxBJHOiaoxHa8olCcx1Slk9K+3sNbsM4ug==\"        crossorigin=\"anonymous\"    ></script>  </head>  <body data-controller=\"viewport-toggle\">    <!-- Accessibility: this link should always be the first piece of content inside the body-->    <a href=\"#content\" class=\"skip-to-content\">Skip to main content</a>    <button type=\"button\" class=\"button button--primary button--switch-to-mobile hidden\" data-viewport-toggle-target=\"switchToMobile\" data-action=\"viewport-toggle#switchToMobile\">Switch to mobile version    </button>    <div id=\"sticky-notifications\" class=\"stick-to-top js-stick-to-top\">      <!-- Add browser warning. Will show for ie9 and below -->      <!--[if IE]>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">You are using an unsupported browser, upgrade to a newer version.</span>      </div>      <![endif]-->      <noscript>      <div class=\"notification-bar notification-bar--warning\" role=\"status\">        <span class=\"notification-bar__icon\">          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Warning</span>        </span>        <span class=\"notification-bar__message\">Some features may not work without JavaScript. Please try enabling it if you encounter problems.</span>      </div>      </noscript><div data-html-include=\"/_includes/notification-banners/\"></div>    </div><div data-html-include=\"/_includes/flash-messages/\"></div><div data-html-include=\"/_includes/session-notifications/\"></div>    <header class=\"site-header \">      <div class=\"site-container\">        <div class=\"split-layout\">          <div class=\"split-layout\">            <div>              <a class=\"site-header__logo\" href=\"/\">                <img alt=\"PyPI\" src=\"/static/images/logo-small.2a411bc6.svg\">              </a>            </div>            <form class=\"search-form search-form--primary\" action=\"/search/\" role=\"search\">              <label for=\"search\" class=\"sr-only\">Search PyPI</label>              <input id=\"search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-controller=\"search-focus\" data-action=\"keydown@window->search-focus#focusSearchField\" data-search-focus-target=\"searchField\">              <button type=\"submit\" class=\"search-form__button\">                <i class=\"fa fa-search\" aria-hidden=\"true\"></i>                <span class=\"sr-only\">Search</span>              </button>            </form>          </div><div data-html-include=\"/_includes/current-user-indicator/\">            <div id=\"user-indicator\" class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall\">  <nav class=\"horizontal-menu horizontal-menu--light horizontal-menu--tall hide-on-tablet\" aria-label=\"Main navigation\">    <ul>      <li class=\"horizontal-menu__item\"><a href=\"/help/\" class=\"horizontal-menu__link\">Help</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/sponsors/\" class=\"horizontal-menu__link\">Sponsors</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/login/\" class=\"horizontal-menu__link\">Log in</a></li>      <li class=\"horizontal-menu__item\"><a href=\"/account/register/\" class=\"horizontal-menu__link\">Register</a></li>    </ul>  </nav>  <nav class=\"dropdown dropdown--on-menu hidden show-on-tablet\" aria-label=\"Main navigation\">    <button type=\"button\" class=\"horizontal-menu__link dropdown__trigger\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-label=\"View menu\">Menu      <span class=\"dropdown__trigger-caret\">        <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>      </span>    </button>    <ul class=\"dropdown__content\" aria-hidden=\"true\" aria-label=\"Main menu\">      <li><a class=\"dropdown__link\" href=\"/help/\">Help</a></li>      <li><a class=\"dropdown__link\" href=\"/sponsors/\">Sponsors</a></li>      <li><a class=\"dropdown__link\" href=\"/account/login/\">Log in</a></li>      <li><a class=\"dropdown__link\" href=\"/account/register/\">Register</a></li>    </ul>  </nav></div></div>        </div>      </div>    </header>    <div class=\"mobile-search\">      <form class=\"search-form search-form--fullwidth\" action=\"/search/\" role=\"search\">        <label for=\"mobile-search\" class=\"sr-only\">Search PyPI</label>        <input id=\"mobile-search\" class=\"search-form__search\" type=\"text\" name=\"q\" placeholder=\"Search projects\" value=\"\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\">                <button type=\"submit\" class=\"search-form__button\">          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>          <span class=\"sr-only\">Search</span>        </button>      </form>    </div>    <main id=\"content\"><div class=\"hidden\"  data-controller=\"github-repo-stats\"  data-github-repo-stats-github-repo-info-outlet=\".github-repo-info\"  data-github-repo-stats-url-value=\"https://api.github.com/repos/cloudspannerecosystem/python-spanner-sqlalchemy\"  data-github-repo-stats-issue-url-value=\"https://api.github.com/search/issues?q=repo:cloudspannerecosystem/python-spanner-sqlalchemy+type:issue+state:open&amp;per_page=1\"></div><div class=\"banner\">  <div class=\"package-header\">    <div class=\"package-header__left\">      <h1 class=\"package-header__name\">        sqlalchemy-spanner 1.6.2      </h1>      <div data-controller=\"clipboard\">        <p class=\"package-header__pip-instructions\">          <span id=\"pip-command\" data-clipboard-target=\"source\">pip install sqlalchemy-spanner</span>          <button type=\"button\" class=\"copy-tooltip copy-tooltip-s\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">            <i class=\"fa fa-copy\" aria-hidden=\"true\"></i>            <span class=\"sr-only\">Copy PIP instructions</span>          </button>        </p>      </div>    </div>    <div class=\"package-header__right\">      <a class=\"status-badge status-badge--good\" href=\"/project/sqlalchemy-spanner/\">        <span>Latest version</span>      </a>      <p class=\"package-header__date\">Released: <time datetime=\"2023-05-31T08:33:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 31, 2023</time>      </p>    </div>  </div></div><div class=\"horizontal-section horizontal-section--grey horizontal-section--thin\">  <div class=\"site-container\"><div data-html-include=\"/_includes/administer-project-include/sqlalchemy-spanner\"></div>    <div class=\"split-layout split-layout--middle package-description\">      <p class=\"package-description__summary\">SQLAlchemy dialect integrated into Cloud Spanner database</p><div data-html-include=\"/_includes/edit-project-button/sqlalchemy-spanner\"></div>    </div>  </div></div><div data-controller=\"project-tabs\">  <div class=\"tabs-container\">    <div class=\"vertical-tabs\">      <div class=\"vertical-tabs__tabs\">        <div class=\"sidebar-section\">          <h3 class=\"sidebar-section__title\">Navigation</h3>          <nav aria-label=\"Navigation for sqlalchemy-spanner\">            <ul class=\"vertical-tabs__list\" role=\"tablist\">              <li role=\"tab\">                <a id=\"description-tab\" href=\"#description\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                  <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description                </a>              </li>              <li role=\"tab\">                <a id=\"history-tab\" href=\"#history\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Release history. Focus will be moved to the history panel.\">                  <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history                </a>              </li>              <li role=\"tab\">                <a id=\"files-tab\" href=\"#files\" data-project-tabs-target=\"tab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon\" aria-label=\"Download files. Focus will be moved to the project files.\">                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files                </a>              </li>            </ul>          </nav>        </div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/cloudspannerecosystem/python-spanner-sqlalchemy\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/sqlalchemy-spanner\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>    <p><strong>Author:</strong> <a href=\"mailto:cloud-spanner-developers@googlegroups.com\">Google LLC</a></p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/gcloudpypi/\" aria-label=\"gcloudpypi\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/256f37d0c08ce56870522d1b168937f9039b0065/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f62366461363362613435623733393138633436356135666564373361616237633f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for gcloudpypi from gravatar.com\" title=\"Avatar for gcloudpypi from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            gcloudpypi          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/google_opensource/\" aria-label=\"google_opensource\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/9bbaaacad4f69ac85e9de9e7179a3f0886305d3c/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f37323837613735336262386530656466353864393334653862313063303030383f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for google_opensource from gravatar.com\" title=\"Avatar for google_opensource from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            google_opensource          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Intended Audience</strong>      <ul>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Developers\">            Developers          </a>        </li>      </ul>    </li>  </ul></div><div class=\"sidebar-section\" data-ea-publisher=\"psf\" data-ea-type=\"psf\" data-ea-keywords=\"pypi-sidebar\"></div>      </div>      <div class=\"vertical-tabs__panel\">        <!-- mobile menu -->        <nav aria-label=\"Navigation for sqlalchemy-spanner\">          <ul class=\"vertical-tabs__list\" role=\"tablist\">            <li role=\"tab\">              <a id=\"mobile-description-tab\" href=\"#description\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile vertical-tabs__tab--no-top-border vertical-tabs__tab--is-active\" aria-selected=\"true\" aria-label=\"Project description. Focus will be moved to the description.\">                <i class=\"fa fa-align-left\" aria-hidden=\"true\"></i>Project description              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-data-tab\" href=\"#data\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Project details. Focus will be moved to the project details.\">                <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>Project details              </a>            </li>            <li role=\"tab\">              <a id=\"mobile-history-tab\" href=\"#history\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Release history. Focus will be moved to the history panel.\">              <i class=\"fa fa-history\" aria-hidden=\"true\"></i>Release history            </a>            </li>            <li role=\"tab\">              <a id=\"mobile-files-tab\" href=\"#files\" data-project-tabs-target=\"mobileTab\" data-action=\"project-tabs#onTabClick\" class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--mobile\" aria-label=\"Download files. Focus will be moved to the project files.\">                <i class=\"fa fa-download\" aria-hidden=\"true\"></i>Download files              </a>            </li>          </ul>        </nav>        <div id=\"description\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"description-tab mobile-description-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project description</h2>          <div class=\"project-description\">            <p>Spanner dialect for SQLAlchemy represents an interface API designed tomake it possible to control Cloud Spanner databases with SQLAlchemy API.The dialect is built on top of <a href=\"https://github.com/googleapis/python-spanner/tree/master/google/cloud/spanner_dbapi\" rel=nofollow>the Spanner DBAPI</a>,which is designed in accordance with<a href=\"https://www.python.org/dev/peps/pep-0249/\" rel=nofollow>PEP-249</a>.</p><p>Known limitations are listed <a href=#features-and-limitations rel=nofollow>here</a>. Allsupported features have been tested and verified to work with the testconfigurations. There may be configurations and/or data model variationsthat have not yet been covered by the tests and that show unexpectedbehavior. Please report any problems that you might encounter by<a href=\"https://github.com/googleapis/python-spanner-sqlalchemy/issues/new\" rel=nofollow>creating a newissue</a>.</p><ul class=simple><li><p><a href=\"https://cloud.google.com/spanner/docs\" rel=nofollow>Cloud Spanner productdocumentation</a></li><li><p><a href=\"https://www.sqlalchemy.org/\" rel=nofollow>SQLAlchemy product documentation</a></li></ul><section id=quick-start><h2>Quick Start</h2><p>In order to use this package, you first need to go through the followingsteps:</p><ol><li><p><a href=\"https://console.cloud.google.com/project\" rel=nofollow>Select or create a Cloud Platformproject.</a></li><li><p><a href=\"https://cloud.google.com/billing/docs/how-to/modify-project#enable_billing_for_a_project\" rel=nofollow>Enable billing for yourproject.</a></li><li><p><a href=\"https://cloud.google.com/spanner\" rel=nofollow>Enable the Google Cloud SpannerAPI.</a></li><li><p><a href=\"https://googleapis.dev/python/google-api-core/latest/auth.html\" rel=nofollow>SetupAuthentication.</a></li></ol></section><section id=installation><h2>Installation</h2><p>Stable released version of the package is available on PyPi:</p><pre>pip install sqlalchemy-spanner</pre><p>To install an in-development version of the package, clone itsGit-repository:</p><pre>git clone https://github.com/googleapis/python-spanner-sqlalchemy.git</pre><p>Next install the package from the package <span class=\"docutils literal\">setup.py</span> file:</p><pre>python setup.py install</pre><p>During setup the dialect will be registered with entry points.</p></section><section id=a-minimal-app><h2>A Minimal App</h2><section id=database-url><h3>Database URL</h3><p>In order to connect to a database one have to use its URL on connectioncreation step. SQLAlchemy 1.3 and 1.4 versions have a bit of differenceon this step in a dialect prefix part:</p><pre><code><span class=c1># for SQLAlchemy 1.3:</span><span class=w></span><span class=n>spanner</span><span class=p>:</span><span class=o>///</span><span class=n>projects</span><span class=o>/</span><span class=n>project</span><span class=o>-</span><span class=nb>id</span><span class=o>/</span><span class=n>instances</span><span class=o>/</span><span class=n>instance</span><span class=o>-</span><span class=nb>id</span><span class=o>/</span><span class=n>databases</span><span class=o>/</span><span class=n>database</span><span class=o>-</span><span class=nb>id</span><span class=w></span><span class=c1># for SQLAlchemy 1.4:</span><span class=w></span><span class=n>spanner</span><span class=o>+</span><span class=n>spanner</span><span class=p>:</span><span class=o>///</span><span class=n>projects</span><span class=o>/</span><span class=n>project</span><span class=o>-</span><span class=nb>id</span><span class=o>/</span><span class=n>instances</span><span class=o>/</span><span class=n>instance</span><span class=o>-</span><span class=nb>id</span><span class=o>/</span><span class=n>databases</span><span class=o>/</span><span class=n>database</span><span class=o>-</span><span class=nb>id</span></code></pre><p>To pass your custom client object directly to be be used, create engine as following:</p><pre><code><span class=n>engine</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=w></span>    <span class=s2>\"spanner+spanner:///projects/project-id/instances/instance-id/databases/database-id\"</span><span class=p>,</span><span class=w></span>    <span class=n>connect_args</span><span class=o>=</span><span class=p>{</span><span class=s1>'client'</span><span class=p>:</span> <span class=n>spanner</span><span class=o>.</span><span class=n>Client</span><span class=p>(</span><span class=n>project</span><span class=o>=</span><span class=s2>\"project-id\"</span><span class=p>)}</span><span class=w></span><span class=p>)</span></code></pre></section><section id=create-a-table><h3>Create a table</h3><pre><code><span class=kn>from</span> <span class=nn>sqlalchemy</span> <span class=kn>import</span> <span class=p>(</span><span class=w></span>    <span class=n>Column</span><span class=p>,</span><span class=w></span>    <span class=n>Integer</span><span class=p>,</span><span class=w></span>    <span class=n>MetaData</span><span class=p>,</span><span class=w></span>    <span class=n>String</span><span class=p>,</span><span class=w></span>    <span class=n>Table</span><span class=p>,</span><span class=w></span>    <span class=n>create_engine</span><span class=p>,</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>engine</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=w></span>    <span class=s2>\"spanner:///projects/project-id/instances/instance-id/databases/database-id\"</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>metadata</span> <span class=o>=</span> <span class=n>MetaData</span><span class=p>(</span><span class=n>bind</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span><span class=w></span><span class=n>user</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span><span class=w></span>    <span class=s2>\"users\"</span><span class=p>,</span><span class=w></span>    <span class=n>metadata</span><span class=p>,</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"user_id\"</span><span class=p>,</span> <span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"user_name\"</span><span class=p>,</span> <span class=n>String</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>),</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>metadata</span><span class=o>.</span><span class=n>create_all</span><span class=p>(</span><span class=n>engine</span><span class=p>)</span></code></pre></section><section id=insert-a-row><h3>Insert a row</h3><pre><code><span class=kn>import</span> <span class=nn>uuid</span><span class=w></span><span class=kn>from</span> <span class=nn>sqlalchemy</span> <span class=kn>import</span> <span class=p>(</span><span class=w></span>    <span class=n>MetaData</span><span class=p>,</span><span class=w></span>    <span class=n>Table</span><span class=p>,</span><span class=w></span>    <span class=n>create_engine</span><span class=p>,</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>engine</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=w></span>    <span class=s2>\"spanner:///projects/project-id/instances/instance-id/databases/database-id\"</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>user</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span><span class=s2>\"users\"</span><span class=p>,</span> <span class=n>MetaData</span><span class=p>(</span><span class=n>bind</span><span class=o>=</span><span class=n>engine</span><span class=p>),</span> <span class=n>autoload</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=w></span><span class=n>user_id</span> <span class=o>=</span> <span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>()</span><span class=o>.</span><span class=n>hex</span><span class=p>[:</span><span class=mi>6</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>begin</span><span class=p>()</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>insert</span><span class=p>(),</span> <span class=p>{</span><span class=s2>\"user_id\"</span><span class=p>:</span> <span class=n>user_id</span><span class=p>,</span> <span class=s2>\"user_name\"</span><span class=p>:</span> <span class=s2>\"Full Name\"</span><span class=p>})</span></code></pre></section><section id=read><h3>Read</h3><pre><code><span class=kn>from</span> <span class=nn>sqlalchemy</span> <span class=kn>import</span> <span class=n>MetaData</span><span class=p>,</span> <span class=n>Table</span><span class=p>,</span> <span class=n>create_engine</span><span class=p>,</span> <span class=n>select</span><span class=w></span><span class=n>engine</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=w></span>    <span class=s2>\"spanner:///projects/project-id/instances/instance-id/databases/database-id\"</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>table</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span><span class=s2>\"users\"</span><span class=p>,</span> <span class=n>MetaData</span><span class=p>(</span><span class=n>bind</span><span class=o>=</span><span class=n>engine</span><span class=p>),</span> <span class=n>autoload</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>begin</span><span class=p>()</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>():</span><span class=w></span>        <span class=nb>print</span><span class=p>(</span><span class=n>row</span><span class=p>)</span></code></pre></section></section><section id=migration><h2>Migration</h2><p>SQLAlchemy uses <a href=\"https://alembic.sqlalchemy.org/en/latest/#\" rel=nofollow>Alembic</a>tool to organize database migrations.</p><p>Spanner dialect doesn\u2019t provide a default migration environment, it\u2019s upto user to write it. One thing to be noted here - one should explicitlyset <span class=\"docutils literal\">alembic_version</span> table not to use migration revision id as aprimary key:</p><pre><code><span class=k>with</span> <span class=n>connectable</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>context</span><span class=o>.</span><span class=n>configure</span><span class=p>(</span><span class=w></span>        <span class=n>connection</span><span class=o>=</span><span class=n>connection</span><span class=p>,</span><span class=w></span>        <span class=n>target_metadata</span><span class=o>=</span><span class=n>target_metadata</span><span class=p>,</span><span class=w></span>        <span class=n>version_table_pk</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># don't use primary key in the versions table</span><span class=w></span>    <span class=p>)</span></code></pre><p>As Spanner restricts changing a primary key value, not setting the <span class=\"docutils literal\">version_table_pk</span> flagto <span class=\"docutils literal\">False</span> can cause migration problems. If <span class=\"docutils literal\">alembic_versions</span> table was already created with a primary key, setting the flag to <span class=\"docutils literal\">False</span> will not work, because the flag is only applied on table creation.</p><p>Notice that DDL statements in Spanner are not transactional. They will not be automatically reverted in case of a migration fail. Also Spanner encourage use of the <a href=\"https://alembic.sqlalchemy.org/en/latest/api/runtime.html#alembic.runtime.migration.MigrationContext.autocommit_block\" rel=nofollow>autocommit_block()</a> for migrations in order to prevent DDLs from aborting migration transactions with schema modifications.</p><div class=line-block><div class=line><strong>Warning!</strong></div><div class=line>A migration script can produce a lot of DDL statements. If each of thestatements is executed separately, performance issues can occur. Toavoid it, it\u2019s highly recommended to use the <a href=\"https://alembic.sqlalchemy.org/en/latest/batch.html\" rel=nofollow>Alembic batchcontext</a>feature to pack DDL statements into groups of statements.</div></div></section><section id=features-and-limitations><h2>Features and limitations</h2><section id=interleaved-tables><h3>Interleaved tables</h3><div class=line-block><div class=line>Cloud Spanner dialect includes two dialect-specific arguments for<span class=\"docutils literal\">Table</span> constructor, which help to define interleave relations:<span class=\"docutils literal\">spanner_interleave_in</span> - a parent table name<span class=\"docutils literal\">spanner_inverleave_on_delete_cascade</span> - a flag specifying if<span class=\"docutils literal\">ON DELETE CASCADE</span> statement must be used for the interleaverelation</div><div class=line>An example of interleave relations definition:</div></div><pre><code><span class=n>team</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span><span class=w></span>    <span class=s2>\"team\"</span><span class=p>,</span><span class=w></span>    <span class=n>metadata</span><span class=p>,</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"team_id\"</span><span class=p>,</span> <span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"team_name\"</span><span class=p>,</span> <span class=n>String</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>),</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>team</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>engine</span><span class=p>)</span><span class=w></span><span class=n>client</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span><span class=w></span>    <span class=s2>\"client\"</span><span class=p>,</span><span class=w></span>    <span class=n>metadata</span><span class=p>,</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"team_id\"</span><span class=p>,</span> <span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"client_id\"</span><span class=p>,</span> <span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s2>\"client_name\"</span><span class=p>,</span> <span class=n>String</span><span class=p>(</span><span class=mi>16</span><span class=p>),</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>),</span><span class=w></span>    <span class=n>spanner_interleave_in</span><span class=o>=</span><span class=s2>\"team\"</span><span class=p>,</span><span class=w></span>    <span class=n>spanner_interleave_on_delete_cascade</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>client</span><span class=o>.</span><span class=n>add_is_dependent_on</span><span class=p>(</span><span class=n>team</span><span class=p>)</span><span class=w></span><span class=n>client</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>engine</span><span class=p>)</span></code></pre><p><strong>Note</strong>: Interleaved tables have a dependency between them, so theparent table must be created before the child table. When creatingtables with this feature, make sure to call <span class=\"docutils literal\">add_is_dependent_on()</span> onthe child table to request SQLAlchemy to create the parent table beforethe child table.</p></section><section id=unique-constraints><h3>Unique constraints</h3><p>Cloud Spanner doesn\u2019t support direct UNIQUE constraints creation. Inorder to achieve column values uniqueness UNIQUE indexes should be used.</p><p>Instead of direct UNIQUE constraint creation:</p><pre><code><span class=n>Table</span><span class=p>(</span><span class=w></span>    <span class=s1>'table'</span><span class=p>,</span><span class=w></span>    <span class=n>metadata</span><span class=p>,</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s1>'col1'</span><span class=p>,</span> <span class=n>Integer</span><span class=p>),</span><span class=w></span>    <span class=n>UniqueConstraint</span><span class=p>(</span><span class=s1>'col1'</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>'uix_1'</span><span class=p>)</span><span class=w></span><span class=p>)</span></code></pre><p>Create a UNIQUE index:</p><pre><code><span class=n>Table</span><span class=p>(</span><span class=w></span>    <span class=s1>'table'</span><span class=p>,</span><span class=w></span>    <span class=n>metadata</span><span class=p>,</span><span class=w></span>    <span class=n>Column</span><span class=p>(</span><span class=s1>'col1'</span><span class=p>,</span> <span class=n>Integer</span><span class=p>),</span><span class=w></span>    <span class=n>Index</span><span class=p>(</span><span class=s2>\"uix_1\"</span><span class=p>,</span> <span class=s2>\"col1\"</span><span class=p>,</span> <span class=n>unique</span><span class=o>=</span><span class=kc>True</span><span class=p>),</span><span class=w></span><span class=p>)</span></code></pre></section><section id=autocommit-mode><h3>Autocommit mode</h3><p>Spanner dialect supports both <span class=\"docutils literal\">SERIALIZABLE</span> and <span class=\"docutils literal\">AUTOCOMMIT</span>isolation levels. <span class=\"docutils literal\">SERIALIZABLE</span> is the default one, wheretransactions need to be committed manually. <span class=\"docutils literal\">AUTOCOMMIT</span> modecorresponds to automatically committing of a query right in itsexecution time.</p><p>Isolation level change example:</p><pre><code><span class=kn>from</span> <span class=nn>sqlalchemy</span> <span class=kn>import</span> <span class=n>create_engine</span><span class=w></span><span class=n>eng</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=s2>\"spanner:///projects/project-id/instances/instance-id/databases/database-id\"</span><span class=p>)</span><span class=w></span><span class=n>autocommit_engine</span> <span class=o>=</span> <span class=n>eng</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=n>isolation_level</span><span class=o>=</span><span class=s2>\"AUTOCOMMIT\"</span><span class=p>)</span></code></pre></section><section id=automatic-transactions-retry><h3>Automatic transactions retry</h3><p>In the default <span class=\"docutils literal\">SERIALIZABLE</span> mode transactions may fail with <span class=\"docutils literal\">Aborted</span> exception. This is a transient kind of errors, which mostly happen to prevent data corruption by concurrent modifications. Though the original transaction becomes non operational, a simple retry of the queries solves the issue.</p><p>This, however, may require to manually repeat a long list of operations, executed in the failed transaction. To simplify it, Spanner Connection API tracks all the operations, executed inside current transaction, and their result checksums. If the transaction failed with <span class=\"docutils literal\">Aborted</span> exception, the Connection API will automatically start a new transaction and will re-run all the tracked operations, checking if their results are the same as they were in the original transaction. In case data changed, and results differ, the transaction is dropped, as there is no way to automatically retry it.</p><p>In <span class=\"docutils literal\">AUTOCOMMIT</span> mode automatic transactions retry mechanism is disabled, as every operation is committed just in time, and there is no way an <span class=\"docutils literal\">Aborted</span> exception can happen.</p></section><section id=autoincremented-ids><h3>Autoincremented IDs</h3><p>Cloud Spanner doesn\u2019t support autoincremented IDs mechanism due toperformance reasons (<a href=\"https://cloud.google.com/spanner/docs/schema-design#primary-key-prevent-hotspots\" rel=nofollow>see for moredetails</a>).We recommend that you use the Python<a href=\"https://docs.python.org/3/library/uuid.html\" rel=nofollow>uuid</a> module togenerate primary key fields to avoid creating monotonically increasingkeys.</p><p>Though it\u2019s not encouraged to do so, in case you <em>need</em> the feature, youcan simulate it manually as follows:</p><pre><code><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>begin</span><span class=p>()</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>top_id</span> <span class=o>=</span> <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=w></span>        <span class=n>select</span><span class=p>([</span><span class=n>user</span><span class=o>.</span><span class=n>c</span><span class=o>.</span><span class=n>user_id</span><span class=p>])</span><span class=o>.</span><span class=n>order_by</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>c</span><span class=o>.</span><span class=n>user_id</span><span class=o>.</span><span class=n>desc</span><span class=p>())</span><span class=o>.</span><span class=n>limit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=w></span>    <span class=p>)</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span><span class=w></span>    <span class=n>next_id</span> <span class=o>=</span> <span class=n>top_id</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span> <span class=k>if</span> <span class=n>top_id</span> <span class=k>else</span> <span class=mi>1</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>insert</span><span class=p>(),</span> <span class=p>{</span><span class=s2>\"user_id\"</span><span class=p>:</span> <span class=n>next_id</span><span class=p>})</span></code></pre></section><section id=query-hints><h3>Query hints</h3><p>Spanner dialect supports <a href=\"https://cloud.google.com/spanner/docs/query-syntax#table_hints\" rel=nofollow>queryhints</a>,which give the ability to set additional query execution parameters.Usage example:</p><pre><code><span class=n>session</span> <span class=o>=</span> <span class=n>Session</span><span class=p>(</span><span class=n>engine</span><span class=p>)</span><span class=w></span><span class=n>Base</span> <span class=o>=</span> <span class=n>declarative_base</span><span class=p>()</span><span class=w></span><span class=k>class</span> <span class=nc>User</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span><span class=w>    </span><span class=sd>\"\"\"Data model.\"\"\"</span><span class=w></span>    <span class=n>__tablename__</span> <span class=o>=</span> <span class=s2>\"users\"</span><span class=w></span>    <span class=nb>id</span> <span class=o>=</span> <span class=n>Column</span><span class=p>(</span><span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=w></span>    <span class=n>name</span> <span class=o>=</span> <span class=n>Column</span><span class=p>(</span><span class=n>String</span><span class=p>(</span><span class=mi>50</span><span class=p>))</span><span class=w></span><span class=n>query</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=n>User</span><span class=p>)</span><span class=w></span><span class=n>query</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>with_hint</span><span class=p>(</span><span class=w></span>    <span class=n>selectable</span><span class=o>=</span><span class=n>User</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=s2>\"@{FORCE_INDEX=index_name}\"</span><span class=w></span><span class=p>)</span><span class=w></span><span class=n>query</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>User</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>in_</span><span class=p>([</span><span class=s2>\"val1\"</span><span class=p>,</span> <span class=s2>\"val2\"</span><span class=p>]))</span><span class=w></span><span class=n>query</span><span class=o>.</span><span class=n>statement</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>bind</span><span class=p>)</span></code></pre></section><section id=readonly-transactions><h3>ReadOnly transactions</h3><p>By default, transactions produced by a Spanner connection are inReadWrite mode. However, some applications require an ability to grantReadOnly access to users/methods; for these cases Spanner dialectsupports the <span class=\"docutils literal\">read_only</span> execution option, which switches a connectioninto ReadOnly mode:</p><pre><code><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=n>read_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre><p>Note that execution options are applied lazily - on the <span class=\"docutils literal\">execute()</span>method call, right before it.</p><p>ReadOnly/ReadWrite mode of a connection can\u2019t be changed while atransaction is in progress - first you must commit or rollback it.</p></section><section id=stale-reads><h3>Stale reads</h3><p>To use the Spanner <a href=\"https://cloud.google.com/spanner/docs/reads#perform-stale-read\" rel=nofollow>StaleReads</a>with SQLAlchemy you can tweak the connection execution options with awanted staleness value. For example:</p><pre><code><span class=c1># maximum staleness</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=w></span>    <span class=n>read_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span><span class=w></span>    <span class=n>staleness</span><span class=o>=</span><span class=p>{</span><span class=s2>\"max_staleness\"</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=n>seconds</span><span class=o>=</span><span class=mi>5</span><span class=p>)}</span><span class=w></span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre><pre><code><span class=c1># exact staleness</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=w></span>    <span class=n>read_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span><span class=w></span>    <span class=n>staleness</span><span class=o>=</span><span class=p>{</span><span class=s2>\"exact_staleness\"</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=n>seconds</span><span class=o>=</span><span class=mi>5</span><span class=p>)}</span><span class=w></span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre><pre><code><span class=c1># min read timestamp</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=w></span>    <span class=n>read_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span><span class=w></span>    <span class=n>staleness</span><span class=o>=</span><span class=p>{</span><span class=s2>\"min_read_timestamp\"</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2021</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>17</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>55</span><span class=p>,</span> <span class=mi>30</span><span class=p>)}</span><span class=w></span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre><pre><code><span class=c1># read timestamp</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=w></span>    <span class=n>read_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span><span class=w></span>    <span class=n>staleness</span><span class=o>=</span><span class=p>{</span><span class=s2>\"read_timestamp\"</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2021</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>17</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>55</span><span class=p>,</span> <span class=mi>30</span><span class=p>)}</span><span class=w></span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre><p>Note that the set option will be dropped when the connection is returnedback to the pool.</p></section><section id=request-priority><h3>Request priority</h3><p>In order to use Request Priorities feature in Cloud Spanner, SQLAlchemy provides an <span class=\"docutils literal\">execution_options</span> parameter:</p><pre><code><span class=kn>from</span> <span class=nn>google.cloud.spanner_v1</span> <span class=kn>import</span> <span class=n>RequestOptions</span><span class=w></span><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span><span class=o>.</span><span class=n>execution_options</span><span class=p>(</span><span class=w></span>    <span class=n>request_priority</span><span class=o>=</span><span class=n>RequestOptions</span><span class=o>.</span><span class=n>Priority</span><span class=o>.</span><span class=n>PRIORITY_MEDIUM</span><span class=w></span><span class=p>)</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>select</span><span class=p>([</span><span class=s2>\"*\"</span><span class=p>],</span> <span class=n>from_obj</span><span class=o>=</span><span class=n>table</span><span class=p>))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span></code></pre></section><section id=ddl-and-transactions><h3>DDL and transactions</h3><p>DDL statements are executed outside the regular transactions mechanism,which means DDL statements will not be rolled back on normal transactionrollback.</p></section><section id=dropping-a-table><h3>Dropping a table</h3><p>Cloud Spanner, by default, doesn\u2019t drop tables, which have secondaryindexes and/or foreign key constraints. In Spanner dialect forSQLAlchemy, however, this restriction is omitted - if a table you aretrying to delete has indexes/foreign keys, they will be droppedautomatically right before dropping the table.</p></section><section id=data-types><h3>Data types</h3><p>Data types table mapping SQLAlchemy types to Cloud Spanner types:</p><table><thead><tr><th class=head><p>SQLAlchemy</th><th class=head><p>Spanner</th></tr></thead><tbody><tr><td><p>INTEGER</td><td><p>INT64</td></tr><tr><td><p>BIGINT</td><td><p>INT64</td></tr><tr><td><p>DECIMAL</td><td><p>NUMERIC</td></tr><tr><td><p>FLOAT</td><td><p>FLOAT64</td></tr><tr><td><p>TEXT</td><td><p>STRING</td></tr><tr><td><p>ARRAY</td><td><p>ARRAY</td></tr><tr><td><p>BINARY</td><td><p>BYTES</td></tr><tr><td><p>VARCHAR</td><td><p>STRING</td></tr><tr><td><p>CHAR</td><td><p>STRING</td></tr><tr><td><p>BOOLEAN</td><td><p>BOOL</td></tr><tr><td><p>DATETIME</td><td><p>TIMESTAMP</td></tr><tr><td><p>NUMERIC</td><td><p>NUMERIC</td></tr></tbody></table></section><section id=other-limitations><h3>Other limitations</h3><ul class=simple><li><p>WITH RECURSIVE statement is not supported.</li><li><p>Named schemas are not supported.</li><li><p>Temporary tables are not supported.</li><li><p>Numeric type dimensions (scale and precision) are constant. See the<a href=\"https://cloud.google.com/spanner/docs/data-types#numeric_types\" rel=nofollow>docs</a>.</li></ul></section></section><section id=best-practices><h2>Best practices</h2><p>When a SQLAlchemy function is called, a new connection to a database isestablished and a Spanner session object is fetched. In case ofconnectionless execution these fetches are done for every <span class=\"docutils literal\">execute()</span>call, which can cause a significant latency. To avoid initiating aSpanner session on every <span class=\"docutils literal\">execute()</span> call it\u2019s recommended to writecode in connection-bounded fashion. Once a <span class=\"docutils literal\">Connection()</span> object isexplicitly initiated, it fetches a Spanner session object and uses itfor all the following calls made on this <span class=\"docutils literal\">Connection()</span> object.</p><p>Non-optimal connectionless use:</p><pre><code><span class=c1># execute() is called on object, which is not a Connection() object</span><span class=w></span><span class=n>insert</span><span class=p>(</span><span class=n>user</span><span class=p>)</span><span class=o>.</span><span class=n>values</span><span class=p>(</span><span class=n>user_id</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>user_name</span><span class=o>=</span><span class=s2>\"Full Name\"</span><span class=p>)</span><span class=o>.</span><span class=n>execute</span><span class=p>()</span></code></pre><p>Optimal connection-bounded use:</p><pre><code><span class=k>with</span> <span class=n>engine</span><span class=o>.</span><span class=n>begin</span><span class=p>()</span> <span class=k>as</span> <span class=n>connection</span><span class=p>:</span><span class=w></span>    <span class=c1># execute() is called on a Connection() object</span><span class=w></span>    <span class=n>connection</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>insert</span><span class=p>(),</span> <span class=p>{</span><span class=s2>\"user_id\"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>\"user_name\"</span><span class=p>:</span> <span class=s2>\"Full Name\"</span><span class=p>})</span></code></pre><p>Connectionless way of use is also deprecated since SQLAlchemy 2.0 andsoon will be removed (see in <a href=\"https://docs.sqlalchemy.org/en/14/core/connections.html#connectionless-execution-implicit-execution\" rel=nofollow>SQLAlchemydocs</a>).</p></section><section id=running-tests><h2>Running tests</h2><p>Spanner dialect includes a compliance, migration and unit test suite. Torun the tests the <span class=\"docutils literal\">nox</span> package commands can be used:</p><pre># Run the whole suite$ nox# Run a particular test session$ nox -s migration_test</pre><section id=running-tests-on-spanner-emulator><h3>Running tests on Spanner emulator</h3><p>The dialect test suite can be runned on <a href=\"https://cloud.google.com/spanner/docs/emulator\" rel=nofollow>Spanneremulator</a>. Severaltests, relating to <span class=\"docutils literal\">NULL</span> values of data types, are skipped whenexecuted on emulator.</p></section></section><section id=contributing><h2>Contributing</h2><p>Contributions to this library are welcome and encouraged. Please reportissues, file feature requests, and send pull requests. See<a href=\"https://github.com/googleapis/python-spanner-sqlalchemy/blob/main/contributing.md\" rel=nofollow>CONTRIBUTING</a>for more information on how to get started.</p><p><strong>Note that this project is not officially supported by Google as partof the Cloud Spanner product.</strong></p><p>Please note that this project is released with a Contributor Code ofConduct. By participating in this project you agree to abide by itsterms. See the <a href=\"https://github.com/googleapis/python-spanner-sqlalchemy/blob/main/code-of-conduct.md\" rel=nofollow>Code ofConduct</a>for more information.</p></section>          </div>        </div>        <div id=\"data\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"mobile-data-tab\" tabindex=\"-1\">          <h2 class=\"page-title\">Project details</h2><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Project links</h3>  <ul class=\"vertical-tabs__list\">    <li>      <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\" href=\"https://github.com/cloudspannerecosystem/python-spanner-sqlalchemy\" rel=\"nofollow\">        <i class=\"fas fa-home\" aria-hidden=\"true\"></i>Homepage      </a>    </li>  </ul></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Statistics</h3>  <div class=\"hidden github-repo-info\" data-controller=\"github-repo-info\">GitHub statistics:    <ul class=\"vertical-tabs__list\">      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"stargazersUrl\" rel=\"noopener\">          <i class=\"fa fa-star\" aria-hidden=\"true\"></i>          <strong>Stars:</strong>          <span data-github-repo-info-target=\"stargazersCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"forksUrl\" rel=\"noopener\">          <i class=\"fa fa-code-branch\" aria-hidden=\"true\"></i>          <strong>Forks:</strong>          <span data-github-repo-info-target=\"forksCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openIssuesUrl\" rel=\"noopener\">          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>          <strong>Open issues:</strong>          <span data-github-repo-info-target=\"openIssuesCount\"></span>        </a>      </li>      <li>        <a class=\"vertical-tabs__tab vertical-tabs__tab--with-icon vertical-tabs__tab--condensed\"           data-github-repo-info-target=\"openPRsUrl\" rel=\"noopener\">          <i class=\"fa fa-code-pull-request\" aria-hidden=\"true\"></i>          <strong>Open PRs:</strong>          <span data-github-repo-info-target=\"openPRsCount\"></span>        </a>      </li>    </ul>  </div>  <p>View statistics for this project via <a href=\"https://libraries.io/pypi/sqlalchemy-spanner\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Libraries.io</a>, or by using <a href=\"https://packaging.python.org/guides/analyzing-pypi-package-downloads/\" target=\"_blank\" rel=\"noopener\">our public dataset on Google BigQuery</a>  </p></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Meta</h3>    <p><strong>Author:</strong> <a href=\"mailto:cloud-spanner-developers@googlegroups.com\">Google LLC</a></p></div><div class=\"sidebar-section\">    <h3 class=\"sidebar-section__title\">Maintainers</h3>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/gcloudpypi/\" aria-label=\"gcloudpypi\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/256f37d0c08ce56870522d1b168937f9039b0065/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f62366461363362613435623733393138633436356135666564373361616237633f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for gcloudpypi from gravatar.com\" title=\"Avatar for gcloudpypi from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            gcloudpypi          </span>        </a>      </span>      <span class=\"sidebar-section__maintainer\">        <a href=\"/user/google_opensource/\" aria-label=\"google_opensource\">          <span class=\"sidebar-section__user-gravatar\">            <img src=\"https://pypi-camo.freetls.fastly.net/9bbaaacad4f69ac85e9de9e7179a3f0886305d3c/68747470733a2f2f7365637572652e67726176617461722e636f6d2f6176617461722f37323837613735336262386530656466353864393334653862313063303030383f73697a653d3530\" height=\"50\" width=\"50\" alt=\"Avatar for google_opensource from gravatar.com\" title=\"Avatar for google_opensource from gravatar.com\">          </span>          <span class=\"sidebar-section__user-gravatar-text\">            google_opensource          </span>        </a>      </span></div><div class=\"sidebar-section\">  <h3 class=\"sidebar-section__title\">Classifiers</h3>  <ul class=\"sidebar-section__classifiers\">    <li>      <strong>Intended Audience</strong>      <ul>        <li>          <a href=\"/search/?c=Intended+Audience+%3A%3A+Developers\">            Developers          </a>        </li>      </ul>    </li>  </ul></div>          <br>        </div>        <div id=\"history\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"history-tab mobile-history-tab\" tabindex=\"-1\">          <h2 class=\"page-title split-layout\">            <span>Release history</span>            <span class=\"reset-text margin-top\">              <a href=\"/help/#project-release-notifications\">Release notifications</a> |              <a href=\"/rss/project/sqlalchemy-spanner/releases.xml\">RSS feed <i class=\"fa fa-rss\" aria-hidden=\"true\"></i></a>            </span>          </h2>          <div class=\"release-timeline\">            <div class=\"release release--latest release--current\">              <div class=\"release__meta\">                <span class=\"badge\">This version</span>              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/blue-cube.572a5bfb.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.6.2/\">                <p class=\"release__version\">                  1.6.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-05-31T08:33:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 31, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.6.1/\">                <p class=\"release__version\">                  1.6.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-05-23T09:53:18+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 23, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.6.0/\">                <p class=\"release__version\">                  1.6.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-04-27T11:41:32+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 27, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.5.0/\">                <p class=\"release__version\">                  1.5.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-04-19T07:47:16+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 19, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.4.0/\">                <p class=\"release__version\">                  1.4.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-04-10T05:40:21+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Apr 10, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.3.0/\">                <p class=\"release__version\">                  1.3.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2023-03-21T05:23:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Mar 21, 2023</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.2.2/\">                <p class=\"release__version\">                  1.2.2                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-10-04T15:13:32+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Oct 4, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.2.1/\">                <p class=\"release__version\">                  1.2.1                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-08-12T06:46:40+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Aug 12, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.2.0/\">                <p class=\"release__version\">                  1.2.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-06-07T17:06:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Jun 7, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.1.0/\">                <p class=\"release__version\">                  1.1.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2022-05-18T12:26:28+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 18, 2022</time>                </p>              </a>            </div>            <div class=\"release\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/1.0.0/\">                <p class=\"release__version\">                  1.0.0                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-12-09T01:06:23+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Dec 9, 2021</time>                </p>              </a>            </div>            <div class=\"release release--oldest\">              <div class=\"release__meta\">              </div>              <div class=\"release__graphic\">                <div class=\"release__line\"></div>                <img class=\"release__node\" alt=\"\" src=\"https://pypi.org/static/images/white-cube.2351a86c.svg\">              </div>              <a class=\"card release__card\" href=\"/project/sqlalchemy-spanner/0.1.dev0/\">                <p class=\"release__version\">                  0.1.dev0                  <span class=\"badge badge--warning\">pre-release                  </span>                </p>                <p class=\"release__version-date\">                  <time datetime=\"2021-11-09T23:28:49+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  Nov 9, 2021</time>                </p>              </a>            </div>          </div>        </div>          <div id=\"files\" data-project-tabs-target=\"content\" class=\"vertical-tabs__content\" role=\"tabpanel\" aria-labelledby=\"files-tab mobile-files-tab\" tabindex=\"-1\">            <h2 class=\"page-title\">Download files</h2>            <p>Download the file for your platform. If you're not sure which to choose, learn more about <a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">installing packages</a>.</p>            <h3>Source Distribution            </h3>                  <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/b6/31/93c82ddd74910fdd0834c26876314c96c031ed64f006bdfd59736499513e/sqlalchemy-spanner-1.6.2.tar.gz\">          sqlalchemy-spanner-1.6.2.tar.gz        </a>        (74.3 kB        <a href=\"#copy-hash-modal-76d4c2ce-1123-445d-9032-5c8e67bbbab3\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2023-05-31T08:33:53+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 31, 2023</time>          <code>source</code>        </p>      </div>    </div>            <h3>Built Distribution            </h3>                <div class=\"file\">      <div class=\"file__graphic\">        <i class=\"far fa-file\" aria-hidden=\"true\"></i>      </div>      <div class=\"card file__card\">        <a href=\"https://files.pythonhosted.org/packages/22/7a/12c0b15f195b0d5e6256952b03d7caeff4f0ec3fcd7f3c5d4e748dcc88df/sqlalchemy_spanner-1.6.2-py3-none-any.whl\">          sqlalchemy_spanner-1.6.2-py3-none-any.whl        </a>        (26.6 kB        <a href=\"#copy-hash-modal-bc569314-1bb6-4bd8-8e5a-16f7168568d7\">view hashes</a>)        <p class=\"file__meta\">          Uploaded <time datetime=\"2023-05-31T08:33:51+0000\" data-controller=\"localized-time\" data-localized-time-relative=\"true\" data-localized-time-show-time=\"false\">  May 31, 2023</time>          <code>py3</code>        </p>      </div>    </div>          </div><div id=\"copy-hash-modal-76d4c2ce-1123-445d-9032-5c8e67bbbab3\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for sqlalchemy-spanner-1.6.2.tar.gz      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for sqlalchemy-spanner-1.6.2.tar.gz</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">093aed5b46d75a075a259d7aa8fbead4924190535461756cd6b86e19f1592c58</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">af7448514060c6bb338fb8249e25687a</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">b63193c82ddd74910fdd0834c26876314c96c031ed64f006bdfd59736499513e</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div><div id=\"copy-hash-modal-bc569314-1bb6-4bd8-8e5a-16f7168568d7\" class=\"modal modal--wide\">  <div class=\"modal__content\" role=\"dialog\">    <a href=\"#modal-close\" title=\"Close\" class=\"modal__close\">      <i class=\"fa fa-times\" aria-hidden=\"true\"></i>      <span class=\"sr-only\">Close</span>    </a>    <div class=\"modal__body\">      <h3 class=\"modal__title\"><a href=\"https://pip.pypa.io/en/stable/topics/secure-installs/#hash-checking-mode\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Hashes</a> for sqlalchemy_spanner-1.6.2-py3-none-any.whl      </h3>      <table class=\"table table--hashes\">        <caption class=\"sr-only\">Hashes for sqlalchemy_spanner-1.6.2-py3-none-any.whl</caption>        <thead>          <tr>            <th scope=\"col\">Algorithm</th>            <th scope=\"col\">Hash digest</th>            <th></th>          </tr>        </thead>        <tbody>          <tr data-controller=\"clipboard\">            <th scope=\"row\">SHA256</th>            <td><code data-clipboard-target=\"source\">901d5fe35d105baf58dce9f8098e903f399e9d6f9ccd027964bea853c9e4e507</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">MD5</th>            <td><code data-clipboard-target=\"source\">b20378de778da660f8f9fe9c36ee9c86</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>          <tr data-controller=\"clipboard\">            <th scope=\"row\">BLAKE2b-256</th>            <td><code data-clipboard-target=\"source\">227a12c0b15f195b0d5e6256952b03d7caeff4f0ec3fcd7f3c5d4e748dcc88df</code></td>            <td class=\"table__align-right\">              <button type=\"button\" class=\"button button--small copy-tooltip copy-tooltip-w\" data-action=\"clipboard#copy\" data-clipboard-target=\"tooltip\" data-clipboard-tooltip-value=\"Copy to clipboard\">Copy              </button>            </td>          </tr>        </tbody>      </table>    </div>    <div class=\"modal__footer\">      <a href=\"#modal-close\" class=\"button button--primary modal__action\">Close</a>    </div>  </div></div>      </div>    </div>  </div></div>    </main>    <footer class=\"footer\">      <div class=\"footer__logo\">        <img src=\"/static/images/white-cube.2351a86c.svg\" alt=\"\" class=\"-js-white-cube\">      </div>      <div class=\"footer__menus\">        <div class=\"footer__menu\">          <h2>Help</h2>          <nav aria-label=\"Help navigation\">            <ul>              <li><a href=\"https://packaging.python.org/tutorials/installing-packages/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Installing packages</a></li>              <li><a href=\"https://packaging.python.org/tutorials/packaging-projects/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Uploading packages</a></li>              <li><a href=\"https://packaging.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">User guide</a></li>              <li><a href=\"https://www.python.org/dev/peps/pep-0541/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Project name retention</a></li>              <li><a href=\"/help/\">FAQs</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>About PyPI</h2>          <nav aria-label=\"About PyPI navigation\">            <ul>              <li><a href=\"https://twitter.com/PyPI\" title=\"External link\" target=\"_blank\" rel=\"noopener\">PyPI on Twitter</a></li>              <li><a href=\"https://dtdg.co/pypi\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Infrastructure dashboard</a></li>              <li><a href=\"/stats/\">Statistics</a></li>              <li><a href=\"/trademarks/\">Logos & trademarks</a></li>              <li><a href=\"/sponsors/\">Our sponsors</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Contributing to PyPI</h2>          <nav aria-label=\"How to contribute navigation\">            <ul>              <li><a href=\"/help/#feedback\">Bugs and feedback</a></li>              <li><a href=\"https://github.com/pypi/warehouse\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Contribute on GitHub</a></li>              <li><a href=\"https://hosted.weblate.org/projects/pypa/warehouse/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Translate PyPI</a></li>              <li><a href=\"/sponsors/\">Sponsor PyPI</a></li>              <li><a href=\"https://github.com/pypi/warehouse/graphs/contributors\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Development credits</a></li>            </ul>          </nav>        </div>        <div class=\"footer__menu\">          <h2>Using PyPI</h2>          <nav aria-label=\"Using PyPI navigation\">            <ul>              <li><a href=\"https://github.com/pypa/.github/blob/main/CODE_OF_CONDUCT.md\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Code of conduct</a></li>              <li><a href=\"/security/\">Report security issue</a></li>              <li><a href=\"https://www.python.org/privacy/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Privacy policy</a></li>              <li><a href=\"/policy/terms-of-use/\">Terms of use</a></li>              <li><a href=\"/policy/acceptable-use-policy/\">Acceptable Use Policy</a></li>            </ul>          </nav>        </div>      </div>      <hr class=\"footer__divider\">      <div class=\"footer__text\">        <p>Status:<a href=\"https://status.python.org/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">          <span data-statuspage-domain=\"https://2p66nmmycsj3.statuspage.io\">all systems operational</span></a>        </p>        <p>Developed and maintained by the Python community, for the Python community.          <br>          <a href=\"https://donate.pypi.org\">Donate today!</a>        </p>        <p>          \"PyPI\", \"Python Package Index\", and the blocks logos are registered <a href=\"/trademarks/\">trademarks</a> of the <a href=\"https://python.org/psf-landing\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a>.<br>        </p>        <p>          \u00a9 2024 <a href=\"https://www.python.org/psf-landing/\" title=\"External link\" target=\"_blank\" rel=\"noopener\">Python Software Foundation</a><br>          <a href=\"/sitemap/\">Site map</a>        </p>      </div>      <div class=\"centered hide-on-desktop\">        <button type=\"button\" class=\"button button--switch-to-desktop hidden\" data-viewport-toggle-target=\"switchToDesktop\" data-action=\"viewport-toggle#switchToDesktop\">Switch to desktop version        </button>      </div>    </footer>    <div class=\"language-switcher\">      <form action=\"/locale/\">        <ul>          <li>            <button              class=\"language-switcher__selected\"              name=\"locale_id\" value=\"en\" type=\"submit\"            >              English            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"es\" type=\"submit\"            >              espa\u00f1ol            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"fr\" type=\"submit\"            >              fran\u00e7ais            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ja\" type=\"submit\"            >              \u65e5\u672c\u8a9e            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"pt_BR\" type=\"submit\"            >              portugu\u00eas (Brasil)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"uk\" type=\"submit\"            >              \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"el\" type=\"submit\"            >              \u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"de\" type=\"submit\"            >              Deutsch            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hans\" type=\"submit\"            >              \u4e2d\u6587 (\u7b80\u4f53)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"zh_Hant\" type=\"submit\"            >              \u4e2d\u6587 (\u7e41\u9ad4)            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"ru\" type=\"submit\"            >              \u0440\u0443\u0441\u0441\u043a\u0438\u0439            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"he\" type=\"submit\"            >              \u05e2\u05d1\u05e8\u05d9\u05ea            </button>          </li>          <li>            <button              name=\"locale_id\" value=\"eo\" type=\"submit\"            >              esperanto            </button>          </li>        </ul>      </form>    </div><div class=\"sponsors\">  <p class=\"sponsors__title\">Supported by</p>  <div class=\"sponsors__divider\"></div>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://aws.amazon.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/ed7074cadad1a06f56bc520ad9bd3e00d0704c5b/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6177732d77686974652d6c6f676f2d7443615473387a432e706e67\" alt=AWS loading=lazy>          <span class=\"sponsors__name\">AWS</span>          <span class=\"sponsors__service\">            Cloud computing and Security Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.datadoghq.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/8855f7c063a3bdb5b0ce8d91bfc50cf851cc5c51/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f64617461646f672d77686974652d6c6f676f2d6668644c4e666c6f2e706e67\" alt=Datadog loading=lazy>          <span class=\"sponsors__name\">Datadog</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.fastly.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/df6fe8829cbff2d7f668d98571df1fd011f36192/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f666173746c792d77686974652d6c6f676f2d65684d3077735f6f2e706e67\" alt=Fastly loading=lazy>          <span class=\"sponsors__name\">Fastly</span>          <span class=\"sponsors__service\">            CDN          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://careers.google.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/420cc8cf360bac879e24c923b2f50ba7d1314fb0/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f676f6f676c652d77686974652d6c6f676f2d616734424e3774332e706e67\" alt=Google loading=lazy>          <span class=\"sponsors__name\">Google</span>          <span class=\"sponsors__service\">            Download Analytics          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.python.org/psf/sponsors/#microsoft\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/524d1ce72f7772294ca4c1fe05d21dec8fa3f8ea/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f6d6963726f736f66742d77686974652d6c6f676f2d5a443172685444462e706e67\" alt=Microsoft loading=lazy>          <span class=\"sponsors__name\">Microsoft</span>          <span class=\"sponsors__service\">            PSF Sponsor          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://www.pingdom.com/\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/d01053c02f3a626b73ffcb06b96367fdbbf9e230/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f70696e67646f6d2d77686974652d6c6f676f2d67355831547546362e706e67\" alt=Pingdom loading=lazy>          <span class=\"sponsors__name\">Pingdom</span>          <span class=\"sponsors__service\">            Monitoring          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://getsentry.com/for/python\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/67af7117035e2345bacb5a82e9aa8b5b3e70701d/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f73656e7472792d77686974652d6c6f676f2d4a2d6b64742d706e2e706e67\" alt=Sentry loading=lazy>          <span class=\"sponsors__name\">Sentry</span>          <span class=\"sponsors__service\">            Error logging          </span>        </a>        <a class=\"sponsors__sponsor\" target=\"_blank\" rel=\"noopener\" href=\"https://statuspage.io\">          <img class=sponsors__image src=\"https://pypi-camo.freetls.fastly.net/b611884ff90435a0575dbab7d9b0d3e60f136466/68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f707970692d6173736574732f73706f6e736f726c6f676f732f737461747573706167652d77686974652d6c6f676f2d5467476c6a4a2d502e706e67\" alt=StatusPage loading=lazy>          <span class=\"sponsors__name\">StatusPage</span>          <span class=\"sponsors__service\">            Status page          </span>        </a></div>  </body></html>",
  "embeddings": []
}