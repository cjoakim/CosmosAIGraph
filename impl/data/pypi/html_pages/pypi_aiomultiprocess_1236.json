{
  "libtype": "pypi",
  "libname": "aiomultiprocess",
  "url": "https://aiomultiprocess.omnilib.dev",
  "html": "<!DOCTYPE html><html lang=\"en\">  <head>    <meta charset=\"utf-8\" />    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />    <title>aiomultiprocess &#8212; aiomultiprocess  documentation</title>    <link rel=\"stylesheet\" href=\"_static/pygments.css\" type=\"text/css\" />    <link rel=\"stylesheet\" href=\"_static/alabaster.css\" type=\"text/css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://assets.readthedocs.org/static/css/badge_only.css\" />    <script id=\"documentation_options\" data-url_root=\"./\" src=\"_static/documentation_options.js\"></script>    <script src=\"_static/jquery.js\"></script>    <script src=\"_static/underscore.js\"></script>    <script src=\"_static/doctools.js\"></script>    <script async=\"async\" src=\"https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js\"></script>    <link rel=\"canonical\" href=\"https://aiomultiprocess.omnilib.dev/en/stable/index.html\" />    <link rel=\"index\" title=\"Index\" href=\"genindex.html\" />    <link rel=\"search\" title=\"Search\" href=\"search.html\" />    <link rel=\"next\" title=\"User Guide\" href=\"guide.html\" />     <link rel=\"stylesheet\" href=\"_static/custom.css\" type=\"text/css\" />      <meta name=\"viewport\" content=\"width=device-width, initial-scale=0.9, maximum-scale=0.9\" />  <!-- RTD Extra Head --><link rel=\"stylesheet\" href=\"https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css\" type=\"text/css\" /><script type=\"application/json\" id=\"READTHEDOCS_DATA\">{\"ad_free\": false, \"api_host\": \"https://readthedocs.org\", \"build_date\": \"2021-03-01T01:07:15Z\", \"builder\": \"sphinx\", \"canonical_url\": null, \"commit\": \"423dec87\", \"docroot\": \"/docs/\", \"features\": {\"docsearch_disabled\": false}, \"global_analytics_code\": \"UA-17997319-1\", \"language\": \"en\", \"page\": \"index\", \"programming_language\": \"py\", \"project\": \"aiomultiprocess\", \"proxied_api_host\": \"/_\", \"source_suffix\": \".rst\", \"subprojects\": {}, \"theme\": \"alabaster\", \"user_analytics_code\": \"\", \"version\": \"stable\"}</script><!--Using this variable directly instead of using `JSON.parse` is deprecated.The READTHEDOCS_DATA global variable will be removed in the future.--><script type=\"text/javascript\">READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);</script><script type=\"text/javascript\" src=\"https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js\" async=\"async\"></script><!-- end RTD <extrahead> --></head><body>  <div class=\"document\">          <div class=\"sphinxsidebar\" role=\"navigation\" aria-label=\"main navigation\">        <div class=\"sphinxsidebarwrapper\"><h1 class=\"logo\"><a href=\"#\">aiomultiprocess</a></h1><p class=\"blurb\">Multiprocessing for AsyncIO</p><div class=\"omnilib-badges\">    <a class=\"github-button\" href=\"https://github.com/omnilib/aiomultiprocess\" data-size=\"large\"        data-show-count=\"true\" aria-label=\"Star omnilib/aiomultiprocess on GitHub\">Star</a></div><script async defer src=\"https://buttons.github.io/buttons.js\"></script><h3>Navigation</h3><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"guide.html\">User Guide</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"guide.html#workers\">Workers</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"guide.html#process-pools\">Process Pools</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"guide.html#advanced-usage\">Advanced Usage</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"guide.html#performance-tuning\">Performance Tuning</a></li></ul></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api.html\">API Reference</a><ul><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api.html#process-pools\">Process Pools</a></li><li class=\"toctree-l2\"><a class=\"reference internal\" href=\"api.html#advanced\">Advanced</a></li></ul></li></ul><ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"changelog.html\">Changelog</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"contributing.html\">Contributing</a></li></ul><hr /><ul>        <li class=\"toctree-l1\"><a href=\"https://github.com/omnilib/aiomultiprocess/issues\">Report Issues</a></li>    </ul><div class=\"relations\"><h3>Related Topics</h3><ul>  <li><a href=\"#\">Documentation overview</a><ul>      <li>Next: <a href=\"guide.html\" title=\"next chapter\">User Guide</a></li>  </ul></li></ul></div><div id=\"searchbox\" style=\"display: none\" role=\"search\">  <h3 id=\"searchlabel\">Quick search</h3>    <div class=\"searchformwrapper\">    <form class=\"search\" action=\"search.html\" method=\"get\">      <input type=\"text\" name=\"q\" aria-labelledby=\"searchlabel\" />      <input type=\"submit\" value=\"Go\" />    </form>    </div></div><script>$('#searchbox').show(0);</script><div class=\"omnilib\">    <h4>The Omnilib Project</h4>    <span>        <a href=\"https://omnilib.dev\">Omnilib</a> is a group of MIT licensed software libraries developed under a        common, inclusive <a href=\"https://omnilib.dev/code_of_conduct.html\">Code of Conduct</a>.        We are committed to providing a welcoming and open space for all contributors who adhere to these rules.    </span></div><div class=\"omnilib-badges\">    <a href=\"https://twitter.com/omnilib\" alt=\"Omnilib on Twitter\">        <i class=\"fab fa-twitter\"></i>    </a>    &nbsp;    <a href=\"https://github.com/omnilib\" alt=\"Omnilib on Github\">        <i class=\"fab fa-github\"></i>    </a>    &nbsp;    <a href=\"https://github.com/omnilib/aiomultiprocess\" alt=\"View site source\">        <i class=\"far fa-code\"></i>    </a></div><script src=\"https://kit.fontawesome.com/7b536acf49.js\" crossorigin=\"anonymous\"></script>        </div>      </div>      <div class=\"documentwrapper\">        <div class=\"bodywrapper\">                    <div class=\"body\" role=\"main\">              <div class=\"section\" id=\"aiomultiprocess\"><h1>aiomultiprocess<a class=\"headerlink\" href=\"#aiomultiprocess\" title=\"Permalink to this headline\">\u00b6</a></h1><p>Take a modern Python codebase to the next level of performance.</p><a class=\"reference external image-reference\" href=\"https://pypi.org/project/aiomultiprocess\"><img alt=\"version\" src=\"https://img.shields.io/pypi/v/aiomultiprocess.svg\" /></a><a class=\"reference external image-reference\" href=\"https://aiomultiprocess.omnilib.dev\"><img alt=\"documentation\" src=\"https://readthedocs.org/projects/aiosqlite/badge/?version=latest\" /></a><a class=\"reference external image-reference\" href=\"https://aiomultiprocess.omnilib.dev/en/latest/changelog.html\"><img alt=\"changelog\" src=\"https://img.shields.io/badge/change-log-blue\" /></a><a class=\"reference external image-reference\" href=\"https://github.com/omnilib/aiomultiprocess/blob/master/LICENSE\"><img alt=\"license\" src=\"https://img.shields.io/pypi/l/aiomultiprocess.svg\" /></a><a class=\"reference external image-reference\" href=\"https://github.com/omnilib/aiomultiprocess/actions\"><img alt=\"build status\" src=\"https://github.com/omnilib/aiomultiprocess/workflows/Build/badge.svg\" /></a><a class=\"reference external image-reference\" href=\"https://codecov.io/gh/omnilib/aiomultiprocess\"><img alt=\"code coverage\" src=\"https://img.shields.io/codecov/c/gh/omnilib/aiomultiprocess\" /></a><a class=\"reference external image-reference\" href=\"https://github.com/ambv/black\"><img alt=\"code style\" src=\"https://img.shields.io/badge/code%20style-black-000000.svg\" /></a><p>On their own, AsyncIO and multiprocessing are useful, but limited:AsyncIO still can\u2019t exceed the speed of GIL, and multiprocessing only works onone task at a time.  But together, they can fully realize their true potential.</p><p>aiomultiprocess presents a simple interface, while running a full AsyncIO eventloop on each child process, enabling levels of concurrency never before seenin a Python application.  Each child process can execute multiple coroutinesat once, limited only by the workload and number of cores available.</p><p>Gathering tens of thousands of network requests in seconds is as easy as:</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">Pool</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">pool</span><span class=\"p\">:</span>    <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"o\">&lt;</span><span class=\"n\">coroutine</span> <span class=\"n\">function</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"o\">&lt;</span><span class=\"n\">items</span><span class=\"o\">&gt;</span><span class=\"p\">)</span></pre></div></div><div class=\"section\" id=\"install\"><h2>Install<a class=\"headerlink\" href=\"#install\" title=\"Permalink to this headline\">\u00b6</a></h2><p>aiomultiprocess requires Python 3.6 or newer.You can install it from PyPI:</p><div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>$ pip3 install aiomultiprocess</pre></div></div></div><div class=\"section\" id=\"usage\"><h2>Usage<a class=\"headerlink\" href=\"#usage\" title=\"Permalink to this headline\">\u00b6</a></h2><p>Most of aiomultiprocess mimics the standard multiprocessing module wheneverpossible, while accounting for places that benefit from async functionality.</p><p>Running your asynchronous jobs on a pool of worker processes is easy:</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span><span class=\"kn\">from</span> <span class=\"nn\">aiohttp</span> <span class=\"kn\">import</span> <span class=\"n\">request</span><span class=\"kn\">from</span> <span class=\"nn\">aiomultiprocess</span> <span class=\"kn\">import</span> <span class=\"n\">Pool</span><span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">):</span>    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">request</span><span class=\"p\">(</span><span class=\"s2\">&quot;GET&quot;</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">response</span><span class=\"p\">:</span>        <span class=\"k\">return</span> <span class=\"k\">await</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">(</span><span class=\"s2\">&quot;utf-8&quot;</span><span class=\"p\">)</span><span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>    <span class=\"n\">urls</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">&quot;https://jreese.sh&quot;</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">]</span>    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">Pool</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">pool</span><span class=\"p\">:</span>        <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">result</span> <span class=\"ow\">in</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"n\">get</span><span class=\"p\">,</span> <span class=\"n\">urls</span><span class=\"p\">):</span>            <span class=\"o\">...</span>  <span class=\"c1\"># process result</span><span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;__main__&#39;</span><span class=\"p\">:</span>    <span class=\"c1\"># Python 3.7</span>    <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>    <span class=\"c1\"># Python 3.6</span>    <span class=\"c1\"># loop = asyncio.get_event_loop()</span>    <span class=\"c1\"># loop.run_until_complete(main())</span></pre></div></div><p>Take a look at the <a class=\"reference external\" href=\"https://aiomultiprocess.omnilib.dev/en/latest/guide.html\">User Guide</a> for more details and examples.</p><p>For further context, watch the PyCon US 2018 talk about aiomultiprocess,<a class=\"reference external\" href=\"https://www.youtube.com/watch?v=0kXaLh8Fz3k\">\u201cThinking Outside the GIL\u201d</a>:</p><blockquote><div><a class=\"reference external image-reference\" href=\"http://www.youtube.com/watch?v=0kXaLh8Fz3k&quot;PyCon2018-JohnReese-ThinkingOutsidetheGILwithAsyncIOandMultiprocessing&quot;\"><img alt=\"IMAGE ALT TEXT\" src=\"http://img.youtube.com/vi/0kXaLh8Fz3k/0.jpg\" /></a></div></blockquote><p>Slides available at <a class=\"reference external\" href=\"https://speakerdeck.com/jreese/thinking-outside-the-gil-2\">Speaker Deck</a>.</p></div><div class=\"section\" id=\"license\"><h2>License<a class=\"headerlink\" href=\"#license\" title=\"Permalink to this headline\">\u00b6</a></h2><p>aiomultiprocess is copyright <a class=\"reference external\" href=\"https://jreese.sh\">John Reese</a>, and licensed underthe MIT license.  I am providing code in this repository to you under an opensource license.  This is my personal repository; the license you receive tomy code is from me and not from my employer. See the <code class=\"docutils literal notranslate\"><span class=\"pre\">LICENSE</span></code> file for details.</p><div class=\"toctree-wrapper compound\"></div><div class=\"toctree-wrapper compound\"></div></div></div>          </div>                  </div>      </div>    <div class=\"clearer\"></div>  </div>    <div class=\"footer\">      &copy;2021, John Reese.            |      <a href=\"_sources/index.rst.txt\"          rel=\"nofollow\">Page source</a>    </div>          </body></html>",
  "embeddings": []
}