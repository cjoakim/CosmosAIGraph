{
  "libtype": "pypi",
  "libname": "rdflib-shim",
  "url": "http://hsolbrig.github.io/rdflib-shim",
  "html": "<!DOCTYPE html><html lang=\"en-US\">  <head>    <meta charset=\"UTF-8\">    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><!-- Begin Jekyll SEO tag v2.7.1 --><title>rdflib-shim | Serialize</title><meta name=\"generator\" content=\"Jekyll v3.9.0\" /><meta property=\"og:title\" content=\"rdflib-shim\" /><meta property=\"og:locale\" content=\"en_US\" /><meta name=\"description\" content=\"Serialize\" /><meta property=\"og:description\" content=\"Serialize\" /><link rel=\"canonical\" href=\"https://hsolbrig.github.io/rdflib-shim/\" /><meta property=\"og:url\" content=\"https://hsolbrig.github.io/rdflib-shim/\" /><meta property=\"og:site_name\" content=\"rdflib-shim\" /><meta name=\"twitter:card\" content=\"summary\" /><meta property=\"twitter:title\" content=\"rdflib-shim\" /><script type=\"application/ld+json\">{\"description\":\"Serialize\",\"url\":\"https://hsolbrig.github.io/rdflib-shim/\",\"@type\":\"WebSite\",\"headline\":\"rdflib-shim\",\"name\":\"rdflib-shim\",\"@context\":\"https://schema.org\"}</script><!-- End Jekyll SEO tag -->    <link rel=\"stylesheet\" href=\"/rdflib-shim/assets/css/style.css?v=\">    <!-- start custom head snippets, customize with your own _includes/head-custom.html file --><!-- Setup Google Analytics --><!-- You can set your favicon here --><!-- link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/rdflib-shim/favicon.ico\" --><!-- end custom head snippets -->  </head>  <body>    <div class=\"container-lg px-3 my-5 markdown-body\">            <h1><a href=\"https://hsolbrig.github.io/rdflib-shim/\">rdflib-shim</a></h1>            <p><a href=\"https://pypi.python.org/pypi/rdflib-shim\"><img src=\"https://img.shields.io/pypi/pyversions/rdflib-shim.svg\" alt=\"Pyversions\" /></a><img src=\"https://github.com/hsolbrig/rdflib-shim/workflows/unit%20tests/badge.svg\" alt=\"\" /><a href=\"https://pypi.python.org/pypi/rdflib-shim\"><img src=\"https://img.shields.io/pypi/v/rdflib-shim.svg\" alt=\"PyPi\" /></a></p><h1 id=\"rdflib-shim\">rdflib-shim</h1><p>A compatibility adapter for rdflib version 6.0.</p><h2 id=\"background\">Background</h2><p>The rdflib 5.x to 6.x transition introduced a couple of breaking changes.  This shimmakes those changes transparent to the outside world.</p><h3 id=\"1-serializedecode\">1) Serialize().decode()</h3><p>In rdflib 5.x, <code class=\"language-plaintext highlighter-rouge\">Graph.serialize</code> returned a byte array. This was changed to a <code class=\"language-plaintext highlighter-rouge\">str</code>in rdflib 6.x, which breaks all the code written in the form:   <code class=\"language-plaintext highlighter-rouge\">g.serialize(format=...).decode()</code></p><p>This shim decorates the return string from version 6 so that it has an identity <code class=\"language-plaintext highlighter-rouge\">decode()</code> method</p><p><code class=\"language-plaintext highlighter-rouge\">rdflib_shim</code> adds a wrapper on the rdflib Graph.serialize method that <em>always</em> has a decode() function, whether theoutput is in bytes or as a string</p><h3 id=\"2-rdflib-jsonld\">2) rdflib-jsonld</h3><p><strong>rdflib-jsonld</strong> was a separate package in the <code class=\"language-plaintext highlighter-rouge\">rdflib 5</code> ecosystem. While it is no longer necessary in<code class=\"language-plaintext highlighter-rouge\">rdflib 6</code>, there is no real harm in still having it present.  The issue, however, is as follows:</p><ul>  <li>version <code class=\"language-plaintext highlighter-rouge\">0.5.0</code> had a dependency on a variable (<code class=\"language-plaintext highlighter-rouge\">no_2to3</code>) in <code class=\"language-plaintext highlighter-rouge\">rdflib</code>.  This variable was remove in <code class=\"language-plaintext highlighter-rouge\">rdflib 6</code>.</li>  <li>version <code class=\"language-plaintext highlighter-rouge\">0.6.1</code> works with <em>either</em> <code class=\"language-plaintext highlighter-rouge\">rdflib 5</code> or <code class=\"language-plaintext highlighter-rouge\">rdflib 6</code></li>  <li>version <code class=\"language-plaintext highlighter-rouge\">0.6.2</code> was \u201ctombstoned\u201d, which, in this context means that <code class=\"language-plaintext highlighter-rouge\">pip install rdflib-jsonld</code> <em>and</em> <code class=\"language-plaintext highlighter-rouge\">pip install rdflib-jsonld~=0.5</code> are no-ops.  They don\u2019t do anything</li></ul><h2 id=\"recommendations\">Recommendations</h2><ul>  <li>If you don\u2019t have anything that needs the new stuff in rdflib 6:    <ul>      <li>rdflib&gt;~=5.0</li>      <li>rdflib-jsonld==0.6.1</li>    </ul>  </li>  <li>If you have to force everything to rdflib 6:    <ul>      <li>rdflib~=6.0</li>      <li>rdflib-jsonld==0.6.2</li>    </ul>  </li></ul><h2 id=\"usage\">Usage</h2><div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kn\">from</span> <span class=\"nn\">rdflib</span> <span class=\"kn\">import</span> <span class=\"n\">Graph</span><span class=\"p\">,</span> <span class=\"n\">RDF</span><span class=\"p\">,</span> <span class=\"n\">RDFS</span><span class=\"kn\">import</span> <span class=\"nn\">rdflib_shim</span><span class=\"c1\"># Make sure the import above works</span><span class=\"n\">shimed</span> <span class=\"o\">=</span> <span class=\"n\">rdflib_shim</span><span class=\"p\">.</span><span class=\"n\">RDFLIB_SHIM</span><span class=\"n\">g</span> <span class=\"o\">=</span> <span class=\"n\">Graph</span><span class=\"p\">()</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">add</span><span class=\"p\">(</span> <span class=\"p\">(</span><span class=\"n\">RDFS</span><span class=\"p\">.</span><span class=\"n\">Resource</span><span class=\"p\">,</span> <span class=\"n\">RDF</span><span class=\"p\">.</span><span class=\"nb\">type</span><span class=\"p\">,</span> <span class=\"n\">RDFS</span><span class=\"p\">.</span><span class=\"n\">resource</span><span class=\"p\">))</span><span class=\"c1\"># serialize() and serialize().decode() works in both 5 and 6</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">serialize</span><span class=\"p\">(</span><span class=\"nb\">format</span><span class=\"o\">=</span><span class=\"s\">\"turtle\"</span><span class=\"p\">)</span><span class=\"n\">g</span><span class=\"p\">.</span><span class=\"n\">serialize</span><span class=\"p\">(</span><span class=\"nb\">format</span><span class=\"o\">=</span><span class=\"s\">\"turtle\"</span><span class=\"p\">).</span><span class=\"n\">decode</span><span class=\"p\">()</span></code></pre></div></div>            <div class=\"footer border-top border-gray-light mt-5 pt-3 text-right text-gray\">        This site is open source. <a href=\"https://github.com/hsolbrig/rdflib-shim/edit/main/README.md\">Improve this page</a>.      </div>          </div>    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js\" integrity=\"sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=\" crossorigin=\"anonymous\"></script>    <script>anchors.add();</script>  </body></html>",
  "embeddings": []
}