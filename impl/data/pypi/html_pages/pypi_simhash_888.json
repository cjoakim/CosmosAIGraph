{
  "libtype": "pypi",
  "libname": "simhash",
  "url": "http://leons.im/posts/a-python-implementation-of-simhash-algorithm/",
  "html": "<!DOCTYPE html><!--[if IEMobile 7 ]><html class=\"no-js iem7\"><![endif]--><!--[if lt IE 9]><html class=\"no-js lte-ie8\"><![endif]--><!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class=\"no-js\" lang=\"en\"><!--<![endif]--><head>  <meta charset=\"utf-8\">  <title>A Python Implementation of Simhash Algorithm - Next Spaceship</title>  <meta name=\"author\" content=\"Leon\">    <meta name=\"description\" content=\"Recently I\u2019m reading an exellent paper: Detecting Near-Duplicates for Web Crawling, by Gurmeet Singh Manku, Arvind Jain and Anish Das Sarma. The &hellip;\">    <!-- http://t.co/dKP3o1e -->  <meta name=\"HandheldFriendly\" content=\"True\">  <meta name=\"MobileOptimized\" content=\"320\">  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">    <link rel=\"canonical\" href=\"https://leons.im/posts/a-python-implementation-of-simhash-algorithm\">  <link href=\"/favicon.png\" rel=\"icon\">  <link href=\"/stylesheets/font.css\" rel=\"stylesheet\" type=\"text/css\">  <link href=\"/stylesheets/screen.css\" media=\"screen, projection\" rel=\"stylesheet\" type=\"text/css\">  <link href=\"/stylesheets/table.css\" media=\"screen, projection\" rel=\"stylesheet\" type=\"text/css\" />  <script src=\"/mathjax/MathJax.js\"></script>  <link href=\"/atom.xml\" rel=\"alternate\" title=\"Next Spaceship\" type=\"application/atom+xml\">  <script src=\"/javascripts/modernizr-2.0.js\"></script>  <script>document.write(unescape('%3Cscript src=\"/javascripts/libs/jquery.min.js\"%3E%3C/script%3E'))</script>  <script src=\"/javascripts/octopress.js\" type=\"text/javascript\"></script>      <script type=\"text/javascript\">    var _gaq = _gaq || [];    _gaq.push(['_setAccount', 'UA-34173187-1']);    _gaq.push(['_trackPageview']);    (function() {setTimeout(function() {      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);      }, 500);})();  </script></head><body    class=\"collapse-sidebar sidebar-footer\" >  <header role=\"banner\"><hgroup>  <h1><a href=\"/\">Next Spaceship</a></h1>      <h2>Driving into future...</h2>  </hgroup></header>  <nav role=\"navigation\"><ul class=\"subscription\" data-subscription=\"rss\">  <li><a href=\"/atom.xml\" rel=\"subscribe-rss\" title=\"subscribe via RSS\">RSS</a></li>  </ul>  <form action=\"https://www.google.com/search\" method=\"get\">  <fieldset role=\"search\">    <input type=\"hidden\" name=\"sitesearch\" value=\"leons.im\">    <input class=\"search\" type=\"text\" name=\"q\" results=\"0\" placeholder=\"Search\"/>  </fieldset></form>  <ul class=\"main-navigation\">  <li><a href=\"/archives/\">Archives</a></li>  <li><a href=\"/portfolio/\">Portfolio</a></li>  <li><a href=\"/bookmarks/\">Bookmarks</a></li>  <li><a href=\"/about/\">About</a></li></ul></nav>  <div id=\"main\">    <div id=\"content\">      <div><article class=\"hentry\" role=\"article\">    <header>          <h1 class=\"entry-title\">A Python Implementation of Simhash Algorithm</h1>              <p class=\"meta\">                           | <a href=\"#disqus_thread\"             data-disqus-identifier=\"https://leons.im\">Comments</a>              </p>      </header><div class=\"entry-content\"><p>Recently I\u2019m reading an exellent paper: <a href=\"http://www.wwwconference.org/www2007/papers/paper215.pdf\">Detecting Near-Duplicates for Web Crawling</a>, by Gurmeet Singh Manku, Arvind Jain and Anish Das Sarma.</p><p>The interesting of simhash algorithm is its two properties:</p><blockquote><p>Properties of simhash: Note that simhash possesses two conicting properties: (A) The fingerprint of a document is a \"hash\" of its features, and (B) Similar documents have similar hash values.</p></blockquote><p>Maybe it\u2019s because of the beauty of the algorithm, I find myself implementing it. <a href=\"https://github.com/leonsim/simhash\">https://github.com/leonsim/simhash</a></p><!-- more --><h2 id=\"getting-started\">Getting Started</h2><div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>pip install simhash(or: easy_install simhash)</code></pre></div></div><p>View simhash value:</p><div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kn\">import</span> <span class=\"nn\">re</span><span class=\"kn\">from</span> <span class=\"nn\">simhash</span> <span class=\"kn\">import</span> <span class=\"n\">Simhash</span><span class=\"k\">def</span> <span class=\"nf\">get_features</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">):</span>    <span class=\"n\">width</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span>    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"p\">.</span><span class=\"n\">sub</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s\">'[^\\w]+'</span><span class=\"p\">,</span> <span class=\"s\">''</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">)</span>    <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">:</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">width</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"n\">width</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))]</span><span class=\"k\">print</span> <span class=\"s\">'%x'</span> <span class=\"o\">%</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"n\">get_features</span><span class=\"p\">(</span><span class=\"s\">'How are you? I am fine. Thanks.'</span><span class=\"p\">)).</span><span class=\"n\">value</span><span class=\"k\">print</span> <span class=\"s\">'%x'</span> <span class=\"o\">%</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"n\">get_features</span><span class=\"p\">(</span><span class=\"s\">'How are u? I am fine.     Thanks.'</span><span class=\"p\">)).</span><span class=\"n\">value</span><span class=\"k\">print</span> <span class=\"s\">'%x'</span> <span class=\"o\">%</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"n\">get_features</span><span class=\"p\">(</span><span class=\"s\">'How r you?I    am fine. Thanks.'</span><span class=\"p\">)).</span><span class=\"n\">value</span></code></pre></div></div><p>Get distance of two simhash:</p><div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kn\">from</span> <span class=\"nn\">simhash</span> <span class=\"kn\">import</span> <span class=\"n\">Simhash</span><span class=\"k\">print</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"s\">'aa'</span><span class=\"p\">).</span><span class=\"n\">distance</span><span class=\"p\">(</span><span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"s\">'bb'</span><span class=\"p\">))</span><span class=\"k\">print</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"s\">'aa'</span><span class=\"p\">).</span><span class=\"n\">distance</span><span class=\"p\">(</span><span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"s\">'aa'</span><span class=\"p\">))</span></code></pre></div></div><h2 id=\"use-the-simhash-index\">Use the Simhash Index</h2><p>Use the SimhashIndex to query near duplicates objects in a very efficient way.</p><div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code><span class=\"kn\">import</span> <span class=\"nn\">re</span><span class=\"kn\">from</span> <span class=\"nn\">simhash</span> <span class=\"kn\">import</span> <span class=\"n\">Simhash</span><span class=\"p\">,</span> <span class=\"n\">SimhashIndex</span><span class=\"k\">def</span> <span class=\"nf\">get_features</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">):</span>    <span class=\"n\">width</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span>    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"p\">.</span><span class=\"n\">sub</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s\">'[^\\w]+'</span><span class=\"p\">,</span> <span class=\"s\">''</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">)</span>    <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">:</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"n\">width</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"n\">width</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))]</span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>    <span class=\"mi\">1</span><span class=\"p\">:</span> <span class=\"sa\">u</span><span class=\"s\">'How are you? I Am fine. blar blar blar blar blar Thanks.'</span><span class=\"p\">,</span>    <span class=\"mi\">2</span><span class=\"p\">:</span> <span class=\"sa\">u</span><span class=\"s\">'How are you i am fine. blar blar blar blar blar than'</span><span class=\"p\">,</span>    <span class=\"mi\">3</span><span class=\"p\">:</span> <span class=\"sa\">u</span><span class=\"s\">'This is simhash test.'</span><span class=\"p\">,</span><span class=\"p\">}</span><span class=\"n\">objs</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">k</span><span class=\"p\">),</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"n\">get_features</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)))</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">items</span><span class=\"p\">()]</span><span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"n\">SimhashIndex</span><span class=\"p\">(</span><span class=\"n\">objs</span><span class=\"p\">,</span> <span class=\"n\">k</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"k\">print</span> <span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">bucket_size</span><span class=\"p\">()</span><span class=\"n\">s1</span> <span class=\"o\">=</span> <span class=\"n\">Simhash</span><span class=\"p\">(</span><span class=\"n\">get_features</span><span class=\"p\">(</span><span class=\"sa\">u</span><span class=\"s\">'How are you i am fine. blar blar blar blar blar thank'</span><span class=\"p\">))</span><span class=\"k\">print</span> <span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">get_near_dups</span><span class=\"p\">(</span><span class=\"n\">s1</span><span class=\"p\">)</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s\">'4'</span><span class=\"p\">,</span> <span class=\"n\">s1</span><span class=\"p\">)</span><span class=\"k\">print</span> <span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">get_near_dups</span><span class=\"p\">(</span><span class=\"n\">s1</span><span class=\"p\">)</span></code></pre></div></div><h2 id=\"source-code\">Source Code</h2><p>View <a href=\"https://github.com/leonsim/simhash\">Source Code</a> at GitHub.</p></div>  <footer>    <p class=\"meta\">      <span class=\"byline author vcard\">Posted by <span class=\"fn\">Leon</span></span>            <span class=\"categories\">      Algorithm  </span>    </p>          <div class=\"sharing\">      <div class=\"g-plusone\" data-size=\"medium\"></div>    </div>        <p class=\"meta\">              <a class=\"basic-alignment left\" href=\"/posts/snipet-to-insert-html-at-caret/\" title=\"Previous Post: Snipet to Insert HTML at Caret\">&laquo; Snipet to Insert HTML at Caret</a>                    <a class=\"basic-alignment right\" href=\"/posts/converting-text-files-from-one-operating-system-to-another-in-python/\" title=\"Next Post: Converting Text Files From One Operating System to Another in Python\">Converting Text Files From One Operating System to Another in Python &raquo;</a>          </p>  </footer></article>  <section>    <h1>Comments</h1>    <div id=\"disqus_thread\" aria-live=\"polite\"><noscript>Please enable JavaScript to view the <a href=\"http://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript></div>  </section></div><aside class=\"sidebar\">      <section>  <h1>Recent Posts</h1>  <ul id=\"recent_posts\">          <li class=\"post\">        <a href=\"/posts/why-emv-qr-code-was-not-designed-well/\">Why EMV QR Code Was NOT Designed Well</a>      </li>          <li class=\"post\">        <a href=\"/posts/singapore-weekend-activity-rotations/\">Singapore Weekend Activity Rotations</a>      </li>          <li class=\"post\">        <a href=\"/posts/resolve-ubiquiti-router-web-console-https-certificate-issue/\">Resolve Ubiquiti Router Web Console HTTPS Certificate Issue</a>      </li>          <li class=\"post\">        <a href=\"/posts/mod-supermicro-motherboard-to-support-nvme/\">Mod Supermicro Motherboard BIOS to Support NVME</a>      </li>          <li class=\"post\">        <a href=\"/posts/mikrotik-vs-ubiquiti/\">MikroTik vs Ubiquiti</a>      </li>          <li class=\"post\">        <a href=\"/posts/caveat-use-ubiquiti-er-x-in-china/\">Caveat: Use Ubiquiti ER-X in China</a>      </li>          <li class=\"post\">        <a href=\"/posts/from-gpu-computing-to-crypto-currency-miner/\">From GPU Computing to Cryptocurrency Miner</a>      </li>          <li class=\"post\">        <a href=\"/posts/southeast-asias-diversity-in-language/\">Southeast Asia's Diversity in Language.</a>      </li>          <li class=\"post\">        <a href=\"/posts/what-we-use-make-who-we-are/\">What We Use Make Who We Are</a>      </li>          <li class=\"post\">        <a href=\"/posts/integrate-everything-into-slack/\">Integrate Everything Into Slack</a>      </li>      </ul></section><section><h1>Sites</h1><ul>    <li><a href=\"http://zhufangzhi.com/\">ZhuFangZhi - House Renting Search Engine</a></li>    <li><a href=\"http://smalloj.com/\">Small OJ - Online Judge System</a></li>    <li><a href=\"http://www.beautoday.com/\">Beautoday - Online Shoes Shopping</a></li>    <li><a href=\"http://aivsai.sinaapp.com/\">AI vs AI - Online AI PK System</a></li></ul></section><section><h1>Blogroll</h1><ul>    <li><a href=\"http://wilburding.github.com/\">Wilbur Ding's Blog (Chinese)</a></li>    <li><a href=\"http://joshlamar.com/\">Music blog of Josh LaMar</a></li>    <li><a href=\"https://tanglao.me/\">Tang's Blog (Chinese)</a></li>    <li><a href=\"http://www.zhizhihu.com/\">\u4e15\u5b50</a></li>    <li><a href=\"http://qingfeng.github.com/\">\u6e05\u98ce\u306eBlog</a></li>    <li><a href=\"http://cnborn.net/\">CNBorn--Dharma's truth</a></li>    <li><a href=\"http://www.neugls.info/\">Neugls Work Studio</a></li>    <li><a href=\"http://liluo.org/\">\u843d</a></li>    <li><a href=\"http://zhangchi.de/\">\u628a\u65e5\u5b50\u5199\u6210\u6b4c</a></li>    <li><a href=\"http://bevin.co.nr/\">Bevin's Blog</a></li>    <li><a href=\"http://yongyule.com/\">\u6c38\u9047\u4e50</a></li></ul></section><section>  <h1>Tag Cloud</h1>    <span id=\"tag-cloud\"><a href='/topics/algorithm' style='font-size: 118.94736842105263%'>Algorithm(6)</a> <a href='/topics/android' style='font-size: 109.47368421052632%'>Android(3)</a> <a href='/topics/aws' style='font-size: 103.15789473684211%'>AWS(1)</a> <a href='/topics/bios' style='font-size: 103.15789473684211%'>BIOS(1)</a> <a href='/topics/c' style='font-size: 109.47368421052632%'>C(3)</a> <a href='/topics/ci' style='font-size: 103.15789473684211%'>ci(1)</a> <a href='/topics/cpp' style='font-size: 112.63157894736842%'>CPP(4)</a> <a href='/topics/cryptocurrency' style='font-size: 103.15789473684211%'>Cryptocurrency(1)</a> <a href='/topics/css' style='font-size: 106.3157894736842%'>CSS(2)</a> <a href='/topics/database' style='font-size: 109.47368421052632%'>Database(3)</a> <a href='/topics/db' style='font-size: 103.15789473684211%'>DB(1)</a> <a href='/topics/design' style='font-size: 103.15789473684211%'>design(1)</a> <a href='/topics/education' style='font-size: 103.15789473684211%'>Education(1)</a> <a href='/topics/frontend' style='font-size: 112.63157894736842%'>Frontend(4)</a> <a href='/topics/gpu' style='font-size: 103.15789473684211%'>GPU(1)</a> <a href='/topics/graphics' style='font-size: 106.3157894736842%'>Graphics(2)</a> <a href='/topics/hg' style='font-size: 103.15789473684211%'>Hg(1)</a> <a href='/topics/iphone' style='font-size: 103.15789473684211%'>iPhone(1)</a> <a href='/topics/java' style='font-size: 106.3157894736842%'>Java(2)</a> <a href='/topics/javascript' style='font-size: 103.15789473684211%'>javascript(1)</a> <a href='/topics/javascript' style='font-size: 109.47368421052632%'>Javascript(3)</a> <a href='/topics/life' style='font-size: 125.26315789473685%'>Life(8)</a> <a href='/topics/linux' style='font-size: 141.05263157894737%'>Linux(13)</a> <a href='/topics/literature' style='font-size: 103.15789473684211%'>Literature(1)</a> <a href='/topics/mac-os' style='font-size: 115.78947368421052%'>Mac OS(5)</a> <a href='/topics/management' style='font-size: 103.15789473684211%'>management(1)</a> <a href='/topics/math' style='font-size: 112.63157894736842%'>Math(4)</a> <a href='/topics/network' style='font-size: 122.10526315789474%'>Network(7)</a> <a href='/topics/news' style='font-size: 103.15789473684211%'>News(1)</a> <a href='/topics/op' style='font-size: 103.15789473684211%'>Op(1)</a> <a href='/topics/operation' style='font-size: 106.3157894736842%'>Operation(2)</a> <a href='/topics/payments' style='font-size: 103.15789473684211%'>payments(1)</a> <a href='/topics/problems' style='font-size: 141.05263157894737%'>Problems(13)</a> <a href='/topics/problems' style='font-size: 103.15789473684211%'>problems(1)</a> <a href='/topics/python' style='font-size: 147.3684210526316%'>Python(15)</a> <a href='/topics/script' style='font-size: 103.15789473684211%'>Script(1)</a> <a href='/topics/scrum' style='font-size: 103.15789473684211%'>scrum(1)</a> <a href='/topics/security' style='font-size: 122.10526315789474%'>Security(7)</a> <a href='/topics/security' style='font-size: 103.15789473684211%'>security(1)</a> <a href='/topics/server' style='font-size: 118.94736842105263%'>Server(6)</a> <a href='/topics/skills' style='font-size: 112.63157894736842%'>Skills(4)</a> <a href='/topics/software' style='font-size: 103.15789473684211%'>Software(1)</a> <a href='/topics/start-up' style='font-size: 103.15789473684211%'>start up(1)</a> <a href='/topics/study' style='font-size: 103.15789473684211%'>Study(1)</a> <a href='/topics/tool' style='font-size: 103.15789473684211%'>tool(1)</a> <a href='/topics/tools' style='font-size: 103.15789473684211%'>tools(1)</a> <a href='/topics/tools' style='font-size: 112.63157894736842%'>Tools(4)</a> <a href='/topics/vim' style='font-size: 106.3157894736842%'>Vim(2)</a> <a href='/topics/web' style='font-size: 160.0%'>Web(19)</a> <a href='/topics/windows' style='font-size: 106.3157894736842%'>Windows(2)</a> </span></section><section class=\"googleplus\">  <h1>    <a href=\"https://plus.google.com/110382236002934621103?rel=author\">      <img src=\"//www.google.com/images/icons/ui/gprofile_button-32.png\" width=\"32\" height=\"32\">      Google+    </a>  </h1></section>  </aside>    </div>  </div>  <footer role=\"contentinfo\"><p>Copyright &copy; 2009-2017 | Leon |<span class=\"credit\">    Powered by: <a href=\"http://octopress.org\">Octopress</a>, <a href=\"http://nginx.org/\">nginx</a>, <a href=\"https://bitbucket.org/\">Bitbucket</a> |</span>Hosted on <a href=\"http://aws.amazon.com/\">Amazon's EC2</a> and <a href=\"http://www.linode.com/?r=b522a746e7e23272f26dda24f7f4557dcc803236\">Linode</a>.</p></footer>  <script type=\"text/javascript\">      var disqus_shortname = 'liangsun';                      // var disqus_developer = 1;        var disqus_identifier = 'https://leons.im/posts/a-python-implementation-of-simhash-algorithm/';        var disqus_url = 'https://leons.im/posts/a-python-implementation-of-simhash-algorithm/';        var disqus_script = 'embed.js';          (function () {      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);    }());</script>  <script type=\"text/javascript\">    (function() {      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;      script.src = 'https://apis.google.com/js/plusone.js';      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);    })();  </script></body></html>",
  "embeddings": []
}