{
  "libtype": "pypi",
  "libname": "flask-limiter",
  "url": "https://flask-limiter.readthedocs.org",
  "html": "<!doctype html><html class=\"no-js\" lang=\"en\" data-content_root=\"./\">  <head><meta charset=\"utf-8\"/>    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>    <meta name=\"color-scheme\" content=\"light dark\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /><meta property=\"og:title\" content=\"Flask-Limiter\" /><meta property=\"og:type\" content=\"website\" /><meta property=\"og:url\" content=\"index.html\" /><meta property=\"og:site_name\" content=\"Flask-Limiter\" /><meta property=\"og:description\" content=\"Flask-Limiter adds rate limiting to Flask applications. By adding the extension to your flask application, you can configure various rate limits at different levels (e.g. application wide, per Blue...\" /><meta property=\"og:image\" content=\"_static/logo-og.png\" /><meta property=\"og:image:alt\" content=\"Flask-Limiter\" /><meta name=\"description\" content=\"Flask-Limiter adds rate limiting to Flask applications. By adding the extension to your flask application, you can configure various rate limits at different levels (e.g. application wide, per Blue...\" /><link rel=\"index\" title=\"Index\" href=\"genindex.html\" /><link rel=\"search\" title=\"Search\" href=\"search.html\" /><link rel=\"next\" title=\"Rate limiting strategies\" href=\"strategies.html\" />    <link rel=\"shortcut icon\" href=\"_static/tap-icon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->        <title>Flask-Limiter {3.5.1}</title>      <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=85e76eac\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/tabs.css?v=4c969af8\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/sphinx_paramlinks.css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"/_/static/css/badge_only.css\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/custom.css?v=6581cf78\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/colors.css?v=71ff3974\" />    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Be+Vietnam+Pro:wght@500&display=swap\" />        <style>  body {    --color-code-background: #fbf1c7;  --color-code-foreground: black;  --font-stack: Fira Sans, sans-serif;  --font-stack--monospace: Fira Code, monospace;  --color-brand-primary:  #8f3f71;  --color-brand-content:  #076678;    }  @media not print {    body[data-theme=\"dark\"] {      --color-code-background: #282828;  --color-code-foreground: #dddddd;  --color-brand-primary:  #b16286;  --color-brand-content:  #458588;  --color-background-primary:  #3c3836;  --color-background-secondary:  #282828;  --color-foreground-primary:  #fbf1c7;  --color-foreground-secondary:  #ebdbb2;  --color-highlighted-background:  #d79921;  --color-highlight-on-target:  #504945;      }    @media (prefers-color-scheme: dark) {      body:not([data-theme=\"light\"]) {        --color-code-background: #282828;  --color-code-foreground: #dddddd;  --color-brand-primary:  #b16286;  --color-brand-content:  #458588;  --color-background-primary:  #3c3836;  --color-background-secondary:  #282828;  --color-foreground-primary:  #fbf1c7;  --color-foreground-secondary:  #ebdbb2;  --color-highlighted-background:  #d79921;  --color-highlight-on-target:  #504945;        }    }  }</style><!-- RTD Extra Head --><link rel=\"stylesheet\" href=\"/_/static/css/readthedocs-doc-embed.css\" type=\"text/css\" /><script type=\"application/json\" id=\"READTHEDOCS_DATA\">{\"ad_free\": false, \"api_host\": \"https://readthedocs.org\", \"builder\": \"sphinx\", \"canonical_url\": null, \"docroot\": \"/doc/source/\", \"features\": {\"docsearch_disabled\": false}, \"global_analytics_code\": \"UA-17997319-1\", \"language\": \"en\", \"page\": \"index\", \"programming_language\": \"py\", \"project\": \"flask-limiter\", \"proxied_api_host\": \"/_\", \"source_suffix\": \".rst\", \"subprojects\": {}, \"theme\": \"furo\", \"user_analytics_code\": \"G-LLZ54SK2PK\", \"version\": \"stable\"}</script><!--Using this variable directly instead of using `JSON.parse` is deprecated.The READTHEDOCS_DATA global variable will be removed in the future.--><script type=\"text/javascript\">READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);</script><script type=\"text/javascript\" src=\"/_/static/javascript/readthedocs-analytics.js\" async=\"async\"></script><!-- end RTD <extrahead> --></head>  <body>        <script>      document.body.dataset.theme = localStorage.getItem(\"theme\") || \"auto\";    </script>    <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display: none;\">  <symbol id=\"svg-toc\" viewBox=\"0 0 24 24\">    <title>Contents</title>    <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 1024 1024\">      <path d=\"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z\"/>    </svg>  </symbol>  <symbol id=\"svg-menu\" viewBox=\"0 0 24 24\">    <title>Menu</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-menu\">      <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>      <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>    </svg>  </symbol>  <symbol id=\"svg-arrow-right\" viewBox=\"0 0 24 24\">    <title>Expand</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-chevron-right\">      <polyline points=\"9 18 15 12 9 6\"></polyline>    </svg>  </symbol>  <symbol id=\"svg-sun\" viewBox=\"0 0 24 24\">    <title>Light mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather-sun\">      <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>      <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>      <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>      <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>      <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>      <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>      <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>      <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>      <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>    </svg>  </symbol>  <symbol id=\"svg-moon\" viewBox=\"0 0 24 24\">    <title>Dark mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"icon-tabler-moon\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />      <path d=\"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z\" />    </svg>  </symbol>  <symbol id=\"svg-sun-half\" viewBox=\"0 0 24 24\">    <title>Auto light/dark mode</title>    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"      stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"icon-tabler-shadow\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>      <circle cx=\"12\" cy=\"12\" r=\"9\" />      <path d=\"M13 12h5\" />      <path d=\"M13 15h4\" />      <path d=\"M13 18h1\" />      <path d=\"M13 9h4\" />      <path d=\"M13 6h1\" />    </svg>  </symbol></svg><input type=\"checkbox\" class=\"sidebar-toggle\" name=\"__navigation\" id=\"__navigation\"><input type=\"checkbox\" class=\"sidebar-toggle\" name=\"__toc\" id=\"__toc\"><label class=\"overlay sidebar-overlay\" for=\"__navigation\">  <div class=\"visually-hidden\">Hide navigation sidebar</div></label><label class=\"overlay toc-overlay\" for=\"__toc\">  <div class=\"visually-hidden\">Hide table of contents sidebar</div></label><div class=\"page\">  <header class=\"mobile-header\">    <div class=\"header-left\">      <label class=\"nav-overlay-icon\" for=\"__navigation\">        <div class=\"visually-hidden\">Toggle site navigation sidebar</div>        <i class=\"icon\"><svg><use href=\"#svg-menu\"></use></svg></i>      </label>    </div>    <div class=\"header-center\">      <a href=\"#\"><div class=\"brand\">Flask-Limiter <small><b style='color: var(--color-brand-primary)'>{3.5.1}</b></small></div></a>    </div>    <div class=\"header-right\">      <div class=\"theme-toggle-container theme-toggle-header\">        <button class=\"theme-toggle\">          <div class=\"visually-hidden\">Toggle Light / Dark / Auto color theme</div>          <svg class=\"theme-icon-when-auto\"><use href=\"#svg-sun-half\"></use></svg>          <svg class=\"theme-icon-when-dark\"><use href=\"#svg-moon\"></use></svg>          <svg class=\"theme-icon-when-light\"><use href=\"#svg-sun\"></use></svg>        </button>      </div>      <label class=\"toc-overlay-icon toc-header-icon\" for=\"__toc\">        <div class=\"visually-hidden\">Toggle table of contents sidebar</div>        <i class=\"icon\"><svg><use href=\"#svg-toc\"></use></svg></i>      </label>    </div>  </header>  <aside class=\"sidebar-drawer\">    <div class=\"sidebar-container\">            <div class=\"sidebar-sticky\"><a class=\"sidebar-brand\" href=\"#\">    <div class=\"sidebar-logo-container\">    <img class=\"sidebar-logo only-light\" src=\"_static/tap-icon.png\" alt=\"Light Logo\"/>    <img class=\"sidebar-logo only-dark\" src=\"_static/tap-icon.png\" alt=\"Dark Logo\"/>  </div>    <span class=\"sidebar-brand-text\">Flask-Limiter <small><b style='color: var(--color-brand-primary)'>{3.5.1}</b></small></span>  </a><form class=\"sidebar-search-container\" method=\"get\" action=\"search.html\" role=\"search\">  <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">  <input type=\"hidden\" name=\"check_keywords\" value=\"yes\">  <input type=\"hidden\" name=\"area\" value=\"default\"></form><div id=\"searchbox\"></div><div class=\"sidebar-scroll\"><div class=\"sidebar-tree\">  <ul><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"strategies.html\">Rate limiting strategies</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"configuration.html\">Configuration</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"recipes.html\">Recipes</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"cli.html\">Command Line Interface</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"api.html\">API</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"development.html\">Development</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"changelog.html\">Changelog</a></li><li class=\"toctree-l1\"><a class=\"reference internal\" href=\"misc.html\">Appendix</a></li></ul></div><div  id=\"furo-sidebar-ad-placement\"  class=\"flat\"  data-ea-publisher=\"readthedocs\"  data-ea-type=\"readthedocs-sidebar\"  data-ea-manual=\"true\"></div></div><div id=\"furo-readthedocs-versions\" class=\"rst-versions\" data-toggle=\"rst-versions\" role=\"note\" aria-label=\"Versions\" tabindex=\"0\">  <span class=\"rst-current-version\" data-toggle=\"rst-current-version\">    <span class=\"fa fa-book\">&nbsp;</span>    v: stable  </span>  <div class=\"rst-other-versions\">    <dl>      <dt>Versions</dt>              <dd><a href=\"/en/latest/\">latest</a></dd>              <dd><a href=\"/en/stable/\">stable</a></dd>          </dl>    <dl>      <dt>Downloads</dt>          </dl>    <dl>            <dt>On Read the Docs</dt>        <dd>          <a href=\"//readthedocs.org/projects/flask-limiter/?fromdocs=flask-limiter\">Project Home</a>        </dd>        <dd>          <a href=\"//readthedocs.org/builds/flask-limiter/?fromdocs=flask-limiter\">Builds</a>        </dd>    </dl>  </div></div>      </div>          </div>  </aside>  <div class=\"main\">    <div class=\"content\">      <div class=\"article-container\">        <a href=\"#\" class=\"back-to-top muted-link\">          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">            <path d=\"M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z\"></path>          </svg>          <span>Back to top</span>        </a>        <div class=\"content-icon-container\">              <div class=\"edit-this-page\">  <a class=\"muted-link\" href=\"https://github.com/alisaifee/flask-limiter/edit/stable/doc/source/index.rst\" title=\"Edit this page\">    <svg aria-hidden=\"true\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>      <path d=\"M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4\" />      <line x1=\"13.5\" y1=\"6.5\" x2=\"17.5\" y2=\"10.5\" />    </svg>    <span class=\"visually-hidden\">Edit this page</span>  </a></div><div class=\"theme-toggle-container theme-toggle-content\">            <button class=\"theme-toggle\">              <div class=\"visually-hidden\">Toggle Light / Dark / Auto color theme</div>              <svg class=\"theme-icon-when-auto\"><use href=\"#svg-sun-half\"></use></svg>              <svg class=\"theme-icon-when-dark\"><use href=\"#svg-moon\"></use></svg>              <svg class=\"theme-icon-when-light\"><use href=\"#svg-sun\"></use></svg>            </button>          </div>          <label class=\"toc-overlay-icon toc-content-icon\" for=\"__toc\">            <div class=\"visually-hidden\">Toggle table of contents sidebar</div>            <i class=\"icon\"><svg><use href=\"#svg-toc\"></use></svg></i>          </label>        </div>        <article role=\"main\">          <a class=\"reference external image-reference\" href=\"/\"><img alt=\"_images/logo.png\" class=\"logo align-center\" src=\"_images/logo.png\" style=\"width: 600px;\" /></a><section id=\"flask-limiter\"><h1>Flask-Limiter<a class=\"headerlink\" href=\"#flask-limiter\" title=\"Link to this heading\">#</a></h1><div class=\"toctree-wrapper compound\"></div><div class=\"badges docutils container\"><a class=\"reference external image-reference\" href=\"https://github.com/alisaifee/flask-limiter\"><img alt=\"https://img.shields.io/github/last-commit/alisaifee/flask-limiter?logo=github&amp;style=for-the-badge&amp;labelColor=#282828\" class=\"header-badge\" src=\"https://img.shields.io/github/last-commit/alisaifee/flask-limiter?logo=github&amp;style=for-the-badge&amp;labelColor=#282828\" /></a><a class=\"reference external image-reference\" href=\"https://github.com/alisaifee/flask-limiter/actions/workflows/main.yml\"><img alt=\"https://img.shields.io/github/actions/workflow/status/alisaifee/flask-limiter/main.yml?logo=github&amp;style=for-the-badge&amp;labelColor=#282828\" class=\"header-badge\" src=\"https://img.shields.io/github/actions/workflow/status/alisaifee/flask-limiter/main.yml?logo=github&amp;style=for-the-badge&amp;labelColor=#282828\" /></a><a class=\"reference external image-reference\" href=\"https://app.codecov.io/gh/alisaifee/flask-limiter\"><img alt=\"https://img.shields.io/codecov/c/github/alisaifee/flask-limiter?logo=codecov&amp;style=for-the-badge&amp;labelColor=#282828\" class=\"header-badge\" src=\"https://img.shields.io/codecov/c/github/alisaifee/flask-limiter?logo=codecov&amp;style=for-the-badge&amp;labelColor=#282828\" /></a><a class=\"reference external image-reference\" href=\"https://pypi.org/project/flask-limiter\"><img alt=\"https://img.shields.io/pypi/pyversions/flask-limiter?style=for-the-badge&amp;logo=pypi\" class=\"header-badge\" src=\"https://img.shields.io/pypi/pyversions/flask-limiter?style=for-the-badge&amp;logo=pypi\" /></a></div><p><strong>Flask-Limiter</strong> adds rate limiting to <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Flask\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Flask</span></code></a> applications.</p><p>By adding the extension to your flask application, you can configure variousrate limits at different levels (e.g. application wide, per <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blueprint</span></code></a>,routes, resource etc).</p><p><strong>Flask-Limiter</strong> can be configured to persist the rate limit state to manycommonly used storage backends via the <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/index.html\" title=\"(in limits v3.8.0)\"><span>limits</span></a> library.</p><p>Let\u2019s get started!</p><section id=\"installation\"><h2>Installation<a class=\"headerlink\" href=\"#installation\" title=\"Link to this heading\">#</a></h2><p><strong>Flask-Limiter</strong> can be installed via <strong class=\"program\">pip</strong>.</p><div class=\"highlight-console notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>pip<span class=\"w\"> </span>install<span class=\"w\"> </span>Flask-Limiter</pre></div></div><p>To include extra dependencies for a specific storage backend you can add thespecific backend name via the <code class=\"docutils literal notranslate\"><span class=\"pre\">extras</span></code> notation. For example:</p><div class=\"tab-set docutils container\"><input checked=\"True\" class=\"tab-input\" id=\"tab-set--0-input--1\" name=\"tab-set--0\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--0-input--1\">Redis</label><div class=\"tab-content docutils container\"><div class=\"highlight-console notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>pip<span class=\"w\"> </span>install<span class=\"w\"> </span>Flask-Limiter<span class=\"o\">[</span>redis<span class=\"o\">]</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--0-input--2\" name=\"tab-set--0\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--0-input--2\">Memcached</label><div class=\"tab-content docutils container\"><div class=\"highlight-console notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>pip<span class=\"w\"> </span>install<span class=\"w\"> </span>Flask-Limiter<span class=\"o\">[</span>memcached<span class=\"o\">]</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--0-input--3\" name=\"tab-set--0\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--0-input--3\">MongoDB</label><div class=\"tab-content docutils container\"><div class=\"highlight-console notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>pip<span class=\"w\"> </span>install<span class=\"w\"> </span>Flask-Limiter<span class=\"o\">[</span>mongodb<span class=\"o\">]</span></pre></div></div></div></div></section><section id=\"quick-start\"><h2>Quick start<a class=\"headerlink\" href=\"#quick-start\" title=\"Link to this heading\">#</a></h2><p>A very basic setup can be achieved as follows:</p><div class=\"highlight-py notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask</span> <span class=\"kn\">import</span> <span class=\"n\">Flask</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Flask</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>    <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>    <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>    <span class=\"n\">default_limits</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;200 per day&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;50 per hour&quot;</span><span class=\"p\">],</span>    <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;memory://&quot;</span><span class=\"p\">,</span><span class=\"p\">)</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/slow&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;1 per day&quot;</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">slow</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"s2\">&quot;:(&quot;</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/medium&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;1/second&quot;</span><span class=\"p\">,</span> <span class=\"n\">override_defaults</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">medium</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"s2\">&quot;:|&quot;</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/fast&quot;</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">fast</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"s2\">&quot;:)&quot;</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/ping&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">exempt</span><span class=\"k\">def</span> <span class=\"nf\">ping</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"s2\">&quot;PONG&quot;</span></pre></div></div><p>The above Flask app will have the following rate limiting characteristics:</p><ul><li><p>Use an in-memory storage provided by <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/api.html#limits.storage.MemoryStorage\" title=\"(in limits v3.8.0)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">limits.storage.MemoryStorage</span></code></a>.</p><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>This is only meant for testing/development and should be replaced withan appropriate storage of your choice before moving to production.</p></div></li><li><p>Rate limiting by the <code class=\"docutils literal notranslate\"><span class=\"pre\">remote_address</span></code> of the request</p></li><li><p>A default rate limit of 200 per day, and 50 per hour applied to all routes.</p></li><li><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">slow</span></code> route having an explicit rate limit decorator will bypass the defaultrate limit and only allow 1 request per day.</p></li><li><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">medium</span></code> route inherits the default limits and adds on a decorated limitof 1 request per second.</p></li><li><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">ping</span></code> route will be exempt from any default rate limits.</p><div class=\"admonition tip\"><p class=\"admonition-title\">Tip</p><p>The built in flask static files routes are also exempt from rate limits.</p></div></li></ul><p>Every time a request exceeds the rate limit, the view function will not get called and insteada <a class=\"reference external\" href=\"http://tools.ietf.org/html/rfc6585#section-4\">429</a> http error will be raised.</p><p>The extension adds a <code class=\"docutils literal notranslate\"><span class=\"pre\">limiter</span></code> subcommand to the <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/cli/\" title=\"(in Flask v3.0.x)\"><span class=\"xref std std-doc\">Flask CLI</span></a> which can be used to inspectthe effective configuration and applied rate limits (See <a class=\"reference internal\" href=\"cli.html#command-line-interface\"><span class=\"std std-ref\">Command Line Interface</span></a> for more details).</p><p>Given the quick start example above:</p><div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$<span class=\"w\"> </span>flask<span class=\"w\"> </span>limiter<span class=\"w\"> </span>config</pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>                              Flask-Limiter Config                              \u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\u2503 Notes                   \u2503 Configuration            \u2503 Value                   \u2503\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\u2502 Enabled                 \u2502 RATELIMIT_ENABLED        \u2502 True                    \u2502\u2502 Key Function            \u2502 RATELIMIT_KEY_FUNC       \u2502 flask_limiter.util.get\u2026 \u2502\u2502 Key Prefix              \u2502 RATELIMIT_KEY_PREFIX     \u2502 &#39;&#39;                      \u2502\u2502 Rate Limiting Config    \u2502 RATELIMIT_STRATEGY       \u2502 FixedWindowRateLimiter  \u2502\u2502                         \u2502 \u251c\u2500\u2500 RATELIMIT_STORAGE_U\u2026 \u2502 \u2514\u2500\u2500 memory://           \u2502\u2502                         \u2502 \u2502   \u251c\u2500\u2500 Instance         \u2502     \u251c\u2500\u2500 MemoryStorage   \u2502\u2502                         \u2502 \u2502   \u2514\u2500\u2500 Backend          \u2502     \u251c\u2500\u2500 Counter()       \u2502\u2502                         \u2502 \u251c\u2500\u2500 RATELIMIT_STORAGE_O\u2026 \u2502     \u251c\u2500\u2500 {}              \u2502\u2502                         \u2502 \u2514\u2500\u2500 Status               \u2502     \u2514\u2500\u2500 OK              \u2502\u2502 ApplicationLimits       \u2502 RATELIMIT_APPLICATION    \u2502 []                      \u2502\u2502 Limits                  \u2502                          \u2502                         \u2502\u2502 Default Limits          \u2502 RATELIMIT_DEFAULT        \u2502 [                       \u2502\u2502                         \u2502                          \u2502     &#39;200 per 1 day&#39;,    \u2502\u2502                         \u2502                          \u2502     &#39;50 per 1 hour&#39;     \u2502\u2502                         \u2502                          \u2502 ]                       \u2502\u2502                         \u2502 RATELIMIT_DEFAULTS_PER_\u2026 \u2502 False                   \u2502\u2502                         \u2502 RATELIMIT_DEFAULTS_EXEM\u2026 \u2502 None                    \u2502\u2502                         \u2502 RATELIMIT_DEFAULTS_DEDU\u2026 \u2502 None                    \u2502\u2502                         \u2502 RATELIMIT_DEFAULTS_COST  \u2502 1                       \u2502\u2502 Header configuration    \u2502 RATELIMIT_HEADERS_ENABL\u2026 \u2502 False                   \u2502\u2502 Fail on first breach    \u2502 RATELIMIT_FAIL_ON_FIRST\u2026 \u2502 True                    \u2502\u2502 On breach callback      \u2502 RATELIMIT_ON_BREACH_CAL\u2026 \u2502 None                    \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</pre></div></div><div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$<span class=\"w\"> </span>flask<span class=\"w\"> </span>limiter<span class=\"w\"> </span>limits</pre></div></div><div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>sample\u251c\u2500\u2500 fast: /fast\u2502   \u251c\u2500\u2500 200 per 1 day\u2502   \u2514\u2500\u2500 50 per 1 hour\u251c\u2500\u2500 medium: /medium\u2502   \u251c\u2500\u2500 200 per 1 day\u2502   \u251c\u2500\u2500 50 per 1 hour\u2502   \u2514\u2500\u2500 1 per 1 second\u251c\u2500\u2500 ping: /ping\u2502   \u2514\u2500\u2500 Exempt\u2514\u2500\u2500 slow: /slow    \u2514\u2500\u2500 1 per 1 day</pre></div></div><section id=\"the-flask-limiter-extension\"><h3>The Flask-Limiter extension<a class=\"headerlink\" href=\"#the-flask-limiter-extension\" title=\"Link to this heading\">#</a></h3><p>The extension can be initialized with the <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Flask\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Flask</span></code></a> applicationin the usual ways.</p><p>Using the constructor</p><blockquote><div><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span><span class=\"n\">get_remote_address</span><span class=\"p\">,</span> <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">)</span></pre></div></div></div></blockquote><p>Deferred app initialization using <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.init_app\" title=\"flask_limiter.Limiter.init_app\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">init_app()</span></code></a></p><blockquote><div><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span><span class=\"n\">get_remote_address</span><span class=\"p\">)</span><span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">init_app</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">)</span></pre></div></div></div></blockquote><p>At this point it might be a good idea to look at the configuration optionsavailable in the extension in the <a class=\"reference internal\" href=\"configuration.html#using-flask-config\"><span class=\"std std-ref\">Using Flask Config</span></a> section and the<a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask_limiter.Limiter</span></code></a> class documentation.</p><section id=\"configuring-a-storage-backend\"><h4>Configuring a storage backend<a class=\"headerlink\" href=\"#configuring-a-storage-backend\" title=\"Link to this heading\">#</a></h4><p>The extension can be configured to use any storage supported by <a class=\"reference external\" href=\"https://pypi.org/project/limits\">limits</a>.Here are a few common examples:</p><div class=\"tab-set docutils container\"><input checked=\"True\" class=\"tab-input\" id=\"tab-set--1-input--1\" name=\"tab-set--1\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--1-input--1\">Memcached</label><div class=\"tab-content docutils container\"><p>Any additional parameters provided in <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_options\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_options</span></code></a>will be passed to the constructor of the memcached client(either <a class=\"reference external\" href=\"https://pymemcache.readthedocs.io/en/latest/apidoc/pymemcache.client.base.html#pymemcache.client.base.PooledClient\" title=\"(in pymemcache v3.5)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PooledClient</span></code></a> or <a class=\"reference external\" href=\"https://pymemcache.readthedocs.io/en/latest/apidoc/pymemcache.client.hash.html#pymemcache.client.hash.HashClient\" title=\"(in pymemcache v3.5)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HashClient</span></code></a>).For more details see <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/api.html#limits.storage.MemcachedStorage\" title=\"(in limits v3.8.0)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MemcachedStorage</span></code></a>.</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>    <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>    <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>    <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;memcached://localhost:11211&quot;</span><span class=\"p\">,</span>    <span class=\"n\">storage_options</span><span class=\"o\">=</span><span class=\"p\">{}</span><span class=\"p\">)</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--1-input--2\" name=\"tab-set--1\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--1-input--2\">Redis</label><div class=\"tab-content docutils container\"><p>Any additional parameters provided in <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_options\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_options</span></code></a>will be passed to <a class=\"reference external\" href=\"https://redis-py.readthedocs.io/en/latest/connections.html#redis.Redis.from_url\" title=\"(in redis-py v99.99.99)\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">redis.Redis.from_url()</span></code></a> as keyword arguments.For more details see <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/api.html#limits.storage.RedisStorage\" title=\"(in limits v3.8.0)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RedisStorage</span></code></a></p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>  <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>  <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>  <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;redis://localhost:6379&quot;</span><span class=\"p\">,</span>  <span class=\"n\">storage_options</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;socket_connect_timeout&quot;</span><span class=\"p\">:</span> <span class=\"mi\">30</span><span class=\"p\">},</span>  <span class=\"n\">strategy</span><span class=\"o\">=</span><span class=\"s2\">&quot;fixed-window&quot;</span><span class=\"p\">,</span> <span class=\"c1\"># or &quot;moving-window&quot;</span><span class=\"p\">)</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--1-input--3\" name=\"tab-set--1\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--1-input--3\">Redis (reused connection pool)</label><div class=\"tab-content docutils container\"><p>If you wish to reuse a <a class=\"reference external\" href=\"https://redis-py.readthedocs.io/en/latest/connections.html#redis.connection.ConnectionPool\" title=\"(in redis-py v99.99.99)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">redis.connection.ConnectionPool</span></code></a> instanceyou can pass that in <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_option\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_option</span></code></a></p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">redis</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">pool</span> <span class=\"o\">=</span> <span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">BlockingConnectionPool</span><span class=\"o\">.</span><span class=\"n\">from_url</span><span class=\"p\">(</span><span class=\"s2\">&quot;redis://.....&quot;</span><span class=\"p\">)</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>  <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>  <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>  <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;redis://&quot;</span><span class=\"p\">,</span>  <span class=\"n\">storage_options</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;connection_pool&quot;</span><span class=\"p\">:</span> <span class=\"n\">pool</span><span class=\"p\">},</span>  <span class=\"n\">strategy</span><span class=\"o\">=</span><span class=\"s2\">&quot;fixed-window&quot;</span><span class=\"p\">,</span> <span class=\"c1\"># or &quot;moving-window&quot;</span><span class=\"p\">)</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--1-input--4\" name=\"tab-set--1\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--1-input--4\">Redis Cluster</label><div class=\"tab-content docutils container\"><p>Any additional parameters provided in <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_options\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_options</span></code></a>will be passed to <a class=\"reference external\" href=\"https://redis-py.readthedocs.io/en/latest/connections.html#redis.cluster.RedisCluster\" title=\"(in redis-py v99.99.99)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RedisCluster</span></code></a> as keyword arguments.For more details see <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/api.html#limits.storage.RedisClusterStorage\" title=\"(in limits v3.8.0)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RedisClusterStorage</span></code></a></p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>  <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>  <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>  <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;redis+cluster://localhost:7000,localhost:7001,localhost:7002&quot;</span><span class=\"p\">,</span>  <span class=\"n\">storage_options</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;socket_connect_timeout&quot;</span><span class=\"p\">:</span> <span class=\"mi\">30</span><span class=\"p\">},</span>  <span class=\"n\">strategy</span><span class=\"o\">=</span><span class=\"s2\">&quot;fixed-window&quot;</span><span class=\"p\">,</span> <span class=\"c1\"># or &quot;moving-window&quot;</span><span class=\"p\">)</span></pre></div></div></div><input class=\"tab-input\" id=\"tab-set--1-input--5\" name=\"tab-set--1\" type=\"radio\"><label class=\"tab-label\" for=\"tab-set--1-input--5\">MongoDB</label><div class=\"tab-content docutils container\"><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"kn\">from</span> <span class=\"nn\">flask_limiter.util</span> <span class=\"kn\">import</span> <span class=\"n\">get_remote_address</span><span class=\"o\">....</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span>  <span class=\"n\">get_remote_address</span><span class=\"p\">,</span>  <span class=\"n\">app</span><span class=\"o\">=</span><span class=\"n\">app</span><span class=\"p\">,</span>  <span class=\"n\">storage_uri</span><span class=\"o\">=</span><span class=\"s2\">&quot;mongodb://localhost:27017&quot;</span><span class=\"p\">,</span>  <span class=\"n\">strategy</span><span class=\"o\">=</span><span class=\"s2\">&quot;fixed-window&quot;</span><span class=\"p\">,</span> <span class=\"c1\"># or &quot;moving-window&quot;</span><span class=\"p\">)</span></pre></div></div></div></div><p>The <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_uri\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_uri</span></code></a> and <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.storage_options\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">storage_options</span></code></a> parameterscan also be provided by <a class=\"reference internal\" href=\"configuration.html#using-flask-config\"><span class=\"std std-ref\">Using Flask Config</span></a> variables. The differentconfiguration options for each storage can be found in the <a class=\"reference external\" href=\"https://limits.readthedocs.io/en/stable/storage.html\" title=\"(in limits v3.8.0)\"><span class=\"xref std std-doc\">storage backend documentation for limits</span></a>as that is delegated to the <a class=\"reference external\" href=\"https://pypi.org/project/limits\">limits</a> library.</p></section></section><section id=\"rate-limit-domain\"><span id=\"ratelimit-domain\"></span><h3>Rate Limit Domain<a class=\"headerlink\" href=\"#rate-limit-domain\" title=\"Link to this heading\">#</a></h3><p>Each <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Limiter</span></code></a> instance must be initialized with a<a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.params.key_func\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">key_func</span></code></a> that returns the bucket in which each requestis put into when evaluating whether it is within the rate limit or not.</p><p>For simple setups a utility function is provided:<a class=\"reference internal\" href=\"api.html#flask_limiter.util.get_remote_address\" title=\"flask_limiter.util.get_remote_address\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">get_remote_address()</span></code></a> which uses the<a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Request.remote_addr\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">remote_addr</span></code></a> from <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Request\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Request</span></code></a>.</p><p>Please refer to <a class=\"reference internal\" href=\"recipes.html#deploy-behind-proxy\"><span class=\"std std-ref\">Deploying an application behind a proxy</span></a> for an example.</p></section></section><section id=\"decorators-to-declare-rate-limits\"><h2>Decorators to declare rate limits<a class=\"headerlink\" href=\"#decorators-to-declare-rate-limits\" title=\"Link to this heading\">#</a></h2><p>Decorators made available as instance methods of the <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Limiter</span></code></a>instance to be used with the <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Flask\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Flask</span></code></a> application.</p><section id=\"route-specific-limits\"><span id=\"ratelimit-decorator-limit\"></span><h3>Route specific limits<a class=\"headerlink\" href=\"#route-specific-limits\" title=\"Link to this heading\">#</a></h3><dl class=\"py method\"><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">limit</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">limit_value</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key_func</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">per_method</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">methods</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.List\" title=\"(in Python v3.12)\"><span class=\"pre\">List</span></a><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">error_message</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">exempt_when</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">override_defaults</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">deduct_when</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Response</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">on_breach</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference internal\" href=\"api.html#flask_limiter.RequestLimit\" title=\"flask_limiter.wrappers.RequestLimit\"><span class=\"pre\">RequestLimit</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Response</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">cost</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.12)\"><span class=\"pre\">int</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.12)\"><span class=\"pre\">int</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">1</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">scope</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">LimitDecorator</span></span></span><a class=\"reference internal\" href=\"_modules/flask_limiter/extension.html#Limiter.limit\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a></dt><dd><p>Decorator to be used for rate limiting individual routes or blueprints.</p><dl class=\"field-list simple\"><dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt><dd class=\"field-odd\"><ul class=\"simple\"><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.limit_value\"></span><strong>limit_value</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.limit_value\">\u00b6</a> \u2013 rate limit string or a callable that returns astring. <a class=\"reference internal\" href=\"configuration.html#ratelimit-string\"><span class=\"std std-ref\">Rate limit string notation</span></a> for more details.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.key_func\"></span><strong>key_func</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.key_func\">\u00b6</a> \u2013 function/lambda to extract the uniqueidentifier for the rate limit. defaults to remote address of therequest.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.per_method\"></span><strong>per_method</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.per_method\">\u00b6</a> \u2013 whether the limit is sub categorized into thehttp method of the request.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.methods\"></span><strong>methods</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.methods\">\u00b6</a> \u2013 if specified, only the methods in this list willbe rate limited (default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.error_message\"></span><strong>error_message</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.error_message\">\u00b6</a> \u2013 string (or callable that returns one) to overridethe error message used in the response.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.exempt_when\"></span><strong>exempt_when</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.exempt_when\">\u00b6</a> \u2013 function/lambda used to decide if the ratelimit should skipped.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.override_defaults\"></span><strong>override_defaults</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.override_defaults\">\u00b6</a> \u2013 <p>whether the decorated limit overridesthe default limits (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>).</p><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>When used with a <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blueprint</span></code></a> the meaningof the parameter extends to any parents the blueprint instance isregistered under. For more details see <a class=\"reference internal\" href=\"recipes.html#nested-blueprints\"><span class=\"std std-ref\">Nested Blueprints</span></a></p></div></p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.deduct_when\"></span><strong>deduct_when</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.deduct_when\">\u00b6</a> \u2013 a function that receives the current<a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Response</span></code></a> object and returns True/False to decide if adeduction should be done from the rate limit</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.on_breach\"></span><strong>on_breach</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.on_breach\">\u00b6</a> \u2013 a function that will be called when this limitis breached. If the function returns an instance of <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Response</span></code></a>that will be the response embedded into the <a class=\"reference internal\" href=\"api.html#flask_limiter.RateLimitExceeded\" title=\"flask_limiter.RateLimitExceeded\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RateLimitExceeded</span></code></a> exceptionraised.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.cost\"></span><strong>cost</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.cost\">\u00b6</a> \u2013 The cost of a hit or a function thattakes no parameters and returns the cost as an integer (Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>).</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.limit.params.scope\"></span><strong>scope</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.limit.params.scope\">\u00b6</a> \u2013 a string or callable that returns a stringfor further categorizing the rate limiting scope. This scope is combinedwith the current endpoint of the request.</p></li></ul></dd></dl><dl><dt>Changes</dt><dd><ul><li><div class=\"versionadded\"><p><span class=\"versionmodified added\">New in version 2.9.0: </span>The returned object can also be used as a context manager</p></div><p>for rate limiting a code block inside a view. For example:</p><div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/&quot;</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">route</span><span class=\"p\">():</span>   <span class=\"k\">try</span><span class=\"p\">:</span>       <span class=\"k\">with</span> <span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;10/second&quot;</span><span class=\"p\">):</span>           <span class=\"c1\"># something expensive</span>   <span class=\"k\">except</span> <span class=\"n\">RateLimitExceeded</span><span class=\"p\">:</span> <span class=\"k\">pass</span></pre></div></div></li></ul></dd></dl></dd></dl><p>There are a few ways of using the <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.limit\" title=\"flask_limiter.Limiter.limit\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">limit()</span></code></a> decoratordepending on your preference and use-case.</p><section id=\"single-decorator\"><h4>Single decorator<a class=\"headerlink\" href=\"#single-decorator\" title=\"Link to this heading\">#</a></h4><p>The limit string can be a single limit or a delimiter separated string</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;....&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/day;10/hour;1/minute&quot;</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">my_route</span><span class=\"p\">()</span>  <span class=\"o\">...</span></pre></div></div></section><section id=\"multiple-decorators\"><h4>Multiple decorators<a class=\"headerlink\" href=\"#multiple-decorators\" title=\"Link to this heading\">#</a></h4><p>The limit string can be a single limit or a delimiter separated stringor a combination of both.</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;....&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/day&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;10/hour&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;1/minute&quot;</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">my_route</span><span class=\"p\">():</span>  <span class=\"o\">...</span></pre></div></div></section><section id=\"custom-keying-function\"><h4>Custom keying function<a class=\"headerlink\" href=\"#custom-keying-function\" title=\"Link to this heading\">#</a></h4><p>By default rate limits are applied based on the key function that the <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter\" title=\"flask_limiter.Limiter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Limiter</span></code></a> instancewas initialized with. You can implement your own function to retrieve the key to rate limit bywhen decorating individual routes. Take a look at <a class=\"reference internal\" href=\"recipes.html#keyfunc-customization\"><span class=\"std std-ref\">Rate Limit Key Functions</span></a> for some examples..</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">my_key_func</span><span class=\"p\">():</span>  <span class=\"o\">...</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;...&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/day&quot;</span><span class=\"p\">,</span> <span class=\"n\">my_key_func</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">my_route</span><span class=\"p\">():</span>  <span class=\"o\">...</span></pre></div></div><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>The key function  is called from within a<a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/reqcontext/\" title=\"(in Flask v3.0.x)\"><span class=\"xref std std-doc\">flask request context</span></a>.</p></div></section><section id=\"dynamically-loaded-limit-string-s\"><h4>Dynamically loaded limit string(s)<a class=\"headerlink\" href=\"#dynamically-loaded-limit-string-s\" title=\"Link to this heading\">#</a></h4><p>There may be situations where the rate limits need to be retrieved fromsources external to the code (database, remote api, etc\u2026). This can beachieved by providing a callable to the decorator.</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">rate_limit_from_config</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"n\">current_app</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;CUSTOM_LIMIT&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;10/s&quot;</span><span class=\"p\">)</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;...&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"n\">rate_limit_from_config</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">my_route</span><span class=\"p\">():</span>    <span class=\"o\">...</span></pre></div></div><div class=\"admonition warning\"><p class=\"admonition-title\">Warning</p><p>The provided callable will be called for every requeston the decorated route. For expensive retrievals, considercaching the response.</p></div><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>The callable is called from within a<a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/reqcontext/\" title=\"(in Flask v3.0.x)\"><span class=\"xref std std-doc\">flask request context</span></a> during the<cite>before_request</cite> phase.</p></div></section><section id=\"exemption-conditions\"><h4>Exemption conditions<a class=\"headerlink\" href=\"#exemption-conditions\" title=\"Link to this heading\">#</a></h4><p>Each limit can be exempted when given conditions are fulfilled. Theseconditions can be specified by supplying a callable as an<code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">exempt_when</span></code> argument when defining the limit.</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;/expensive&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/day&quot;</span><span class=\"p\">,</span> <span class=\"n\">exempt_when</span><span class=\"o\">=</span><span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"n\">current_user</span><span class=\"o\">.</span><span class=\"n\">is_admin</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">expensive_route</span><span class=\"p\">():</span>  <span class=\"o\">...</span></pre></div></div></section></section><section id=\"reusable-limits\"><span id=\"ratelimit-decorator-shared-limit\"></span><h3>Reusable limits<a class=\"headerlink\" href=\"#reusable-limits\" title=\"Link to this heading\">#</a></h3><p>For scenarios where a rate limit should be shared by multiple routes(For example when you want to protect routes using the same resourcewith an umbrella rate limit).</p><dl class=\"py method\"><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">shared_limit</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">limit_value</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">scope</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">key_func</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">per_method</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">methods</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.List\" title=\"(in Python v3.12)\"><span class=\"pre\">List</span></a><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">error_message</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#str\" title=\"(in Python v3.12)\"><span class=\"pre\">str</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">exempt_when</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">override_defaults</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">deduct_when</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Response</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">on_breach</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference internal\" href=\"api.html#flask_limiter.RequestLimit\" title=\"flask_limiter.wrappers.RequestLimit\"><span class=\"pre\">RequestLimit</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Response</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/constants.html#None\" title=\"(in Python v3.12)\"><span class=\"pre\">None</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">cost</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.12)\"><span class=\"pre\">int</span></a><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#int\" title=\"(in Python v3.12)\"><span class=\"pre\">int</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">1</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><span class=\"pre\">LimitDecorator</span></span></span><a class=\"reference internal\" href=\"_modules/flask_limiter/extension.html#Limiter.shared_limit\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a></dt><dd><p>decorator to be applied to multiple routes sharing the same rate limit.</p><dl class=\"field-list simple\"><dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt><dd class=\"field-odd\"><ul class=\"simple\"><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.limit_value\"></span><strong>limit_value</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.limit_value\">\u00b6</a> \u2013 rate limit string or a callable that returns astring. <a class=\"reference internal\" href=\"configuration.html#ratelimit-string\"><span class=\"std std-ref\">Rate limit string notation</span></a> for more details.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.scope\"></span><strong>scope</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.scope\">\u00b6</a> \u2013 a string or callable that returns a stringfor defining the rate limiting scope.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.key_func\"></span><strong>key_func</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.key_func\">\u00b6</a> \u2013 function/lambda to extract the uniqueidentifier for the rate limit. defaults to remote address of therequest.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.per_method\"></span><strong>per_method</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.per_method\">\u00b6</a> \u2013 whether the limit is sub categorized into thehttp method of the request.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.methods\"></span><strong>methods</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.methods\">\u00b6</a> \u2013 if specified, only the methods in this list willbe rate limited (default: <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>).</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.error_message\"></span><strong>error_message</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.error_message\">\u00b6</a> \u2013 string (or callable that returns one) to overridethe error message used in the response.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.exempt_when\"></span><strong>exempt_when</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.exempt_when\">\u00b6</a> (<em>function</em>) \u2013 function/lambda used to decide if the ratelimit should skipped.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.override_defaults\"></span><strong>override_defaults</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.override_defaults\">\u00b6</a> \u2013 <p>whether the decorated limit overridesthe default limits. (default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>)</p><div class=\"admonition note\"><p class=\"admonition-title\">Note</p><p>When used with a <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Blueprint</span></code></a> the meaningof the parameter extends to any parents the blueprint instance isregistered under. For more details see <a class=\"reference internal\" href=\"recipes.html#nested-blueprints\"><span class=\"std std-ref\">Nested Blueprints</span></a></p></div></p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.deduct_when\"></span><strong>deduct_when</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.deduct_when\">\u00b6</a> \u2013 a function that receives the current<a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Response</span></code></a>  object and returns True/False to decide if adeduction should be done from the rate limit</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.on_breach\"></span><strong>on_breach</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.on_breach\">\u00b6</a> \u2013 a function that will be called when this limitis breached. If the function returns an instance of <a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Response\" title=\"(in Flask v3.0.x)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">flask.Response</span></code></a>that will be the response embedded into the <a class=\"reference internal\" href=\"api.html#flask_limiter.RateLimitExceeded\" title=\"flask_limiter.RateLimitExceeded\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">RateLimitExceeded</span></code></a> exceptionraised.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.shared_limit.params.cost\"></span><strong>cost</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.shared_limit.params.cost\">\u00b6</a> \u2013 The cost of a hit or a function thattakes no parameters and returns the cost as an integer (default: <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>).</p></li></ul></dd></dl></dd></dl><section id=\"named-shared-limit\"><h4>Named shared limit<a class=\"headerlink\" href=\"#named-shared-limit\" title=\"Link to this heading\">#</a></h4><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mysql_limit</span> <span class=\"o\">=</span> <span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">shared_limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/hour&quot;</span><span class=\"p\">,</span> <span class=\"n\">scope</span><span class=\"o\">=</span><span class=\"s2\">&quot;mysql&quot;</span><span class=\"p\">)</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;..&quot;</span><span class=\"p\">)</span><span class=\"nd\">@mysql_limit</span><span class=\"k\">def</span> <span class=\"nf\">r1</span><span class=\"p\">():</span>    <span class=\"o\">...</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;..&quot;</span><span class=\"p\">)</span><span class=\"nd\">@mysql_limit</span><span class=\"k\">def</span> <span class=\"nf\">r2</span><span class=\"p\">():</span>    <span class=\"o\">...</span></pre></div></div></section><section id=\"dynamic-shared-limit\"><h4>Dynamic shared limit<a class=\"headerlink\" href=\"#dynamic-shared-limit\" title=\"Link to this heading\">#</a></h4><p>When a callable is passed as scope, the return valueof the function will be used as the scope. Note that the callable takes one argument: a string representingthe request endpoint.</p><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">host_scope</span><span class=\"p\">(</span><span class=\"n\">endpoint_name</span><span class=\"p\">):</span>    <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">host</span><span class=\"n\">host_limit</span> <span class=\"o\">=</span> <span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">shared_limit</span><span class=\"p\">(</span><span class=\"s2\">&quot;100/hour&quot;</span><span class=\"p\">,</span> <span class=\"n\">scope</span><span class=\"o\">=</span><span class=\"n\">host_scope</span><span class=\"p\">)</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;..&quot;</span><span class=\"p\">)</span><span class=\"nd\">@host_limit</span><span class=\"k\">def</span> <span class=\"nf\">r1</span><span class=\"p\">():</span>    <span class=\"o\">...</span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;..&quot;</span><span class=\"p\">)</span><span class=\"nd\">@host_limit</span><span class=\"k\">def</span> <span class=\"nf\">r2</span><span class=\"p\">():</span>    <span class=\"o\">...</span></pre></div></div></section></section><section id=\"decorators-for-skipping-rate-limits\"><span id=\"ratelimit-decorator-exempt\"></span><h3>Decorators for skipping rate limits<a class=\"headerlink\" href=\"#decorators-for-skipping-rate-limits\" title=\"Link to this heading\">#</a></h3><dl class=\"py method\"><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">exempt</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Blueprint</span></a></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"api.html#flask_limiter.ExemptionScope\" title=\"flask_limiter.constants.ExemptionScope\"><span class=\"pre\">ExemptionScope</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">ExemptionScope.APPLICATION</span> <span class=\"pre\">|</span> <span class=\"pre\">ExemptionScope.DEFAULT</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Blueprint</span></a></span></span><a class=\"reference internal\" href=\"_modules/flask_limiter/extension.html#Limiter.exempt\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a></dt><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">exempt</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">obj</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">...</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">R</span><span class=\"p\"><span class=\"pre\">]</span></span></span></em>, <em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"api.html#flask_limiter.ExemptionScope\" title=\"flask_limiter.constants.ExemptionScope\"><span class=\"pre\">ExemptionScope</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">ExemptionScope.APPLICATION</span> <span class=\"pre\">|</span> <span class=\"pre\">ExemptionScope.DEFAULT</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">...</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">R</span><span class=\"p\"><span class=\"pre\">]</span></span></span></span></dt><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">exempt</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"o\"><span class=\"pre\">*</span></span></em>, <em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">flags</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference internal\" href=\"api.html#flask_limiter.ExemptionScope\" title=\"flask_limiter.constants.ExemptionScope\"><span class=\"pre\">ExemptionScope</span></a></span><span class=\"w\"> </span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"w\"> </span><span class=\"default_value\"><span class=\"pre\">ExemptionScope.APPLICATION</span> <span class=\"pre\">|</span> <span class=\"pre\">ExemptionScope.DEFAULT</span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">P</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">R</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"pre\">P</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><span class=\"pre\">R</span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"w\"> </span><span class=\"p\"><span class=\"pre\">|</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Blueprint</span></a><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://flask.palletsprojects.com/en/latest/api/#flask.Blueprint\" title=\"(in Flask v3.0.x)\"><span class=\"pre\">Blueprint</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></span></dt><dd><p>Mark a view function or all views in a blueprint as exempt fromrate limits.</p><dl class=\"field-list simple\"><dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt><dd class=\"field-odd\"><ul class=\"simple\"><li><p><span class=\"target\" id=\"flask_limiter.Limiter.exempt.params.obj\"></span><strong>obj</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.exempt.params.obj\">\u00b6</a> \u2013 view function or blueprint to mark as exempt.</p></li><li><p><span class=\"target\" id=\"flask_limiter.Limiter.exempt.params.flags\"></span><strong>flags</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.exempt.params.flags\">\u00b6</a> \u2013 Controls the scope of the exemption. By defaultapplication wide limits and defaults configured on the extensionare opted out of. Additional flags can be used to control the behaviorwhen <a class=\"reference internal\" href=\"api.html#flask_limiter.Limiter.exempt.params.obj\" title=\"flask_limiter.Limiter.exempt\"><code class=\"xref py py-paramref docutils literal notranslate\"><span class=\"pre\">obj</span></code></a> is a Blueprint that is nested under another Blueprintor has other Blueprints nested under it (See <a class=\"reference internal\" href=\"recipes.html#nested-blueprints\"><span class=\"std std-ref\">Nested Blueprints</span></a>)</p></li></ul></dd></dl><p>The method can be used either as a decorator without any arguments (the defaultflags will apply and the route will be exempt from default and application limits:</p><div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;...&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">exempt</span><span class=\"k\">def</span> <span class=\"nf\">route</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">):</span>   <span class=\"o\">...</span></pre></div></div><p>Specific exemption flags can be provided at decoration time:</p><div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">&quot;...&quot;</span><span class=\"p\">)</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">exempt</span><span class=\"p\">(</span><span class=\"n\">flags</span><span class=\"o\">=</span><span class=\"n\">ExemptionScope</span><span class=\"o\">.</span><span class=\"n\">APPLICATION</span><span class=\"p\">)</span><span class=\"k\">def</span> <span class=\"nf\">route</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">):</span>    <span class=\"o\">...</span></pre></div></div><p>If an entire blueprint (i.e. all routes under it) are to be exempted the methodcan be called with the blueprint as the first parameter and any additional flags:</p><div class=\"highlight-python3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">bp</span> <span class=\"o\">=</span> <span class=\"n\">Blueprint</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span><span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">exempt</span><span class=\"p\">(</span><span class=\"n\">bp</span><span class=\"p\">)</span><span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">exempt</span><span class=\"p\">(</span>    <span class=\"n\">bp</span><span class=\"p\">,</span>    <span class=\"n\">flags</span><span class=\"o\">=</span><span class=\"n\">ExemptionScope</span><span class=\"o\">.</span><span class=\"n\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">ExemptionScope</span><span class=\"o\">.</span><span class=\"n\">APPLICATION</span><span class=\"o\">|</span><span class=\"n\">ExemptionScope</span><span class=\"o\">.</span><span class=\"n\">ANCESTORS</span><span class=\"p\">)</span></pre></div></div></dd></dl><p id=\"ratelimit-decorator-request-filter\">This decorator marks a function as a filter for requests that are going to be tested for rate limits. If any of the request filters return <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> norate limiting will be performed for that request. This mechanism can be used tocreate custom white lists.</p><dl class=\"py method\"><dt class=\"sig sig-object py\"><span class=\"sig-prename descclassname\"><span class=\"pre\">Limiter.</span></span><span class=\"sig-name descname\"><span class=\"pre\">request_filter</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"n\"><span class=\"pre\">fn</span></span><span class=\"p\"><span class=\"pre\">:</span></span><span class=\"w\"> </span><span class=\"n\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></em><span class=\"sig-paren\">)</span> <span class=\"sig-return\"><span class=\"sig-return-icon\">&#x2192;</span> <span class=\"sig-return-typehint\"><a class=\"reference external\" href=\"https://docs.python.org/3/library/typing.html#typing.Callable\" title=\"(in Python v3.12)\"><span class=\"pre\">Callable</span></a><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">[</span></span><span class=\"p\"><span class=\"pre\">]</span></span><span class=\"p\"><span class=\"pre\">,</span></span><span class=\"w\"> </span><a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#bool\" title=\"(in Python v3.12)\"><span class=\"pre\">bool</span></a><span class=\"p\"><span class=\"pre\">]</span></span></span></span><a class=\"reference internal\" href=\"_modules/flask_limiter/extension.html#Limiter.request_filter\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a></dt><dd><p>decorator to mark a function as a filter to be executedto check if the request is exempt from rate limiting.</p><dl class=\"field-list simple\"><dt class=\"field-odd\">Parameters<span class=\"colon\">:</span></dt><dd class=\"field-odd\"><p><span class=\"target\" id=\"flask_limiter.Limiter.request_filter.params.fn\"></span><strong>fn</strong><a class=\"paramlink headerlink reference internal\" href=\"#flask_limiter.Limiter.request_filter.params.fn\">\u00b6</a> \u2013 The function will be called before evaluating any rate limitsto decide whether to perform rate limit or skip it.</p></dd></dl></dd></dl><div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">request_filter</span><span class=\"k\">def</span> <span class=\"nf\">header_whitelist</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;X-Internal&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;true&quot;</span><span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">request_filter</span><span class=\"k\">def</span> <span class=\"nf\">ip_whitelist</span><span class=\"p\">():</span>    <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">remote_addr</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;127.0.0.1&quot;</span></pre></div></div><p>In the above example, any request that contains the header <code class=\"docutils literal notranslate\"><span class=\"pre\">X-Internal:</span> <span class=\"pre\">true</span></code>or originates from localhost will not be rate limited.</p><p>For more complex use cases, refer to the <a class=\"reference internal\" href=\"recipes.html#recipes\"><span class=\"std std-ref\">Recipes</span></a> section.</p></section></section></section>        </article>      </div>      <footer>                <div class=\"related-pages\">          <a class=\"next-page\" href=\"strategies.html\">              <div class=\"page-info\">                <div class=\"context\">                  <span>Next</span>                </div>                <div class=\"title\">Rate limiting strategies</div>              </div>              <svg class=\"furo-related-icon\"><use href=\"#svg-arrow-right\"></use></svg>            </a>                  </div>        <div class=\"bottom-of-page\">          <div class=\"left-details\">            <div class=\"copyright\">                Copyright &#169; 2023, Ali-Akber Saifee            </div>            Made with <a href=\"https://www.sphinx-doc.org/\">Sphinx</a> and <a class=\"muted-link\" href=\"https://pradyunsg.me\">@pradyunsg</a>'s                        <a href=\"https://github.com/pradyunsg/furo\">Furo</a>                      </div>          <div class=\"right-details\">            <div class=\"icons\">              <a class=\"muted-link\" href=\"https://readthedocs.org/projects/flask-limiter\" aria-label=\"On Read the Docs\">                <svg x=\"0px\" y=\"0px\" viewBox=\"-125 217 360 360\" xml:space=\"preserve\">                  <path fill=\"currentColor\" d=\"M39.2,391.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3 c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2 c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,391.3,40.4,391.1,39.2,391.3z M39.2,353.6c-4.2,0.6-7.1,4.4-6.5,8.5 c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4 c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,353.6,40.4,353.4,39.2,353.6z M39.2,315.9 c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8 c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6c-30.1-2.4-46.5-7.9-46.5-7.9 C41.7,315.9,40.4,315.8,39.2,315.9z M39.2,278.3c-4.2,0.6-7.1,4.4-6.5,8.5c0.4,3,2.6,5.5,5.5,6.3c0,0,18.5,6.1,50,8.7 c25.3,2.1,54-1.8,54-1.8c4.2-0.1,7.5-3.6,7.4-7.8c-0.1-4.2-3.6-7.5-7.8-7.4c-0.5,0-1,0.1-1.5,0.2c0,0-28.1,3.5-50.9,1.6 c-30.1-2.4-46.5-7.9-46.5-7.9C41.7,278.2,40.4,278.1,39.2,278.3z M-13.6,238.5c-39.6,0.3-54.3,12.5-54.3,12.5v295.7 c0,0,14.4-12.4,60.8-10.5s55.9,18.2,112.9,19.3s71.3-8.8,71.3-8.8l0.8-301.4c0,0-25.6,7.3-75.6,7.7c-49.9,0.4-61.9-12.7-107.7-14.2 C-8.2,238.6-10.9,238.5-13.6,238.5z M19.5,257.8c0,0,24,7.9,68.3,10.1c37.5,1.9,75-3.7,75-3.7v267.9c0,0-19,10-66.5,6.6 C59.5,536.1,19,522.1,19,522.1L19.5,257.8z M-3.6,264.8c4.2,0,7.7,3.4,7.7,7.7c0,4.2-3.4,7.7-7.7,7.7c0,0-12.4,0.1-20,0.8 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,0,0,0,0c0,0,11.3-6,27-7.5 C-16,264.9-3.6,264.8-3.6,264.8z M-11,302.6c4.2-0.1,7.4,0,7.4,0c4.2,0.5,7.2,4.3,6.7,8.5c-0.4,3.5-3.2,6.3-6.7,6.7 c0,0-12.4,0.1-20,0.8c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5 C-20.5,302.9-15.2,302.7-11,302.6z M-3.6,340.2c4.2,0,7.7,3.4,7.7,7.7s-3.4,7.7-7.7,7.7c0,0-12.4-0.1-20,0.7 c-12.7,1.3-21.4,5.9-21.4,5.9c-3.7,2-8.4,0.5-10.3-3.2c-2-3.7-0.5-8.4,3.2-10.3c0,0,11.3-6,27-7.5C-16,340.1-3.6,340.2-3.6,340.2z\" />                </svg>              </a><a class=\"muted-link\" href=\"https://github.com/alisaifee/flask-limiter\" aria-label=\"On GitHub\">                <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 16 16\">                  <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path>                </svg>              </a>            </div>          </div>        </div>              </footer>    </div>    <aside class=\"toc-drawer\">                  <div class=\"toc-sticky toc-scroll\">        <div class=\"toc-title-container\">          <span class=\"toc-title\">            On this page          </span>        </div>        <div class=\"toc-tree-container\">          <div class=\"toc-tree\">            <ul><li><a class=\"reference internal\" href=\"#\">Flask-Limiter</a><ul><li><a class=\"reference internal\" href=\"#installation\">Installation</a></li><li><a class=\"reference internal\" href=\"#quick-start\">Quick start</a><ul><li><a class=\"reference internal\" href=\"#the-flask-limiter-extension\">The Flask-Limiter extension</a><ul><li><a class=\"reference internal\" href=\"#configuring-a-storage-backend\">Configuring a storage backend</a></li></ul></li><li><a class=\"reference internal\" href=\"#rate-limit-domain\">Rate Limit Domain</a></li></ul></li><li><a class=\"reference internal\" href=\"#decorators-to-declare-rate-limits\">Decorators to declare rate limits</a><ul><li><a class=\"reference internal\" href=\"#route-specific-limits\">Route specific limits</a><ul><li><a class=\"reference internal\" href=\"#single-decorator\">Single decorator</a></li><li><a class=\"reference internal\" href=\"#multiple-decorators\">Multiple decorators</a></li><li><a class=\"reference internal\" href=\"#custom-keying-function\">Custom keying function</a></li><li><a class=\"reference internal\" href=\"#dynamically-loaded-limit-string-s\">Dynamically loaded limit string(s)</a></li><li><a class=\"reference internal\" href=\"#exemption-conditions\">Exemption conditions</a></li></ul></li><li><a class=\"reference internal\" href=\"#reusable-limits\">Reusable limits</a><ul><li><a class=\"reference internal\" href=\"#named-shared-limit\">Named shared limit</a></li><li><a class=\"reference internal\" href=\"#dynamic-shared-limit\">Dynamic shared limit</a></li></ul></li><li><a class=\"reference internal\" href=\"#decorators-for-skipping-rate-limits\">Decorators for skipping rate limits</a></li></ul></li></ul></li></ul>          </div>        </div>      </div>                </aside>  </div></div><script src=\"_static/documentation_options.js?v=654eae90\"></script>    <script src=\"_static/doctools.js?v=888ff710\"></script>    <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>    <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>    <script src=\"_static/tabs.js?v=3ee01567\"></script>    <script async=\"async\" src=\"/_/static/javascript/readthedocs-doc-embed.js\"></script>    </body></html>",
  "embeddings": []
}